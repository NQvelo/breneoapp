var TR=e=>{throw TypeError(e)};var eS=(e,t,r)=>t.has(e)||TR("Cannot "+r);var ne=(e,t,r)=>(eS(e,t,"read from private field"),r?r.call(e):t.get(e)),jt=(e,t,r)=>t.has(e)?TR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lt=(e,t,r,n)=>(eS(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ft=(e,t,r)=>(eS(e,t,"access private method"),r);var Av=(e,t,r,n)=>({set _(s){lt(e,t,s,r)},get _(){return ne(e,t,n)}});function ate(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ite(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var T8={exports:{}},qw={},O8={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=Symbol.for("react.element"),ote=Symbol.for("react.portal"),lte=Symbol.for("react.fragment"),cte=Symbol.for("react.strict_mode"),ute=Symbol.for("react.profiler"),dte=Symbol.for("react.provider"),fte=Symbol.for("react.context"),hte=Symbol.for("react.forward_ref"),pte=Symbol.for("react.suspense"),mte=Symbol.for("react.memo"),gte=Symbol.for("react.lazy"),OR=Symbol.iterator;function yte(e){return e===null||typeof e!="object"?null:(e=OR&&e[OR]||e["@@iterator"],typeof e=="function"?e:null)}var R8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$8=Object.assign,M8={};function Ih(e,t,r){this.props=e,this.context=t,this.refs=M8,this.updater=r||R8}Ih.prototype.isReactComponent={};Ih.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ih.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I8(){}I8.prototype=Ih.prototype;function cP(e,t,r){this.props=e,this.context=t,this.refs=M8,this.updater=r||R8}var uP=cP.prototype=new I8;uP.constructor=cP;$8(uP,Ih.prototype);uP.isPureReactComponent=!0;var RR=Array.isArray,L8=Object.prototype.hasOwnProperty,dP={current:null},D8={key:!0,ref:!0,__self:!0,__source:!0};function F8(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)L8.call(t,n)&&!D8.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Fy,type:e,key:a,ref:i,props:s,_owner:dP.current}}function vte(e,t){return{$$typeof:Fy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fy}function xte(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $R=/\/+/g;function tS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xte(""+e.key):t.toString(36)}function J0(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fy:case ote:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+tS(i,0):n,RR(s)?(r="",e!=null&&(r=e.replace($R,"$&/")+"/"),J0(s,t,r,"",function(u){return u})):s!=null&&(fP(s)&&(s=vte(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace($R,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",RR(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+tS(a,l);i+=J0(a,t,r,c,s)}else if(c=yte(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+tS(a,l++),i+=J0(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Tv(e,t,r){if(e==null)return e;var n=[],s=0;return J0(e,n,"","",function(a){return t.call(r,a,s++)}),n}function bte(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ns={current:null},X0={transition:null},wte={ReactCurrentDispatcher:Ns,ReactCurrentBatchConfig:X0,ReactCurrentOwner:dP};function B8(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:Tv,forEach:function(e,t,r){Tv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tv(e,function(){t++}),t},toArray:function(e){return Tv(e,function(t){return t})||[]},only:function(e){if(!fP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=Ih;Vt.Fragment=lte;Vt.Profiler=ute;Vt.PureComponent=cP;Vt.StrictMode=cte;Vt.Suspense=pte;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wte;Vt.act=B8;Vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$8({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=dP.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)L8.call(t,c)&&!D8.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fy,type:e.type,key:s,ref:a,props:n,_owner:i}};Vt.createContext=function(e){return e={$$typeof:fte,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dte,_context:e},e.Consumer=e};Vt.createElement=F8;Vt.createFactory=function(e){var t=F8.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:hte,render:e}};Vt.isValidElement=fP;Vt.lazy=function(e){return{$$typeof:gte,_payload:{_status:-1,_result:e},_init:bte}};Vt.memo=function(e,t){return{$$typeof:mte,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=X0.transition;X0.transition={};try{e()}finally{X0.transition=t}};Vt.unstable_act=B8;Vt.useCallback=function(e,t){return Ns.current.useCallback(e,t)};Vt.useContext=function(e){return Ns.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return Ns.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return Ns.current.useEffect(e,t)};Vt.useId=function(){return Ns.current.useId()};Vt.useImperativeHandle=function(e,t,r){return Ns.current.useImperativeHandle(e,t,r)};Vt.useInsertionEffect=function(e,t){return Ns.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return Ns.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return Ns.current.useMemo(e,t)};Vt.useReducer=function(e,t,r){return Ns.current.useReducer(e,t,r)};Vt.useRef=function(e){return Ns.current.useRef(e)};Vt.useState=function(e){return Ns.current.useState(e)};Vt.useSyncExternalStore=function(e,t,r){return Ns.current.useSyncExternalStore(e,t,r)};Vt.useTransition=function(){return Ns.current.useTransition()};Vt.version="18.3.1";O8.exports=Vt;var m=O8.exports;const R=jr(m),Lh=ate({__proto__:null,default:R},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _te=m,Ste=Symbol.for("react.element"),jte=Symbol.for("react.fragment"),kte=Object.prototype.hasOwnProperty,Ete=_te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nte={key:!0,ref:!0,__self:!0,__source:!0};function U8(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)kte.call(t,n)&&!Nte.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ste,type:e,key:a,ref:i,props:s,_owner:Ete.current}}qw.Fragment=jte;qw.jsx=U8;qw.jsxs=U8;T8.exports=qw;var o=T8.exports,Pk={},z8={exports:{}},ga={},q8={exports:{}},W8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,z){var re=A.length;A.push(z);e:for(;0<re;){var V=re-1>>>1,te=A[V];if(0<s(te,z))A[V]=z,A[re]=te,re=V;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var z=A[0],re=A.pop();if(re!==z){A[0]=re;e:for(var V=0,te=A.length,X=te>>>1;V<X;){var ye=2*(V+1)-1,oe=A[ye],me=ye+1,D=A[me];if(0>s(oe,re))me<te&&0>s(D,oe)?(A[V]=D,A[me]=re,V=me):(A[V]=oe,A[ye]=re,V=ye);else if(me<te&&0>s(D,re))A[V]=D,A[me]=re,V=me;else break e}}return z}function s(A,z){var re=A.sortIndex-z.sortIndex;return re!==0?re:A.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,v=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=A)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function _(A){if(p=!1,w(A),!v)if(r(c)!==null)v=!0,B(S);else{var z=r(u);z!==null&&I(_,z.startTime-A)}}function S(A,z){v=!1,p&&(p=!1,x(j),j=-1),g=!0;var re=h;try{for(w(z),f=r(c);f!==null&&(!(f.expirationTime>z)||A&&!P());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var te=V(f.expirationTime<=z);z=e.unstable_now(),typeof te=="function"?f.callback=te:f===r(c)&&n(c),w(z)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var ye=r(u);ye!==null&&I(_,ye.startTime-z),X=!1}return X}finally{f=null,h=re,g=!1}}var E=!1,k=null,j=-1,N=5,C=-1;function P(){return!(e.unstable_now()-C<N)}function O(){if(k!==null){var A=e.unstable_now();C=A;var z=!0;try{z=k(!0,A)}finally{z?F():(E=!1,k=null)}}else E=!1}var F;if(typeof b=="function")F=function(){b(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=O,F=function(){q.postMessage(null)}}else F=function(){y(O,0)};function B(A){k=A,E||(E=!0,F())}function I(A,z){j=y(function(){A(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,B(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var re=h;h=z;try{return A()}finally{h=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,z){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var re=h;h=A;try{return z()}finally{h=re}},e.unstable_scheduleCallback=function(A,z,re){var V=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=re+te,A={id:d++,callback:z,priorityLevel:A,startTime:re,expirationTime:te,sortIndex:-1},re>V?(A.sortIndex=re,t(u,A),r(c)===null&&A===r(u)&&(p?(x(j),j=-1):p=!0,I(_,re-V))):(A.sortIndex=te,t(c,A),v||g||(v=!0,B(S))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var z=h;return function(){var re=h;h=z;try{return A.apply(this,arguments)}finally{h=re}}}})(W8);q8.exports=W8;var Cte=q8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pte=m,ha=Cte;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V8=new Set,og={};function ld(e,t){Yf(e,t),Yf(e+"Capture",t)}function Yf(e,t){for(og[e]=t,e=0;e<t.length;e++)V8.add(t[e])}var zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ak=Object.prototype.hasOwnProperty,Ate=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MR={},IR={};function Tte(e){return Ak.call(IR,e)?!0:Ak.call(MR,e)?!1:Ate.test(e)?IR[e]=!0:(MR[e]=!0,!1)}function Ote(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rte(e,t,r,n){if(t===null||typeof t>"u"||Ote(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var hP=/[\-:]([a-z])/g;function pP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hP,pP);Qn[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hP,pP);Qn[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hP,pP);Qn[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function mP(e,t,r,n){var s=Qn.hasOwnProperty(t)?Qn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rte(t,r,s,n)&&(r=null),n||s===null?Tte(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nl=Pte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ov=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),Kd=Symbol.for("react.fragment"),gP=Symbol.for("react.strict_mode"),Tk=Symbol.for("react.profiler"),H8=Symbol.for("react.provider"),K8=Symbol.for("react.context"),yP=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Rk=Symbol.for("react.suspense_list"),vP=Symbol.for("react.memo"),Al=Symbol.for("react.lazy"),G8=Symbol.for("react.offscreen"),LR=Symbol.iterator;function Cp(e){return e===null||typeof e!="object"?null:(e=LR&&e[LR]||e["@@iterator"],typeof e=="function"?e:null)}var Zr=Object.assign,rS;function hm(e){if(rS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rS=t&&t[1]||""}return`
`+rS+e}var nS=!1;function sS(e,t){if(!e||nS)return"";nS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{nS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hm(e):""}function $te(e){switch(e.tag){case 5:return hm(e.type);case 16:return hm("Lazy");case 13:return hm("Suspense");case 19:return hm("SuspenseList");case 0:case 2:case 15:return e=sS(e.type,!1),e;case 11:return e=sS(e.type.render,!1),e;case 1:return e=sS(e.type,!0),e;default:return""}}function $k(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kd:return"Fragment";case Hd:return"Portal";case Tk:return"Profiler";case gP:return"StrictMode";case Ok:return"Suspense";case Rk:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K8:return(e.displayName||"Context")+".Consumer";case H8:return(e._context.displayName||"Context")+".Provider";case yP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vP:return t=e.displayName||null,t!==null?t:$k(e.type)||"Memo";case Al:t=e._payload,e=e._init;try{return $k(e(t))}catch{}}return null}function Mte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $k(t);case 8:return t===gP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ite(e){var t=Y8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rv(e){e._valueTracker||(e._valueTracker=Ite(e))}function J8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y8(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mk(e,t){var r=t.checked;return Zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function DR(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function X8(e,t){t=t.checked,t!=null&&mP(e,"checked",t,!1)}function Ik(e,t){X8(e,t);var r=xc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lk(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lk(e,t.type,xc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function FR(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lk(e,t,r){(t!=="number"||wx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pm=Array.isArray;function pf(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xc(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dk(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BR(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(pm(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xc(r)}}function Q8(e,t){var r=xc(t.value),n=xc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function UR(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Z8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fk(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Z8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $v,eB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($v=$v||document.createElement("div"),$v.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$v.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Om={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lte=["Webkit","ms","Moz","O"];Object.keys(Om).forEach(function(e){Lte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Om[t]=Om[e]})});function tB(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Om.hasOwnProperty(e)&&Om[e]?(""+t).trim():t+"px"}function rB(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=tB(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Dte=Zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bk(e,t){if(t){if(Dte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function Uk(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zk=null;function xP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qk=null,mf=null,gf=null;function zR(e){if(e=zy(e)){if(typeof qk!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=Gw(t),qk(e.stateNode,e.type,t))}}function nB(e){mf?gf?gf.push(e):gf=[e]:mf=e}function sB(){if(mf){var e=mf,t=gf;if(gf=mf=null,zR(e),t)for(e=0;e<t.length;e++)zR(t[e])}}function aB(e,t){return e(t)}function iB(){}var aS=!1;function oB(e,t,r){if(aS)return e(t,r);aS=!0;try{return aB(e,t,r)}finally{aS=!1,(mf!==null||gf!==null)&&(iB(),sB())}}function cg(e,t){var r=e.stateNode;if(r===null)return null;var n=Gw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var Wk=!1;if(zo)try{var Pp={};Object.defineProperty(Pp,"passive",{get:function(){Wk=!0}}),window.addEventListener("test",Pp,Pp),window.removeEventListener("test",Pp,Pp)}catch{Wk=!1}function Fte(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Rm=!1,_x=null,Sx=!1,Vk=null,Bte={onError:function(e){Rm=!0,_x=e}};function Ute(e,t,r,n,s,a,i,l,c){Rm=!1,_x=null,Fte.apply(Bte,arguments)}function zte(e,t,r,n,s,a,i,l,c){if(Ute.apply(this,arguments),Rm){if(Rm){var u=_x;Rm=!1,_x=null}else throw Error(Ve(198));Sx||(Sx=!0,Vk=u)}}function cd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qR(e){if(cd(e)!==e)throw Error(Ve(188))}function qte(e){var t=e.alternate;if(!t){if(t=cd(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return qR(s),e;if(a===n)return qR(s),t;a=a.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function cB(e){return e=qte(e),e!==null?uB(e):null}function uB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uB(e);if(t!==null)return t;e=e.sibling}return null}var dB=ha.unstable_scheduleCallback,WR=ha.unstable_cancelCallback,Wte=ha.unstable_shouldYield,Vte=ha.unstable_requestPaint,un=ha.unstable_now,Hte=ha.unstable_getCurrentPriorityLevel,bP=ha.unstable_ImmediatePriority,fB=ha.unstable_UserBlockingPriority,jx=ha.unstable_NormalPriority,Kte=ha.unstable_LowPriority,hB=ha.unstable_IdlePriority,Ww=null,Vi=null;function Gte(e){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Ww,e,void 0,(e.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:Xte,Yte=Math.log,Jte=Math.LN2;function Xte(e){return e>>>=0,e===0?32:31-(Yte(e)/Jte|0)|0}var Mv=64,Iv=4194304;function mm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=mm(l):(a&=i,a!==0&&(n=mm(a)))}else i=r&~s,i!==0?n=mm(i):a!==0&&(n=mm(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hi(t),s=1<<r,n|=e[r],t&=~s;return n}function Qte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zte(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-hi(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=Qte(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Hk(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pB(){var e=Mv;return Mv<<=1,!(Mv&4194240)&&(Mv=64),e}function iS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function By(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hi(t),e[t]=r}function ere(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-hi(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function wP(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hi(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var yr=0;function mB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gB,_P,yB,vB,xB,Kk=!1,Lv=[],ec=null,tc=null,rc=null,ug=new Map,dg=new Map,$l=[],tre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VR(e,t){switch(e){case"focusin":case"focusout":ec=null;break;case"dragenter":case"dragleave":tc=null;break;case"mouseover":case"mouseout":rc=null;break;case"pointerover":case"pointerout":ug.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dg.delete(t.pointerId)}}function Ap(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=zy(t),t!==null&&_P(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rre(e,t,r,n,s){switch(t){case"focusin":return ec=Ap(ec,e,t,r,n,s),!0;case"dragenter":return tc=Ap(tc,e,t,r,n,s),!0;case"mouseover":return rc=Ap(rc,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ug.set(a,Ap(ug.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,dg.set(a,Ap(dg.get(a)||null,e,t,r,n,s)),!0}return!1}function bB(e){var t=ou(e.target);if(t!==null){var r=cd(t);if(r!==null){if(t=r.tag,t===13){if(t=lB(r),t!==null){e.blockedOn=t,xB(e.priority,function(){yB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Q0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zk=n,r.target.dispatchEvent(n),zk=null}else return t=zy(r),t!==null&&_P(t),e.blockedOn=r,!1;t.shift()}return!0}function HR(e,t,r){Q0(e)&&r.delete(t)}function nre(){Kk=!1,ec!==null&&Q0(ec)&&(ec=null),tc!==null&&Q0(tc)&&(tc=null),rc!==null&&Q0(rc)&&(rc=null),ug.forEach(HR),dg.forEach(HR)}function Tp(e,t){e.blockedOn===t&&(e.blockedOn=null,Kk||(Kk=!0,ha.unstable_scheduleCallback(ha.unstable_NormalPriority,nre)))}function fg(e){function t(s){return Tp(s,e)}if(0<Lv.length){Tp(Lv[0],e);for(var r=1;r<Lv.length;r++){var n=Lv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ec!==null&&Tp(ec,e),tc!==null&&Tp(tc,e),rc!==null&&Tp(rc,e),ug.forEach(t),dg.forEach(t),r=0;r<$l.length;r++)n=$l[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$l.length&&(r=$l[0],r.blockedOn===null);)bB(r),r.blockedOn===null&&$l.shift()}var yf=nl.ReactCurrentBatchConfig,Ex=!0;function sre(e,t,r,n){var s=yr,a=yf.transition;yf.transition=null;try{yr=1,SP(e,t,r,n)}finally{yr=s,yf.transition=a}}function are(e,t,r,n){var s=yr,a=yf.transition;yf.transition=null;try{yr=4,SP(e,t,r,n)}finally{yr=s,yf.transition=a}}function SP(e,t,r,n){if(Ex){var s=Gk(e,t,r,n);if(s===null)gS(e,t,n,Nx,r),VR(e,n);else if(rre(s,e,t,r,n))n.stopPropagation();else if(VR(e,n),t&4&&-1<tre.indexOf(e)){for(;s!==null;){var a=zy(s);if(a!==null&&gB(a),a=Gk(e,t,r,n),a===null&&gS(e,t,n,Nx,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else gS(e,t,n,null,r)}}var Nx=null;function Gk(e,t,r,n){if(Nx=null,e=xP(n),e=ou(e),e!==null)if(t=cd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nx=e,null}function wB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hte()){case bP:return 1;case fB:return 4;case jx:case Kte:return 16;case hB:return 536870912;default:return 16}default:return 16}}var Hl=null,jP=null,Z0=null;function _B(){if(Z0)return Z0;var e,t=jP,r=t.length,n,s="value"in Hl?Hl.value:Hl.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return Z0=s.slice(e,1<n?1-n:void 0)}function ex(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dv(){return!0}function KR(){return!1}function ya(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dv:KR,this.isPropagationStopped=KR,this}return Zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dv)},persist:function(){},isPersistent:Dv}),t}var Dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kP=ya(Dh),Uy=Zr({},Dh,{view:0,detail:0}),ire=ya(Uy),oS,lS,Op,Vw=Zr({},Uy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Op&&(Op&&e.type==="mousemove"?(oS=e.screenX-Op.screenX,lS=e.screenY-Op.screenY):lS=oS=0,Op=e),oS)},movementY:function(e){return"movementY"in e?e.movementY:lS}}),GR=ya(Vw),ore=Zr({},Vw,{dataTransfer:0}),lre=ya(ore),cre=Zr({},Uy,{relatedTarget:0}),cS=ya(cre),ure=Zr({},Dh,{animationName:0,elapsedTime:0,pseudoElement:0}),dre=ya(ure),fre=Zr({},Dh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hre=ya(fre),pre=Zr({},Dh,{data:0}),YR=ya(pre),mre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yre[e])?!!t[e]:!1}function EP(){return vre}var xre=Zr({},Uy,{key:function(e){if(e.key){var t=mre[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ex(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EP,charCode:function(e){return e.type==="keypress"?ex(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ex(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bre=ya(xre),wre=Zr({},Vw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JR=ya(wre),_re=Zr({},Uy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EP}),Sre=ya(_re),jre=Zr({},Dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),kre=ya(jre),Ere=Zr({},Vw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nre=ya(Ere),Cre=[9,13,27,32],NP=zo&&"CompositionEvent"in window,$m=null;zo&&"documentMode"in document&&($m=document.documentMode);var Pre=zo&&"TextEvent"in window&&!$m,SB=zo&&(!NP||$m&&8<$m&&11>=$m),XR=" ",QR=!1;function jB(e,t){switch(e){case"keyup":return Cre.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gd=!1;function Are(e,t){switch(e){case"compositionend":return kB(t);case"keypress":return t.which!==32?null:(QR=!0,XR);case"textInput":return e=t.data,e===XR&&QR?null:e;default:return null}}function Tre(e,t){if(Gd)return e==="compositionend"||!NP&&jB(e,t)?(e=_B(),Z0=jP=Hl=null,Gd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SB&&t.locale!=="ko"?null:t.data;default:return null}}var Ore={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ore[e.type]:t==="textarea"}function EB(e,t,r,n){nB(n),t=Cx(t,"onChange"),0<t.length&&(r=new kP("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mm=null,hg=null;function Rre(e){LB(e,0)}function Hw(e){var t=Xd(e);if(J8(t))return e}function $re(e,t){if(e==="change")return t}var NB=!1;if(zo){var uS;if(zo){var dS="oninput"in document;if(!dS){var e$=document.createElement("div");e$.setAttribute("oninput","return;"),dS=typeof e$.oninput=="function"}uS=dS}else uS=!1;NB=uS&&(!document.documentMode||9<document.documentMode)}function t$(){Mm&&(Mm.detachEvent("onpropertychange",CB),hg=Mm=null)}function CB(e){if(e.propertyName==="value"&&Hw(hg)){var t=[];EB(t,hg,e,xP(e)),oB(Rre,t)}}function Mre(e,t,r){e==="focusin"?(t$(),Mm=t,hg=r,Mm.attachEvent("onpropertychange",CB)):e==="focusout"&&t$()}function Ire(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hw(hg)}function Lre(e,t){if(e==="click")return Hw(t)}function Dre(e,t){if(e==="input"||e==="change")return Hw(t)}function Fre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yi=typeof Object.is=="function"?Object.is:Fre;function pg(e,t){if(yi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ak.call(t,s)||!yi(e[s],t[s]))return!1}return!0}function r$(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n$(e,t){var r=r$(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=r$(r)}}function PB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AB(){for(var e=window,t=wx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wx(e.document)}return t}function CP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bre(e){var t=AB(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&PB(r.ownerDocument.documentElement,r)){if(n!==null&&CP(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=n$(r,a);var i=n$(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ure=zo&&"documentMode"in document&&11>=document.documentMode,Yd=null,Yk=null,Im=null,Jk=!1;function s$(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jk||Yd==null||Yd!==wx(n)||(n=Yd,"selectionStart"in n&&CP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Im&&pg(Im,n)||(Im=n,n=Cx(Yk,"onSelect"),0<n.length&&(t=new kP("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yd)))}function Fv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jd={animationend:Fv("Animation","AnimationEnd"),animationiteration:Fv("Animation","AnimationIteration"),animationstart:Fv("Animation","AnimationStart"),transitionend:Fv("Transition","TransitionEnd")},fS={},TB={};zo&&(TB=document.createElement("div").style,"AnimationEvent"in window||(delete Jd.animationend.animation,delete Jd.animationiteration.animation,delete Jd.animationstart.animation),"TransitionEvent"in window||delete Jd.transitionend.transition);function Kw(e){if(fS[e])return fS[e];if(!Jd[e])return e;var t=Jd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in TB)return fS[e]=t[r];return e}var OB=Kw("animationend"),RB=Kw("animationiteration"),$B=Kw("animationstart"),MB=Kw("transitionend"),IB=new Map,a$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nc(e,t){IB.set(e,t),ld(t,[e])}for(var hS=0;hS<a$.length;hS++){var pS=a$[hS],zre=pS.toLowerCase(),qre=pS[0].toUpperCase()+pS.slice(1);Nc(zre,"on"+qre)}Nc(OB,"onAnimationEnd");Nc(RB,"onAnimationIteration");Nc($B,"onAnimationStart");Nc("dblclick","onDoubleClick");Nc("focusin","onFocus");Nc("focusout","onBlur");Nc(MB,"onTransitionEnd");Yf("onMouseEnter",["mouseout","mouseover"]);Yf("onMouseLeave",["mouseout","mouseover"]);Yf("onPointerEnter",["pointerout","pointerover"]);Yf("onPointerLeave",["pointerout","pointerover"]);ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wre=new Set("cancel close invalid load scroll toggle".split(" ").concat(gm));function i$(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zte(n,t,void 0,e),e.currentTarget=null}function LB(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;i$(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;i$(s,l,u),a=c}}}if(Sx)throw e=Vk,Sx=!1,Vk=null,e}function Or(e,t){var r=t[tE];r===void 0&&(r=t[tE]=new Set);var n=e+"__bubble";r.has(n)||(DB(t,e,2,!1),r.add(n))}function mS(e,t,r){var n=0;t&&(n|=4),DB(r,e,n,t)}var Bv="_reactListening"+Math.random().toString(36).slice(2);function mg(e){if(!e[Bv]){e[Bv]=!0,V8.forEach(function(r){r!=="selectionchange"&&(Wre.has(r)||mS(r,!1,e),mS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bv]||(t[Bv]=!0,mS("selectionchange",!1,t))}}function DB(e,t,r,n){switch(wB(t)){case 1:var s=sre;break;case 4:s=are;break;default:s=SP}r=s.bind(null,t,r,e),s=void 0,!Wk||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function gS(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ou(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}oB(function(){var u=a,d=xP(r),f=[];e:{var h=IB.get(e);if(h!==void 0){var g=kP,v=e;switch(e){case"keypress":if(ex(r)===0)break e;case"keydown":case"keyup":g=bre;break;case"focusin":v="focus",g=cS;break;case"focusout":v="blur",g=cS;break;case"beforeblur":case"afterblur":g=cS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=GR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Sre;break;case OB:case RB:case $B:g=dre;break;case MB:g=kre;break;case"scroll":g=ire;break;case"wheel":g=Nre;break;case"copy":case"cut":case"paste":g=hre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=JR}var p=(t&4)!==0,y=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=cg(b,x),_!=null&&p.push(gg(b,_,w)))),y)break;b=b.return}0<p.length&&(h=new g(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==zk&&(v=r.relatedTarget||r.fromElement)&&(ou(v)||v[qo]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?ou(v):null,v!==null&&(y=cd(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(p=GR,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=JR,_="onPointerLeave",x="onPointerEnter",b="pointer"),y=g==null?h:Xd(g),w=v==null?h:Xd(v),h=new p(_,b+"leave",g,r,d),h.target=y,h.relatedTarget=w,_=null,ou(d)===u&&(p=new p(x,b+"enter",v,r,d),p.target=w,p.relatedTarget=y,_=p),y=_,g&&v)t:{for(p=g,x=v,b=0,w=p;w;w=bd(w))b++;for(w=0,_=x;_;_=bd(_))w++;for(;0<b-w;)p=bd(p),b--;for(;0<w-b;)x=bd(x),w--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=bd(p),x=bd(x)}p=null}else p=null;g!==null&&o$(f,h,g,p,!1),v!==null&&y!==null&&o$(f,y,v,p,!0)}}e:{if(h=u?Xd(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=$re;else if(ZR(h))if(NB)S=Dre;else{S=Ire;var E=Mre}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Lre);if(S&&(S=S(e,u))){EB(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Lk(h,"number",h.value)}switch(E=u?Xd(u):window,e){case"focusin":(ZR(E)||E.contentEditable==="true")&&(Yd=E,Yk=u,Im=null);break;case"focusout":Im=Yk=Yd=null;break;case"mousedown":Jk=!0;break;case"contextmenu":case"mouseup":case"dragend":Jk=!1,s$(f,r,d);break;case"selectionchange":if(Ure)break;case"keydown":case"keyup":s$(f,r,d)}var k;if(NP)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Gd?jB(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(SB&&r.locale!=="ko"&&(Gd||j!=="onCompositionStart"?j==="onCompositionEnd"&&Gd&&(k=_B()):(Hl=d,jP="value"in Hl?Hl.value:Hl.textContent,Gd=!0)),E=Cx(u,j),0<E.length&&(j=new YR(j,e,null,r,d),f.push({event:j,listeners:E}),k?j.data=k:(k=kB(r),k!==null&&(j.data=k)))),(k=Pre?Are(e,r):Tre(e,r))&&(u=Cx(u,"onBeforeInput"),0<u.length&&(d=new YR("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}LB(f,t)})}function gg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cx(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=cg(e,r),a!=null&&n.unshift(gg(e,a,s)),a=cg(e,t),a!=null&&n.push(gg(e,a,s))),e=e.return}return n}function bd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o$(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=cg(r,a),c!=null&&i.unshift(gg(r,c,l))):s||(c=cg(r,a),c!=null&&i.push(gg(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Vre=/\r\n?/g,Hre=/\u0000|\uFFFD/g;function l$(e){return(typeof e=="string"?e:""+e).replace(Vre,`
`).replace(Hre,"")}function Uv(e,t,r){if(t=l$(t),l$(e)!==t&&r)throw Error(Ve(425))}function Px(){}var Xk=null,Qk=null;function Zk(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eE=typeof setTimeout=="function"?setTimeout:void 0,Kre=typeof clearTimeout=="function"?clearTimeout:void 0,c$=typeof Promise=="function"?Promise:void 0,Gre=typeof queueMicrotask=="function"?queueMicrotask:typeof c$<"u"?function(e){return c$.resolve(null).then(e).catch(Yre)}:eE;function Yre(e){setTimeout(function(){throw e})}function yS(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),fg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);fg(t)}function nc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u$(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fh=Math.random().toString(36).slice(2),Li="__reactFiber$"+Fh,yg="__reactProps$"+Fh,qo="__reactContainer$"+Fh,tE="__reactEvents$"+Fh,Jre="__reactListeners$"+Fh,Xre="__reactHandles$"+Fh;function ou(e){var t=e[Li];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qo]||r[Li]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=u$(e);e!==null;){if(r=e[Li])return r;e=u$(e)}return t}e=r,r=e.parentNode}return null}function zy(e){return e=e[Li]||e[qo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function Gw(e){return e[yg]||null}var rE=[],Qd=-1;function Cc(e){return{current:e}}function Dr(e){0>Qd||(e.current=rE[Qd],rE[Qd]=null,Qd--)}function Pr(e,t){Qd++,rE[Qd]=e.current,e.current=t}var bc={},us=Cc(bc),Ws=Cc(!1),Du=bc;function Jf(e,t){var r=e.type.contextTypes;if(!r)return bc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vs(e){return e=e.childContextTypes,e!=null}function Ax(){Dr(Ws),Dr(us)}function d$(e,t,r){if(us.current!==bc)throw Error(Ve(168));Pr(us,t),Pr(Ws,r)}function FB(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ve(108,Mte(e)||"Unknown",s));return Zr({},r,n)}function Tx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bc,Du=us.current,Pr(us,e),Pr(Ws,Ws.current),!0}function f$(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=FB(e,t,Du),n.__reactInternalMemoizedMergedChildContext=e,Dr(Ws),Dr(us),Pr(us,e)):Dr(Ws),Pr(Ws,r)}var Eo=null,Yw=!1,vS=!1;function BB(e){Eo===null?Eo=[e]:Eo.push(e)}function Qre(e){Yw=!0,BB(e)}function Pc(){if(!vS&&Eo!==null){vS=!0;var e=0,t=yr;try{var r=Eo;for(yr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Eo=null,Yw=!1}catch(s){throw Eo!==null&&(Eo=Eo.slice(e+1)),dB(bP,Pc),s}finally{yr=t,vS=!1}}return null}var Zd=[],ef=0,Ox=null,Rx=0,Ca=[],Pa=0,Fu=null,Ao=1,To="";function Yc(e,t){Zd[ef++]=Rx,Zd[ef++]=Ox,Ox=e,Rx=t}function UB(e,t,r){Ca[Pa++]=Ao,Ca[Pa++]=To,Ca[Pa++]=Fu,Fu=e;var n=Ao;e=To;var s=32-hi(n)-1;n&=~(1<<s),r+=1;var a=32-hi(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Ao=1<<32-hi(t)+s|r<<s|n,To=a+e}else Ao=1<<a|r<<s|n,To=e}function PP(e){e.return!==null&&(Yc(e,1),UB(e,1,0))}function AP(e){for(;e===Ox;)Ox=Zd[--ef],Zd[ef]=null,Rx=Zd[--ef],Zd[ef]=null;for(;e===Fu;)Fu=Ca[--Pa],Ca[Pa]=null,To=Ca[--Pa],Ca[Pa]=null,Ao=Ca[--Pa],Ca[Pa]=null}var da=null,la=null,zr=!1,li=null;function zB(e,t){var r=Oa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function h$(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,da=e,la=nc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,da=e,la=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fu!==null?{id:Ao,overflow:To}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Oa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,da=e,la=null,!0):!1;default:return!1}}function nE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sE(e){if(zr){var t=la;if(t){var r=t;if(!h$(e,t)){if(nE(e))throw Error(Ve(418));t=nc(r.nextSibling);var n=da;t&&h$(e,t)?zB(n,r):(e.flags=e.flags&-4097|2,zr=!1,da=e)}}else{if(nE(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,zr=!1,da=e}}}function p$(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;da=e}function zv(e){if(e!==da)return!1;if(!zr)return p$(e),zr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zk(e.type,e.memoizedProps)),t&&(t=la)){if(nE(e))throw qB(),Error(Ve(418));for(;t;)zB(e,t),t=nc(t.nextSibling)}if(p$(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){la=nc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}la=null}}else la=da?nc(e.stateNode.nextSibling):null;return!0}function qB(){for(var e=la;e;)e=nc(e.nextSibling)}function Xf(){la=da=null,zr=!1}function TP(e){li===null?li=[e]:li.push(e)}var Zre=nl.ReactCurrentBatchConfig;function Rp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function qv(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m$(e){var t=e._init;return t(e._payload)}function WB(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=oc(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,_){return b===null||b.tag!==6?(b=kS(w,x.mode,_),b.return=x,b):(b=s(b,w),b.return=x,b)}function c(x,b,w,_){var S=w.type;return S===Kd?d(x,b,w.props.children,_,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Al&&m$(S)===b.type)?(_=s(b,w.props),_.ref=Rp(x,b,w),_.return=x,_):(_=ox(w.type,w.key,w.props,null,x.mode,_),_.ref=Rp(x,b,w),_.return=x,_)}function u(x,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ES(w,x.mode,_),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,_,S){return b===null||b.tag!==7?(b=Nu(w,x.mode,_,S),b.return=x,b):(b=s(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=kS(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ov:return w=ox(b.type,b.key,b.props,null,x.mode,w),w.ref=Rp(x,null,b),w.return=x,w;case Hd:return b=ES(b,x.mode,w),b.return=x,b;case Al:var _=b._init;return f(x,_(b._payload),w)}if(pm(b)||Cp(b))return b=Nu(b,x.mode,w,null),b.return=x,b;qv(x,b)}return null}function h(x,b,w,_){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ov:return w.key===S?c(x,b,w,_):null;case Hd:return w.key===S?u(x,b,w,_):null;case Al:return S=w._init,h(x,b,S(w._payload),_)}if(pm(w)||Cp(w))return S!==null?null:d(x,b,w,_,null);qv(x,w)}return null}function g(x,b,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(b,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ov:return x=x.get(_.key===null?w:_.key)||null,c(b,x,_,S);case Hd:return x=x.get(_.key===null?w:_.key)||null,u(b,x,_,S);case Al:var E=_._init;return g(x,b,w,E(_._payload),S)}if(pm(_)||Cp(_))return x=x.get(w)||null,d(b,x,_,S,null);qv(b,_)}return null}function v(x,b,w,_){for(var S=null,E=null,k=b,j=b=0,N=null;k!==null&&j<w.length;j++){k.index>j?(N=k,k=null):N=k.sibling;var C=h(x,k,w[j],_);if(C===null){k===null&&(k=N);break}e&&k&&C.alternate===null&&t(x,k),b=a(C,b,j),E===null?S=C:E.sibling=C,E=C,k=N}if(j===w.length)return r(x,k),zr&&Yc(x,j),S;if(k===null){for(;j<w.length;j++)k=f(x,w[j],_),k!==null&&(b=a(k,b,j),E===null?S=k:E.sibling=k,E=k);return zr&&Yc(x,j),S}for(k=n(x,k);j<w.length;j++)N=g(k,x,j,w[j],_),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?j:N.key),b=a(N,b,j),E===null?S=N:E.sibling=N,E=N);return e&&k.forEach(function(P){return t(x,P)}),zr&&Yc(x,j),S}function p(x,b,w,_){var S=Cp(w);if(typeof S!="function")throw Error(Ve(150));if(w=S.call(w),w==null)throw Error(Ve(151));for(var E=S=null,k=b,j=b=0,N=null,C=w.next();k!==null&&!C.done;j++,C=w.next()){k.index>j?(N=k,k=null):N=k.sibling;var P=h(x,k,C.value,_);if(P===null){k===null&&(k=N);break}e&&k&&P.alternate===null&&t(x,k),b=a(P,b,j),E===null?S=P:E.sibling=P,E=P,k=N}if(C.done)return r(x,k),zr&&Yc(x,j),S;if(k===null){for(;!C.done;j++,C=w.next())C=f(x,C.value,_),C!==null&&(b=a(C,b,j),E===null?S=C:E.sibling=C,E=C);return zr&&Yc(x,j),S}for(k=n(x,k);!C.done;j++,C=w.next())C=g(k,x,j,C.value,_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?j:C.key),b=a(C,b,j),E===null?S=C:E.sibling=C,E=C);return e&&k.forEach(function(O){return t(x,O)}),zr&&Yc(x,j),S}function y(x,b,w,_){if(typeof w=="object"&&w!==null&&w.type===Kd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ov:e:{for(var S=w.key,E=b;E!==null;){if(E.key===S){if(S=w.type,S===Kd){if(E.tag===7){r(x,E.sibling),b=s(E,w.props.children),b.return=x,x=b;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Al&&m$(S)===E.type){r(x,E.sibling),b=s(E,w.props),b.ref=Rp(x,E,w),b.return=x,x=b;break e}r(x,E);break}else t(x,E);E=E.sibling}w.type===Kd?(b=Nu(w.props.children,x.mode,_,w.key),b.return=x,x=b):(_=ox(w.type,w.key,w.props,null,x.mode,_),_.ref=Rp(x,b,w),_.return=x,x=_)}return i(x);case Hd:e:{for(E=w.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=ES(w,x.mode,_),b.return=x,x=b}return i(x);case Al:return E=w._init,y(x,b,E(w._payload),_)}if(pm(w))return v(x,b,w,_);if(Cp(w))return p(x,b,w,_);qv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,w),b.return=x,x=b):(r(x,b),b=kS(w,x.mode,_),b.return=x,x=b),i(x)):r(x,b)}return y}var Qf=WB(!0),VB=WB(!1),$x=Cc(null),Mx=null,tf=null,OP=null;function RP(){OP=tf=Mx=null}function $P(e){var t=$x.current;Dr($x),e._currentValue=t}function aE(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vf(e,t){Mx=e,OP=tf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Us=!0),e.firstContext=null)}function qa(e){var t=e._currentValue;if(OP!==e)if(e={context:e,memoizedValue:t,next:null},tf===null){if(Mx===null)throw Error(Ve(308));tf=e,Mx.dependencies={lanes:0,firstContext:e}}else tf=tf.next=e;return t}var lu=null;function MP(e){lu===null?lu=[e]:lu.push(e)}function HB(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,MP(t)):(r.next=s.next,s.next=r),t.interleaved=r,Wo(e,n)}function Wo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tl=!1;function IP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Wo(e,r)}return s=n.interleaved,s===null?(t.next=t,MP(n)):(t.next=s.next,s.next=t),n.interleaved=t,Wo(e,r)}function tx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wP(e,r)}}function g$(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ix(e,t,r,n){var s=e.updateQueue;Tl=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,g=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Zr({},f,h);break e;case 2:Tl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Uu|=i,e.lanes=i,e.memoizedState=f}}function y$(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ve(191,s));s.call(n)}}}var qy={},Hi=Cc(qy),vg=Cc(qy),xg=Cc(qy);function cu(e){if(e===qy)throw Error(Ve(174));return e}function LP(e,t){switch(Pr(xg,t),Pr(vg,e),Pr(Hi,qy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fk(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fk(t,e)}Dr(Hi),Pr(Hi,t)}function Zf(){Dr(Hi),Dr(vg),Dr(xg)}function GB(e){cu(xg.current);var t=cu(Hi.current),r=Fk(t,e.type);t!==r&&(Pr(vg,e),Pr(Hi,r))}function DP(e){vg.current===e&&(Dr(Hi),Dr(vg))}var Kr=Cc(0);function Lx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xS=[];function FP(){for(var e=0;e<xS.length;e++)xS[e]._workInProgressVersionPrimary=null;xS.length=0}var rx=nl.ReactCurrentDispatcher,bS=nl.ReactCurrentBatchConfig,Bu=0,Qr=null,kn=null,Ln=null,Dx=!1,Lm=!1,bg=0,ene=0;function es(){throw Error(Ve(321))}function BP(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yi(e[r],t[r]))return!1;return!0}function UP(e,t,r,n,s,a){if(Bu=a,Qr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rx.current=e===null||e.memoizedState===null?sne:ane,e=r(n,s),Lm){a=0;do{if(Lm=!1,bg=0,25<=a)throw Error(Ve(301));a+=1,Ln=kn=null,t.updateQueue=null,rx.current=ine,e=r(n,s)}while(Lm)}if(rx.current=Fx,t=kn!==null&&kn.next!==null,Bu=0,Ln=kn=Qr=null,Dx=!1,t)throw Error(Ve(300));return e}function zP(){var e=bg!==0;return bg=0,e}function Ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Qr.memoizedState=Ln=e:Ln=Ln.next=e,Ln}function Wa(){if(kn===null){var e=Qr.alternate;e=e!==null?e.memoizedState:null}else e=kn.next;var t=Ln===null?Qr.memoizedState:Ln.next;if(t!==null)Ln=t,kn=e;else{if(e===null)throw Error(Ve(310));kn=e,e={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Ln===null?Qr.memoizedState=Ln=e:Ln=Ln.next=e}return Ln}function wg(e,t){return typeof t=="function"?t(e):t}function wS(e){var t=Wa(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=kn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Bu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Qr.lanes|=d,Uu|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,yi(n,t.memoizedState)||(Us=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Qr.lanes|=a,Uu|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _S(e){var t=Wa(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);yi(a,t.memoizedState)||(Us=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function YB(){}function JB(e,t){var r=Qr,n=Wa(),s=t(),a=!yi(n.memoizedState,s);if(a&&(n.memoizedState=s,Us=!0),n=n.queue,qP(ZB.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ln!==null&&Ln.memoizedState.tag&1){if(r.flags|=2048,_g(9,QB.bind(null,r,n,s,t),void 0,null),Bn===null)throw Error(Ve(349));Bu&30||XB(r,t,s)}return s}function XB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qr.updateQueue,t===null?(t={lastEffect:null,stores:null},Qr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function QB(e,t,r,n){t.value=r,t.getSnapshot=n,eU(t)&&tU(e)}function ZB(e,t,r){return r(function(){eU(t)&&tU(e)})}function eU(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yi(e,r)}catch{return!0}}function tU(e){var t=Wo(e,1);t!==null&&pi(t,e,1,-1)}function v$(e){var t=Ti();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:e},t.queue=e,e=e.dispatch=nne.bind(null,Qr,e),[t.memoizedState,e]}function _g(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qr.updateQueue,t===null?(t={lastEffect:null,stores:null},Qr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rU(){return Wa().memoizedState}function nx(e,t,r,n){var s=Ti();Qr.flags|=e,s.memoizedState=_g(1|t,r,void 0,n===void 0?null:n)}function Jw(e,t,r,n){var s=Wa();n=n===void 0?null:n;var a=void 0;if(kn!==null){var i=kn.memoizedState;if(a=i.destroy,n!==null&&BP(n,i.deps)){s.memoizedState=_g(t,r,a,n);return}}Qr.flags|=e,s.memoizedState=_g(1|t,r,a,n)}function x$(e,t){return nx(8390656,8,e,t)}function qP(e,t){return Jw(2048,8,e,t)}function nU(e,t){return Jw(4,2,e,t)}function sU(e,t){return Jw(4,4,e,t)}function aU(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iU(e,t,r){return r=r!=null?r.concat([e]):null,Jw(4,4,aU.bind(null,t,e),r)}function WP(){}function oU(e,t){var r=Wa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BP(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lU(e,t){var r=Wa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&BP(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cU(e,t,r){return Bu&21?(yi(r,t)||(r=pB(),Qr.lanes|=r,Uu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Us=!0),e.memoizedState=r)}function tne(e,t){var r=yr;yr=r!==0&&4>r?r:4,e(!0);var n=bS.transition;bS.transition={};try{e(!1),t()}finally{yr=r,bS.transition=n}}function uU(){return Wa().memoizedState}function rne(e,t,r){var n=ic(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dU(e))fU(t,r);else if(r=HB(e,t,r,n),r!==null){var s=Es();pi(r,e,n,s),hU(r,t,n)}}function nne(e,t,r){var n=ic(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dU(e))fU(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,yi(l,i)){var c=t.interleaved;c===null?(s.next=s,MP(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=HB(e,t,s,n),r!==null&&(s=Es(),pi(r,e,n,s),hU(r,t,n))}}function dU(e){var t=e.alternate;return e===Qr||t!==null&&t===Qr}function fU(e,t){Lm=Dx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hU(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wP(e,r)}}var Fx={readContext:qa,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},sne={readContext:qa,useCallback:function(e,t){return Ti().memoizedState=[e,t===void 0?null:t],e},useContext:qa,useEffect:x$,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nx(4194308,4,aU.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nx(4194308,4,e,t)},useInsertionEffect:function(e,t){return nx(4,2,e,t)},useMemo:function(e,t){var r=Ti();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ti();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rne.bind(null,Qr,e),[n.memoizedState,e]},useRef:function(e){var t=Ti();return e={current:e},t.memoizedState=e},useState:v$,useDebugValue:WP,useDeferredValue:function(e){return Ti().memoizedState=e},useTransition:function(){var e=v$(!1),t=e[0];return e=tne.bind(null,e[1]),Ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qr,s=Ti();if(zr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),Bn===null)throw Error(Ve(349));Bu&30||XB(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,x$(ZB.bind(null,n,a,e),[e]),n.flags|=2048,_g(9,QB.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ti(),t=Bn.identifierPrefix;if(zr){var r=To,n=Ao;r=(n&~(1<<32-hi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ene++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ane={readContext:qa,useCallback:oU,useContext:qa,useEffect:qP,useImperativeHandle:iU,useInsertionEffect:nU,useLayoutEffect:sU,useMemo:lU,useReducer:wS,useRef:rU,useState:function(){return wS(wg)},useDebugValue:WP,useDeferredValue:function(e){var t=Wa();return cU(t,kn.memoizedState,e)},useTransition:function(){var e=wS(wg)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:YB,useSyncExternalStore:JB,useId:uU,unstable_isNewReconciler:!1},ine={readContext:qa,useCallback:oU,useContext:qa,useEffect:qP,useImperativeHandle:iU,useInsertionEffect:nU,useLayoutEffect:sU,useMemo:lU,useReducer:_S,useRef:rU,useState:function(){return _S(wg)},useDebugValue:WP,useDeferredValue:function(e){var t=Wa();return kn===null?t.memoizedState=e:cU(t,kn.memoizedState,e)},useTransition:function(){var e=_S(wg)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:YB,useSyncExternalStore:JB,useId:uU,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){t=Zr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function iE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Zr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xw={isMounted:function(e){return(e=e._reactInternals)?cd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Es(),s=ic(e),a=Io(n,s);a.payload=t,r!=null&&(a.callback=r),t=sc(e,a,s),t!==null&&(pi(t,e,s,n),tx(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Es(),s=ic(e),a=Io(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=sc(e,a,s),t!==null&&(pi(t,e,s,n),tx(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Es(),n=ic(e),s=Io(r,n);s.tag=2,t!=null&&(s.callback=t),t=sc(e,s,n),t!==null&&(pi(t,e,n,r),tx(t,e,n))}};function b$(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!pg(r,n)||!pg(s,a):!0}function pU(e,t,r){var n=!1,s=bc,a=t.contextType;return typeof a=="object"&&a!==null?a=qa(a):(s=Vs(t)?Du:us.current,n=t.contextTypes,a=(n=n!=null)?Jf(e,s):bc),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function w$(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Xw.enqueueReplaceState(t,t.state,null)}function oE(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},IP(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=qa(a):(a=Vs(t)?Du:us.current,s.context=Jf(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(iE(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xw.enqueueReplaceState(s,s.state,null),Ix(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function eh(e,t){try{var r="",n=t;do r+=$te(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function SS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lE(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var one=typeof WeakMap=="function"?WeakMap:Map;function mU(e,t,r){r=Io(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ux||(Ux=!0,vE=n),lE(e,t)},r}function gU(e,t,r){r=Io(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lE(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){lE(e,t),typeof n!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function _$(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new one;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wne.bind(null,e,t,r),t.then(e,e))}function S$(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function j$(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Io(-1,1),t.tag=2,sc(r,t,1))),r.lanes|=1),e)}var lne=nl.ReactCurrentOwner,Us=!1;function ws(e,t,r,n){t.child=e===null?VB(t,null,r,n):Qf(t,e.child,r,n)}function k$(e,t,r,n,s){r=r.render;var a=t.ref;return vf(t,s),n=UP(e,t,r,n,a,s),r=zP(),e!==null&&!Us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vo(e,t,s)):(zr&&r&&PP(t),t.flags|=1,ws(e,t,n,s),t.child)}function E$(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!QP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,yU(e,t,a,n,s)):(e=ox(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:pg,r(i,n)&&e.ref===t.ref)return Vo(e,t,s)}return t.flags|=1,e=oc(a,n),e.ref=t.ref,e.return=t,t.child=e}function yU(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(pg(a,n)&&e.ref===t.ref)if(Us=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Us=!0);else return t.lanes=e.lanes,Vo(e,t,s)}return cE(e,t,r,n,s)}function vU(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(nf,na),na|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(nf,na),na|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Pr(nf,na),na|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Pr(nf,na),na|=n;return ws(e,t,s,r),t.child}function xU(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cE(e,t,r,n,s){var a=Vs(r)?Du:us.current;return a=Jf(t,a),vf(t,s),r=UP(e,t,r,n,a,s),n=zP(),e!==null&&!Us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vo(e,t,s)):(zr&&n&&PP(t),t.flags|=1,ws(e,t,r,s),t.child)}function N$(e,t,r,n,s){if(Vs(r)){var a=!0;Tx(t)}else a=!1;if(vf(t,s),t.stateNode===null)sx(e,t),pU(t,r,n),oE(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=qa(u):(u=Vs(r)?Du:us.current,u=Jf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&w$(t,i,n,u),Tl=!1;var h=t.memoizedState;i.state=h,Ix(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Ws.current||Tl?(typeof d=="function"&&(iE(t,r,d,n),c=t.memoizedState),(l=Tl||b$(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,KB(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ni(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=qa(c):(c=Vs(r)?Du:us.current,c=Jf(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&w$(t,i,n,c),Tl=!1,h=t.memoizedState,i.state=h,Ix(t,n,i,s);var v=t.memoizedState;l!==f||h!==v||Ws.current||Tl?(typeof g=="function"&&(iE(t,r,g,n),v=t.memoizedState),(u=Tl||b$(t,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return uE(e,t,r,n,a,s)}function uE(e,t,r,n,s,a){xU(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&f$(t,r,!1),Vo(e,t,a);n=t.stateNode,lne.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Qf(t,e.child,null,a),t.child=Qf(t,null,l,a)):ws(e,t,l,a),t.memoizedState=n.state,s&&f$(t,r,!0),t.child}function bU(e){var t=e.stateNode;t.pendingContext?d$(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d$(e,t.context,!1),LP(e,t.containerInfo)}function C$(e,t,r,n,s){return Xf(),TP(s),t.flags|=256,ws(e,t,r,n),t.child}var dE={dehydrated:null,treeContext:null,retryLane:0};function fE(e){return{baseLanes:e,cachePool:null,transitions:null}}function wU(e,t,r){var n=t.pendingProps,s=Kr.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pr(Kr,s&1),e===null)return sE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=e1(i,n,0,null),e=Nu(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fE(r),t.memoizedState=dE,e):VP(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cne(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=oc(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=oc(l,a):(a=Nu(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?fE(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=dE,n}return a=e.child,e=a.sibling,n=oc(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function VP(e,t){return t=e1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wv(e,t,r,n){return n!==null&&TP(n),Qf(t,e.child,null,r),e=VP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cne(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=SS(Error(Ve(422))),Wv(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=e1({mode:"visible",children:n.children},s,0,null),a=Nu(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Qf(t,e.child,null,i),t.child.memoizedState=fE(i),t.memoizedState=dE,a);if(!(t.mode&1))return Wv(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Ve(419)),n=SS(a,n,void 0),Wv(e,t,i,n)}if(l=(i&e.childLanes)!==0,Us||l){if(n=Bn,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Wo(e,s),pi(n,e,s,-1))}return XP(),n=SS(Error(Ve(421))),Wv(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_ne.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,la=nc(s.nextSibling),da=t,zr=!0,li=null,e!==null&&(Ca[Pa++]=Ao,Ca[Pa++]=To,Ca[Pa++]=Fu,Ao=e.id,To=e.overflow,Fu=t),t=VP(t,n.children),t.flags|=4096,t)}function P$(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),aE(e.return,t,r)}function jS(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function _U(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ws(e,t,n.children,r),n=Kr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P$(e,r,t);else if(e.tag===19)P$(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pr(Kr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Lx(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),jS(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Lx(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}jS(t,!0,r,null,a);break;case"together":jS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Uu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=oc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=oc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function une(e,t,r){switch(t.tag){case 3:bU(t),Xf();break;case 5:GB(t);break;case 1:Vs(t.type)&&Tx(t);break;case 4:LP(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Pr($x,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pr(Kr,Kr.current&1),t.flags|=128,null):r&t.child.childLanes?wU(e,t,r):(Pr(Kr,Kr.current&1),e=Vo(e,t,r),e!==null?e.sibling:null);Pr(Kr,Kr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _U(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pr(Kr,Kr.current),n)break;return null;case 22:case 23:return t.lanes=0,vU(e,t,r)}return Vo(e,t,r)}var SU,hE,jU,kU;SU=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hE=function(){};jU=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,cu(Hi.current);var a=null;switch(r){case"input":s=Mk(e,s),n=Mk(e,n),a=[];break;case"select":s=Zr({},s,{value:void 0}),n=Zr({},n,{value:void 0}),a=[];break;case"textarea":s=Dk(e,s),n=Dk(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Px)}Bk(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(og.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(og.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Or("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};kU=function(e,t,r,n){r!==n&&(t.flags|=4)};function $p(e,t){if(!zr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ts(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dne(e,t,r){var n=t.pendingProps;switch(AP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(t),null;case 1:return Vs(t.type)&&Ax(),ts(t),null;case 3:return n=t.stateNode,Zf(),Dr(Ws),Dr(us),FP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,li!==null&&(wE(li),li=null))),hE(e,t),ts(t),null;case 5:DP(t);var s=cu(xg.current);if(r=t.type,e!==null&&t.stateNode!=null)jU(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return ts(t),null}if(e=cu(Hi.current),zv(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Li]=t,n[yg]=a,e=(t.mode&1)!==0,r){case"dialog":Or("cancel",n),Or("close",n);break;case"iframe":case"object":case"embed":Or("load",n);break;case"video":case"audio":for(s=0;s<gm.length;s++)Or(gm[s],n);break;case"source":Or("error",n);break;case"img":case"image":case"link":Or("error",n),Or("load",n);break;case"details":Or("toggle",n);break;case"input":DR(n,a),Or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Or("invalid",n);break;case"textarea":BR(n,a),Or("invalid",n)}Bk(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Uv(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Uv(n.textContent,l,e),s=["children",""+l]):og.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Or("scroll",n)}switch(r){case"input":Rv(n),FR(n,a,!0);break;case"textarea":Rv(n),UR(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Px)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Z8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Li]=t,e[yg]=n,SU(e,t,!1,!1),t.stateNode=e;e:{switch(i=Uk(r,n),r){case"dialog":Or("cancel",e),Or("close",e),s=n;break;case"iframe":case"object":case"embed":Or("load",e),s=n;break;case"video":case"audio":for(s=0;s<gm.length;s++)Or(gm[s],e);s=n;break;case"source":Or("error",e),s=n;break;case"img":case"image":case"link":Or("error",e),Or("load",e),s=n;break;case"details":Or("toggle",e),s=n;break;case"input":DR(e,n),s=Mk(e,n),Or("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Zr({},n,{value:void 0}),Or("invalid",e);break;case"textarea":BR(e,n),s=Dk(e,n),Or("invalid",e);break;default:s=n}Bk(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?rB(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eB(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&lg(e,c):typeof c=="number"&&lg(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(og.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Or("scroll",e):c!=null&&mP(e,a,c,i))}switch(r){case"input":Rv(e),FR(e,n,!1);break;case"textarea":Rv(e),UR(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xc(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?pf(e,!!n.multiple,a,!1):n.defaultValue!=null&&pf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Px)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ts(t),null;case 6:if(e&&t.stateNode!=null)kU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=cu(xg.current),cu(Hi.current),zv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Li]=t,(a=n.nodeValue!==r)&&(e=da,e!==null))switch(e.tag){case 3:Uv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uv(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Li]=t,t.stateNode=n}return ts(t),null;case 13:if(Dr(Kr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zr&&la!==null&&t.mode&1&&!(t.flags&128))qB(),Xf(),t.flags|=98560,a=!1;else if(a=zv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ve(317));a[Li]=t}else Xf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ts(t),a=!1}else li!==null&&(wE(li),li=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Kr.current&1?Cn===0&&(Cn=3):XP())),t.updateQueue!==null&&(t.flags|=4),ts(t),null);case 4:return Zf(),hE(e,t),e===null&&mg(t.stateNode.containerInfo),ts(t),null;case 10:return $P(t.type._context),ts(t),null;case 17:return Vs(t.type)&&Ax(),ts(t),null;case 19:if(Dr(Kr),a=t.memoizedState,a===null)return ts(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)$p(a,!1);else{if(Cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Lx(e),i!==null){for(t.flags|=128,$p(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pr(Kr,Kr.current&1|2),t.child}e=e.sibling}a.tail!==null&&un()>th&&(t.flags|=128,n=!0,$p(a,!1),t.lanes=4194304)}else{if(!n)if(e=Lx(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$p(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!zr)return ts(t),null}else 2*un()-a.renderingStartTime>th&&r!==1073741824&&(t.flags|=128,n=!0,$p(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=un(),t.sibling=null,r=Kr.current,Pr(Kr,n?r&1|2:r&1),t):(ts(t),null);case 22:case 23:return JP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?na&1073741824&&(ts(t),t.subtreeFlags&6&&(t.flags|=8192)):ts(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function fne(e,t){switch(AP(t),t.tag){case 1:return Vs(t.type)&&Ax(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zf(),Dr(Ws),Dr(us),FP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return DP(t),null;case 13:if(Dr(Kr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Xf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dr(Kr),null;case 4:return Zf(),null;case 10:return $P(t.type._context),null;case 22:case 23:return JP(),null;case 24:return null;default:return null}}var Vv=!1,as=!1,hne=typeof WeakSet=="function"?WeakSet:Set,ht=null;function rf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nn(e,t,n)}else r.current=null}function pE(e,t,r){try{r()}catch(n){nn(e,t,n)}}var A$=!1;function pne(e,t){if(Xk=Ex,e=AB(),CP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qk={focusedElem:e,selectionRange:r},Ex=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){t=ht;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:ni(t.type,p),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(_){nn(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}return v=A$,A$=!1,v}function Dm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&pE(t,r,a)}s=s.next}while(s!==n)}}function Qw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mE(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function EU(e){var t=e.alternate;t!==null&&(e.alternate=null,EU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Li],delete t[yg],delete t[tE],delete t[Jre],delete t[Xre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NU(e){return e.tag===5||e.tag===3||e.tag===4}function T$(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Px));else if(n!==4&&(e=e.child,e!==null))for(gE(e,t,r),e=e.sibling;e!==null;)gE(e,t,r),e=e.sibling}function yE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yE(e,t,r),e=e.sibling;e!==null;)yE(e,t,r),e=e.sibling}var Wn=null,ai=!1;function pl(e,t,r){for(r=r.child;r!==null;)CU(e,t,r),r=r.sibling}function CU(e,t,r){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Ww,r)}catch{}switch(r.tag){case 5:as||rf(r,t);case 6:var n=Wn,s=ai;Wn=null,pl(e,t,r),Wn=n,ai=s,Wn!==null&&(ai?(e=Wn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wn.removeChild(r.stateNode));break;case 18:Wn!==null&&(ai?(e=Wn,r=r.stateNode,e.nodeType===8?yS(e.parentNode,r):e.nodeType===1&&yS(e,r),fg(e)):yS(Wn,r.stateNode));break;case 4:n=Wn,s=ai,Wn=r.stateNode.containerInfo,ai=!0,pl(e,t,r),Wn=n,ai=s;break;case 0:case 11:case 14:case 15:if(!as&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&pE(r,t,i),s=s.next}while(s!==n)}pl(e,t,r);break;case 1:if(!as&&(rf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nn(r,t,l)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:r.mode&1?(as=(n=as)||r.memoizedState!==null,pl(e,t,r),as=n):pl(e,t,r);break;default:pl(e,t,r)}}function O$(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hne),t.forEach(function(n){var s=Sne.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ja(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Wn=l.stateNode,ai=!1;break e;case 3:Wn=l.stateNode.containerInfo,ai=!0;break e;case 4:Wn=l.stateNode.containerInfo,ai=!0;break e}l=l.return}if(Wn===null)throw Error(Ve(160));CU(a,i,s),Wn=null,ai=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){nn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PU(t,e),t=t.sibling}function PU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ja(t,e),Pi(e),n&4){try{Dm(3,e,e.return),Qw(3,e)}catch(p){nn(e,e.return,p)}try{Dm(5,e,e.return)}catch(p){nn(e,e.return,p)}}break;case 1:Ja(t,e),Pi(e),n&512&&r!==null&&rf(r,r.return);break;case 5:if(Ja(t,e),Pi(e),n&512&&r!==null&&rf(r,r.return),e.flags&32){var s=e.stateNode;try{lg(s,"")}catch(p){nn(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&X8(s,a),Uk(l,i);var u=Uk(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?rB(s,f):d==="dangerouslySetInnerHTML"?eB(s,f):d==="children"?lg(s,f):mP(s,d,f,u)}switch(l){case"input":Ik(s,a);break;case"textarea":Q8(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?pf(s,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?pf(s,!!a.multiple,a.defaultValue,!0):pf(s,!!a.multiple,a.multiple?[]:"",!1))}s[yg]=a}catch(p){nn(e,e.return,p)}}break;case 6:if(Ja(t,e),Pi(e),n&4){if(e.stateNode===null)throw Error(Ve(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){nn(e,e.return,p)}}break;case 3:if(Ja(t,e),Pi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fg(t.containerInfo)}catch(p){nn(e,e.return,p)}break;case 4:Ja(t,e),Pi(e);break;case 13:Ja(t,e),Pi(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(GP=un())),n&4&&O$(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(as=(u=as)||d,Ja(t,e),as=u):Ja(t,e),Pi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ht=e,d=e.child;d!==null;){for(f=ht=d;ht!==null;){switch(h=ht,g=h.child,h.tag){case 0:case 11:case 14:case 15:Dm(4,h,h.return);break;case 1:rf(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){nn(n,r,p)}}break;case 5:rf(h,h.return);break;case 22:if(h.memoizedState!==null){$$(f);continue}}g!==null?(g.return=h,ht=g):$$(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tB("display",i))}catch(p){nn(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){nn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ja(t,e),Pi(e),n&4&&O$(e);break;case 21:break;default:Ja(t,e),Pi(e)}}function Pi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(NU(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(lg(s,""),n.flags&=-33);var a=T$(e);yE(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=T$(e);gE(e,l,i);break;default:throw Error(Ve(161))}}catch(c){nn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mne(e,t,r){ht=e,AU(e)}function AU(e,t,r){for(var n=(e.mode&1)!==0;ht!==null;){var s=ht,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Vv;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||as;l=Vv;var u=as;if(Vv=i,(as=c)&&!u)for(ht=s;ht!==null;)i=ht,c=i.child,i.tag===22&&i.memoizedState!==null?M$(s):c!==null?(c.return=i,ht=c):M$(s);for(;a!==null;)ht=a,AU(a),a=a.sibling;ht=s,Vv=l,as=u}R$(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ht=a):R$(e)}}function R$(e){for(;ht!==null;){var t=ht;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:as||Qw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!as)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ni(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&y$(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}y$(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}as||t.flags&512&&mE(t)}catch(h){nn(t,t.return,h)}}if(t===e){ht=null;break}if(r=t.sibling,r!==null){r.return=t.return,ht=r;break}ht=t.return}}function $$(e){for(;ht!==null;){var t=ht;if(t===e){ht=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ht=r;break}ht=t.return}}function M$(e){for(;ht!==null;){var t=ht;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qw(4,t)}catch(c){nn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){nn(t,s,c)}}var a=t.return;try{mE(t)}catch(c){nn(t,a,c)}break;case 5:var i=t.return;try{mE(t)}catch(c){nn(t,i,c)}}}catch(c){nn(t,t.return,c)}if(t===e){ht=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ht=l;break}ht=t.return}}var gne=Math.ceil,Bx=nl.ReactCurrentDispatcher,HP=nl.ReactCurrentOwner,Ma=nl.ReactCurrentBatchConfig,rr=0,Bn=null,gn=null,Xn=0,na=0,nf=Cc(0),Cn=0,Sg=null,Uu=0,Zw=0,KP=0,Fm=null,Ms=null,GP=0,th=1/0,wo=null,Ux=!1,vE=null,ac=null,Hv=!1,Kl=null,zx=0,Bm=0,xE=null,ax=-1,ix=0;function Es(){return rr&6?un():ax!==-1?ax:ax=un()}function ic(e){return e.mode&1?rr&2&&Xn!==0?Xn&-Xn:Zre.transition!==null?(ix===0&&(ix=pB()),ix):(e=yr,e!==0||(e=window.event,e=e===void 0?16:wB(e.type)),e):1}function pi(e,t,r,n){if(50<Bm)throw Bm=0,xE=null,Error(Ve(185));By(e,r,n),(!(rr&2)||e!==Bn)&&(e===Bn&&(!(rr&2)&&(Zw|=r),Cn===4&&Ml(e,Xn)),Hs(e,n),r===1&&rr===0&&!(t.mode&1)&&(th=un()+500,Yw&&Pc()))}function Hs(e,t){var r=e.callbackNode;Zte(e,t);var n=kx(e,e===Bn?Xn:0);if(n===0)r!==null&&WR(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&WR(r),t===1)e.tag===0?Qre(I$.bind(null,e)):BB(I$.bind(null,e)),Gre(function(){!(rr&6)&&Pc()}),r=null;else{switch(mB(n)){case 1:r=bP;break;case 4:r=fB;break;case 16:r=jx;break;case 536870912:r=hB;break;default:r=jx}r=DU(r,TU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function TU(e,t){if(ax=-1,ix=0,rr&6)throw Error(Ve(327));var r=e.callbackNode;if(xf()&&e.callbackNode!==r)return null;var n=kx(e,e===Bn?Xn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qx(e,n);else{t=n;var s=rr;rr|=2;var a=RU();(Bn!==e||Xn!==t)&&(wo=null,th=un()+500,Eu(e,t));do try{xne();break}catch(l){OU(e,l)}while(!0);RP(),Bx.current=a,rr=s,gn!==null?t=0:(Bn=null,Xn=0,t=Cn)}if(t!==0){if(t===2&&(s=Hk(e),s!==0&&(n=s,t=bE(e,s))),t===1)throw r=Sg,Eu(e,0),Ml(e,n),Hs(e,un()),r;if(t===6)Ml(e,n);else{if(s=e.current.alternate,!(n&30)&&!yne(s)&&(t=qx(e,n),t===2&&(a=Hk(e),a!==0&&(n=a,t=bE(e,a))),t===1))throw r=Sg,Eu(e,0),Ml(e,n),Hs(e,un()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:Jc(e,Ms,wo);break;case 3:if(Ml(e,n),(n&130023424)===n&&(t=GP+500-un(),10<t)){if(kx(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Es(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eE(Jc.bind(null,e,Ms,wo),t);break}Jc(e,Ms,wo);break;case 4:if(Ml(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-hi(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=un()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gne(n/1960))-n,10<n){e.timeoutHandle=eE(Jc.bind(null,e,Ms,wo),n);break}Jc(e,Ms,wo);break;case 5:Jc(e,Ms,wo);break;default:throw Error(Ve(329))}}}return Hs(e,un()),e.callbackNode===r?TU.bind(null,e):null}function bE(e,t){var r=Fm;return e.current.memoizedState.isDehydrated&&(Eu(e,t).flags|=256),e=qx(e,t),e!==2&&(t=Ms,Ms=r,t!==null&&wE(t)),e}function wE(e){Ms===null?Ms=e:Ms.push.apply(Ms,e)}function yne(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!yi(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ml(e,t){for(t&=~KP,t&=~Zw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hi(t),n=1<<r;e[r]=-1,t&=~n}}function I$(e){if(rr&6)throw Error(Ve(327));xf();var t=kx(e,0);if(!(t&1))return Hs(e,un()),null;var r=qx(e,t);if(e.tag!==0&&r===2){var n=Hk(e);n!==0&&(t=n,r=bE(e,n))}if(r===1)throw r=Sg,Eu(e,0),Ml(e,t),Hs(e,un()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jc(e,Ms,wo),Hs(e,un()),null}function YP(e,t){var r=rr;rr|=1;try{return e(t)}finally{rr=r,rr===0&&(th=un()+500,Yw&&Pc())}}function zu(e){Kl!==null&&Kl.tag===0&&!(rr&6)&&xf();var t=rr;rr|=1;var r=Ma.transition,n=yr;try{if(Ma.transition=null,yr=1,e)return e()}finally{yr=n,Ma.transition=r,rr=t,!(rr&6)&&Pc()}}function JP(){na=nf.current,Dr(nf)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Kre(r)),gn!==null)for(r=gn.return;r!==null;){var n=r;switch(AP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ax();break;case 3:Zf(),Dr(Ws),Dr(us),FP();break;case 5:DP(n);break;case 4:Zf();break;case 13:Dr(Kr);break;case 19:Dr(Kr);break;case 10:$P(n.type._context);break;case 22:case 23:JP()}r=r.return}if(Bn=e,gn=e=oc(e.current,null),Xn=na=t,Cn=0,Sg=null,KP=Zw=Uu=0,Ms=Fm=null,lu!==null){for(t=0;t<lu.length;t++)if(r=lu[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}lu=null}return e}function OU(e,t){do{var r=gn;try{if(RP(),rx.current=Fx,Dx){for(var n=Qr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Dx=!1}if(Bu=0,Ln=kn=Qr=null,Lm=!1,bg=0,HP.current=null,r===null||r.return===null){Cn=1,Sg=t,gn=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=S$(i);if(g!==null){g.flags&=-257,j$(g,i,l,a,t),g.mode&1&&_$(a,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){_$(a,u,t),XP();break e}c=Error(Ve(426))}}else if(zr&&l.mode&1){var y=S$(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),j$(y,i,l,a,t),TP(eh(c,l));break e}}a=c=eh(c,l),Cn!==4&&(Cn=2),Fm===null?Fm=[a]:Fm.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=mU(a,c,t);g$(a,x);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ac===null||!ac.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=gU(a,l,t);g$(a,_);break e}}a=a.return}while(a!==null)}MU(r)}catch(S){t=S,gn===r&&r!==null&&(gn=r=r.return);continue}break}while(!0)}function RU(){var e=Bx.current;return Bx.current=Fx,e===null?Fx:e}function XP(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Bn===null||!(Uu&268435455)&&!(Zw&268435455)||Ml(Bn,Xn)}function qx(e,t){var r=rr;rr|=2;var n=RU();(Bn!==e||Xn!==t)&&(wo=null,Eu(e,t));do try{vne();break}catch(s){OU(e,s)}while(!0);if(RP(),rr=r,Bx.current=n,gn!==null)throw Error(Ve(261));return Bn=null,Xn=0,Cn}function vne(){for(;gn!==null;)$U(gn)}function xne(){for(;gn!==null&&!Wte();)$U(gn)}function $U(e){var t=LU(e.alternate,e,na);e.memoizedProps=e.pendingProps,t===null?MU(e):gn=t,HP.current=null}function MU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fne(r,t),r!==null){r.flags&=32767,gn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cn=6,gn=null;return}}else if(r=dne(r,t,na),r!==null){gn=r;return}if(t=t.sibling,t!==null){gn=t;return}gn=t=e}while(t!==null);Cn===0&&(Cn=5)}function Jc(e,t,r){var n=yr,s=Ma.transition;try{Ma.transition=null,yr=1,bne(e,t,r,n)}finally{Ma.transition=s,yr=n}return null}function bne(e,t,r,n){do xf();while(Kl!==null);if(rr&6)throw Error(Ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(ere(e,a),e===Bn&&(gn=Bn=null,Xn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hv||(Hv=!0,DU(jx,function(){return xf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ma.transition,Ma.transition=null;var i=yr;yr=1;var l=rr;rr|=4,HP.current=null,pne(e,r),PU(r,e),Bre(Qk),Ex=!!Xk,Qk=Xk=null,e.current=r,mne(r),Vte(),rr=l,yr=i,Ma.transition=a}else e.current=r;if(Hv&&(Hv=!1,Kl=e,zx=s),a=e.pendingLanes,a===0&&(ac=null),Gte(r.stateNode),Hs(e,un()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ux)throw Ux=!1,e=vE,vE=null,e;return zx&1&&e.tag!==0&&xf(),a=e.pendingLanes,a&1?e===xE?Bm++:(Bm=0,xE=e):Bm=0,Pc(),null}function xf(){if(Kl!==null){var e=mB(zx),t=Ma.transition,r=yr;try{if(Ma.transition=null,yr=16>e?16:e,Kl===null)var n=!1;else{if(e=Kl,Kl=null,zx=0,rr&6)throw Error(Ve(331));var s=rr;for(rr|=4,ht=e.current;ht!==null;){var a=ht,i=a.child;if(ht.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ht=u;ht!==null;){var d=ht;switch(d.tag){case 0:case 11:case 15:Dm(8,d,a)}var f=d.child;if(f!==null)f.return=d,ht=f;else for(;ht!==null;){d=ht;var h=d.sibling,g=d.return;if(EU(d),d===u){ht=null;break}if(h!==null){h.return=g,ht=h;break}ht=g}}}var v=a.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}ht=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ht=i;else e:for(;ht!==null;){if(a=ht,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Dm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ht=x;break e}ht=a.return}}var b=e.current;for(ht=b;ht!==null;){i=ht;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ht=w;else e:for(i=b;ht!==null;){if(l=ht,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qw(9,l)}}catch(S){nn(l,l.return,S)}if(l===i){ht=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ht=_;break e}ht=l.return}}if(rr=s,Pc(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Ww,e)}catch{}n=!0}return n}finally{yr=r,Ma.transition=t}}return!1}function L$(e,t,r){t=eh(r,t),t=mU(e,t,1),e=sc(e,t,1),t=Es(),e!==null&&(By(e,1,t),Hs(e,t))}function nn(e,t,r){if(e.tag===3)L$(e,e,r);else for(;t!==null;){if(t.tag===3){L$(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ac===null||!ac.has(n))){e=eh(r,e),e=gU(t,e,1),t=sc(t,e,1),e=Es(),t!==null&&(By(t,1,e),Hs(t,e));break}}t=t.return}}function wne(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Es(),e.pingedLanes|=e.suspendedLanes&r,Bn===e&&(Xn&r)===r&&(Cn===4||Cn===3&&(Xn&130023424)===Xn&&500>un()-GP?Eu(e,0):KP|=r),Hs(e,t)}function IU(e,t){t===0&&(e.mode&1?(t=Iv,Iv<<=1,!(Iv&130023424)&&(Iv=4194304)):t=1);var r=Es();e=Wo(e,t),e!==null&&(By(e,t,r),Hs(e,r))}function _ne(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),IU(e,r)}function Sne(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),IU(e,r)}var LU;LU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ws.current)Us=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Us=!1,une(e,t,r);Us=!!(e.flags&131072)}else Us=!1,zr&&t.flags&1048576&&UB(t,Rx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;sx(e,t),e=t.pendingProps;var s=Jf(t,us.current);vf(t,r),s=UP(null,t,n,e,s,r);var a=zP();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vs(n)?(a=!0,Tx(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,IP(t),s.updater=Xw,t.stateNode=s,s._reactInternals=t,oE(t,n,e,r),t=uE(null,t,n,!0,a,r)):(t.tag=0,zr&&a&&PP(t),ws(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(sx(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=kne(n),e=ni(n,e),s){case 0:t=cE(null,t,n,e,r);break e;case 1:t=N$(null,t,n,e,r);break e;case 11:t=k$(null,t,n,e,r);break e;case 14:t=E$(null,t,n,ni(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ni(n,s),cE(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ni(n,s),N$(e,t,n,s,r);case 3:e:{if(bU(t),e===null)throw Error(Ve(387));n=t.pendingProps,a=t.memoizedState,s=a.element,KB(e,t),Ix(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=eh(Error(Ve(423)),t),t=C$(e,t,n,r,s);break e}else if(n!==s){s=eh(Error(Ve(424)),t),t=C$(e,t,n,r,s);break e}else for(la=nc(t.stateNode.containerInfo.firstChild),da=t,zr=!0,li=null,r=VB(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xf(),n===s){t=Vo(e,t,r);break e}ws(e,t,n,r)}t=t.child}return t;case 5:return GB(t),e===null&&sE(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Zk(n,s)?i=null:a!==null&&Zk(n,a)&&(t.flags|=32),xU(e,t),ws(e,t,i,r),t.child;case 6:return e===null&&sE(t),null;case 13:return wU(e,t,r);case 4:return LP(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qf(t,null,n,r):ws(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ni(n,s),k$(e,t,n,s,r);case 7:return ws(e,t,t.pendingProps,r),t.child;case 8:return ws(e,t,t.pendingProps.children,r),t.child;case 12:return ws(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Pr($x,n._currentValue),n._currentValue=i,a!==null)if(yi(a.value,i)){if(a.children===s.children&&!Ws.current){t=Vo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Io(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),aE(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Ve(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),aE(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ws(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vf(t,r),s=qa(s),n=n(s),t.flags|=1,ws(e,t,n,r),t.child;case 14:return n=t.type,s=ni(n,t.pendingProps),s=ni(n.type,s),E$(e,t,n,s,r);case 15:return yU(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ni(n,s),sx(e,t),t.tag=1,Vs(n)?(e=!0,Tx(t)):e=!1,vf(t,r),pU(t,n,s),oE(t,n,s,r),uE(null,t,n,!0,e,r);case 19:return _U(e,t,r);case 22:return vU(e,t,r)}throw Error(Ve(156,t.tag))};function DU(e,t){return dB(e,t)}function jne(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(e,t,r,n){return new jne(e,t,r,n)}function QP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kne(e){if(typeof e=="function")return QP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yP)return 11;if(e===vP)return 14}return 2}function oc(e,t){var r=e.alternate;return r===null?(r=Oa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ox(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")QP(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Kd:return Nu(r.children,s,a,t);case gP:i=8,s|=8;break;case Tk:return e=Oa(12,r,t,s|2),e.elementType=Tk,e.lanes=a,e;case Ok:return e=Oa(13,r,t,s),e.elementType=Ok,e.lanes=a,e;case Rk:return e=Oa(19,r,t,s),e.elementType=Rk,e.lanes=a,e;case G8:return e1(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H8:i=10;break e;case K8:i=9;break e;case yP:i=11;break e;case vP:i=14;break e;case Al:i=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Oa(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Nu(e,t,r,n){return e=Oa(7,e,n,t),e.lanes=r,e}function e1(e,t,r,n){return e=Oa(22,e,n,t),e.elementType=G8,e.lanes=r,e.stateNode={isHidden:!1},e}function kS(e,t,r){return e=Oa(6,e,null,t),e.lanes=r,e}function ES(e,t,r){return t=Oa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ene(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iS(0),this.expirationTimes=iS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iS(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ZP(e,t,r,n,s,a,i,l,c){return e=new Ene(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Oa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},IP(a),e}function Nne(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FU(e){if(!e)return bc;e=e._reactInternals;e:{if(cd(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(Vs(r))return FB(e,r,t)}return t}function BU(e,t,r,n,s,a,i,l,c){return e=ZP(r,n,!0,e,s,a,i,l,c),e.context=FU(null),r=e.current,n=Es(),s=ic(r),a=Io(n,s),a.callback=t??null,sc(r,a,s),e.current.lanes=s,By(e,s,n),Hs(e,n),e}function t1(e,t,r,n){var s=t.current,a=Es(),i=ic(s);return r=FU(r),t.context===null?t.context=r:t.pendingContext=r,t=Io(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sc(s,t,i),e!==null&&(pi(e,s,i,a),tx(e,s,i)),i}function Wx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D$(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eA(e,t){D$(e,t),(e=e.alternate)&&D$(e,t)}function Cne(){return null}var UU=typeof reportError=="function"?reportError:function(e){console.error(e)};function tA(e){this._internalRoot=e}r1.prototype.render=tA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));t1(e,t,null,null)};r1.prototype.unmount=tA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zu(function(){t1(null,e,null,null)}),t[qo]=null}};function r1(e){this._internalRoot=e}r1.prototype.unstable_scheduleHydration=function(e){if(e){var t=vB();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$l.length&&t!==0&&t<$l[r].priority;r++);$l.splice(r,0,e),r===0&&bB(e)}};function rA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function n1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function F$(){}function Pne(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Wx(i);a.call(u)}}var i=BU(t,n,e,0,null,!1,!1,"",F$);return e._reactRootContainer=i,e[qo]=i.current,mg(e.nodeType===8?e.parentNode:e),zu(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Wx(c);l.call(u)}}var c=ZP(e,0,!1,null,null,!1,!1,"",F$);return e._reactRootContainer=c,e[qo]=c.current,mg(e.nodeType===8?e.parentNode:e),zu(function(){t1(t,c,r,n)}),c}function s1(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Wx(i);l.call(c)}}t1(t,i,e,s)}else i=Pne(r,t,e,s,n);return Wx(i)}gB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mm(t.pendingLanes);r!==0&&(wP(t,r|1),Hs(t,un()),!(rr&6)&&(th=un()+500,Pc()))}break;case 13:zu(function(){var n=Wo(e,1);if(n!==null){var s=Es();pi(n,e,1,s)}}),eA(e,1)}};_P=function(e){if(e.tag===13){var t=Wo(e,134217728);if(t!==null){var r=Es();pi(t,e,134217728,r)}eA(e,134217728)}};yB=function(e){if(e.tag===13){var t=ic(e),r=Wo(e,t);if(r!==null){var n=Es();pi(r,e,t,n)}eA(e,t)}};vB=function(){return yr};xB=function(e,t){var r=yr;try{return yr=e,t()}finally{yr=r}};qk=function(e,t,r){switch(t){case"input":if(Ik(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Gw(n);if(!s)throw Error(Ve(90));J8(n),Ik(n,s)}}}break;case"textarea":Q8(e,r);break;case"select":t=r.value,t!=null&&pf(e,!!r.multiple,t,!1)}};aB=YP;iB=zu;var Ane={usingClientEntryPoint:!1,Events:[zy,Xd,Gw,nB,sB,YP]},Mp={findFiberByHostInstance:ou,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tne={bundleType:Mp.bundleType,version:Mp.version,rendererPackageName:Mp.rendererPackageName,rendererConfig:Mp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cB(e),e===null?null:e.stateNode},findFiberByHostInstance:Mp.findFiberByHostInstance||Cne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kv.isDisabled&&Kv.supportsFiber)try{Ww=Kv.inject(Tne),Vi=Kv}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ane;ga.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rA(t))throw Error(Ve(200));return Nne(e,t,null,r)};ga.createRoot=function(e,t){if(!rA(e))throw Error(Ve(299));var r=!1,n="",s=UU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ZP(e,1,!1,null,null,r,!1,n,s),e[qo]=t.current,mg(e.nodeType===8?e.parentNode:e),new tA(t)};ga.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=cB(t),e=e===null?null:e.stateNode,e};ga.flushSync=function(e){return zu(e)};ga.hydrate=function(e,t,r){if(!n1(t))throw Error(Ve(200));return s1(null,e,t,!0,r)};ga.hydrateRoot=function(e,t,r){if(!rA(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=UU;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=BU(t,null,e,1,r??null,s,!1,a,i),e[qo]=t.current,mg(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new r1(t)};ga.render=function(e,t,r){if(!n1(t))throw Error(Ve(200));return s1(null,e,t,!1,r)};ga.unmountComponentAtNode=function(e){if(!n1(e))throw Error(Ve(40));return e._reactRootContainer?(zu(function(){s1(null,null,e,!1,function(){e._reactRootContainer=null,e[qo]=null})}),!0):!1};ga.unstable_batchedUpdates=YP;ga.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!n1(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return s1(e,t,r,!1,n)};ga.version="18.3.1-next-f1338f8080-20240426";function zU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zU)}catch(e){console.error(e)}}zU(),z8.exports=ga;var ud=z8.exports;const Bh=jr(ud);var B$=ud;Pk.createRoot=B$.createRoot,Pk.hydrateRoot=B$.hydrateRoot;var Vx=["light","dark"],nA="(prefers-color-scheme: dark)",One=typeof window>"u",sA=m.createContext(void 0),Rne={setTheme:e=>{},themes:[]},sl=()=>{var e;return(e=m.useContext(sA))!=null?e:Rne},$ne=e=>m.useContext(sA)?e.children:m.createElement(Ine,{...e}),Mne=["light","dark"],Ine=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:a=Mne,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=m.useState(()=>U$(s,i)),[g,v]=m.useState(()=>U$(s)),p=c?Object.values(c):a,y=m.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=z$());let E=c?c[S]:S,k=t?Dne():null,j=document.documentElement;if(l==="class"?(j.classList.remove(...p),E&&j.classList.add(E)):E?j.setAttribute(l,E):j.removeAttribute(l),n){let N=Vx.includes(i)?i:null,C=Vx.includes(S)?S:N;j.style.colorScheme=C}k==null||k()},[]),x=m.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(s,S)}catch{}},[e]),b=m.useCallback(_=>{let S=z$(_);v(S),f==="system"&&r&&!e&&y("system")},[f,e]);m.useEffect(()=>{let _=window.matchMedia(nA);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),m.useEffect(()=>{let _=S=>{if(S.key!==s)return;let E=S.newValue||i;x(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[x]),m.useEffect(()=>{y(e??f)},[e,f]);let w=m.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?g:f,themes:r?[...a,"system"]:a,systemTheme:r?g:void 0}),[f,x,e,g,r,a]);return m.createElement(sA.Provider,{value:w},m.createElement(Lne,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:a,defaultTheme:i,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},Lne=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Vx.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,y=!0)=>{let x=i?i[v]:v,b=p?v+"|| ''":`'${x}'`,w="";return s&&y&&!p&&Vx.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},g=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${nA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),U$=(e,t)=>{if(One)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Dne=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},z$=e=>(e||(e=window.matchMedia(nA)),e.matches?"dark":"light"),be=typeof window<"u"?window:void 0,Gn=typeof globalThis<"u"?globalThis:be;typeof self>"u"&&(Gn.self=Gn),typeof File>"u"&&(Gn.File=function(){});var qU=Array.prototype,q$=qU.forEach,W$=qU.indexOf,ca=Gn==null?void 0:Gn.navigator,st=Gn==null?void 0:Gn.document,Is=Gn==null?void 0:Gn.location,_E=Gn==null?void 0:Gn.fetch,SE=Gn!=null&&Gn.XMLHttpRequest&&"withCredentials"in new Gn.XMLHttpRequest?Gn.XMLHttpRequest:void 0,V$=Gn==null?void 0:Gn.AbortController,Rs=ca==null?void 0:ca.userAgent,kt=be??{},_o={DEBUG:!1,LIB_VERSION:"1.307.2"};function H$(e,t,r,n,s,a,i){try{var l=e[a](i),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,s)}function K$(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(c){H$(a,n,s,i,l,"next",c)}function l(c){H$(a,n,s,i,l,"throw",c)}i(void 0)})}}function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pt.apply(null,arguments)}function WU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fne=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],G$=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return Fne.concat(t).some(n=>{var s=n.toLowerCase();return r.indexOf(s)!==-1})},Bne=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function qt(e,t){return e.indexOf(t)!==-1}var a1=function(e){return e.trim()},jE=function(e){return e.replace(/^\$/,"")},Une=Array.isArray,VU=Object.prototype,HU=VU.hasOwnProperty,i1=VU.toString,dr=Une||function(e){return i1.call(e)==="[object Array]"},lc=e=>typeof e=="function",Dn=e=>e===Object(e)&&!dr(e),sf=e=>{if(Dn(e)){for(var t in e)if(HU.call(e,t))return!1;return!0}return!1},Ze=e=>e===void 0,Nn=e=>i1.call(e)=="[object String]",kE=e=>Nn(e)&&e.trim().length===0,wi=e=>e===null,cr=e=>Ze(e)||wi(e),no=e=>i1.call(e)=="[object Number]",Lo=e=>i1.call(e)==="[object Boolean]",zne=e=>e instanceof FormData,qne=e=>qt(Bne,e);function EE(e){return e===null||typeof e!="object"}function Hx(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function KU(e){return!Ze(Event)&&function(t,r){try{return t instanceof r}catch{return!1}}(e,Event)}var Wne=[!0,"true",1,"1","yes"],NS=e=>qt(Wne,e),Vne=[!1,"false",0,"0","no"];function Di(e,t,r,n,s){return t>r&&(n.warn("min cannot be greater than max."),t=r),no(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+s),Di(s||r,t,r,n))}class Hne{constructor(t){this.t={},this.i=t.i,this.o=Di(t.bucketSize,0,100,t.h),this.m=Di(t.refillRate,0,this.o,t.h),this.S=Di(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,s=Math.floor(n/this.S);if(s>0){var a=s*this.m;t.tokens=Math.min(t.tokens+a,this.o),t.lastAccess=t.lastAccess+s*this.S}}consumeRateLimit(t){var r,n=Date.now(),s=String(t),a=this.t[s];return a?this.$(a,n):(a={tokens:this.o,lastAccess:n},this.t[s]=a),a.tokens===0||(a.tokens--,a.tokens===0&&((r=this.i)==null||r.call(this,t)),a.tokens===0)}stop(){this.t={}}}var Gv,Y$,CS,Kne=e=>e instanceof Error;function Gne(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return CS&&r.length===Y$||(Y$=r.length,CS=r.reduce((n,s)=>{Gv||(Gv={});var a=Gv[s];if(a)n[a[0]]=a[1];else for(var i=e(s),l=i.length-1;l>=0;l--){var c=i[l],u=c==null?void 0:c.filename,d=t[s];if(u&&d){n[u]=d,Gv[s]=[u,d];break}}return n},{})),CS}}class Yne{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},s=this.buildCoercingContext(n,r,0).apply(t),a=this.buildParsingContext(),i=this.parseStacktrace(s,a);return{$exception_list:this.convertToExceptionList(i,n),$exception_level:"error"}}modifyFrames(t){var r=this;return K$(function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&dr(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t})()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,s;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(s=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),pt({},t,{cause:n,stack:s})}applyChunkIds(t,r){return t.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return K$(function*(){var n=t;for(var s of r.modifiers)n=yield s(n);return n})()}convertToExceptionList(t,r){var n,s,a,i={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(s=r.handled)===null||s===void 0||s,synthetic:(a=t.synthetic)!==null&&a!==void 0&&a}};t.stack&&(i.stacktrace={type:"raw",frames:t.stack});var l=[i];return t.cause!=null&&l.push(...this.convertToExceptionList(t.cause,pt({},r,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:Gne(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var s=(a,i)=>{if(i<=4){var l=this.buildCoercingContext(t,r,i);return this.applyCoercers(a,l)}};return pt({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:a=>s(a,n),next:a=>s(a,n+1)})}}var rh="?";function NE(e,t,r,n,s){var a={platform:e,filename:t,function:r==="<anonymous>"?rh:r,in_app:!0};return Ze(n)||(a.lineno=n),Ze(s)||(a.colno=s),a}var GU=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:rh,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},Jne=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Xne=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Qne=/\((\S*)(?::(\d+))(?::(\d+))\)/,Zne=(e,t)=>{var r=Jne.exec(e);if(r){var[,n,s,a]=r;return NE(t,n,rh,+s,+a)}var i=Xne.exec(e);if(i){if(i[2]&&i[2].indexOf("eval")===0){var l=Qne.exec(i[2]);l&&(i[2]=l[1],i[3]=l[2],i[4]=l[3])}var[c,u]=GU(i[1]||rh,i[2]);return NE(t,u,c,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},ese=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tse=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rse=(e,t)=>{var r=ese.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=tse.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var s=r[3],a=r[1]||rh;return[a,s]=GU(a,s),NE(t,s,a,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},J$=/\(error: (.*)\)/,X$=50;function nse(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(s,a){a===void 0&&(a=0);for(var i=[],l=s.split(`
`),c=a;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var d=J$.test(u)?u.replace(J$,"$1"):u;if(!d.match(/\S*Error: /)){for(var f of r){var h=f(d,e);if(h){i.push(h);break}}if(i.length>=X$)break}}}return function(g){if(!g.length)return[];var v=Array.from(g);return v.reverse(),v.slice(0,X$).map(p=>{return pt({},p,{filename:p.filename||(y=v,y[y.length-1]||{}).filename,function:p.function||rh});var y})}(i)}}class sse{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=Nn(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return Hx(t,"DOMException")}isDOMError(t){return Hx(t,"DOMError")}}class ase{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}let ise=class{constructor(){}match(t){return Hx(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,s=r.apply(t.error);return s||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}};var ose=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class lse{match(t){return typeof t=="string"}coerce(t,r){var n,[s,a]=this.getInfos(t);return{type:s??"Error",value:a??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,s=t.match(ose);return s&&(r=s[1],n=s[2]),[r,n]}}var cse=["fatal","error","warning","log","info","debug"];function YU(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var s=r.slice(0,n).join(", ");if(!(s.length>t))return n===r.length||s.length<=t?s:s.slice(0,t)+"..."}return""}class use{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,s=this.getErrorPropertyFromObject(t);return s?r.apply(s):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return KU(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+YU(t)}isSeverityLevel(t){return Nn(t)&&!kE(t)&&cse.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(Kne(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class dse{match(t){return KU(t)}coerce(t,r){var n,s=t.constructor.name;return{type:s,value:s+" captured as exception with keys: "+YU(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class fse{match(t){return EE(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}let hse=class{match(t){return Hx(t,"PromiseRejectionEvent")}coerce(t,r){var n,s=this.getUnhandledRejectionReason(t);return EE(s)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(s)}getUnhandledRejectionReason(t){if(EE(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}};var JU=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(s){if(be&&(_o.DEBUG||kt.POSTHOG_DEBUG||r)&&!Ze(be.console)&&be.console){for(var a=("__rrweb_original__"in be.console[s])?be.console[s].__rrweb_original__:be.console[s],i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];a(e,...l)}},info:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("log",...a)},warn:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("warn",...a)},error:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n.k("error",...a)},critical:function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];console.error(e,...a)},uninitializedWarning:s=>{n.error("You must initialize PostHog before calling "+s)},createLogger:(s,a)=>JU(e+" "+s,a)};return n},at=JU("[PostHog.js]"),hn=at.createLogger,pse=hn("[ExternalScriptsLoader]"),Q$=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return pse.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=st==null?void 0:st.querySelectorAll("script");if(n){for(var s,a=function(){if(n[i].src===t){var c=n[i];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",u=>{c.__posthog_loading_callback_fired=!0,r(void 0,u)}),c.onerror=u=>r(u),{v:void 0})}},i=0;i<n.length;i++)if(s=a())return s.v}var l=()=>{if(!st)return r("document not found");var c=st.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=f=>{c.__posthog_loading_callback_fired=!0,r(void 0,f)},c.onerror=f=>r(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var u,d=st.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(c,d[0]):st.body.appendChild(c)};st!=null&&st.body?l():st==null||st.addEventListener("DOMContentLoaded",l)};kt.__PosthogExtensions__=kt.__PosthogExtensions__||{},kt.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var s=3e5;n=n+"&t="+Math.floor(Date.now()/s)*s}var a=e.requestRouter.endpointFor("assets",n);Q$(e,a,r)},kt.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);Q$(e,n,r)};var Kx={};function cc(e,t,r){if(dr(e)){if(q$&&e.forEach===q$)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,s=e.length;n<s;n++)if(n in e&&t.call(r,e[n],n)===Kx)return}}}function Nr(e,t,r){if(!cr(e)){if(dr(e))return cc(e,t,r);if(zne(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===Kx)return}else for(var s in e)if(HU.call(e,s)&&t.call(r,e[s],s)===Kx)return}}var cn=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return cc(r,function(s){for(var a in s)s[a]!==void 0&&(e[a]=s[a])}),e},Uh=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return cc(r,function(s){cc(s,function(a){e.push(a)})}),e};function lx(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var Z$=function(e){try{return e()}catch{return}},mse=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(s){at.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),at.critical(s)}}},aA=function(e){var t={};return Nr(e,function(r,n){(Nn(r)&&r.length>0||no(r))&&(t[n]=r)}),t};function gse(e,t){return r=e,n=a=>Nn(a)&&!wi(t)?a.slice(0,t):a,s=new Set,function a(i,l){return i!==Object(i)?n?n(i,l):i:s.has(i)?void 0:(s.add(i),dr(i)?(c=[],cc(i,u=>{c.push(a(u))})):(c={},Nr(i,(u,d)=>{s.has(u)||(c[d]=a(u,d))})),c);var c}(r);var r,n,s}var yse=["herokuapp.com","vercel.app","netlify.app"];function vse(e){var t=e==null?void 0:e.hostname;if(!Nn(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of yse)if(r===n)return!1;return!0}function XU(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function yn(e,t,r,n){var{capture:s=!1,passive:a=!0}=n??{};e==null||e.addEventListener(t,r,{capture:s,passive:a})}var QU="$people_distinct_id",ym="__alias",vm="__timers",eM="$autocapture_disabled_server_side",CE="$heatmaps_enabled_server_side",tM="$exception_capture_enabled_server_side",PE="$error_tracking_suppression_rules",rM="$error_tracking_capture_extension_exceptions",nM="$web_vitals_enabled_server_side",ZU="$dead_clicks_enabled_server_side",sM="$web_vitals_allowed_metrics",PS="$session_recording_remote_config",Gx="$sesid",e7="$session_is_sampled",af="$enabled_feature_flags",xm="$early_access_features",AE="$feature_flag_details",bm="$stored_person_properties",Xc="$stored_group_properties",TE="$surveys",Yv="$surveys_activated",Yx="$flag_call_reported",So="$user_state",OE="$client_session_props",RE="$capture_rate_limit",$E="$initial_campaign_params",ME="$initial_referrer_info",Jx="$initial_person_info",Xx="$epp",t7="__POSTHOG_TOOLBAR__",Ip="$posthog_cookieless",xse=[QU,ym,"__cmpns",vm,"$session_recording_enabled_server_side",CE,Gx,af,PE,So,xm,AE,Xc,bm,TE,Yx,OE,RE,$E,ME,Xx,Jx,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function aM(e){return e instanceof Element&&(e.id===t7||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function o1(e){return!!e&&e.nodeType===1}function uc(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function r7(e){return!!e&&e.nodeType===3}function n7(e){return!!e&&e.nodeType===11}function iA(e){return e?a1(e).split(/\s+/):[]}function iM(e){var t=be==null?void 0:be.location.href;return!!(t&&e&&e.some(r=>t.match(r)))}function Qx(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return iA(t)}function s7(e){return cr(e)?null:a1(e).split(/(\s+)/).filter(t=>jg(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Wy(e){var t="";return IE(e)&&!c7(e)&&e.childNodes&&e.childNodes.length&&Nr(e.childNodes,function(r){var n;r7(r)&&r.textContent&&(t+=(n=s7(r.textContent))!==null&&n!==void 0?n:"")}),a1(t)}function a7(e){return Ze(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var oA=["a","button","form","input","select","textarea","label"];function i7(e,t){if(Ze(t))return!0;var r,n=function(a){if(t.some(i=>a.matches(i)))return{v:!0}};for(var s of e)if(r=n(s))return r.v;return!1}function o7(e){var t=e.parentNode;return!(!t||!o1(t))&&t}var bse=["next","previous","prev",">","<"],oM=10,lM=[".ph-no-rageclick",".ph-no-capture"];function wse(e,t){if(!be||lA(e))return!1;var r,n,s;if(Lo(t)?(r=!!t&&lM,n=void 0):(r=(s=t==null?void 0:t.css_selector_ignorelist)!==null&&s!==void 0?s:lM,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:a}=l7(e,!1);return!function(i,l){if(i===!1||Ze(i))return!1;var c;if(i===!0)c=bse;else{if(!dr(i))return!1;if(i.length>oM)return at.error("[PostHog] content_ignorelist array cannot exceed "+oM+" items. Use css_selector_ignorelist for more complex matching."),!1;c=i.map(u=>u.toLowerCase())}return l.some(u=>{var{safeText:d,ariaLabel:f}=u;return c.some(h=>d.includes(h)||f.includes(h))})}(n,a.map(i=>{var l;return{safeText:Wy(i).toLowerCase(),ariaLabel:((l=i.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}}))&&!i7(a,r)}var lA=e=>!e||uc(e,"html")||!o1(e),l7=(e,t)=>{if(!be||lA(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],s=e;s.parentNode&&!uc(s,"body");)if(n7(s.parentNode))n.push(s.parentNode.host),s=s.parentNode.host;else{var a=o7(s);if(!a)break;if(t||oA.indexOf(a.tagName.toLowerCase())>-1)r=!0;else{var i=be.getComputedStyle(a);i&&i.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(a),s=a}return{parentIsUsefulElement:r,targetElementList:n}};function _se(e,t,r,n,s){var a,i,l,c;if(r===void 0&&(r=void 0),!be||lA(e)||(a=r)!=null&&a.url_allowlist&&!iM(r.url_allowlist)||(i=r)!=null&&i.url_ignorelist&&iM(r.url_ignorelist))return!1;if((l=r)!=null&&l.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(v=>t.type===v))return!1}var{parentIsUsefulElement:d,targetElementList:f}=l7(e,n);if(!function(v,p){var y=p==null?void 0:p.element_allowlist;if(Ze(y))return!0;var x,b=function(_){if(y.some(S=>_.tagName.toLowerCase()===S))return{v:!0}};for(var w of v)if(x=b(w))return x.v;return!1}(f,r)||!i7(f,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var h=be.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(s||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(t.type)>=0;default:return d?(s||["click"]).indexOf(t.type)>=0:(s||["click"]).indexOf(t.type)>=0&&(oA.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function IE(e){for(var t=e;t.parentNode&&!uc(t,"body");t=t.parentNode){var r=Qx(t);if(qt(r,"ph-sensitive")||qt(r,"ph-no-capture"))return!1}if(qt(Qx(e),"ph-include"))return!0;var n=e.type||"";if(Nn(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!(Nn(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function c7(e){return!!(uc(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||uc(e,"select")||uc(e,"textarea")||e.getAttribute("contenteditable")==="true")}var u7="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Sse=new RegExp("^(?:"+u7+")$"),jse=new RegExp(u7),d7="\\d{3}-?\\d{2}-?\\d{4}",kse=new RegExp("^("+d7+")$"),Ese=new RegExp("("+d7+")");function jg(e,t){return t===void 0&&(t=!0),!(cr(e)||Nn(e)&&(e=a1(e),(t?Sse:jse).test((e||"").replace(/[- ]/g,""))||(t?kse:Ese).test(e)))}function f7(e){var t=Wy(e);return jg(t=(t+" "+h7(e)).trim())?t:""}function h7(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Nr(e.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var s=Wy(r);t=(t+" "+s).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+h7(r)).trim())}catch(a){at.error("[AutoCapture]",a)}}),t}function Nse(e){return function(t){var r=t.map(n=>{var s,a,i="";if(n.tag_name&&(i+=n.tag_name),n.attr_class)for(var l of(n.attr_class.sort(),n.attr_class))i+="."+l.replace(/"/g,"");var c=pt({},n.text?{text:n.text}:{},{"nth-child":(s=n.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(a=n.nth_of_type)!==null&&a!==void 0?a:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return lx(c).sort((d,f)=>{var[h]=d,[g]=f;return h.localeCompare(g)}).forEach(d=>{var[f,h]=d;return u[cM(f.toString())]=cM(h.toString())}),i+=":",i+=lx(u).map(d=>{var[f,h]=d;return f+'="'+h+'"'}).join("")});return r.join(";")}(function(t){return t.map(r=>{var n,s,a={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(s=r.attr__href)==null?void 0:s.slice(0,2048),attr_class:Cse(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return lx(r).filter(i=>{var[l]=i;return l.indexOf("attr__")===0}).forEach(i=>{var[l,c]=i;return a.attributes[l]=c}),a})}(e))}function cM(e){return e.replace(/"|\\"/g,'\\"')}function Cse(e){var t=e.attr__class;return t?dr(t)?t:iA(t):void 0}let p7=class{constructor(t){this.disabled=t===!1;var r=Dn(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(t-s.x)+Math.abs(r-s.y)<this.thresholdPx&&n-s.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}};var AS="$copy_autocapture",Co=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),Zx=e=>{var t=st==null?void 0:st.createElement("a");return Ze(t)?null:(t.href=e,t)},Pse=function(e,t){var r,n;t===void 0&&(t="&");var s=[];return Nr(e,function(a,i){Ze(a)||Ze(i)||i==="undefined"||(r=encodeURIComponent((l=>l instanceof File)(a)?a.name:a.toString()),n=encodeURIComponent(i),s[s.length]=n+"="+r)}),s.join(t)},eb=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<n.length;s++){var a=n[s].split("=");if(a[0]===t){r=a;break}}if(!dr(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{at.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},Vy=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),s=n[0]||"",a=n[1],i=s.split("?"),l=i[1],c=i[0],u=(l||"").split("&"),d=[],f=0;f<u.length;f++){var h=u[f].split("=");dr(h)&&(t.includes(h[0])?d.push(h[0]+"="+r):d.push(u[f]))}var g=c;return l!=null&&(g+="?"+d.join("&")),a!=null&&(g+="#"+a),g},tb=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},uM=hn("[AutoCapture]");function TS(e,t){return t.length>e?t.slice(0,e)+"...":t}function Ase(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!o1(t));return t}function Tse(e,t,r,n){var s=e.tagName.toLowerCase(),a={tag_name:s};oA.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?a.$el_text=TS(1024,f7(e)):a.$el_text=TS(1024,Wy(e)));var i=Qx(e);i.length>0&&(a.classes=i.filter(function(d){return d!==""})),Nr(e.attributes,function(d){var f;if((!c7(e)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(n==null||!n.includes(d.name))&&!t&&jg(d.value)&&(f=d.name,!Nn(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=d.value;d.name==="class"&&(h=iA(h).join(" ")),a["attr__"+d.name]=TS(1024,h)}});for(var l=1,c=1,u=e;u=Ase(u);)l++,u.tagName===e.tagName&&c++;return a.nth_child=l,a.nth_of_type=c,a}function Ose(e,t){for(var r,n,{e:s,maskAllElementAttributes:a,maskAllText:i,elementAttributeIgnoreList:l,elementsChainAsString:c}=t,u=[e],d=e;d.parentNode&&!uc(d,"body");)n7(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,h=[],g={},v=!1,p=!1;if(Nr(u,_=>{var S=IE(_);_.tagName.toLowerCase()==="a"&&(v=_.getAttribute("href"),v=S&&v&&jg(v)&&v),qt(Qx(_),"ph-no-capture")&&(p=!0),h.push(Tse(_,a,i,l));var E=function(k){if(!IE(k))return{};var j={};return Nr(k.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var C=N.name.replace("data-ph-capture-attribute-",""),P=N.value;C&&P&&jg(P)&&(j[C]=P)}}),j}(_);cn(g,E)}),p)return{props:{},explicitNoCapture:p};if(i||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=f7(e):h[0].$el_text=Wy(e)),v){var y,x;h[0].attr__href=v;var b=(y=Zx(v))==null?void 0:y.host,w=be==null||(x=be.location)==null?void 0:x.host;b&&w&&b!==w&&(f=v)}return{props:cn({$event_type:s.type,$ce_version:1},c?{}:{$elements:h},{$elements_chain:Nse(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},f&&s.type==="click"?{$external_click_url:f}:{},g)}}class Rse{constructor(t){this.P=!1,this.T=null,this.C=!1,this.instance=t,this.rageclicks=new p7(t.config.rageclick),this.R=null}get I(){var t,r,n=Dn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map(s=>new RegExp(s)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(s=>new RegExp(s)),n}F(){if(this.isBrowserSupported()){if(be&&st){var t=n=>{n=n||(be==null?void 0:be.event);try{this.M(n)}catch(s){uM.error("Failed to capture event",s)}};if(yn(st,"submit",t,{capture:!0}),yn(st,"change",t,{capture:!0}),yn(st,"click",t,{capture:!0}),this.I.capture_copied_text){var r=n=>{n=n||(be==null?void 0:be.event),this.M(n,AS)};yn(st,"copy",r,{capture:!0}),yn(st,"cut",r,{capture:!0})}}}else uM.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.C=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[eM]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var r,n=[];return(r=this.R)==null||r.forEach(s=>{var a=st==null?void 0:st.querySelectorAll(s);a==null||a.forEach(i=>{t===i&&n.push(s)})}),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[eM],s=this.T;if(wi(s)&&!Lo(n)&&!this.instance.O())return!1;var a=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!a}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,s=a7(t);r7(s)&&(s=s.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&wse(s,this.instance.config.rageclick)&&this.M(t,"$rageclick");var a=r===AS;if(s&&_se(s,t,this.I,a,a?["copy","cut"]:void 0)){var{props:i,explicitNoCapture:l}=Ose(s,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.I.element_attribute_ignorelist,elementsChainAsString:this.C});if(l)return!1;var c=this.getElementSelectors(s);if(c&&c.length>0&&(i.$element_selectors=c),r===AS){var u,d=s7(be==null||(u=be.getSelection())==null?void 0:u.toString()),f=t.type||"clipboard";if(!d)return!1;i.$selected_content=d,i.$copy_type=f}return this.instance.capture(r,i),!0}}}isBrowserSupported(){return lc(st==null?void 0:st.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return no(e)&&isFinite(e)&&Math.floor(e)===e});var dM="0123456789abcdef";class rb{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,s){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||t<0||r<0||n<0||s<0||t>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=t/Math.pow(2,40),a[1]=t/Math.pow(2,32),a[2]=t/Math.pow(2,24),a[3]=t/Math.pow(2,16),a[4]=t/Math.pow(2,8),a[5]=t,a[6]=112|r>>>8,a[7]=r,a[8]=128|n>>>24,a[9]=n>>>16,a[10]=n>>>8,a[11]=n,a[12]=s>>>24,a[13]=s>>>16,a[14]=s>>>8,a[15]=s,new rb(a)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+dM.charAt(this.bytes[r]>>>4)+dM.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new rb(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class $se{constructor(){this.A=0,this.D=0,this.j=new Mse}generate(){var t=this.generateOrAbort();if(Ze(t)){this.A=0;var r=this.generateOrAbort();if(Ze(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return rb.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var fM,m7=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};be&&!Ze(be.crypto)&&crypto.getRandomValues&&(m7=e=>crypto.getRandomValues(e));class Mse{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(m7(this.N),this.U=0),this.N[this.U++]}}var Gl=()=>Ise().toString(),Ise=()=>(fM||(fM=new $se)).generate(),Lp="",Lse=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Dse(e,t){if(t){var r=function(s,a){if(a===void 0&&(a=st),Lp)return Lp;if(!a||["localhost","127.0.0.1"].includes(s))return"";for(var i=s.split("."),l=Math.min(i.length,8),c="dmn_chk_"+Gl();!Lp&&l--;){var u=i.slice(l).join("."),d=c+"=1;domain=."+u+";path=/";a.cookie=d+";max-age=3",a.cookie.includes(c)&&(a.cookie=d+";max-age=0",Lp=u)}return Lp}(e);if(!r){var n=(s=>{var a=s.match(Lse);return a?a[0]:""})(e);n!==r&&at.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var Ki={H:()=>!!st,B:function(e){at.error("cookieStore error: "+e)},q:function(e){if(st){try{for(var t=e+"=",r=st.cookie.split(";").filter(a=>a.length),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(Ki.q(e))||{}}catch{}return t},G:function(e,t,r,n,s){if(st)try{var a="",i="",l=Dse(st.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),a="; expires="+c.toUTCString()}s&&(i="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+a+"; SameSite=Lax; path=/"+l+i;return u.length>3686.4&&at.warn("cookieStore warning: large cookie, len="+u.length),st.cookie=u,u}catch{return}},V:function(e,t){if(st!=null&&st.cookie)try{Ki.G(e,"",-1,t)}catch{return}}},OS=null,Gr={H:function(){if(!wi(OS))return OS;var e=!0;if(Ze(be))e=!1;else try{var t="__mplssupport__";Gr.G(t,"xyz"),Gr.q(t)!=='"xyz"'&&(e=!1),Gr.V(t)}catch{e=!1}return e||at.error("localStorage unsupported; falling back to cookie store"),OS=e,e},B:function(e){at.error("localStorage error: "+e)},q:function(e){try{return be==null?void 0:be.localStorage.getItem(e)}catch(t){Gr.B(t)}return null},W:function(e){try{return JSON.parse(Gr.q(e))||{}}catch{}return null},G:function(e,t){try{be==null||be.localStorage.setItem(e,JSON.stringify(t))}catch(r){Gr.B(r)}},V:function(e){try{be==null||be.localStorage.removeItem(e)}catch(t){Gr.B(t)}}},Fse=["distinct_id",Gx,e7,Xx,Jx],Jv=pt({},Gr,{W:function(e){try{var t={};try{t=Ki.W(e)||{}}catch{}var r=cn(t,JSON.parse(Gr.q(e)||"{}"));return Gr.G(e,r),r}catch{}return null},G:function(e,t,r,n,s,a){try{Gr.G(e,t,void 0,void 0,a);var i={};Fse.forEach(l=>{t[l]&&(i[l]=t[l])}),Object.keys(i).length&&Ki.G(e,i,r,n,s,a)}catch(l){Gr.B(l)}},V:function(e,t){try{be==null||be.localStorage.removeItem(e),Ki.V(e,t)}catch(r){Gr.B(r)}}}),Xv={},Bse={H:function(){return!0},B:function(e){at.error("memoryStorage error: "+e)},q:function(e){return Xv[e]||null},W:function(e){return Xv[e]||null},G:function(e,t){Xv[e]=t},V:function(e){delete Xv[e]}},zc=null,Hn={H:function(){if(!wi(zc))return zc;if(zc=!0,Ze(be))zc=!1;else try{var e="__support__";Hn.G(e,"xyz"),Hn.q(e)!=='"xyz"'&&(zc=!1),Hn.V(e)}catch{zc=!1}return zc},B:function(e){at.error("sessionStorage error: ",e)},q:function(e){try{return be==null?void 0:be.sessionStorage.getItem(e)}catch(t){Hn.B(t)}return null},W:function(e){try{return JSON.parse(Hn.q(e))||null}catch{}return null},G:function(e,t){try{be==null||be.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){Hn.B(r)}},V:function(e){try{be==null||be.sessionStorage.removeItem(e)}catch(t){Hn.B(t)}}},jo=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class Use{constructor(t){this._instance=t}get I(){return this._instance.config}get consent(){return this.J()?jo.DENIED:this.K}isOptedOut(){return this.I.cookieless_mode==="always"||this.consent===jo.DENIED||this.consent===jo.PENDING&&(this.I.opt_out_capturing_by_default||this.I.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===jo.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.I.cookie_expiration,this.I.cross_subdomain_cookie,this.I.secure_cookie)}reset(){this.Y.V(this.X,this.I.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return NS(t)?jo.GRANTED:qt(Vne,t)?jo.DENIED:jo.PENDING}get Y(){if(!this.Z){var t=this.I.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?Gr:Ki;var r=t==="localStorage"?Ki:Gr;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(NS(r.q(this.X))),r.V(this.X,this.I.cross_subdomain_cookie))}return this.Z}J(){return!!this.I.respect_dnt&&!!XU([ca==null?void 0:ca.doNotTrack,ca==null?void 0:ca.msDoNotTrack,kt.doNotTrack],t=>NS(t))}}var Qv=hn("[Dead Clicks]"),zse=()=>!0,qse=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property(ZU)),n=e.instance.config.capture_dead_clicks;return Lo(n)?n:!!Dn(n)||r};class g7{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[ZU]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it(()=>{this.et()})}it(t){var r,n;(r=kt.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=kt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?Qv.error("failed to load script",s):t()})}et(){var t;if(st){if(!this.tt&&(t=kt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=Dn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=kt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(st),Qv.info("starting...")}}else Qv.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,Qv.info("stopping..."))}}var Dp=hn("[ExceptionAutocapture]");class Wse{constructor(t){var r,n,s;this.rt=()=>{var a;if(be&&this.isEnabled&&(a=kt.__PosthogExtensions__)!=null&&a.errorWrappingFunctions){var i=kt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=kt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=kt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.I.capture_unhandled_errors&&(this.st=i(this.captureException.bind(this))),!this.nt&&this.I.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.I.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){Dp.error("failed to start",u),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[tM]),this.I=this.ht(),this.dt=new Hne({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&s!==void 0?s:10,refillInterval:1e4,h:Dp}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Dn(t)?r=pt({},r,t):(Ze(t)?this.ut:t)&&(r=pt({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.I.capture_console_errors||this.I.capture_unhandled_errors||this.I.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Dp.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=kt.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=kt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",s=>{if(s)return Dp.error("failed to load script",s);t()})}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.I=this.ht(),this._instance.persistence&&this._instance.persistence.register({[tM]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,s=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.dt.consumeRateLimit(s)?Dp.info("Skipping exception capture because of client rate limiting.",{exception:s}):this._instance.exceptions.sendExceptionEvent(t)}}function hM(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],s=r(n);return lc(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}class Vse{constructor(t){var r;this._instance=t,this.vt=(be==null||(r=be.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(at.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,at.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(be&&be.history){var n=this;(t=be.history.pushState)!=null&&t.__posthog_wrapped__||hM(be.history,"pushState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("pushState")}),(r=be.history.replaceState)!=null&&r.__posthog_wrapped__||hM(be.history,"replaceState",s=>function(a,i,l){s.call(this,a,i,l),n.ft("replaceState")}),this.gt()}}ft(t){try{var r,n=be==null||(r=be.location)==null?void 0:r.pathname;if(!n)return;n!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.vt=n}catch(s){at.error("Error capturing "+t+" pageview",s)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};yn(be,"popstate",t),this.ct=()=>{be&&be.removeEventListener("popstate",t)}}}}var RS=hn("[SegmentIntegration]");function Hse(e,t){var r=e.config.segment;if(!r)return t();(function(n,s){var a=n.config.segment;if(!a)return s();var i=c=>{var u=()=>c.anonymousId()||Gl();n.config.get_device_id=u,c.id()&&(n.register({distinct_id:c.id(),$device_id:u()}),n.persistence.set_property(So,"identified")),s()},l=a.user();"then"in l&&lc(l.then)?l.then(c=>i(c)):i(l)})(e,()=>{r.register((n=>{Promise&&Promise.resolve||RS.warn("This browser does not have Promise support, and can not use the segment integration");var s=(a,i)=>{if(!i)return a;a.event.userId||a.event.anonymousId===n.get_distinct_id()||(RS.info("No userId set, resetting PostHog"),n.reset()),a.event.userId&&a.event.userId!==n.get_distinct_id()&&(RS.info("UserId set, identifying with PostHog"),n.identify(a.event.userId));var l=n.calculateEventProperties(i,a.event.properties);return a.event.properties=Object.assign({},l,a.event.properties),a};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>s(a,a.event.event),page:a=>s(a,"$pageview"),identify:a=>s(a,"$identify"),screen:a=>s(a,"$screen")}})(e)).then(()=>{t()})})}var y7="posthog-js";function v7(e,t){var{organization:r,projectId:n,prefix:s,severityAllowList:a=["error"],sendExceptionsToPostHog:i=!0}=t===void 0?{}:t;return l=>{var c,u,d,f,h;if(!(a==="*"||a.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var v=((c=l.exception)==null?void 0:c.values)||[],p=v.map(x=>pt({},x,{stacktrace:x.stacktrace?pt({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map(b=>pt({},b,{platform:"web:javascript"}))}):void 0})),y={$exception_message:((u=v[0])==null?void 0:u.value)||l.message,$exception_type:(d=v[0])==null?void 0:d.type,$exception_level:l.level,$exception_list:p,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=v[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(h=v[0])==null?void 0:h.type,$sentry_tags:l.tags};return r&&n&&(y.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+l.event_id),i&&e.exceptions.sendExceptionEvent(y),l}}class Kse{constructor(t,r,n,s,a,i){this.name=y7,this.setupOnce=function(l){l(v7(t,{organization:r,projectId:n,prefix:s,severityAllowList:a,sendExceptionsToPostHog:i==null||i}))}}}var Gse=be!=null&&be.location?tb(be.location.hash,"__posthog")||tb(location.hash,"state"):null,pM="_postHogToolbarParams",mM=hn("[Toolbar]"),bl=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(bl||{});class Yse{constructor(t){this.instance=t}_t(t){kt.ph_toolbar_state=t}yt(){var t;return(t=kt.ph_toolbar_state)!==null&&t!==void 0?t:bl.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!be||!st)return!1;t=t??be.location,n=n??be.history;try{if(!r){try{be.localStorage.setItem("test","test"),be.localStorage.removeItem("test")}catch{return!1}r=be==null?void 0:be.localStorage}var s,a=Gse||tb(t.hash,"__posthog")||tb(t.hash,"state"),i=a?Z$(()=>JSON.parse(atob(decodeURIComponent(a))))||Z$(()=>JSON.parse(decodeURIComponent(a))):null;return i&&i.action==="ph_authorize"?((s=i).source="url",s&&Object.keys(s).length>0&&(i.desiredHash?t.hash=i.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((s=JSON.parse(r.getItem(pM)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}bt(t){var r=kt.ph_load_toolbar||kt.ph_load_editor;!cr(r)&&lc(r)?r(t,this.instance):mM.warn("No toolbar load function found")}loadToolbar(t){var r=!(st==null||!st.getElementById(t7));if(!be||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=pt({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(be.localStorage.setItem(pM,JSON.stringify(pt({},s,{source:void 0}))),this.yt()===bl.LOADED)this.bt(s);else if(this.yt()===bl.UNINITIALIZED){var a;this._t(bl.LOADING),(a=kt.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"toolbar",i=>{if(i)return mM.error("[Toolbar] Failed to load",i),void this._t(bl.UNINITIALIZED);this._t(bl.LOADED),this.bt(s)}),yn(be,"turbolinks:load",()=>{this._t(bl.UNINITIALIZED),this.loadToolbar(s)})}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var Jse=hn("[TracingHeaders]");class Xse{constructor(t){this.xt=void 0,this.Et=void 0,this.rt=()=>{var r,n;Ze(this.xt)&&((r=kt.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Ze(this.Et)&&((n=kt.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=kt.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=kt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",s=>{if(s)return Jse.error("failed to load script",s);t()})}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.Et)==null||r.call(this),this.xt=void 0,this.Et=void 0)}}var Ia="Mobile",nb="iOS",Fi="Android",kg="Tablet",x7=Fi+" "+kg,b7="iPad",w7="Apple",_7=w7+" Watch",Eg="Safari",nh="BlackBerry",S7="Samsung",j7=S7+"Browser",k7=S7+" Internet",qu="Chrome",Qse=qu+" OS",E7=qu+" "+nb,cA="Internet Explorer",N7=cA+" "+Ia,uA="Opera",Zse=uA+" Mini",dA="Edge",C7="Microsoft "+dA,bf="Firefox",P7=bf+" "+nb,Ng="Nintendo",Cg="PlayStation",wf="Xbox",A7=Fi+" "+Ia,T7=Ia+" "+Eg,wm="Windows",LE=wm+" Phone",gM="Nokia",DE="Ouya",O7="Generic",eae=O7+" "+Ia.toLowerCase(),R7=O7+" "+kg.toLowerCase(),FE="Konqueror",gs="(\\d+(\\.\\d+)?)",$S=new RegExp("Version/"+gs),tae=new RegExp(wf,"i"),rae=new RegExp(Cg+" \\w+","i"),nae=new RegExp(Ng+" \\w+","i"),fA=new RegExp(nh+"|PlayBook|BB10","i"),sae={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},aae=(e,t)=>t&&qt(t,w7)||function(r){return qt(r,Eg)&&!qt(r,qu)&&!qt(r,Fi)}(e),$7=function(e,t){return t=t||"",qt(e," OPR/")&&qt(e,"Mini")?Zse:qt(e," OPR/")?uA:fA.test(e)?nh:qt(e,"IE"+Ia)||qt(e,"WPDesktop")?N7:qt(e,j7)?k7:qt(e,dA)||qt(e,"Edg/")?C7:qt(e,"FBIOS")?"Facebook "+Ia:qt(e,"UCWEB")||qt(e,"UCBrowser")?"UC Browser":qt(e,"CriOS")?E7:qt(e,"CrMo")||qt(e,qu)?qu:qt(e,Fi)&&qt(e,Eg)?A7:qt(e,"FxiOS")?P7:qt(e.toLowerCase(),FE.toLowerCase())?FE:aae(e,t)?qt(e,Ia)?T7:Eg:qt(e,bf)?bf:qt(e,"MSIE")||qt(e,"Trident/")?cA:qt(e,"Gecko")?bf:""},iae={[N7]:[new RegExp("rv:"+gs)],[C7]:[new RegExp(dA+"?\\/"+gs)],[qu]:[new RegExp("("+qu+"|CrMo)\\/"+gs)],[E7]:[new RegExp("CriOS\\/"+gs)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+gs)],[Eg]:[$S],[T7]:[$S],[uA]:[new RegExp("(Opera|OPR)\\/"+gs)],[bf]:[new RegExp(bf+"\\/"+gs)],[P7]:[new RegExp("FxiOS\\/"+gs)],[FE]:[new RegExp("Konqueror[:/]?"+gs,"i")],[nh]:[new RegExp(nh+" "+gs),$S],[A7]:[new RegExp("android\\s"+gs,"i")],[k7]:[new RegExp(j7+"\\/"+gs)],[cA]:[new RegExp("(rv:|MSIE )"+gs)],Mozilla:[new RegExp("rv:"+gs)]},oae=function(e,t){var r=$7(e,t),n=iae[r];if(Ze(n))return null;for(var s=0;s<n.length;s++){var a=n[s],i=e.match(a);if(i)return parseFloat(i[i.length-2])}return null},yM=[[new RegExp(wf+"; "+wf+" (.*?)[);]","i"),e=>[wf,e&&e[1]||""]],[new RegExp(Ng,"i"),[Ng,""]],[new RegExp(Cg,"i"),[Cg,""]],[fA,[nh,""]],[new RegExp(wm,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[LE,""];if(new RegExp(Ia).test(t)&&!/IEMobile\b/.test(t))return[wm+" "+Ia,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],s=sae[n]||"";return/arm/i.test(t)&&(s="RT"),[wm,s]}return[wm,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[nb,t.join(".")]}return[nb,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Ze(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Fi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Fi+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Fi,t.join(".")]}return[Fi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Qse,""]],[/Linux|debian/i,["Linux",""]]],vM=function(e){return nae.test(e)?Ng:rae.test(e)?Cg:tae.test(e)?wf:new RegExp(DE,"i").test(e)?DE:new RegExp("("+LE+"|WPDesktop)","i").test(e)?LE:/iPad/.test(e)?b7:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?_7:fA.test(e)?nh:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(gM,"i").test(e)?gM:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Ia).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Fi:x7:Fi:new RegExp("(pda|"+Ia+")","i").test(e)?eae:new RegExp(kg,"i").test(e)&&!new RegExp(kg+" pc","i").test(e)?R7:""},Zv="https?://(.*)",zh=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],lae=Uh(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],zh),Hy="<masked>",cae=["li_fat_id"];function M7(e,t,r){if(!st)return{};var n,s=t?Uh([],zh,r||[]):[],a=I7(Vy(st.URL,s,Hy),e),i=(n={},Nr(cae,function(l){var c=Ki.q(l);n[l]=c||null}),n);return cn(i,a)}function I7(e,t){var r=lae.concat(t||[]),n={};return Nr(r,function(s){var a=eb(e,s);n[s]=a||null}),n}function L7(e){var t=function(a){return a?a.search(Zv+"google.([^/?]*)")===0?"google":a.search(Zv+"bing.com")===0?"bing":a.search(Zv+"yahoo.com")===0?"yahoo":a.search(Zv+"duckduckgo.com")===0?"duckduckgo":null:null}(e),r=t!="yahoo"?"q":"p",n={};if(!wi(t)){n.$search_engine=t;var s=st?eb(st.referrer,r):"";s.length&&(n.ph_keyword=s)}return n}function xM(){return navigator.language||navigator.userLanguage}function D7(){return(st==null?void 0:st.referrer)||"$direct"}function F7(e,t){var r=e?Uh([],zh,t||[]):[],n=Is==null?void 0:Is.href.substring(0,1e3);return{r:D7().substring(0,1e3),u:n?Vy(n,r,Hy):void 0}}function B7(e){var t,{r,u:n}=e,s={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=Zx(r))==null?void 0:t.host};if(n){s.$current_url=n;var a=Zx(n);s.$host=a==null?void 0:a.host,s.$pathname=a==null?void 0:a.pathname;var i=I7(n);cn(s,i)}if(r){var l=L7(r);cn(s,l)}return s}function U7(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function uae(){try{return new Date().getTimezoneOffset()}catch{return}}function dae(e,t){if(!Rs)return{};var r,n,s,a=e?Uh([],zh,t||[]):[],[i,l]=function(c){for(var u=0;u<yM.length;u++){var[d,f]=yM[u],h=d.exec(c),g=h&&(lc(f)?f(h,c):f);if(g)return g}return["",""]}(Rs);return cn(aA({$os:i,$os_version:l,$browser:$7(Rs,navigator.vendor),$device:vM(Rs),$device_type:(n=Rs,s=vM(n),s===b7||s===x7||s==="Kobo"||s==="Kindle Fire"||s===R7?kg:s===Ng||s===wf||s===Cg||s===DE?"Console":s===_7?"Wearable":s?Ia:"Desktop"),$timezone:U7(),$timezone_offset:uae()}),{$current_url:Vy(Is==null?void 0:Is.href,a,Hy),$host:Is==null?void 0:Is.host,$pathname:Is==null?void 0:Is.pathname,$raw_user_agent:Rs.length>1e3?Rs.substring(0,997)+"...":Rs,$browser_version:oae(Rs,navigator.vendor),$browser_language:xM(),$browser_language_prefix:(r=xM(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:be==null?void 0:be.screen.height,$screen_width:be==null?void 0:be.screen.width,$viewport_height:be==null?void 0:be.innerHeight,$viewport_width:be==null?void 0:be.innerWidth,$lib:"web",$lib_version:_o.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ml=hn("[Web Vitals]"),bM=9e5;class fae{constructor(t){var r;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce((n,s)=>pt({},n,{["$web_vitals_"+s.name+"_event"]:pt({},s),["$web_vitals_"+s.name+"_value"]:s.value}),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var s,a=(s=this._instance.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0);if(Ze(a))ml.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var i=this.Tt();Ze(i)||(cr(n==null?void 0:n.name)||cr(n==null?void 0:n.value)?ml.error("Invalid metric received",n):this.Ct&&n.value>=this.Ct?ml.error("Ignoring metric with value >= "+this.Ct,n):(this.N.url!==i&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),Ze(this.N.url)&&(this.N.url=i),this.N.firstMetricTimestamp=Ze(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(pt({},n,{$current_url:i,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,s,a,i,l=kt.__PosthogExtensions__;Ze(l)||Ze(l.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:s,onFCP:a,onINP:i}=l.postHogWebVitalsCallbacks),n&&s&&a&&i?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this.Pt.bind(this)),this.P=!0):ml.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.St=!((r=this._instance.persistence)==null||!r.props[nM]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=Dn(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Ze(n)?((r=this._instance.persistence)==null?void 0:r.props[sM])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(Dn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ct(){var t=Dn(this._instance.config.capture_performance)&&no(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:bM;return 0<t&&t<=6e4?bM:t}get isEnabled(){var t=Is==null?void 0:Is.protocol;if(t!=="http:"&&t!=="https:")return ml.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=Dn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Lo(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Lo(r)?r:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(ml.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=Dn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=Dn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[nM]:r}),this._instance.persistence.register({[sM]:n})),this.St=r,this.startIfEnabled()}it(t){var r,n;(r=kt.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=kt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",s=>{s?ml.error("failed to load script",s):t()})}Tt(){var t=be?be.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,s=r?Uh([],zh,n||[]):[];return Vy(t,s,Hy)}ml.error("Could not determine current URL")}}var hae=hn("[Heatmaps]");function wM(e){return Dn(e)&&"clientX"in e&&"clientY"in e&&no(e.clientX)&&no(e.clientY)}class pae{constructor(t){var r;this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!((r=this.instance.persistence)==null||!r.props[CE]),this.rageclicks=new p7(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return Dn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Ze(this.instance.config.capture_heatmaps)?Ze(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;hae.info("starting..."),this.It(),this.Ft()}else{var t;clearInterval((t=this.Rt)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[CE]:r}),this.St=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ft(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(st)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}It(){be&&st&&(this.jt=this.Dt.bind(this),yn(be,"beforeunload",this.jt),this.Lt=t=>this.At(t||(be==null?void 0:be.event)),yn(st,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(be==null?void 0:be.event)),yn(st,"mousemove",this.Nt,{capture:!0}),this.zt=new g7(this.instance,zse,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ft.bind(this),yn(st,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;be&&st&&(this.jt&&be.removeEventListener("beforeunload",this.jt),this.Lt&&st.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&st.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&st.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),a=this.instance.scrollManager.scrollElement(),i=function(l,c,u){for(var d=l;d&&o1(d)&&!uc(d,"body");){if(d===u)return!1;if(qt(c,be==null?void 0:be.getComputedStyle(d).position))return!0;d=o7(d)}return!1}(a7(t),["fixed","sticky"],a);return{x:t.clientX+(i?0:s),y:t.clientY+(i?0:n),target_fixed:i,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!aM(t.target)&&wM(t)){var s=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(pt({},s,{type:"rageclick"})),this.Wt(s)}}Ut(t){!aM(t.target)&&wM(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout(()=>{this.Wt(this.qt(t,"mousemove"))},500))}Wt(t){if(be){var r=be.location.href,n=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,a=n?Uh([],zh,s||[]):[],i=Vy(r,a,Hy);this.N=this.N||{},this.N[i]||(this.N[i]=[]),this.N[i].push(t)}}Dt(){this.N&&!sf(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class mae{constructor(t){this._instance=t}doPageView(t,r){var n,s=this.Gt(t,r);return this.Vt={pathname:(n=be==null?void 0:be.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var s={$pageview_id:r,$prev_pageview_id:n.pageViewId},a=this._instance.scrollManager.getContext();if(a&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:i,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:d,maxContentY:f}=a;if(!(Ze(i)||Ze(l)||Ze(c)||Ze(u)||Ze(d)||Ze(f))){i=Math.ceil(i),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var h=i<=1?1:Di(l/i,0,1,at),g=i<=1?1:Di(c/i,0,1,at),v=u<=1?1:Di(d/u,0,1,at),p=u<=1?1:Di(f/u,0,1,at);s=cn(s,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:p})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),s}}var La=Uint8Array,zs=Uint16Array,sh=Uint32Array,hA=new La([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pA=new La([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_M=new La([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z7=function(e,t){for(var r=new zs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new sh(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return[r,s]},q7=z7(hA,2),gae=q7[0],BE=q7[1];gae[28]=258,BE[258]=28;for(var SM=z7(pA,0)[1],W7=new zs(32768),Ir=0;Ir<32768;++Ir){var qc=(43690&Ir)>>>1|(21845&Ir)<<1;qc=(61680&(qc=(52428&qc)>>>2|(13107&qc)<<2))>>>4|(3855&qc)<<4,W7[Ir]=((65280&qc)>>>8|(255&qc)<<8)>>>1}var Um=function(e,t,r){for(var n=e.length,s=0,a=new zs(t);s<n;++s)++a[e[s]-1];var i,l=new zs(t);for(s=0;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;for(i=new zs(n),s=0;s<n;++s)i[s]=W7[l[e[s]-1]++]>>>15-e[s];return i},Wu=new La(288);for(Ir=0;Ir<144;++Ir)Wu[Ir]=8;for(Ir=144;Ir<256;++Ir)Wu[Ir]=9;for(Ir=256;Ir<280;++Ir)Wu[Ir]=7;for(Ir=280;Ir<288;++Ir)Wu[Ir]=8;var sb=new La(32);for(Ir=0;Ir<32;++Ir)sb[Ir]=5;var yae=Um(Wu,9),vae=Um(sb,5),V7=function(e){return(e/8>>0)+(7&e&&1)},H7=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof zs?zs:e instanceof sh?sh:La)(r-t);return n.set(e.subarray(t,r)),n},po=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Fp=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},MS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return[new La(0),0];if(s==1){var i=new La(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(S,E){return S.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};var h=a[0].s;for(n=1;n<s;++n)a[n].s>h&&(h=a[n].s);var g=new zs(h+1),v=UE(r[d-1],g,0);if(v>t){n=0;var p=0,y=v-t,x=1<<y;for(a.sort(function(S,E){return g[E.s]-g[S.s]||S.f-E.f});n<s;++n){var b=a[n].s;if(!(g[b]>t))break;p+=x-(1<<v-g[b]),g[b]=t}for(p>>>=y;p>0;){var w=a[n].s;g[w]<t?p-=1<<t-g[w]++-1:++n}for(;n>=0&&p;--n){var _=a[n].s;g[_]==t&&(--g[_],++p)}v=t}return[new La(g),v]},UE=function(e,t,r){return e.s==-1?Math.max(UE(e.l,t,r+1),UE(e.r,t,r+1)):t[e.s]=r},jM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new zs(++t),n=0,s=e[0],a=1,i=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[l]}return[r.subarray(0,n),t]},Bp=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},zE=function(e,t,r){var n=r.length,s=V7(t+2);e[s]=255&n,e[s+1]=n>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<n;++a)e[s+a+4]=r[a];return 8*(s+4+n)},kM=function(e,t,r,n,s,a,i,l,c,u,d){po(t,d++,r),++s[256];for(var f=MS(s,15),h=f[0],g=f[1],v=MS(a,15),p=v[0],y=v[1],x=jM(h),b=x[0],w=x[1],_=jM(p),S=_[0],E=_[1],k=new zs(19),j=0;j<b.length;++j)k[31&b[j]]++;for(j=0;j<S.length;++j)k[31&S[j]]++;for(var N=MS(k,7),C=N[0],P=N[1],O=19;O>4&&!C[_M[O-1]];--O);var F,M,q,B,I=u+5<<3,A=Bp(s,Wu)+Bp(a,sb)+i,z=Bp(s,h)+Bp(a,p)+i+14+3*O+Bp(k,C)+(2*k[16]+3*k[17]+7*k[18]);if(I<=A&&I<=z)return zE(t,d,e.subarray(c,c+u));if(po(t,d,1+(z<A)),d+=2,z<A){F=Um(h,g),M=h,q=Um(p,y),B=p;var re=Um(C,P);for(po(t,d,w-257),po(t,d+5,E-1),po(t,d+10,O-4),d+=14,j=0;j<O;++j)po(t,d+3*j,C[_M[j]]);d+=3*O;for(var V=[b,S],te=0;te<2;++te){var X=V[te];for(j=0;j<X.length;++j){var ye=31&X[j];po(t,d,re[ye]),d+=C[ye],ye>15&&(po(t,d,X[j]>>>5&127),d+=X[j]>>>12)}}}else F=yae,M=Wu,q=vae,B=sb;for(j=0;j<l;++j)if(n[j]>255){ye=n[j]>>>18&31,Fp(t,d,F[ye+257]),d+=M[ye+257],ye>7&&(po(t,d,n[j]>>>23&31),d+=hA[ye]);var oe=31&n[j];Fp(t,d,q[oe]),d+=B[oe],oe>3&&(Fp(t,d,n[j]>>>5&8191),d+=pA[oe])}else Fp(t,d,F[n[j]]),d+=M[n[j]];return Fp(t,d,F[256]),d+M[256]},xae=new sh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bae=function(){for(var e=new sh(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),wae=function(e,t,r,n,s){return function(a,i,l,c,u,d){var f=a.length,h=new La(c+f+5*(1+Math.floor(f/7e3))+u),g=h.subarray(c,h.length-u),v=0;if(!i||f<8)for(var p=0;p<=f;p+=65535){var y=p+65535;y<f?v=zE(g,v,a.subarray(p,y)):(g[p]=d,v=zE(g,v,a.subarray(p,f)))}else{for(var x=xae[i-1],b=x>>>13,w=8191&x,_=(1<<l)-1,S=new zs(32768),E=new zs(_+1),k=Math.ceil(l/3),j=2*k,N=function(xe){return(a[xe]^a[xe+1]<<k^a[xe+2]<<j)&_},C=new sh(25e3),P=new zs(288),O=new zs(32),F=0,M=0,q=(p=0,0),B=0,I=0;p<f;++p){var A=N(p),z=32767&p,re=E[A];if(S[z]=re,E[A]=z,B<=p){var V=f-p;if((F>7e3||q>24576)&&V>423){v=kM(a,g,0,C,P,O,M,q,I,p-I,v),q=F=M=0,I=p;for(var te=0;te<286;++te)P[te]=0;for(te=0;te<30;++te)O[te]=0}var X=2,ye=0,oe=w,me=z-re&32767;if(V>2&&A==N(p-me))for(var D=Math.min(b,V)-1,$=Math.min(32767,p),H=Math.min(258,V);me<=$&&--oe&&z!=re;){if(a[p+X]==a[p+X-me]){for(var G=0;G<H&&a[p+G]==a[p+G-me];++G);if(G>X){if(X=G,ye=me,G>D)break;var le=Math.min(me,G-2),J=0;for(te=0;te<le;++te){var Z=p-me+te+32768&32767,K=Z-S[Z]+32768&32767;K>J&&(J=K,re=Z)}}}me+=(z=re)-(re=S[z])+32768&32767}if(ye){C[q++]=268435456|BE[X]<<18|SM[ye];var de=31&BE[X],ae=31&SM[ye];M+=hA[de]+pA[ae],++P[257+de],++O[ae],B=p+X,++F}else C[q++]=a[p],++P[a[p]]}}v=kM(a,g,d,C,P,O,M,q,I,p-I,v)}return H7(h,0,c+V7(v)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},IS=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function _ae(e,t){t===void 0&&(t={});var r=function(){var l=4294967295;return{p:function(c){for(var u=l,d=0;d<c.length;++d)u=bae[255&u^c[d]]^u>>>8;l=u},d:function(){return 4294967295^l}}}(),n=e.length;r.p(e);var s,a=wae(e,t,10+((s=t).filename&&s.filename.length+1||0),8),i=a.length;return function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&IS(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var d=0;d<=u.length;++d)l[d+10]=u.charCodeAt(d)}}(a,t),IS(a,i-8,r.d()),IS(a,i-4,n),a}var Sae=function(e){var t,r,n,s,a="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var i=e.charCodeAt(s),l=null;i<128?r++:l=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),wi(l)||(r>t&&(a+=e.substring(t,r)),a+=l,t=r=s+1)}return r>t&&(a+=e.substring(t,e.length)),a},jae=!!SE||!!_E,EM="text/plain",ab=function(e,t,r){var n;r===void 0&&(r=!0);var[s,a]=e.split("?"),i=pt({},t),l=(n=a==null?void 0:a.split("&").map(u=>{var d,[f,h]=u.split("="),g=r&&(d=i[f])!==null&&d!==void 0?d:h;return delete i[f],f+"="+g}))!==null&&n!==void 0?n:[],c=Pse(i);return c&&l.push(c),s+"?"+l.join("&")},_m=(e,t)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,t),LS=e=>{var{data:t,compression:r}=e;if(t){if(r===Co.GZipJS){var n=_ae(function(c,u){var d=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new La(c.length+(c.length>>>1)),h=0,g=function(x){f[h++]=x},v=0;v<d;++v){if(h+5>f.length){var p=new La(h+8+(d-v<<1));p.set(f),f=p}var y=c.charCodeAt(v);y<128||u?g(y):y<2048?(g(192|y>>>6),g(128|63&y)):y>55295&&y<57344?(g(240|(y=65536+(1047552&y)|1023&c.charCodeAt(++v))>>>18),g(128|y>>>12&63),g(128|y>>>6&63),g(128|63&y)):(g(224|y>>>12),g(128|y>>>6&63),g(128|63&y))}return H7(f,0,h)}(_m(t)),{mtime:0}),s=new Blob([n],{type:EM});return{contentType:EM,body:s,estimatedSize:s.size}}if(r===Co.Base64){var a=function(c){var u,d,f,h,g,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,y=0,x="",b=[];if(!c)return c;c=Sae(c);do u=(g=c.charCodeAt(p++)<<16|c.charCodeAt(p++)<<8|c.charCodeAt(p++))>>18&63,d=g>>12&63,f=g>>6&63,h=63&g,b[y++]=v.charAt(u)+v.charAt(d)+v.charAt(f)+v.charAt(h);while(p<c.length);switch(x=b.join(""),c.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x}(_m(t)),i=(c=>"data="+encodeURIComponent(typeof c=="string"?c:_m(c)))(a);return{contentType:"application/x-www-form-urlencoded",body:i,estimatedSize:new Blob([i]).size}}var l=_m(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},cx=[];_E&&cx.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:s,estimatedSize:a}=(t=LS(e))!==null&&t!==void 0?t:{},i=new Headers;Nr(e.headers,function(d,f){i.append(f,d)}),n&&i.append("Content-Type",n);var l=e.url,c=null;if(V$){var u=new V$;c={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}_E(l,pt({method:(e==null?void 0:e.method)||"GET",headers:i,keepalive:e.method==="POST"&&(a||0)<52428.8,body:s,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then(d=>d.text().then(f=>{var h={statusCode:d.status,text:f};if(d.status===200)try{h.json=JSON.parse(f)}catch(g){at.error(g)}e.callback==null||e.callback(h)})).catch(d=>{at.error(d),e.callback==null||e.callback({statusCode:0,text:d})}).finally(()=>c?clearTimeout(c.timeout):null)}}),SE&&cx.push({transport:"XHR",method:e=>{var t,r=new SE;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:s}=(t=LS(e))!==null&&t!==void 0?t:{};Nr(e.headers,function(a,i){r.setRequestHeader(i,a)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var a={statusCode:r.status,text:r.responseText};if(r.status===200)try{a.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(a)}},r.send(s)}}),ca!=null&&ca.sendBeacon&&cx.push({transport:"sendBeacon",method:e=>{var t=ab(e.url,{beacon:"1"});try{var r,{contentType:n,body:s}=(r=LS(e))!==null&&r!==void 0?r:{},a=typeof s=="string"?new Blob([s],{type:n}):s;ca.sendBeacon(t,a)}catch{}}});var ib=function(e,t){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function NM(e,t,r){return _m({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var K7={exact:(e,t)=>t.some(r=>e.some(n=>r===n)),is_not:(e,t)=>t.every(r=>e.every(n=>r!==n)),regex:(e,t)=>t.some(r=>e.some(n=>ib(r,n))),not_regex:(e,t)=>t.every(r=>e.every(n=>!ib(r,n))),icontains:(e,t)=>t.map(e0).some(r=>e.map(e0).some(n=>r.includes(n))),not_icontains:(e,t)=>t.map(e0).every(r=>e.map(e0).every(n=>!r.includes(n)))},e0=e=>e.toLowerCase();function G7(e,t){return!e||Object.entries(e).every(r=>{var[n,s]=r,a=t==null?void 0:t[n];if(Ze(a)||wi(a))return!1;var i=[String(a)],l=K7[s.operator];return!!l&&l(s.values,i)})}var DS=hn("[Error tracking]");class kae{constructor(t){var r,n;this.Jt=[],this.Kt=new Yne([new sse,new hse,new ise,new ase,new dse,new use,new lse,new fse],nse("web:javascript",Zne,rse)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(PE))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,s,a=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],i=(s=t.errorTracking)==null?void 0:s.captureExtensionExceptions;this.Jt=a,this._instance.persistence&&this._instance.persistence.register({[PE]:this.Jt,[rM]:i})}get Yt(){var t,r=!!this._instance.get_property(rM),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void DS.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void DS.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void DS.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce((n,s)=>{var{type:a,value:i}=s;return Nn(a)&&a.length>0&&n.$exception_types.push(a),Nn(i)&&i.length>0&&n.$exception_values.push(i),n},{$exception_types:[],$exception_values:[]});return this.Jt.some(n=>{var s=n.values.map(a=>{var i,l=K7[a.operator],c=dr(a.value)?a.value:[a.value],u=(i=r[a.key])!==null&&i!==void 0?i:[];return c.length>0&&l(c,u)});return n.type==="OR"?s.some(Boolean):s.every(Boolean)})}Zt(t){return t.flatMap(r=>{var n,s;return(n=(s=r.stacktrace)==null?void 0:s.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}ti(t){if(t.length>0){var r,n,s,a,i=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],l=i[i.length-1];return(s=l==null||(a=l.filename)==null?void 0:a.includes("posthog.com/static"))!==null&&s!==void 0&&s}return!1}Xt(t){return!cr(t)&&dr(t)}}var Za=hn("[FeatureFlags]"),Up=hn("[FeatureFlags]",{debugEnabled:!0}),FS="$active_feature_flags",wd="$override_feature_flags",CM="$feature_flag_payloads",zp="$override_feature_flag_payloads",PM="$feature_flag_request_id",AM="$feature_flag_evaluated_at",TM=e=>{var t={};for(var[r,n]of lx(e||{}))n&&(t[r]=n);return t},Eae=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(r=>t[r].enabled).filter(r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]}))):Za.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},Nae=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class Cae{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter(r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||Za.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n}):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(AE),r=this._instance.get_property(wd),n=this._instance.get_property(zp);if(!n&&!r)return t||{};var s=cn({},t||{}),a=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var i of a){var l,c,u=s[i],d=r==null?void 0:r[i],f=Ze(d)?(l=u==null?void 0:u.enabled)!==null&&l!==void 0&&l:!!d,h=Ze(d)?u.variant:typeof d=="string"?d:void 0,g=n==null?void 0:n[i],v=pt({},u,{enabled:f,variant:f?h??(u==null?void 0:u.variant):void 0});f!==(u==null?void 0:u.enabled)&&(v.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(v.original_variant=u==null?void 0:u.variant),g&&(v.metadata=pt({},u==null?void 0:u.metadata,{payload:g,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),s[i]=v}return this.ii||(Za.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:s}),this.ii=!0),s}getFlagVariants(){var t=this._instance.get_property(af),r=this._instance.get_property(wd);if(!r)return t||{};for(var n=cn({},t),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Za.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(CM),r=this._instance.get_property(zp);if(!r)return t||{};for(var n=cn({},t||{}),s=Object.keys(r),a=0;a<s.length;a++)n[s[a]]=r[s[a]];return this.ii||(Za.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout(()=>{this.di()},5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var r;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var n=this._instance.config.token,s=this._instance.get_property("$device_id"),a={token:n,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:pt({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(bm)||{}),group_properties:this._instance.get_property(Xc)};wi(s)||Ze(s)||(a.$device_id=s),(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(a.disable_flags=!0),this.ui()&&(a.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,l=i?"/flags/?v=2":"/flags/?v=2&config=true",c=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",u=this._instance.requestRouter.endpointFor("flags",l+c);i&&(a.timezone=U7()),this.ri=!0,this._instance._send_request({method:"POST",url:u,data:a,compression:this._instance.config.disable_compression?void 0:Co.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:d=>{var f,h,g=!0;if(d.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),g=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.ci((h=d.json)!==null&&h!==void 0?h:{})),!a.disable_flags||this.ni)if(this.ai=!g,d.json&&(f=d.json.quotaLimited)!=null&&f.includes(Nae.FeatureFlags))Za.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var v;a.disable_flags||this.receivedFeatureFlags((v=d.json)!==null&&v!==void 0?v:{},g),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],s=""+n,a=this._instance.get_property(PM)||void 0,i=this._instance.get_property(AM)||void 0,l=this._instance.get_property(Yx)||{};if((r.send_event||!("send_event"in r))&&(!(t in l)||!l[t].includes(s))){var c,u,d,f,h,g,v,p,y;dr(l[t])?l[t].push(s):l[t]=[s],(c=this._instance.persistence)==null||c.register({[Yx]:l});var x=this.getFeatureFlagDetails(t),b={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:a,$feature_flag_evaluated_at:i,$feature_flag_bootstrapped_response:((u=this._instance.config.bootstrap)==null||(u=u.featureFlags)==null?void 0:u[t])||null,$feature_flag_bootstrapped_payload:((d=this._instance.config.bootstrap)==null||(d=d.featureFlagPayloads)==null?void 0:d[t])||null,$used_bootstrap_value:!this.ai};Ze(x==null||(f=x.metadata)==null?void 0:f.version)||(b.$feature_flag_version=x.metadata.version);var w,_=(h=x==null||(g=x.reason)==null?void 0:g.description)!==null&&h!==void 0?h:x==null||(v=x.reason)==null?void 0:v.code;_&&(b.$feature_flag_reason=_),x!=null&&(p=x.metadata)!=null&&p.id&&(b.$feature_flag_id=x.metadata.id),Ze(x==null?void 0:x.original_variant)&&Ze(x==null?void 0:x.original_enabled)||(b.$feature_flag_original_response=Ze(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(y=x.metadata)!=null&&y.original_payload&&(b.$feature_flag_original_payload=x==null||(w=x.metadata)==null?void 0:w.original_payload),this._instance.capture("$feature_flag_called",b)}return n}Za.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,s={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(s.evaluation_environments=this.li()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:s,compression:this._instance.config.disable_compression?void 0:Co.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var i,l=(i=a.json)==null?void 0:i.featureFlagPayloads;r((l==null?void 0:l[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return Ze(n)?void 0:!!n}Za.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==t)}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),a=this.getFlagsWithDetails();(function(i,l,c,u,d){c===void 0&&(c={}),u===void 0&&(u={}),d===void 0&&(d={});var f=Eae(i),h=f.flags,g=f.featureFlags,v=f.featureFlagPayloads;if(g){var p=i.requestId,y=i.evaluatedAt;if(dr(g)){Za.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(g)for(var b=0;b<g.length;b++)x[g[b]]=!0;l&&l.register({[FS]:g,[af]:x})}else{var w=g,_=v,S=h;i.errorsWhileComputingFlags&&(w=pt({},c,w),_=pt({},u,_),S=pt({},d,S)),l&&l.register(pt({[FS]:Object.keys(TM(w)),[af]:w||{},[CM]:_||{},[AE]:S||{}},p?{[PM]:p}:{},y?{[AM]:y}:{}))}}})(t,this._instance.persistence,n,s,a),this.fi(r)}}override(t,r){r===void 0&&(r=!1),Za.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return Za.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(wd),this._instance.persistence.unregister(zp),this.fi(),Up.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(wd),Up.info("Flag overrides cleared");else if(n.flags){if(dr(n.flags)){for(var s={},a=0;a<n.flags.length;a++)s[n.flags[a]]=!0;this._instance.persistence.register({[wd]:s})}else this._instance.persistence.register({[wd]:n.flags});Up.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(zp),Up.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[zp]:n.payloads}),Up.info("Payload overrides set",{payloads:n.payloads}))),void this.fi()}this.fi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.pi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var s,a=(this._instance.get_property(xm)||[]).find(u=>u.flagKey===t),i={["$feature_enrollment/"+t]:r},l={$feature_flag:t,$feature_enrollment:r,$set:i};a&&(l.$early_access_feature_name=a.name),n&&(l.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(i,!1);var c=pt({},this.getFlagVariants(),{[t]:r});(s=this._instance.persistence)==null||s.register({[FS]:Object.keys(TM(c)),[af]:c}),this.fi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var s=this._instance.get_property(xm),a=n?"&"+n.map(i=>"stage="+i).join("&"):"";if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+a),method:"GET",callback:i=>{var l,c;if(i.json){var u=i.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(xm),(c=this._instance.persistence)==null||c.register({[xm]:u}),t(u)}}})}pi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,s)=>(n[s]=r[s],n),{})}}fi(t){var{flags:r,flagVariants:n}=this.pi();this.featureFlagEventHandlers.forEach(s=>s(r,n,{errorsLoading:t}))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(bm)||{};this._instance.register({[bm]:pt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(bm)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Xc)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(s=>{n[s]=pt({},n[s],t[s]),delete t[s]}),this._instance.register({[Xc]:pt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(Xc)||{};this._instance.register({[Xc]:pt({},r,{[t]:{}})})}else this._instance.unregister(Xc)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var Pae=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class BS{constructor(t,r){this.I=t,this.props={},this.gi=!1,this.mi=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(t),this.Y=this.yi(t),this.load(),t.debug&&at.info("Persistence loaded",t.persistence,pt({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.bi}yi(t){Pae.indexOf(t.persistence.toLowerCase())===-1&&(at.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&Gr.H()?Gr:r==="localstorage+cookie"&&Jv.H()?Jv:r==="sessionstorage"&&Hn.H()?Hn:r==="memory"?Bse:r==="cookie"?Ki:Jv.H()?Jv:Ki}properties(){var t={};return Nr(this.props,function(r,n){if(n===af&&Dn(r))for(var s=Object.keys(r),a=0;a<s.length;a++)t["$feature/"+s[a]]=r[s[a]];else l=n,c=!1,(wi(i=xse)?c:W$&&i.indexOf===W$?i.indexOf(l)!=-1:(Nr(i,function(u){if(c||(c=u===l))return Kx}),c))||(t[n]=r);var i,l,c}),t}load(){if(!this.bi){var t=this.Y.W(this.mi);t&&(this.props=cn({},t))}}save(){this.bi||this.Y.G(this.mi,this.props,this.wi,this.xi,this.Ei,this.I.debug)}remove(){this.Y.V(this.mi,!1),this.Y.V(this.mi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(Dn(t)){Ze(r)&&(r="None"),this.wi=Ze(n)?this.Si:n;var s=!1;if(Nr(t,(a,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==r||(this.props[i]=a,s=!0)}),s)return this.save(),!0}return!1}register(t,r){if(Dn(t)){this.wi=Ze(r)?this.Si:r;var n=!1;if(Nr(t,(s,a)=>{t.hasOwnProperty(a)&&this.props[a]!==s&&(this.props[a]=s,n=!0)}),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.gi){var t=M7(this.I.custom_campaign_params,this.I.mask_personal_data_properties,this.I.custom_personal_data_properties);sf(aA(t))||this.register(t),this.gi=!0}}update_search_keyword(){var t;this.register((t=st==null?void 0:st.referrer)?L7(t):{})}update_referrer_info(){var t;this.register_once({$referrer:D7(),$referring_domain:st!=null&&st.referrer&&((t=Zx(st.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[$E]||this.props[ME]||this.register_once({[Jx]:F7(this.I.mask_personal_data_properties,this.I.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Nr([ME,$E],i=>{var l=this.props[i];l&&Nr(l,function(c,u){t["$initial_"+jE(u)]=c})});var r,n,s=this.props[Jx];if(s){var a=(r=B7(s),n={},Nr(r,function(i,l){n["$initial_"+jE(l)]=i}),n);cn(t,a)}return t}safe_merge(t){return Nr(this.props,function(r,n){n in t||(t[n]=r)}),t}update_config(t,r,n){if(this.Si=this.wi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var s=this.yi(t),a=this.props;this.clear(),this.Y=s,this.props=a,this.save()}}set_disabled(t){this.bi=t,this.bi?this.remove():this.save()}set_cross_subdomain(t){t!==this.xi&&(this.xi=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[vm]||{};n[t]=r,this.props[vm]=n,this.save()}remove_event_timer(t){var r=(this.props[vm]||{})[t];return Ze(r)||(delete this.props[vm][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var ps=hn("[Product Tours]"),US="ph_product_tours";class Aae{constructor(t){this.$i=null,this.ki=null,this.Pi=void 0,this.Ti=!1,this._instance=t}onRemoteConfig(t){if(this._instance.config.disable_product_tours)ps.info("Product tours disabled via config");else{var r=t.productTours;cr(r)?ps.info("Product tours not enabled in remote config"):(this.Pi=r,ps.info("Remote config received, isProductToursEnabled: "+this.Pi),this.loadIfEnabled())}}loadIfEnabled(){var t;if(!this.ki)if(this.Ti)ps.info("Already initializing product tours, skipping...");else if(this._instance.config.disable_product_tours)ps.info("Product tours disabled via config");else{var r=kt==null?void 0:kt.__PosthogExtensions__;if(r){var n=(t=this._instance.featureFlags)==null?void 0:t.isFeatureEnabled("product-tours-2025");if(!Ze(this.Pi)||n){var s=this.Pi||n;if(s){this.Ti=!0;try{var a=r.generateProductTours;if(a)return void this.Ci(a,s);var i=r.loadExternalDependency;if(!i)return ps.error("PostHog loadExternalDependency extension not found."),void(this.Ti=!1);i(this._instance,"product-tours",l=>{l||!r.generateProductTours?ps.error("Could not load product tours script",l):this.Ci(r.generateProductTours,s),this.Ti=!1})}catch(l){ps.error("Error initializing product tours",l),this.Ti=!1}}else ps.info("Product tours not enabled")}else ps.info("Waiting for remote config or feature flag to enable product tours")}else ps.error("PostHog Extensions not found.")}}Ci(t,r){this.ki=t(this._instance,r)||null,ps.info("Product tours loaded successfully")}getProductTours(t,r){if(r===void 0&&(r=!1),!dr(this.$i)||r){var n=this._instance.persistence;if(n){var s=n.props[US];if(dr(s)&&!r)return this.$i=s,void t(s,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:a=>{var i=a.statusCode;if(i!==200||!a.json){var l="Product Tours API could not be loaded, status: "+i;return ps.error(l),void t([],{isLoaded:!1,error:l})}var c=dr(a.json.product_tours)?a.json.product_tours:[];this.$i=c,n&&n.register({[US]:c}),t(c,{isLoaded:!0})}})}else t(this.$i,{isLoaded:!0})}getActiveProductTours(t){if(cr(this.ki))return ps.warn("Product tours not loaded yet"),void t([],{isLoaded:!1,error:"Product tours not loaded"});this.ki.getActiveProductTours(t)}showProductTour(t){var r;ps.info("showProductTour("+t+")"),(r=this.ki)==null||r.showTourById(t)}dismissProductTour(){var t;(t=this.ki)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.ki)==null||t.nextStep()}previousStep(){var t;(t=this.ki)==null||t.previousStep()}clearCache(){this.$i=null;var t=this._instance.persistence;t&&t.unregister(US)}resetTour(t){var r;(r=this.ki)==null||r.resetTour(t)}resetAllTours(){var t;(t=this.ki)==null||t.resetAllTours()}}var qp=function(e){return e.Activation="events",e.Cancellation="cancelEvents",e}({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var zS=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var ux=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),OM=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),Y7=function(e){return e.Popover="popover",e.Inline="inline",e}({});class mA{constructor(){this.Ri={},this.Ri={}}on(t,r){return this.Ri[t]||(this.Ri[t]=[]),this.Ri[t].push(r),()=>{this.Ri[t]=this.Ri[t].filter(n=>n!==r)}}emit(t,r){for(var n of this.Ri[t]||[])n(r);for(var s of this.Ri["*"]||[])s(t,r)}}function _d(e,t,r){if(cr(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class Tae{constructor(t){this.Ii=new mA,this.Fi=(r,n)=>this.Mi(r,n)&&this.Oi(r,n)&&this.Ai(r,n)&&this.Di(r,n),this.Mi=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.ji=new Set,this.Li=new Set}init(){var t;if(!Ze((t=this._instance)==null?void 0:t.Ni)){var r;(r=this._instance)==null||r.Ni((n,s)=>{this.on(n,s)})}}register(t){var r,n;if(!Ze((r=this._instance)==null?void 0:r.Ni)&&(t.forEach(i=>{var l,c;(l=this.Li)==null||l.add(i),(c=i.steps)==null||c.forEach(u=>{var d;(d=this.ji)==null||d.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var s,a=new Set;t.forEach(i=>{var l;(l=i.steps)==null||l.forEach(c=>{c!=null&&c.selector&&a.add(c==null?void 0:c.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(a)}}on(t,r){var n;r!=null&&t.length!=0&&(this.ji.has(t)||this.ji.has(r==null?void 0:r.event))&&this.Li&&((n=this.Li)==null?void 0:n.size)>0&&this.Li.forEach(s=>{this.Ui(r,s)&&this.Ii.emit("actionCaptured",s.name)})}zi(t){this.onAction("actionCaptured",r=>t(r))}Ui(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Fi(t,n))return!0;return!1}onAction(t,r){return this.Ii.on(t,r)}Oi(t,r){if(r!=null&&r.url){var n,s=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!s||typeof s!="string"||!_d(s,r.url,r.url_matching||"contains"))return!1}return!0}Ai(t,r){return!!this.Hi(t,r)&&!!this.Bi(t,r)&&!!this.qi(t,r)}Hi(t,r){var n;if(r==null||!r.href)return!0;var s=this.Wi(t);if(s.length>0)return s.some(l=>_d(l.href,r.href,r.href_matching||"exact"));var a,i=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!i&&_d((a=i.match(/(?::|")href="(.*?)"/))?a[1]:"",r.href,r.href_matching||"exact")}Bi(t,r){var n;if(r==null||!r.text)return!0;var s=this.Wi(t);if(s.length>0)return s.some(u=>_d(u.text,r.text,r.text_matching||"exact")||_d(u.$el_text,r.text,r.text_matching||"exact"));var a,i,l,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(a=function(u){for(var d,f=[],h=/(?::|")text="(.*?)"/g;!cr(d=h.exec(u));)f.includes(d[1])||f.push(d[1]);return f}(c),i=r.text,l=r.text_matching||"exact",a.some(u=>_d(u,i,l)))}qi(t,r){var n,s;if(r==null||!r.selector)return!0;var a=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(a!=null&&a.includes(r.selector))return!0;var i=(t==null||(s=t.properties)==null?void 0:s.$elements_chain)||"";if(r.selector_regex&&i)try{return new RegExp(r.selector_regex).test(i)}catch{return!1}return!1}Wi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Di(t,r){return r==null||!r.properties||r.properties.length===0||G7(r.properties.reduce((n,s)=>{var a=dr(s.value)?s.value.map(String):s.value!=null?[String(s.value)]:[];return n[s.key]={values:a,operator:s.operator||"exact"},n},{}),t==null?void 0:t.properties)}}var gr=hn("[Surveys]"),qE="seenSurvey_",Oae=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},RM=e=>{var t=""+qE+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+qE+e.id+"_"+e.current_iteration),t},Rae=[zS.Popover,zS.Widget,zS.API],$ae={ignoreConditions:!1,ignoreDelay:!1,displayType:Y7.Popover};class Mae{constructor(t){this._instance=t,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(t,r){return!!t&&G7(t.propertyFilters,r==null?void 0:r.properties)}Yi(t,r){var n=new Map;return t.forEach(s=>{var a;(a=s.conditions)==null||(a=a[r])==null||(a=a.values)==null||a.forEach(i=>{if(i!=null&&i.name){var l=n.get(i.name)||[];l.push(s.id),n.set(i.name,l)}})}),n}Xi(t,r,n){var s,a=(n===qp.Activation?this.Gi:this.Vi).get(t),i=[];return(s=this._instance)==null||s.getSurveys(l=>{i=l.filter(c=>a==null?void 0:a.includes(c.id))}),i.filter(l=>{var c,u=(c=l.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find(d=>d.name===t);return this.Ki(u,r)})}register(t){var r;Ze((r=this._instance)==null?void 0:r.Ni)||(this.Qi(t),this.Zi(t))}Zi(t){var r=t.filter(n=>{var s,a;return((s=n.conditions)==null?void 0:s.actions)&&((a=n.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0});r.length!==0&&(this.te==null&&(this.te=new Tae(this._instance),this.te.init(),this.te.zi(n=>{this.onAction(n)})),r.forEach(n=>{var s,a,i,l,c;n.conditions&&(s=n.conditions)!=null&&s.actions&&(a=n.conditions)!=null&&(a=a.actions)!=null&&a.values&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0&&((l=this.te)==null||l.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach(u=>{if(u&&u.name){var d=this.Ji.get(u.name);d&&d.push(n.id),this.Ji.set(u.name,d||[n.id])}}))}))}Qi(t){var r,n=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.events)&&((l=a.conditions)==null||(l=l.events)==null||(l=l.values)==null?void 0:l.length)>0}),s=t.filter(a=>{var i,l;return((i=a.conditions)==null?void 0:i.cancelEvents)&&((l=a.conditions)==null||(l=l.cancelEvents)==null||(l=l.values)==null?void 0:l.length)>0});(n.length!==0||s.length!==0)&&((r=this._instance)==null||r.Ni((a,i)=>{this.onEvent(a,i)}),this.Gi=this.Yi(t,qp.Activation),this.Vi=this.Yi(t,qp.Cancellation))}onEvent(t,r){var n,s=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Yv])||[];if(ux.SHOWN===t&&r&&s.length>0){var a;gr.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:s});var i=r==null||(a=r.properties)==null?void 0:a.$survey_id;if(i){var l=s.indexOf(i);l>=0&&(s.splice(l,1),this.ie(s))}}else{if(this.Vi.has(t)){var c=this.Xi(t,r,qp.Cancellation);c.length>0&&(gr.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map(d=>d.id)}),c.forEach(d=>{var f,h=s.indexOf(d.id);h>=0&&s.splice(h,1),(f=this._instance)==null||f.cancelPendingSurvey(d.id)}),this.ie(s))}if(this.Gi.has(t)){gr.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Gi.get(t)});var u=this.Xi(t,r,qp.Activation);this.ie(s.concat(u.map(d=>d.id)||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Yv])||[];this.Ji.has(t)&&this.ie(n.concat(this.Ji.get(t)||[]))}ie(t){var r;gr.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[Yv]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[Yv];return r||[]}getEventToSurveys(){return this.Gi}ee(){return this.te}}class Iae{constructor(t){this.re=void 0,this._surveyManager=null,this.se=!1,this.ne=!1,this.oe=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(cr(r))return gr.warn("Flags not loaded yet. Not loading surveys.");var n=dr(r);this.re=n?r.length>0:r,gr.info("flags response received, isSurveysEnabled: "+this.re),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(qE)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.ne)gr.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)gr.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())gr.info("Not loading surveys in cookieless mode without consent.");else{var t=kt==null?void 0:kt.__PosthogExtensions__;if(t){if(!Ze(this.re)||this._instance.config.advanced_enable_surveys){var r=this.re||this._instance.config.advanced_enable_surveys;this.ne=!0;try{var n=t.generateSurveys;if(n)return void this.ae(n,r);var s=t.loadExternalDependency;if(!s)return void this.le("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",a=>{a||!t.generateSurveys?this.le("Could not load surveys script",a):this.ae(t.generateSurveys,r)})}catch(a){throw this.le("Error initializing surveys",a),a}finally{this.ne=!1}}}else gr.error("PostHog Extensions not found.")}}ae(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new Mae(this._instance),gr.info("Surveys loaded successfully"),this.ue({isLoaded:!0})}le(t,r){gr.error(t,r),this.ue({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.oe.push(t),this._surveyManager&&this.ue({isLoaded:!0}),()=>{this.oe=this.oe.filter(r=>r!==t)}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return gr.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(TE);if(n&&!r)return t(n,{isLoaded:!0});if(this.se)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.se=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:s=>{var a;this.se=!1;var i=s.statusCode;if(i!==200||!s.json){var l="Surveys API could not be loaded, status: "+i;return gr.error(l),t([],{isLoaded:!1,error:l})}var c,u=s.json.surveys||[],d=u.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var g;return!((g=h.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)}(f)||function(h){var g;return!((g=h.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)}(f)));return d.length>0&&((c=this._surveyEventReceiver)==null||c.register(d)),(a=this._instance.persistence)==null||a.register({[TE]:u}),t(u,{isLoaded:!0})}})}catch(s){throw this.se=!1,s}}ue(t){for(var r of this.oe)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){gr.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!cr(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);gr.warn("init was not called")}he(t){var r=null;return this.getSurveys(n=>{var s;r=(s=n.find(a=>a.id===t))!==null&&s!==void 0?s:null}),r}de(t){if(cr(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.he(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(cr(this._surveyManager))return gr.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.de(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return cr(this._surveyManager)?(gr.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(s=>{var a,i=(a=s.find(c=>c.id===t))!==null&&a!==void 0?a:null;if(i){var l=this.de(i);n({visible:l.eligible,disabledReason:l.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(t,r){var n;if(cr(this._surveyManager))gr.warn("init was not called");else{var s=typeof t=="string"?this.he(t):t;if(s!=null&&s.id)if(Rae.includes(s.type)){var a=st==null?void 0:st.querySelector(r);if(a)return(n=s.appearance)!=null&&n.surveyPopupDelaySeconds?(gr.info("Rendering survey "+s.id+" with delay of "+s.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var i,l;gr.info("Rendering survey "+s.id+" with delay of "+((i=s.appearance)==null?void 0:i.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(s,a),gr.info("Survey "+s.id+" rendered")},1e3*s.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(s,a);gr.warn("Survey element not found")}else gr.warn("Surveys of type "+s.type+" cannot be rendered in the app");else gr.warn("Survey not found")}}displaySurvey(t,r){var n;if(cr(this._surveyManager))gr.warn("init was not called");else{var s=this.he(t);if(s){var a=s;if((n=s.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(a=pt({},s,{appearance:pt({},s.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var i=this.canRenderSurvey(s);if(!i.visible)return void gr.warn("Survey is not eligible to be displayed: ",i.disabledReason)}r.displayType!==Y7.Inline?this._surveyManager.handlePopoverSurvey(a):this.renderSurvey(a,r.selector)}else gr.warn("Survey not found")}}cancelPendingSurvey(t){cr(this._surveyManager)?gr.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var Wp=hn("[Conversations]");class Lae{constructor(t){this.ve=void 0,this._conversationsManager=null,this.Ti=!1,this.ce=null,this._instance=t}onRemoteConfig(t){if(!this._instance.config.disable_conversations){var r=t.conversations;cr(r)||(Lo(r)?this.ve=r:(this.ve=r.enabled,this.ce=r),this.loadIfEnabled())}}reset(){var t;(t=this._conversationsManager)==null||t.reset(),this._conversationsManager=null,this.ve=void 0,this.ce=null}loadIfEnabled(){if(!this._conversationsManager&&!this.Ti&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var t=kt==null?void 0:kt.__PosthogExtensions__;if(t&&!Ze(this.ve)&&this.ve)if(this.ce&&this.ce.token){if(function(s){var a;if(!s||s.length===0)return!0;var i=be==null||(a=be.location)==null?void 0:a.hostname;return!i||s.some(l=>{var c=function(d){var f=d.replace(/^https?:\/\//,"");return(f=f.split("/")[0].split("?")[0].split(":")[0])||null}(l);if(!c)return!1;if(c.startsWith("*.")){var u=c.slice(2);return i.endsWith("."+u)||i===u}return i===c})}(this.ce.domains)){this.Ti=!0;try{var r=t.initConversations;if(r)return this.Ci(r),void(this.Ti=!1);var n=t.loadExternalDependency;if(!n)return void this.fe("PostHog loadExternalDependency extension not found.");n(this._instance,"conversations",s=>{s||!t.initConversations?this.fe("Could not load conversations script",s):this.Ci(t.initConversations),this.Ti=!1})}catch(s){this.fe("Error initializing conversations",s),this.Ti=!1}}}else Wp.error("Conversations enabled but missing token in remote config.")}}Ci(t){if(this.ce)try{this._conversationsManager=t(this.ce,this._instance),Wp.info("Conversations loaded successfully")}catch(r){this.fe("Error completing conversations initialization",r)}else Wp.error("Cannot complete initialization: remote config is null")}fe(t,r){Wp.error(t,r),this._conversationsManager=null,this.Ti=!1}enable(){this._conversationsManager?this._conversationsManager.enable():Wp.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!wi(this._conversationsManager)}isEnabled(){return this.ve===!0}}var $M=hn("[RateLimiter]");class Dae{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=s=>{var a=s.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach(i=>{$M.info((i||"events")+" is quota limited."),this.serverLimits[i]=new Date().getTime()+6e4})}catch(i){return void $M.warn('could not rate limit - continuing. Error: "'+(i==null?void 0:i.message)+'"',{text:a})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,s;t===void 0&&(t=!1);var a=new Date().getTime(),i=(r=(n=this.instance.persistence)==null?void 0:n.get_property(RE))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:a};i.tokens+=(a-i.last)/1e3*this.captureEventsPerSecond,i.last=a,i.tokens>this.captureEventsBurstLimit&&(i.tokens=this.captureEventsBurstLimit);var l=i.tokens<1;return l||t||(i.tokens=Math.max(0,i.tokens-1)),!l||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(s=this.instance.persistence)==null||s.set_property(RE,i),{isRateLimited:l,remainingTokens:i.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Wc=hn("[RemoteConfig]");class Fae{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=kt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}pe(t){var r,n;(r=kt.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=kt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(Wc.error("PostHog Extensions not found. Cannot load remote config."),t())}ge(t){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return Wc.info("Using preloaded remote config",this.remoteConfig),void this.ci(this.remoteConfig);if(this._instance.O())return void Wc.warn("Remote config is disabled. Falling back to local config.");this.pe(t=>{if(!t)return Wc.info("No config found after loading remote JS config. Falling back to JSON."),void this.ge(r=>{this.ci(r)});this.ci(t)})}catch(t){Wc.error("Error loading remote config",t)}}ci(t){t?this._instance.config.__preview_remote_config?(this._instance.ci(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Wc.info("__preview_remote_config is disabled. Logging config instead",t):Wc.error("Failed to fetch remote config from PostHog.")}}var WE=3e3;class Bae{constructor(t,r){this._e=!0,this.me=[],this.ye=Di((r==null?void 0:r.flush_interval_ms)||WE,250,5e3,at.createLogger("flush interval"),WE),this.be=t}enqueue(t){this.me.push(t),this.we||this.xe()}unload(){this.Ee();var t=this.me.length>0?this.Se():{},r=Object.values(t);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.be(pt({},n,{transport:"sendBeacon"}))})}enable(){this._e=!1,this.xe()}xe(){var t=this;this._e||(this.we=setTimeout(()=>{if(this.Ee(),this.me.length>0){var r=this.Se(),n=function(){var a=r[s],i=new Date().getTime();a.data&&dr(a.data)&&Nr(a.data,l=>{l.offset=Math.abs(l.timestamp-i),delete l.timestamp}),t.be(a)};for(var s in r)n()}},this.ye))}Ee(){clearTimeout(this.we),this.we=void 0}Se(){var t={};return Nr(this.me,r=>{var n,s=r,a=(s?s.batchKey:null)||s.url;Ze(t[a])&&(t[a]=pt({},s,{data:[]})),(n=t[a].data)==null||n.push(s.data)}),this.me=[],t}}var Uae=["retriesPerformedSoFar"];class zae{constructor(t){this.$e=!1,this.ke=3e3,this.me=[],this._instance=t,this.me=[],this.Pe=!0,!Ze(be)&&"onLine"in be.navigator&&(this.Pe=be.navigator.onLine,this.Te=()=>{this.Pe=!0,this.Dt()},this.Ce=()=>{this.Pe=!1},yn(be,"online",this.Te),yn(be,"offline",this.Ce))}get length(){return this.me.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=WU(t,Uae);no(r)&&r>0&&(n.url=ab(n.url,{retry_count:r})),this._instance._send_request(pt({},n,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?this.Re(pt({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(s)}}))}Re(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=function(i){var l=3e3*Math.pow(2,i),c=l/2,u=Math.min(18e5,l),d=(Math.random()-.5)*(u-c);return Math.ceil(u+d)}(r),s=Date.now()+n;this.me.push({retryAt:s,requestOptions:t});var a="Enqueued failed request for retry in "+n;navigator.onLine||(a+=" (Browser is offline)"),at.warn(a),this.$e||(this.$e=!0,this.Ie())}Ie(){if(this.Fe&&clearTimeout(this.Fe),this.me.length===0)return this.$e=!1,void(this.Fe=void 0);this.Fe=setTimeout(()=>{this.Pe&&this.me.length>0&&this.Dt(),this.Ie()},this.ke)}Dt(){var t=Date.now(),r=[],n=this.me.filter(a=>a.retryAt<t||(r.push(a),!1));if(this.me=r,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:t}of(this.Fe&&(clearTimeout(this.Fe),this.Fe=void 0),this.$e=!1,Ze(be)||(this.Te&&(be.removeEventListener("online",this.Te),this.Te=void 0),this.Ce&&(be.removeEventListener("offline",this.Ce),this.Ce=void 0)),this.me))try{this._instance._send_request(pt({},t,{transport:"sendBeacon"}))}catch(r){at.error(r)}this.me=[]}}class qae{constructor(t){this.Me=()=>{var r,n,s,a;this.Oe||(this.Oe={});var i=this.scrollElement(),l=this.scrollY(),c=i?Math.max(0,i.scrollHeight-i.clientHeight):0,u=l+((i==null?void 0:i.clientHeight)||0),d=(i==null?void 0:i.scrollHeight)||0;this.Oe.lastScrollY=Math.ceil(l),this.Oe.maxScrollY=Math.max(l,(r=this.Oe.maxScrollY)!==null&&r!==void 0?r:0),this.Oe.maxScrollHeight=Math.max(c,(n=this.Oe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Oe.lastContentY=u,this.Oe.maxContentY=Math.max(u,(s=this.Oe.maxContentY)!==null&&s!==void 0?s:0),this.Oe.maxContentHeight=Math.max(d,(a=this.Oe.maxContentHeight)!==null&&a!==void 0?a:0)},this._instance=t}getContext(){return this.Oe}resetContext(){var t=this.Oe;return setTimeout(this.Me,0),t}startMeasuringScrollPosition(){yn(be,"scroll",this.Me,{capture:!0}),yn(be,"scrollend",this.Me,{capture:!0}),yn(be,"resize",this.Me)}scrollElement(){if(!this._instance.config.scroll_root_selector)return be==null?void 0:be.document.documentElement;var t=dr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=be==null?void 0:be.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return be&&(be.scrollY||be.pageYOffset||be.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return be&&(be.scrollX||be.pageXOffset||be.document.documentElement.scrollLeft)||0}}var Wae=e=>F7(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class MM{constructor(t,r,n,s){this.Ae=a=>{var i=this.De();if(!i||i.sessionId!==a){var l={sessionId:a,props:this.je(this._instance)};this.Le.register({[OE]:l})}},this._instance=t,this.Ne=r,this.Le=n,this.je=s||Wae,this.Ne.onSessionId(this.Ae)}De(){return this.Le.props[OE]}getSetOnceProps(){var t,r=(t=this.De())==null?void 0:t.props;return r?"r"in r?B7(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return Nr(aA(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+jE(n)]=r}),t}}var qS=hn("[SessionId]");class IM{on(t,r){return this.Ue.on(t,r)}constructor(t,r,n){var s;if(this.ze=[],this.He=void 0,this.Ue=new mA,this.Be=(d,f)=>Math.abs(d-f)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.I=t.config,this.Le=t.persistence,this.qe=void 0,this.We=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ge=r||Gl,this.Ve=n||Gl;var a=this.I.persistence_name||this.I.token,i=this.I.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Di(i,60,36e3,qS.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Je(),this.Ke="ph_"+a+"_window_id",this.Ye="ph_"+a+"_primary_window_exists",this.Xe()){var l=Hn.W(this.Ke),c=Hn.W(this.Ye);l&&!c?this.qe=l:Hn.V(this.Ke),Hn.G(this.Ye,!0)}if((s=this.I.bootstrap)!=null&&s.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.I.bootstrap.sessionID);this.Qe(this.I.bootstrap.sessionID,new Date().getTime(),u)}catch(d){qS.error("Invalid sessionID in bootstrap",d)}this.Ze()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Ze(this.ze)&&(this.ze=[]),this.ze.push(t),this.We&&t(this.We,this.qe),()=>{this.ze=this.ze.filter(r=>r!==t)}}Xe(){return this.I.persistence!=="memory"&&!this.Le.bi&&Hn.H()}tr(t){t!==this.qe&&(this.qe=t,this.Xe()&&Hn.G(this.Ke,t))}ir(){return this.qe?this.qe:this.Xe()?Hn.W(this.Ke):null}Qe(t,r,n){t===this.We&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.We=t,this.Le.register({[Gx]:[r,t,n]}))}er(){var t=this.Le.props[Gx];return dr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Qe(null,null,null)}destroy(){clearTimeout(this.rr),this.rr=void 0,this.He&&be&&(be.removeEventListener("beforeunload",this.He,{capture:!1}),this.He=void 0),this.ze=[]}Ze(){this.He=()=>{this.Xe()&&Hn.V(this.Ye)},yn(be,"beforeunload",this.He,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.I.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[s,a,i]=this.er(),l=this.ir(),c=no(i)&&i>0&&Math.abs(n-i)>864e5,u=!1,d=!a,f=!d&&!t&&this.Be(n,s);d||f||c?(a=this.Ge(),l=this.Ve(),qS.info("new session ID generated",{sessionId:a,windowId:l,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}}),i=n,u=!0):l||(l=this.Ve(),u=!0);var h=s===0||!t||c?n:s,g=i===0?new Date().getTime():i;return this.tr(l),this.Qe(a,h,g),t||this.Je(),u&&this.ze.forEach(v=>v(a,l,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0)),{sessionId:a,windowId:l,sessionStartTimestamp:g,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:s}}Je(){clearTimeout(this.rr),this.rr=setTimeout(()=>{var[t]=this.er();if(this.Be(new Date().getTime(),t)){var r=this.We;this.resetSessionId(),this.Ue.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var Vae=["$set_once","$set"],gl=hn("[SiteApps]");class Hae{constructor(t){this._instance=t,this.sr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}nr(t,r){if(r){var n=this.globalsForEvent(r);this.sr.push(n),this.sr.length>1e3&&(this.sr=this.sr.slice(10))}}get siteAppLoaders(){var t;return(t=kt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ni(this.nr.bind(this));this.ar=()=>{t(),this.sr=[],this.ar=void 0}}}globalsForEvent(t){var r,n,s,a,i,l,c;if(!t)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,g]of Object.entries(f))u[h]={id:d[h],type:h,properties:g};var{$set_once:v,$set:p}=t;return{event:pt({},WU(t,Vae),{properties:pt({},t.properties,p?{$set:pt({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},p)}:{},v?{$set_once:pt({},(s=(a=t.properties)==null?void 0:a.$set_once)!==null&&s!==void 0?s:{},v)}:{}),elements_chain:(i=(l=t.properties)==null?void 0:l.$elements_chain)!==null&&i!==void 0?i:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var l;!r.errored&&this.sr.length&&(gl.info("Processing "+this.sr.length+" events for site app with id "+t.id),this.sr.forEach(c=>r.processEvent==null?void 0:r.processEvent(c)),r.processedBuffer=!0),Object.values(this.apps).every(c=>c.processedBuffer||c.errored)&&((l=this.ar)==null||l.call(this))},s=!1,a=l=>{r.errored=!l,r.loaded=!0,gl.info("Site app with id "+t.id+" "+(l?"loaded":"errored")),s&&n()};try{var{processEvent:i}=t.init({posthog:this._instance,callback:l=>{a(l)}});i&&(r.processEvent=i),s=!0}catch(l){gl.error("Error while initializing PostHog app with config id "+t.id,l),a(!1)}if(s&&r.loaded)try{n()}catch(l){gl.error("Error while processing buffered events PostHog app with config id "+t.id,l),r.errored=!0}}lr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ur(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(s){gl.error("Error while processing event "+t.event+" for site app "+n.id,s)}}}onRemoteConfig(t){var r,n,s,a=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.lr(),void this._instance.on("eventCaptured",u=>this.ur(u))):void gl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ar)==null||n.call(this),(s=t.siteApps)!=null&&s.length)if(this.isEnabled){var i=function(u){var d;kt["__$$ph_site_app_"+u]=a._instance,(d=kt.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(a._instance,c,f=>{if(f)return gl.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:l,url:c}of t.siteApps)i(l)}else gl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var J7=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&G$(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some(s=>G$(s==null?void 0:s.brand,t)))return!0}catch{}return!!e.webdriver},Sm=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),LM="i.posthog.com";class Kae{constructor(t){this.hr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+LM,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.hr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Sm.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Sm.EU:this.hr[this.apiHost]=Sm.CUSTOM),this.hr[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Sm.CUSTOM)return this.apiHost+r;var n=LM+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var Gae={icontains:(e,t)=>!!be&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!be&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!be&&ib(t.href,e),not_regex:(e,t)=>!!be&&!ib(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class rs{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(s=>{rs.dr("retrieved web experiments from the server"),r.vr=new Map,s.forEach(a=>{if(a.feature_flag_key){var i;r.vr&&(rs.dr("setting flag key ",a.feature_flag_key," to web experiment ",a),(i=r.vr)==null||i.set(a.feature_flag_key,a));var l=r._instance.getFeatureFlag(a.feature_flag_key);Nn(l)&&a.variants[l]&&r.cr(a.name,l,a.variants[l].transforms)}else if(a.variants)for(var c in a.variants){var u=a.variants[c];rs.pr(u)&&r.cr(a.name,c,u.transforms)}})},n)},this._instance=t,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(t){if(this._is_bot())rs.dr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(cr(this.vr))return this.vr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();rs.dr("applying feature flags",t),t.forEach(r=>{var n;if(this.vr&&(n=this.vr)!=null&&n.has(r)){var s,a=this._instance.getFeatureFlag(r),i=(s=this.vr)==null?void 0:s.get(r);a&&i!=null&&i.variants[a]&&this.cr(i.name,a,i.variants[a].transforms)}})}}previewWebExperiment(){var t=rs.getWindowLocation();if(t!=null&&t.search){var r=eb(t==null?void 0:t.search,"__experiment_id"),n=eb(t==null?void 0:t.search,"__experiment_variant");r&&n&&(rs.dr("previewing web experiments "+r+" && "+n),this.getWebExperiments(s=>{this.gr(parseInt(r),n,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var s=this._instance.get_property("$web_experiments");if(s&&!r)return t(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:a=>{if(a.statusCode!==200||!a.json)return t([]);var i=a.json.experiments||[];return t(i)}})}gr(t,r,n){var s=n.filter(a=>a.id===t);s&&s.length>0&&(rs.dr("Previewing web experiment ["+s[0].name+"] with variant ["+r+"]"),this.cr(s[0].name,r,s[0].variants[r].transforms))}static pr(t){return!cr(t.conditions)&&rs._r(t)&&rs.mr(t)}static _r(t){var r;if(cr(t.conditions)||cr((r=t.conditions)==null?void 0:r.url))return!0;var n,s,a,i=rs.getWindowLocation();return!!i&&((n=t.conditions)==null||!n.url||Gae[(s=(a=t.conditions)==null?void 0:a.urlMatchType)!==null&&s!==void 0?s:"icontains"](t.conditions.url,i))}static getWindowLocation(){return be==null?void 0:be.location}static mr(t){var r;if(cr(t.conditions)||cr((r=t.conditions)==null?void 0:r.utm))return!0;var n=M7();if(n.utm_source){var s,a,i,l,c,u,d,f,h=(s=t.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((a=t.conditions)==null||(a=a.utm)==null?void 0:a.utm_campaign)==n.utm_campaign,g=(i=t.conditions)==null||(i=i.utm)==null||!i.utm_source||((l=t.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==n.utm_source,v=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=t.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,p=(d=t.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=t.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==n.utm_term;return h&&v&&p&&g}return!1}static dr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];at.info("[WebExperiments] "+t,n)}cr(t,r,n){this._is_bot()?rs.dr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(s=>{if(s.selector){var a;rs.dr("applying transform of variant "+r+" for experiment "+t+" ",s);var i=(a=document)==null?void 0:a.querySelectorAll(s.selector);i==null||i.forEach(l=>{var c=l;s.html&&(c.innerHTML=s.html),s.css&&c.setAttribute("style",s.css)})}}):rs.dr("Control variants leave the page unmodified.")}_is_bot(){return ca&&this._instance?J7(ca,this._instance.config.custom_blocked_useragents):void 0}}var Yae=hn("[PostHog ExternalIntegrations]"),Jae={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class Xae{constructor(t){this._instance=t}it(t,r){var n;(n=kt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,s=>{if(s)return Yae.error("failed to load script",s);r()})}startIfEnabledOrStop(){var t=this,r=function(i){var l,c,u;!s||(l=kt.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[i]||t.it(Jae[i],()=>{var d;(d=kt.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[i])==null||d.start(t._instance)}),!s&&(c=kt.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[i]&&((u=kt.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[i])==null||u.stop())};for(var[n,s]of Object.entries((a=this._instance.config.integrations)!==null&&a!==void 0?a:{})){var a;r(n)}}}var VE="[SessionRecording]",Vp=hn(VE);class DM{get started(){var t;return!((t=this.yr)==null||!t.isStarted)}get status(){return this.yr?this.yr.status:this.br&&!this.wr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.br=!1,this.Er=void 0,this._instance=t,!this._instance.sessionManager)throw Vp.error("started without valid sessionManager"),new Error(VE+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(VE+' cannot be used with cookieless_mode="always"')}get wr(){var t,r=!((t=this._instance.get_property(PS))==null||!t.enabled),n=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return be&&r&&n&&!s}startIfEnabledOrStop(t){var r;if(!this.wr||(r=this.yr)==null||!r.isStarted){var n=!Ze(Object.assign)&&!Ze(Array.from);this.wr&&n?(this.Sr(t),Vp.info("starting")):this.stopRecording()}}Sr(t){var r,n,s;this.wr&&(kt!=null&&(r=kt.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=kt.__PosthogExtensions__)!=null&&n.initSessionRecording?this.$r(t):(s=kt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,this.kr,a=>{if(a)return Vp.error("could not load recorder",a);this.$r(t)}))}stopRecording(){var t,r;(t=this.Er)==null||t.call(this),this.Er=void 0,(r=this.yr)==null||r.stop()}Pr(){var t;(t=this._instance.persistence)==null||t.unregister(e7)}Tr(t){if(this._instance.persistence){var r,n,s=this._instance.persistence,a=()=>{var i=t.sessionRecording===!1?void 0:t.sessionRecording,l=i==null?void 0:i.sampleRate,c=cr(l)?null:parseFloat(l);cr(c)&&this.Pr();var u=i==null?void 0:i.minimumDurationMilliseconds;s.register({[PS]:pt({enabled:!!i},i,{networkPayloadCapture:pt({capturePerformance:t.capturePerformance},i==null?void 0:i.networkPayloadCapture),canvasRecording:{enabled:i==null?void 0:i.recordCanvas,fps:i==null?void 0:i.canvasFps,quality:i==null?void 0:i.canvasQuality},sampleRate:c,minimumDurationMilliseconds:Ze(u)?null:u,endpoint:i==null?void 0:i.endpoint,triggerMatchType:i==null?void 0:i.triggerMatchType,masking:i==null?void 0:i.masking,urlTriggers:i==null?void 0:i.urlTriggers})})};a(),(r=this.Er)==null||r.call(this),this.Er=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(a)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.Tr(t),this.br=!0,this.startIfEnabledOrStop()):this.br=!0:Vp.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.yr)!=null&&n.log?this.yr.log(t,r):Vp.warn("log called before recorder was ready")}get kr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(PS);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}$r(t){var r,n;if((r=kt.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.yr||(this.yr=(n=kt.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.yr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.yr.start(t)}onRRwebEmit(t){var r;(r=this.yr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.yr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.yr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.yr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.yr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.yr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.yr)==null||!n.tryAddCustomEvent(t,r))}}var zm={},HE=()=>{},zd="posthog",X7=!jae&&(Rs==null?void 0:Rs.indexOf("MSIE"))===-1&&(Rs==null?void 0:Rs.indexOf("Mozilla"))===-1,FM=e=>{var t;return pt({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:vse(st==null?void 0:st.location),persistence:"localStorage+cookie",persistence_name:"",loaded:HE,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:Is&&Nn(Is==null?void 0:Is.search)&&Is.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(be==null||(t=be.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;at.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:WE},error_tracking:{},_onCapture:HE,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},BM=e=>{var t={};Ze(e.process_person)||(t.person_profiles=e.process_person),Ze(e.xhr_headers)||(t.request_headers=e.xhr_headers),Ze(e.cookie_name)||(t.persistence_name=e.cookie_name),Ze(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Ze(e.store_google)||(t.save_campaign_params=e.store_google),Ze(e.verbose)||(t.debug=e.verbose);var r=cn({},t,e);return dr(e.property_blacklist)&&(Ze(e.property_denylist)?r.property_denylist=e.property_blacklist:dr(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:at.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class Qae{constructor(){this.__forceAllowLocalhost=!1}get Cr(){return this.__forceAllowLocalhost}set Cr(t){at.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class l1{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new Qae,this.Rr=!1,this.version=_o.LIB_VERSION,this.Ir=new mA,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=FM(),this.SentryIntegration=Kse,this.sentryIntegration=t=>function(r,n){var s=v7(r,n);return{name:y7,processEvent:a=>s(a)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Fr=!1,this.Mr=null,this.Or=null,this.Ar=null,this.featureFlags=new Cae(this),this.toolbar=new Yse(this),this.scrollManager=new qae(this),this.pageViewManager=new mae(this),this.surveys=new Iae(this),this.conversations=new Lae(this),this.productTours=new Aae(this),this.experiments=new rs(this),this.exceptions=new kae(this),this.rateLimiter=new Dae(this),this.requestRouter=new Kae(this),this.consent=new Use(this),this.externalIntegrations=new Xae(this),this.people={set:(t,r,n)=>{var s=Nn(t)?{[t]:r}:t;this.setPersonProperties(s),n==null||n({})},set_once:(t,r,n)=>{var s=Nn(t)?{[t]:r}:t;this.setPersonProperties(void 0,s),n==null||n({})}},this.on("eventCaptured",t=>at.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,r,n){if(n&&n!==zd){var s,a=(s=zm[n])!==null&&s!==void 0?s:new l1;return a._init(t,r,n),zm[n]=a,zm[zd][n]=a,a}return this._init(t,r,n)}_init(t,r,n){var s;if(r===void 0&&(r={}),Ze(t)||kE(t))return at.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Dr(r.debug),this.jr=r,this.Lr=[],r.person_profiles&&(this.Or=r.person_profiles),this.set_config(cn({},FM(r.defaults),BM(r),{name:n,token:t})),this.config.on_xhr_error&&at.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:Co.GZipJS;var a=this.Nr();this.persistence=new BS(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new BS(pt({},this.config,{persistence:"sessionStorage"}),a);var i=pt({},this.persistence.props),l=pt({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ur=new Bae(b=>this.zr(b),this.config.request_queue_config),this.Hr=new zae(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new IM(this),this.sessionPropsManager=new MM(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(at.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.Br(c)},0)):(at.info("Initializing extensions synchronously"),this.Br(c)),_o.DEBUG=_o.DEBUG||this.config.debug,_o.DEBUG&&at.info("Starting in debug mode",{this:this,config:r,thisC:pt({},this.config),p:i,s:l}),((s=r.bootstrap)==null?void 0:s.distinctID)!==void 0){var u,d,f=this.config.get_device_id(Gl()),h=(u=r.bootstrap)!=null&&u.isIdentifiedID?f:r.bootstrap.distinctID;this.persistence.set_property(So,(d=r.bootstrap)!=null&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:h})}if(this.qr()){var g,v,p=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter(b=>{var w;return!((w=r.bootstrap)==null||(w=w.featureFlags)==null||!w[b])}).reduce((b,w)=>{var _;return b[w]=((_=r.bootstrap)==null||(_=_.featureFlags)==null?void 0:_[w])||!1,b},{}),y=Object.keys(((v=r.bootstrap)==null?void 0:v.featureFlagPayloads)||{}).filter(b=>p[b]).reduce((b,w)=>{var _,S;return(_=r.bootstrap)!=null&&(_=_.featureFlagPayloads)!=null&&_[w]&&(b[w]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[w]),b},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:y})}if(c)this.register_once({distinct_id:Ip,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id(Gl());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(So,"anonymous")}return yn(be,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?Hse(this,()=>this.Wr()):this.Wr(),lc(this.config._onCapture)&&this.config._onCapture!==HE&&(at.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",b=>this.config._onCapture(b.event,b))),this.config.ip&&at.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Br(t){var r=performance.now();this.historyAutocapture=new Vse(this),this.historyAutocapture.startIfEnabled();var n=[];n.push(()=>{new Xse(this).startIfEnabledOrStop()}),n.push(()=>{var s;this.siteApps=new Hae(this),(s=this.siteApps)==null||s.init()}),t||n.push(()=>{this.sessionRecording=new DM(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||n.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),n.push(()=>{this.autocapture=new Rse(this),this.autocapture.startIfEnabled()}),n.push(()=>{this.surveys.loadIfEnabled()}),n.push(()=>{this.conversations.loadIfEnabled()}),n.push(()=>{this.productTours.loadIfEnabled()}),n.push(()=>{this.heatmaps=new pae(this),this.heatmaps.startIfEnabled()}),n.push(()=>{this.webVitalsAutocapture=new fae(this)}),n.push(()=>{this.exceptionObserver=new Wse(this),this.exceptionObserver.startIfEnabled()}),n.push(()=>{this.deadClicksAutocapture=new g7(this,qse),this.deadClicksAutocapture.startIfEnabled()}),n.push(()=>{if(this.Gr){var s=this.Gr;this.Gr=void 0,this.ci(s)}}),this.Vr(n,r)}Vr(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout(()=>{this.Vr(t,r)},0);var n=t.shift();if(n)try{n()}catch(a){at.error("Error initializing extension:",a)}}var s=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:s}),this.config.__preview_deferred_init_extensions&&at.info("PostHog extensions initialized ("+s+"ms)")}ci(t){var r,n,s,a,i,l,c,u;if(!st||!st.body)return at.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.ci(t)},500);this.config.__preview_deferred_init_extensions&&(this.Gr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=qt(t.supportedCompression,Co.GZipJS)?Co.GZipJS:qt(t.supportedCompression,Co.Base64)?Co.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Or?this.Or:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(s=this.sessionRecording)==null||s.onRemoteConfig(t),(a=this.autocapture)==null||a.onRemoteConfig(t),(i=this.heatmaps)==null||i.onRemoteConfig(t),this.surveys.onRemoteConfig(t),this.conversations.onRemoteConfig(t),this.productTours.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}Wr(){try{this.config.loaded(this)}catch(t){at.critical("`loaded` function failed",t)}this.Jr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Kr()},1),new Fae(this).load(),this.featureFlags.flags()}Jr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Ur)==null||t.enable())}_dom_loaded(){this.is_capturing()&&cc(this.__request_queue,t=>this.zr(t)),this.__request_queue=[],this.Jr()}_handle_unload(){var t,r;this.config.request_batching?(this.Yr()&&this.capture("$pageleave"),(t=this.Ur)==null||t.unload(),(r=this.Hr)==null||r.unload()):this.Yr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(X7?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=ab(t.url,{ip:this.config.ip?1:0}),t.headers=pt({},this.config.request_headers,t.headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,s,a,i=pt({},r);i.timeout=i.timeout||6e4,i.url=ab(i.url,{_:new Date().getTime().toString(),ver:_o.LIB_VERSION,compression:i.compression});var l=(n=i.transport)!==null&&n!==void 0?n:"fetch",c=cx.filter(d=>!i.disableTransport||!d.transport||!i.disableTransport.includes(d.transport)),u=(s=(a=XU(c,d=>d.transport===l))==null?void 0:a.method)!==null&&s!==void 0?s:c[0].method;if(!u)throw new Error("No available transport method");u(i)})(pt({},t,{callback:r=>{var n,s;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(s=this.config).on_request_error)==null||n.call(s,r)),t.callback==null||t.callback(r)}}))))}zr(t){this.Hr?this.Hr.retriableRequest(t):this._send_request(t)}_execute_array(t){var r,n=[],s=[],a=[];cc(t,l=>{l&&(r=l[0],dr(r)?a.push(l):lc(l)?l.call(this):dr(l)&&r==="alias"?n.push(l):dr(l)&&r.indexOf("capture")!==-1&&lc(this[r])?a.push(l):s.push(l))});var i=function(l,c){cc(l,function(u){if(dr(u[0])){var d=c;Nr(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};i(n,this),i(s,this),i(a,this)}qr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ur){if(this.is_capturing())if(!Ze(t)&&Nn(t)){var a=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(a&&!this.config.__preview_capture_bot_pageviews)){var i=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(i==null||!i.isRateLimited){r!=null&&r.$current_url&&!Nn(r==null?void 0:r.$current_url)&&(at.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(n==null?void 0:n.timestamp)||l,u=Gl(),d={uuid:u,event:t,properties:this.calculateEventProperties(t,r||{},c,u)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&a&&(d.event="$bot_pageview",d.properties.$browser_type="bot"),i&&(d.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),n!=null&&n.$set&&(d.$set=n==null?void 0:n.$set);var f,h=t!=="$groupidentify",g=this.Xr(n==null?void 0:n.$set_once,h);if(g&&(d.$set_once=g),(d=gse(d,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,Ze(n==null?void 0:n.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l),t===ux.DISMISSED||t===ux.SENT){var v=r==null?void 0:r[OM.SURVEY_ID],p=r==null?void 0:r[OM.SURVEY_ITERATION];f={id:v,current_iteration:p},localStorage.getItem(RM(f))||localStorage.setItem(RM(f),"true"),d.$set=pt({},d.$set,{[Oae({id:v,current_iteration:p},t===ux.SENT?"responded":"dismissed")]:!0})}var y=pt({},d.properties.$set,d.$set);if(sf(y)||this.setPersonPropertiesForFlags(y),!cr(this.config.before_send)){var x=this.Qr(d);if(!x)return;d=x}this.Ir.emit("eventCaptured",d);var b={method:"POST",url:(s=n==null?void 0:n._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.zr(b):this.Ur.enqueue(b),d}at.critical("This capture call is ignored due to client rate limiting.")}}else at.error("No event name provided to posthog.capture")}else at.uninitializedWarning("posthog.capture")}Ni(t){return this.on("eventCaptured",r=>t(r.event,r))}calculateEventProperties(t,r,n,s,a){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var i=a?void 0:this.persistence.remove_event_timer(t),l=pt({},r);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),t==="$snapshot"){var c=pt({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!Nn(l.distinct_id)&&!no(l.distinct_id)||kE(l.distinct_id))&&at.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,d=dae(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(a,n.getTime());l.$session_id=f,l.$window_id=h}this.sessionPropsManager&&cn(l,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&cn(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(g=this.Hr)==null?void 0:g.length}catch(x){l.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===Sm.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=t!=="$pageview"||a?t!=="$pageleave"||a?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),l=cn(l,u),t==="$pageview"&&st&&(l.title=st.title),!Ze(i)){var v=n.getTime()-i;l.$duration=parseFloat((v/1e3).toFixed(3))}Rs&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=cn({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),dr(this.config.property_denylist)?Nr(this.config.property_denylist,function(x){delete l[x]}):at.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;p&&(at.error("sanitize_properties is deprecated. Use before_send instead"),l=p(l,t));var y=this.Zr();return l.$process_person_profile=y,y&&!a&&this.ts("_calculate_event_properties"),l}Xr(t,r){var n;if(r===void 0&&(r=!0),!this.persistence||!this.Zr()||this.Rr)return t;var s=this.persistence.get_initial_props(),a=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),i=cn({},s,a||{},t||{}),l=this.config.sanitize_properties;return l&&(at.error("sanitize_properties is deprecated. Use before_send instead"),i=l(i,"$set_once")),r&&(this.Rr=!0),sf(i)?void 0:i}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var s;(s=this.persistence)==null||s.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}es(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Ir.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=$ae),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return at.uninitializedWarning("posthog.identify");if(no(t)&&(t=t.toString(),at.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))at.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==Ip){if(this.ts("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var a=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}t!==s&&t!==this.get_property(ym)&&(this.unregister(ym),this.register({distinct_id:t}));var i=(this.persistence.get_property(So)||"anonymous")==="anonymous";t!==s&&i?(this.persistence.set_property(So,"identified"),this.setPersonPropertiesForFlags(pt({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.Ar=NM(t,r,n),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),t!==s&&(this.reloadFeatureFlags(),this.unregister(Yx))}}else at.critical('The string "'+Ip+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else at.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.ts("posthog.setPersonProperties")){var n=NM(this.get_distinct_id(),t,r);this.Ar!==n?(this.setPersonPropertiesForFlags(pt({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Ar=n):at.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){var s=this.getGroups();s[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:pt({},s,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),s[t]===r||n||this.reloadFeatureFlags()}else at.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.ts("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,s,a;if(at.info("reset"),!this.__loaded)return at.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(s=this.persistence)==null||s.set_property(So,"anonymous"),(a=this.sessionManager)==null||a.resetSessionId(),this.Ar=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:Ip,$device_id:null},"");else{var l=this.config.get_device_id(Gl());this.register_once({distinct_id:l,$device_id:t?l:i},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var a,i=(a=t.timestampLookBack)!==null&&a!==void 0?a:10;if(!n)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-i,0)}return s}alias(t,r){return t===this.get_property(QU)?(at.critical("Attempting to create alias for existing People user - aborting."),-2):this.ts("posthog.alias")?(Ze(r)&&(r=this.get_distinct_id()),t!==r?(this.es(ym,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(at.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=pt({},this.config);if(Dn(t)){var n,s,a,i,l;cn(this.config,BM(t));var c=this.Nr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new BS(pt({},this.config,{persistence:"sessionStorage"}),c);var u=this.Dr(this.config.debug);Lo(u)&&(this.config.debug=u),Lo(this.config.debug)&&(this.config.debug?(_o.DEBUG=!0,Gr.H()&&Gr.G("ph_debug","true"),at.info("set_config",{config:t,oldConfig:r,newConfig:pt({},this.config)})):(_o.DEBUG=!1,Gr.H()&&Gr.V("ph_debug"))),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(a=this.autocapture)==null||a.startIfEnabled(),(i=this.heatmaps)==null||i.startIfEnabled(),this.surveys.loadIfEnabled(),this.rs(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var s,a,i,l,c;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),n.sampling&&((a=this.sessionRecording)==null||a.overrideSampling()),n.linked_flag&&((i=this.sessionRecording)==null||i.overrideLinkedFlag()),n.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),s=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(pt({},s,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:zd;return r!==zd&&(r=zd+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(So))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(So))==="identified"}Zr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&sf(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[ym])&&((r=this.persistence)==null||(r=r.props)==null||!r[Xx]))}Yr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Zr()||this.ts("posthog.createPersonProfile")&&this.setPersonProperties({},{})}ts(t){return this.config.person_profiles==="never"?(at.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.es(Xx,!0),!0)}Nr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}rs(){var t,r,n,s,a=this.Nr();return((t=this.persistence)==null?void 0:t.bi)!==a&&((n=this.persistence)==null||n.set_disabled(a)),((r=this.sessionPersistence)==null?void 0:r.bi)!==a&&((s=this.sessionPersistence)==null||s.set_disabled(a)),a}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,s;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new IM(this),this.persistence&&(this.sessionPropsManager=new MM(this,this.sessionManager,this.persistence)),this.sessionRecording=new DM(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.rs(),this.Jr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Ze(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((s=t==null?void 0:t.captureEventName)!==null&&s!==void 0?s:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Kr()}else at.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.rs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:Ip,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Kr())):at.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===jo.GRANTED?"granted":t===jo.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.rs()}_is_bot(){return ca?J7(ca,this.config.custom_blocked_useragents):void 0}Kr(){st&&(st.visibilityState==="visible"?this.Fr||(this.Fr=!0,this.capture("$pageview",{title:st.title},{send_instantly:!0}),this.Mr&&(st.removeEventListener("visibilitychange",this.Mr),this.Mr=null)):this.Mr||(this.Mr=this.Kr.bind(this),yn(st,"visibilitychange",this.Mr)))}debug(t){t===!1?(be==null||be.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(be==null||be.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,s,a,i,l,c=this.jr||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(at.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=!1,a=at,i=(r="advanced_disable_flags")in(t=c)&&!Ze(t[r]),l=n in t&&!Ze(t[n]),i?t[r]:l?(a&&a.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):s)}Qr(t){if(cr(this.config.before_send))return t;var r=dr(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var s of r){if(n=s(n),cr(n)){var a="Event '"+t.event+"' was rejected in beforeSend function";return qne(t.event)?at.warn(a+". This can cause unexpected behavior."):at.info(a),null}n.properties&&!sf(n.properties)||at.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Dr(t){var r=Lo(t)&&!t,n=Gr.H()&&Gr.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=mse(e.prototype[t[r]])})(l1,["identify"]);var UM,qd=(UM=zm[zd]=new l1,function(){function e(){e.done||(e.done=!0,X7=!1,Nr(zm,function(t){t._dom_loaded()}))}st!=null&&st.addEventListener?st.readyState==="complete"?e():yn(st,"DOMContentLoaded",e,{capture:!1}):be&&at.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),UM),Q7=m.createContext({client:qd,bootstrap:void 0});function Z7(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var a=0,i=n;a<i.length;a++){var l=i[a];if(!s.includes(l)||!Z7(e[l],t[l],r))return!1}return!0}function Zae(e){var t,r,n=e.children,s=e.client,a=e.apiKey,i=e.options,l=m.useRef(null),c=m.useMemo(function(){return s?(a&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),s):(a||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),qd)},[s,a,JSON.stringify(i)]);return m.useEffect(function(){if(!s){var u=l.current;u?(a!==u.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!Z7(i,u.options)&&qd.set_config(i),l.current={apiKey:a,options:i??{}}):(qd.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),qd.init(a,i),l.current={apiKey:a,options:i??{}})}},[s,a,JSON.stringify(i)]),R.createElement(Q7.Provider,{value:{client:c,bootstrap:(t=i==null?void 0:i.bootstrap)!==null&&t!==void 0?t:(r=s==null?void 0:s.config)===null||r===void 0?void 0:r.bootstrap}},n)}var WS=function(e){return typeof e=="function"},KE=function(e,t){return KE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},KE(e,t)};function eie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");KE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tie={componentStack:null,exceptionEvent:null,error:null},rie={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){eie(t,e);function t(r){var n=e.call(this,r)||this;return n.state=tie,n}return t.prototype.componentDidCatch=function(r,n){var s=this.props.additionalProperties,a;WS(s)?a=s(r):typeof s=="object"&&(a=s);var i=this.context.client,l=i.captureException(r,a),c=n.componentStack;this.setState({error:r,componentStack:c??null,exceptionEvent:l})},t.prototype.render=function(){var r=this.props,n=r.children,s=r.fallback,a=this.state;if(a.componentStack==null)return WS(n)?n():n;var i=WS(s)?R.createElement(s,{error:a.error,componentStack:a.componentStack,exceptionEvent:a.exceptionEvent}):s;return R.isValidElement(i)?i:(console.warn(rie.INVALID_FALLBACK),R.createElement(R.Fragment,null))},t.contextType=Q7,t})(R.Component);var nie=e=>{switch(e){case"success":return iie;case"info":return lie;case"warning":return oie;case"error":return cie;default:return null}},sie=Array(12).fill(0),aie=({visible:e})=>R.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},R.createElement("div",{className:"sonner-spinner"},sie.map((t,r)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iie=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oie=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lie=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cie=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uie=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},GE=1,die=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:GE++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(hie(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||GE++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ra=new die,fie=(e,t)=>{let r=(t==null?void 0:t.id)||GE++;return ra.addToast({title:e,...t,id:r}),r},hie=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pie=fie,mie=()=>ra.toasts,fe=Object.assign(pie,{success:ra.success,info:ra.info,warning:ra.warning,error:ra.error,custom:ra.custom,message:ra.message,promise:ra.promise,dismiss:ra.dismiss,loading:ra.loading},{getHistory:mie});function gie(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}gie(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function t0(e){return e.label!==void 0}var yie=3,vie="32px",xie=4e3,bie=356,wie=14,_ie=20,Sie=200;function jie(...e){return e.filter(Boolean).join(" ")}var kie=e=>{var t,r,n,s,a,i,l,c,u,d;let{invert:f,toast:h,unstyled:g,interacting:v,setHeights:p,visibleToasts:y,heights:x,index:b,toasts:w,expanded:_,removeToast:S,defaultRichColors:E,closeButton:k,style:j,cancelButtonStyle:N,actionButtonStyle:C,className:P="",descriptionClassName:O="",duration:F,position:M,gap:q,loadingIcon:B,expandByDefault:I,classNames:A,icons:z,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:V,cn:te}=e,[X,ye]=R.useState(!1),[oe,me]=R.useState(!1),[D,$]=R.useState(!1),[H,G]=R.useState(!1),[le,J]=R.useState(0),[Z,K]=R.useState(0),de=R.useRef(null),ae=R.useRef(null),xe=b===0,ke=b+1<=y,Me=h.type,Ee=h.dismissible!==!1,ue=h.className||"",ge=h.descriptionClassName||"",U=R.useMemo(()=>x.findIndex(pe=>pe.toastId===h.id)||0,[x,h.id]),ee=R.useMemo(()=>{var pe;return(pe=h.closeButton)!=null?pe:k},[h.closeButton,k]),_e=R.useMemo(()=>h.duration||F||xie,[h.duration,F]),Le=R.useRef(0),et=R.useRef(0),Xe=R.useRef(0),ot=R.useRef(null),[Se,Ie]=M.split("-"),Y=R.useMemo(()=>x.reduce((pe,Ae,Fe)=>Fe>=U?pe:pe+Ae.height,0),[x,U]),W=uie(),ie=h.invert||f,Oe=Me==="loading";et.current=R.useMemo(()=>U*q+Y,[U,Y]),R.useEffect(()=>{ye(!0)},[]),R.useLayoutEffect(()=>{if(!X)return;let pe=ae.current,Ae=pe.style.height;pe.style.height="auto";let Fe=pe.getBoundingClientRect().height;pe.style.height=Ae,K(Fe),p(Ge=>Ge.find(he=>he.toastId===h.id)?Ge.map(he=>he.toastId===h.id?{...he,height:Fe}:he):[{toastId:h.id,height:Fe,position:h.position},...Ge])},[X,h.title,h.description,p,h.id]);let Ke=R.useCallback(()=>{me(!0),J(et.current),p(pe=>pe.filter(Ae=>Ae.toastId!==h.id)),setTimeout(()=>{S(h)},Sie)},[h,S,p,et]);R.useEffect(()=>{if(h.promise&&Me==="loading"||h.duration===1/0||h.type==="loading")return;let pe,Ae=_e;return _||v||V&&W?(()=>{if(Xe.current<Le.current){let Fe=new Date().getTime()-Le.current;Ae=Ae-Fe}Xe.current=new Date().getTime()})():Ae!==1/0&&(Le.current=new Date().getTime(),pe=setTimeout(()=>{var Fe;(Fe=h.onAutoClose)==null||Fe.call(h,h),Ke()},Ae)),()=>clearTimeout(pe)},[_,v,I,h,_e,Ke,h.promise,Me,V,W]),R.useEffect(()=>{let pe=ae.current;if(pe){let Ae=pe.getBoundingClientRect().height;return K(Ae),p(Fe=>[{toastId:h.id,height:Ae,position:h.position},...Fe]),()=>p(Fe=>Fe.filter(Ge=>Ge.toastId!==h.id))}},[p,h.id]),R.useEffect(()=>{h.delete&&Ke()},[Ke,h.delete]);function Te(){return z!=null&&z.loading?R.createElement("div",{className:"sonner-loader","data-visible":Me==="loading"},z.loading):B?R.createElement("div",{className:"sonner-loader","data-visible":Me==="loading"},B):R.createElement(aie,{visible:Me==="loading"})}return R.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ae,className:te(P,ue,A==null?void 0:A.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[Me],(r=h==null?void 0:h.classNames)==null?void 0:r[Me]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":X,"data-promise":!!h.promise,"data-removed":oe,"data-visible":ke,"data-y-position":Se,"data-x-position":Ie,"data-index":b,"data-front":xe,"data-swiping":D,"data-dismissible":Ee,"data-type":Me,"data-invert":ie,"data-swipe-out":H,"data-expanded":!!(_||I&&X),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${oe?le:et.current}px`,"--initial-height":I?"auto":`${Z}px`,...j,...h.style},onPointerDown:pe=>{Oe||!Ee||(de.current=new Date,J(et.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&($(!0),ot.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,Ae,Fe,Ge;if(H||!Ee)return;ot.current=null;let he=Number(((pe=ae.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ze=new Date().getTime()-((Ae=de.current)==null?void 0:Ae.getTime()),yt=Math.abs(he)/ze;if(Math.abs(he)>=_ie||yt>.11){J(et.current),(Fe=h.onDismiss)==null||Fe.call(h,h),Ke(),G(!0);return}(Ge=ae.current)==null||Ge.style.setProperty("--swipe-amount","0px"),$(!1)},onPointerMove:pe=>{var Ae;if(!ot.current||!Ee)return;let Fe=pe.clientY-ot.current.y,Ge=pe.clientX-ot.current.x,he=(Se==="top"?Math.min:Math.max)(0,Fe),ze=pe.pointerType==="touch"?10:2;Math.abs(he)>ze?(Ae=ae.current)==null||Ae.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(Ge)>ze&&(ot.current=null)}},ee&&!h.jsx?R.createElement("button",{"aria-label":re,"data-disabled":Oe,"data-close-button":!0,onClick:Oe||!Ee?()=>{}:()=>{var pe;Ke(),(pe=h.onDismiss)==null||pe.call(h,h)},className:te(A==null?void 0:A.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||R.isValidElement(h.title)?h.jsx||h.title:R.createElement(R.Fragment,null,Me||h.icon||h.promise?R.createElement("div",{"data-icon":"",className:te(A==null?void 0:A.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Te():null,h.type!=="loading"?h.icon||(z==null?void 0:z[Me])||nie(Me):null):null,R.createElement("div",{"data-content":"",className:te(A==null?void 0:A.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},R.createElement("div",{"data-title":"",className:te(A==null?void 0:A.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?R.createElement("div",{"data-description":"",className:te(O,ge,A==null?void 0:A.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),R.isValidElement(h.cancel)?h.cancel:h.cancel&&t0(h.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:pe=>{var Ae,Fe;t0(h.cancel)&&Ee&&((Fe=(Ae=h.cancel).onClick)==null||Fe.call(Ae,pe),Ke())},className:te(A==null?void 0:A.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,R.isValidElement(h.action)?h.action:h.action&&t0(h.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:pe=>{var Ae,Fe;t0(h.action)&&(pe.defaultPrevented||((Fe=(Ae=h.action).onClick)==null||Fe.call(Ae,pe),Ke()))},className:te(A==null?void 0:A.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function zM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Eie=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=yie,toastOptions:g,dir:v=zM(),gap:p=wie,loadingIcon:y,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:_=jie}=e,[S,E]=R.useState([]),k=R.useMemo(()=>Array.from(new Set([r].concat(S.filter(V=>V.position).map(V=>V.position)))),[S,r]),[j,N]=R.useState([]),[C,P]=R.useState(!1),[O,F]=R.useState(!1),[M,q]=R.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=R.useRef(null),I=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=R.useRef(null),z=R.useRef(!1),re=R.useCallback(V=>{var te;(te=S.find(X=>X.id===V.id))!=null&&te.delete||ra.dismiss(V.id),E(X=>X.filter(({id:ye})=>ye!==V.id))},[S]);return R.useEffect(()=>ra.subscribe(V=>{if(V.dismiss){E(te=>te.map(X=>X.id===V.id?{...X,delete:!0}:X));return}setTimeout(()=>{Bh.flushSync(()=>{E(te=>{let X=te.findIndex(ye=>ye.id===V.id);return X!==-1?[...te.slice(0,X),{...te[X],...V},...te.slice(X+1)]:[V,...te]})})})}),[]),R.useEffect(()=>{if(c!=="system"){q(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{q(V?"dark":"light")})},[c]),R.useEffect(()=>{S.length<=1&&P(!1)},[S]),R.useEffect(()=>{let V=te=>{var X,ye;n.every(oe=>te[oe]||te.code===oe)&&(P(!0),(X=B.current)==null||X.focus()),te.code==="Escape"&&(document.activeElement===B.current||(ye=B.current)!=null&&ye.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[n]),R.useEffect(()=>{if(B.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,z.current=!1)}},[B.current]),S.length?R.createElement("section",{"aria-label":`${b} ${I}`,tabIndex:-1},k.map((V,te)=>{var X;let[ye,oe]=V.split("-");return R.createElement("ol",{key:V,dir:v==="auto"?zM():v,tabIndex:-1,ref:B,className:i,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":ye,"data-x-position":oe,style:{"--front-toast-height":`${((X=j[0])==null?void 0:X.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||vie,"--width":`${bie}px`,"--gap":`${p}px`,...f},onBlur:me=>{z.current&&!me.currentTarget.contains(me.relatedTarget)&&(z.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||z.current||(z.current=!0,A.current=me.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{O||P(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(me=>!me.position&&te===0||me.position===V).map((me,D)=>{var $,H;return R.createElement(kie,{key:me.id,icons:x,index:D,toast:me,defaultRichColors:u,duration:($=g==null?void 0:g.duration)!=null?$:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(H=g==null?void 0:g.closeButton)!=null?H:a,interacting:O,position:V,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:re,toasts:S.filter(G=>G.position==me.position),heights:j.filter(G=>G.position==me.position),setHeights:N,expandByDefault:s,gap:p,loadingIcon:y,expanded:C,pauseWhenPageIsHidden:w,cn:_})}))})):null};const Nie=({...e})=>{const{theme:t="light"}=sl();return o.jsx(Eie,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:rounded-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-md",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground group-[.toast]:rounded-md"}},...e})};function Ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Cie(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function c1(...e){return t=>e.forEach(r=>Cie(r,t))}function xt(...e){return m.useCallback(c1(...e),e)}function Pie(e,t){const r=m.createContext(t),n=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Js(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Aie(s,...t)]}function Aie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ho=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),a=s.find(Tie);if(a){const i=a.props.children,l=s.map(c=>c===a?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return o.jsx(YE,{...n,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return o.jsx(YE,{...n,ref:t,children:r})});Ho.displayName="Slot";var YE=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=Rie(r);return m.cloneElement(r,{...Oie(n,r.props),ref:t?c1(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});YE.displayName="SlotClone";var gA=({children:e})=>o.jsx(o.Fragment,{children:e});function Tie(e){return m.isValidElement(e)&&e.type===gA}function Oie(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Rie(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $ie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rt=$ie.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:a,...i}=n,l=a?Ho:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qh(e,t){e&&ud.flushSync(()=>e.dispatchEvent(t))}function Ut(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Mie(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Iie="DismissableLayer",JE="dismissableLayer.update",Lie="dismissableLayer.pointerDownOutside",Die="dismissableLayer.focusOutside",qM,e9=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),t9=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(e9),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=Uie(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=zie(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return Mie(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),WM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qM)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),WM())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(JE,k),()=>document.removeEventListener(JE,k)},[]),o.jsx(rt.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,S.onPointerDownCapture)})});t9.displayName=Iie;var Fie="DismissableLayerBranch",Bie=m.forwardRef((e,t)=>{const r=m.useContext(e9),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(rt.div,{...e,ref:s})});Bie.displayName=Fie;function Uie(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){r9(Lie,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function zie(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&r9(Die,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function WM(){const e=new CustomEvent(JE);document.dispatchEvent(e)}function r9(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qh(s,a):s.dispatchEvent(a)}var an=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},qie=Lh.useId||(()=>{}),Wie=0;function Da(e){const[t,r]=m.useState(qie());return an(()=>{r(n=>n??String(Wie++))},[e]),t?`radix-${t}`:""}const Vie=["top","right","bottom","left"],wc=Math.min,aa=Math.max,ob=Math.round,r0=Math.floor,Gi=e=>({x:e,y:e}),Hie={left:"right",right:"left",bottom:"top",top:"bottom"},Kie={start:"end",end:"start"};function XE(e,t,r){return aa(e,wc(t,r))}function Ko(e,t){return typeof e=="function"?e(t):e}function Go(e){return e.split("-")[0]}function Wh(e){return e.split("-")[1]}function yA(e){return e==="x"?"y":"x"}function vA(e){return e==="y"?"height":"width"}const Gie=new Set(["top","bottom"]);function Bi(e){return Gie.has(Go(e))?"y":"x"}function xA(e){return yA(Bi(e))}function Yie(e,t,r){r===void 0&&(r=!1);const n=Wh(e),s=xA(e),a=vA(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=lb(i)),[i,lb(i)]}function Jie(e){const t=lb(e);return[QE(e),t,QE(t)]}function QE(e){return e.replace(/start|end/g,t=>Kie[t])}const VM=["left","right"],HM=["right","left"],Xie=["top","bottom"],Qie=["bottom","top"];function Zie(e,t,r){switch(e){case"top":case"bottom":return r?t?HM:VM:t?VM:HM;case"left":case"right":return t?Xie:Qie;default:return[]}}function eoe(e,t,r,n){const s=Wh(e);let a=Zie(Go(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(QE)))),a}function lb(e){return e.replace(/left|right|bottom|top/g,t=>Hie[t])}function toe(e){return{top:0,right:0,bottom:0,left:0,...e}}function n9(e){return typeof e!="number"?toe(e):{top:e,right:e,bottom:e,left:e}}function cb(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function KM(e,t,r){let{reference:n,floating:s}=e;const a=Bi(t),i=xA(t),l=vA(i),c=Go(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(Wh(t)){case"start":g[i]-=h*(r&&u?-1:1);break;case"end":g[i]+=h*(r&&u?-1:1);break}return g}const roe=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=KM(u,n,c),h=n,g={},v=0;for(let p=0;p<l.length;p++){const{name:y,fn:x}=l[p],{x:b,y:w,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=w??f,g={...g,[y]:{...g[y],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=KM(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Pg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Ko(t,e),v=n9(g),y=l[h?f==="floating"?"reference":"floating":f],x=cb(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=cb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+v.top)/_.y,bottom:(S.bottom-x.bottom+v.bottom)/_.y,left:(x.left-S.left+v.left)/_.x,right:(S.right-x.right+v.right)/_.x}}const noe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ko(e,t)||{};if(u==null)return{};const f=n9(d),h={x:r,y:n},g=xA(s),v=vA(g),p=await i.getDimensions(u),y=g==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=a.reference[v]+a.reference[g]-h[g]-a.floating[v],S=h[g]-a.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=E?E[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=l.floating[w]||a.floating[v]);const j=_/2-S/2,N=k/2-p[v]/2-1,C=wc(f[x],N),P=wc(f[b],N),O=C,F=k-p[v]-P,M=k/2-p[v]/2+j,q=XE(O,M,F),B=!c.arrow&&Wh(s)!=null&&M!==q&&a.reference[v]/2-(M<O?C:P)-p[v]/2<0,I=B?M<O?M-O:M-F:0;return{[g]:h[g]+I,data:{[g]:q,centerOffset:M-q-I,...B&&{alignmentOffset:I}},reset:B}}}),soe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...y}=Ko(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Go(s),b=Bi(l),w=Go(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!p?[lb(l)]:Jie(l)),E=v!=="none";!h&&E&&S.push(...eoe(l,p,v,_));const k=[l,...S],j=await Pg(t,y),N=[];let C=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(j[x]),f){const M=Yie(s,i,_);N.push(j[M[0]],j[M[1]])}if(C=[...C,{placement:s,overflows:N}],!N.every(M=>M<=0)){var P,O;const M=(((P=a.flip)==null?void 0:P.index)||0)+1,q=k[M];if(q&&(!(f==="alignment"?b!==Bi(q):!1)||C.every(A=>Bi(A.placement)===b?A.overflows[0]>0:!0)))return{data:{index:M,overflows:C},reset:{placement:q}};let B=(O=C.filter(I=>I.overflows[0]<=0).sort((I,A)=>I.overflows[1]-A.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(g){case"bestFit":{var F;const I=(F=C.filter(A=>{if(E){const z=Bi(A.placement);return z===b||z==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(z=>z>0).reduce((z,re)=>z+re,0)]).sort((A,z)=>A[1]-z[1])[0])==null?void 0:F[0];I&&(B=I);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function GM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YM(e){return Vie.some(t=>e[t]>=0)}const aoe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ko(e,t);switch(n){case"referenceHidden":{const a=await Pg(t,{...s,elementContext:"reference"}),i=GM(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:YM(i)}}}case"escaped":{const a=await Pg(t,{...s,altBoundary:!0}),i=GM(a,r.floating);return{data:{escapedOffsets:i,escaped:YM(i)}}}default:return{}}}}},s9=new Set(["left","top"]);async function ioe(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Go(r),l=Wh(r),c=Bi(r)==="y",u=s9.has(i)?-1:1,d=a&&c?-1:1,f=Ko(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const ooe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await ioe(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},loe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=Ko(e,t),u={x:r,y:n},d=await Pg(t,c),f=Bi(Go(s)),h=yA(f);let g=u[h],v=u[f];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=g+d[y],w=g-d[x];g=XE(b,g,w)}if(i){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=XE(b,v,w)}const p=l.fn({...t,[h]:g,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[f]:i}}}}}},coe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ko(e,t),d={x:r,y:n},f=Bi(s),h=yA(f);let g=d[h],v=d[f];const p=Ko(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=a.reference[h]-a.floating[w]+y.mainAxis,S=a.reference[h]+a.reference[w]-y.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var x,b;const w=h==="y"?"width":"height",_=s9.has(Go(s)),S=a.reference[f]-a.floating[w]+(_&&((x=i.offset)==null?void 0:x[f])||0)+(_?0:y.crossAxis),E=a.reference[f]+a.reference[w]+(_?0:((b=i.offset)==null?void 0:b[f])||0)-(_?y.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[h]:g,[f]:v}}}},uoe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Ko(e,t),d=await Pg(t,u),f=Go(s),h=Wh(s),g=Bi(s)==="y",{width:v,height:p}=a.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=v-d.left-d.right,_=wc(p-d[y],b),S=wc(v-d[x],w),E=!t.middlewareData.shift;let k=_,j=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),E&&!h){const C=aa(d.left,0),P=aa(d.right,0),O=aa(d.top,0),F=aa(d.bottom,0);g?j=v-2*(C!==0||P!==0?C+P:aa(d.left,d.right)):k=p-2*(O!==0||F!==0?O+F:aa(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:k});const N=await i.getDimensions(l.floating);return v!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function u1(){return typeof window<"u"}function Vh(e){return a9(e)?(e.nodeName||"").toLowerCase():"#document"}function fa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lo(e){var t;return(t=(a9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function a9(e){return u1()?e instanceof Node||e instanceof fa(e).Node:!1}function vi(e){return u1()?e instanceof Element||e instanceof fa(e).Element:!1}function so(e){return u1()?e instanceof HTMLElement||e instanceof fa(e).HTMLElement:!1}function JM(e){return!u1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fa(e).ShadowRoot}const doe=new Set(["inline","contents"]);function Ky(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=xi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!doe.has(s)}const foe=new Set(["table","td","th"]);function hoe(e){return foe.has(Vh(e))}const poe=[":popover-open",":modal"];function d1(e){return poe.some(t=>{try{return e.matches(t)}catch{return!1}})}const moe=["transform","translate","scale","rotate","perspective"],goe=["transform","translate","scale","rotate","perspective","filter"],yoe=["paint","layout","strict","content"];function bA(e){const t=wA(),r=vi(e)?xi(e):e;return moe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||goe.some(n=>(r.willChange||"").includes(n))||yoe.some(n=>(r.contain||"").includes(n))}function voe(e){let t=_c(e);for(;so(t)&&!ah(t);){if(bA(t))return t;if(d1(t))return null;t=_c(t)}return null}function wA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xoe=new Set(["html","body","#document"]);function ah(e){return xoe.has(Vh(e))}function xi(e){return fa(e).getComputedStyle(e)}function f1(e){return vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _c(e){if(Vh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JM(e)&&e.host||lo(e);return JM(t)?t.host:t}function i9(e){const t=_c(e);return ah(t)?e.ownerDocument?e.ownerDocument.body:e.body:so(t)&&Ky(t)?t:i9(t)}function Ag(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=i9(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=fa(s);if(a){const l=ZE(i);return t.concat(i,i.visualViewport||[],Ky(s)?s:[],l&&r?Ag(l):[])}return t.concat(s,Ag(s,[],r))}function ZE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function o9(e){const t=xi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=so(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=ob(r)!==a||ob(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function _A(e){return vi(e)?e:e.contextElement}function _f(e){const t=_A(e);if(!so(t))return Gi(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=o9(t);let i=(a?ob(r.width):r.width)/n,l=(a?ob(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const boe=Gi(0);function l9(e){const t=fa(e);return!wA()||!t.visualViewport?boe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function woe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fa(e)?!1:t}function Vu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=_A(e);let i=Gi(1);t&&(n?vi(n)&&(i=_f(n)):i=_f(e));const l=woe(a,r,n)?l9(a):Gi(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=fa(a),g=n&&vi(n)?fa(n):n;let v=h,p=ZE(v);for(;p&&n&&g!==v;){const y=_f(p),x=p.getBoundingClientRect(),b=xi(p),w=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*y.x,_=x.top+(p.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=_,v=fa(p),p=ZE(v)}}return cb({width:d,height:f,x:c,y:u})}function h1(e,t){const r=f1(e).scrollLeft;return t?t.left+r:Vu(lo(e)).left+r}function c9(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-h1(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function _oe(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=lo(n),l=t?d1(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Gi(1);const d=Gi(0),f=so(n);if((f||!f&&!a)&&((Vh(n)!=="body"||Ky(i))&&(c=f1(n)),so(n))){const g=Vu(n);u=_f(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=i&&!f&&!a?c9(i,c):Gi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Soe(e){return Array.from(e.getClientRects())}function joe(e){const t=lo(e),r=f1(e),n=e.ownerDocument.body,s=aa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=aa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+h1(e);const l=-r.scrollTop;return xi(n).direction==="rtl"&&(i+=aa(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const XM=25;function koe(e,t){const r=fa(e),n=lo(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=wA();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=h1(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-g);v<=XM&&(a-=v)}else u<=XM&&(a+=u);return{width:a,height:i,x:l,y:c}}const Eoe=new Set(["absolute","fixed"]);function Noe(e,t){const r=Vu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=so(e)?_f(e):Gi(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function QM(e,t,r){let n;if(t==="viewport")n=koe(e,r);else if(t==="document")n=joe(lo(e));else if(vi(t))n=Noe(t,r);else{const s=l9(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return cb(n)}function u9(e,t){const r=_c(e);return r===t||!vi(r)||ah(r)?!1:xi(r).position==="fixed"||u9(r,t)}function Coe(e,t){const r=t.get(e);if(r)return r;let n=Ag(e,[],!1).filter(l=>vi(l)&&Vh(l)!=="body"),s=null;const a=xi(e).position==="fixed";let i=a?_c(e):e;for(;vi(i)&&!ah(i);){const l=xi(i),c=bA(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Eoe.has(s.position)||Ky(i)&&!c&&u9(e,i))?n=n.filter(d=>d!==i):s=l,i=_c(i)}return t.set(e,n),n}function Poe(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?d1(t)?[]:Coe(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=QM(t,d,s);return u.top=aa(f.top,u.top),u.right=wc(f.right,u.right),u.bottom=wc(f.bottom,u.bottom),u.left=aa(f.left,u.left),u},QM(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Aoe(e){const{width:t,height:r}=o9(e);return{width:t,height:r}}function Toe(e,t,r){const n=so(t),s=lo(t),a=r==="fixed",i=Vu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Gi(0);function u(){c.x=h1(s)}if(n||!n&&!a)if((Vh(t)!=="body"||Ky(s))&&(l=f1(t)),n){const g=Vu(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?c9(s,l):Gi(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function VS(e){return xi(e).position==="static"}function ZM(e,t){if(!so(e)||xi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return lo(e)===r&&(r=r.ownerDocument.body),r}function d9(e,t){const r=fa(e);if(d1(e))return r;if(!so(e)){let s=_c(e);for(;s&&!ah(s);){if(vi(s)&&!VS(s))return s;s=_c(s)}return r}let n=ZM(e,t);for(;n&&hoe(n)&&VS(n);)n=ZM(n,t);return n&&ah(n)&&VS(n)&&!bA(n)?r:n||voe(e)||r}const Ooe=async function(e){const t=this.getOffsetParent||d9,r=this.getDimensions,n=await r(e.floating);return{reference:Toe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Roe(e){return xi(e).direction==="rtl"}const $oe={convertOffsetParentRelativeRectToViewportRelativeRect:_oe,getDocumentElement:lo,getClippingRect:Poe,getOffsetParent:d9,getElementRects:Ooe,getClientRects:Soe,getDimensions:Aoe,getScale:_f,isElement:vi,isRTL:Roe};function f9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Moe(e,t){let r=null,n;const s=lo(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const v=r0(f),p=r0(s.clientWidth-(d+h)),y=r0(s.clientHeight-(f+g)),x=r0(d),w={rootMargin:-v+"px "+-p+"px "+-y+"px "+-x+"px",threshold:aa(0,wc(1,c))||1};let _=!0;function S(E){const k=E[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!f9(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return i(!0),a}function Ioe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=_A(e),d=s||a?[...u?Ag(u):[],...Ag(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?Moe(u,r):null;let h=-1,g=null;i&&(g=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let v,p=c?Vu(e):null;c&&y();function y(){const x=Vu(e);p&&!f9(p,x)&&r(),p=x,v=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const Loe=ooe,Doe=loe,Foe=soe,Boe=uoe,Uoe=aoe,e4=noe,zoe=coe,qoe=(e,t,r)=>{const n=new Map,s={platform:$oe,...r},a={...s.platform,_c:n};return roe(e,t,{...s,platform:a})};var Woe=typeof document<"u",Voe=function(){},dx=Woe?m.useLayoutEffect:Voe;function ub(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ub(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!ub(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function h9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t4(e,t){const r=h9(e);return Math.round(t*r)/r}function HS(e){const t=m.useRef(e);return dx(()=>{t.current=e}),t}function Hoe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(n);ub(h,n)||g(n);const[v,p]=m.useState(null),[y,x]=m.useState(null),b=m.useCallback(A=>{A!==E.current&&(E.current=A,p(A))},[]),w=m.useCallback(A=>{A!==k.current&&(k.current=A,x(A))},[]),_=a||v,S=i||y,E=m.useRef(null),k=m.useRef(null),j=m.useRef(d),N=c!=null,C=HS(c),P=HS(s),O=HS(u),F=m.useCallback(()=>{if(!E.current||!k.current)return;const A={placement:t,strategy:r,middleware:h};P.current&&(A.platform=P.current),qoe(E.current,k.current,A).then(z=>{const re={...z,isPositioned:O.current!==!1};M.current&&!ub(j.current,re)&&(j.current=re,ud.flushSync(()=>{f(re)}))})},[h,t,r,P,O]);dx(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const M=m.useRef(!1);dx(()=>(M.current=!0,()=>{M.current=!1}),[]),dx(()=>{if(_&&(E.current=_),S&&(k.current=S),_&&S){if(C.current)return C.current(_,S,F);F()}},[_,S,F,C,N]);const q=m.useMemo(()=>({reference:E,floating:k,setReference:b,setFloating:w}),[b,w]),B=m.useMemo(()=>({reference:_,floating:S}),[_,S]),I=m.useMemo(()=>{const A={position:r,left:0,top:0};if(!B.floating)return A;const z=t4(B.floating,d.x),re=t4(B.floating,d.y);return l?{...A,transform:"translate("+z+"px, "+re+"px)",...h9(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:re}},[r,l,B.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:F,refs:q,elements:B,floatingStyles:I}),[d,F,q,B,I])}const Koe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?e4({element:n.current,padding:s}).fn(r):{}:n?e4({element:n,padding:s}).fn(r):{}}}},Goe=(e,t)=>({...Loe(e),options:[e,t]}),Yoe=(e,t)=>({...Doe(e),options:[e,t]}),Joe=(e,t)=>({...zoe(e),options:[e,t]}),Xoe=(e,t)=>({...Foe(e),options:[e,t]}),Qoe=(e,t)=>({...Boe(e),options:[e,t]}),Zoe=(e,t)=>({...Uoe(e),options:[e,t]}),ele=(e,t)=>({...Koe(e),options:[e,t]});var tle="Arrow",p9=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(rt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});p9.displayName=tle;var rle=p9;function nle(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,sle(s,...t)]}function sle(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function p1(e){const[t,r]=m.useState(void 0);return an(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var SA="Popper",[m9,Ac]=nle(SA),[ale,g9]=m9(SA),y9=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return o.jsx(ale,{scope:t,anchor:n,onAnchorChange:s,children:r})};y9.displayName=SA;var v9="PopperAnchor",x9=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=g9(v9,r),i=m.useRef(null),l=xt(t,i);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(rt.div,{...s,ref:l})});x9.displayName=v9;var jA="PopperContent",[ile,ole]=m9(jA),b9=m.forwardRef((e,t)=>{var D,$,H,G,le,J;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=e,y=g9(jA,r),[x,b]=m.useState(null),w=xt(t,Z=>b(Z)),[_,S]=m.useState(null),E=p1(_),k=(E==null?void 0:E.width)??0,j=(E==null?void 0:E.height)??0,N=n+(a!=="center"?"-"+a:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],O=P.length>0,F={padding:C,boundary:P.filter(cle),altBoundary:O},{refs:M,floatingStyles:q,placement:B,isPositioned:I,middlewareData:A}=Hoe({strategy:"fixed",placement:N,whileElementsMounted:(...Z)=>Ioe(...Z,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[Goe({mainAxis:s+j,alignmentAxis:i}),c&&Yoe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Joe():void 0,...F}),c&&Xoe({...F}),Qoe({...F,apply:({elements:Z,rects:K,availableWidth:de,availableHeight:ae})=>{const{width:xe,height:ke}=K.reference,Me=Z.floating.style;Me.setProperty("--radix-popper-available-width",`${de}px`),Me.setProperty("--radix-popper-available-height",`${ae}px`),Me.setProperty("--radix-popper-anchor-width",`${xe}px`),Me.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),_&&ele({element:_,padding:l}),ule({arrowWidth:k,arrowHeight:j}),h&&Zoe({strategy:"referenceHidden",...F})]}),[z,re]=S9(B),V=Ut(v);an(()=>{I&&(V==null||V())},[I,V]);const te=(D=A.arrow)==null?void 0:D.x,X=($=A.arrow)==null?void 0:$.y,ye=((H=A.arrow)==null?void 0:H.centerOffset)!==0,[oe,me]=m.useState();return an(()=>{x&&me(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:I?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(G=A.transformOrigin)==null?void 0:G.x,(le=A.transformOrigin)==null?void 0:le.y].join(" "),...((J=A.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(ile,{scope:r,placedSide:z,onArrowChange:S,arrowX:te,arrowY:X,shouldHideArrow:ye,children:o.jsx(rt.div,{"data-side":z,"data-align":re,...p,ref:w,style:{...p.style,animation:I?void 0:"none"}})})})});b9.displayName=jA;var w9="PopperArrow",lle={top:"bottom",right:"left",bottom:"top",left:"right"},_9=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=ole(w9,n),i=lle[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(rle,{...s,ref:r,style:{...s.style,display:"block"}})})});_9.displayName=w9;function cle(e){return e!==null}var ule=e=>({name:"transformOrigin",options:e,fn(t){var y,x,b;const{placement:r,rects:n,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=S9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,g=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=i?f:`${h}px`,p=`${-c}px`):u==="top"?(v=i?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=i?f:`${g}px`):u==="left"&&(v=`${n.floating.width+c}px`,p=i?f:`${g}px`),{data:{x:v,y:p}}}});function S9(e){const[t,r="center"]=e.split("-");return[t,r]}var kA=y9,Gy=x9,m1=b9,g1=_9;function dle(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Zn=e=>{const{present:t,children:r}=e,n=fle(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=xt(n.ref,hle(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};Zn.displayName="Presence";function fle(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=dle(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=n0(n.current);a.current=l==="mounted"?u:"none"},[l]),an(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=n0(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),an(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=n0(n.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(a.current=n0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function n0(e){return(e==null?void 0:e.animationName)||"none"}function hle(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Va({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=ple({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Ut(r),c=m.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function ple({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),a=Ut(t);return m.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var mle="VisuallyHidden",EA=m.forwardRef((e,t)=>o.jsx(rt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));EA.displayName=mle;var gle=EA,[y1,oJe]=Js("Tooltip",[Ac]),NA=Ac(),j9="TooltipProvider",yle=700,r4="tooltip.open",[vle,k9]=y1(j9),E9=e=>{const{__scopeTooltip:t,delayDuration:r=yle,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(vle,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};E9.displayName=j9;var N9="Tooltip",[lJe,v1]=y1(N9),eN="TooltipTrigger",xle=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=v1(eN,r),a=k9(eN,r),i=NA(r),l=m.useRef(null),c=xt(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Gy,{asChild:!0,...i,children:o.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ue(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ue(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ue(e.onBlur,s.onClose),onClick:Ue(e.onClick,s.onClose)})})});xle.displayName=eN;var ble="TooltipPortal",[cJe,wle]=y1(ble,{forceMount:void 0}),ih="TooltipContent",C9=m.forwardRef((e,t)=>{const r=wle(ih,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=v1(ih,e.__scopeTooltip);return o.jsx(Zn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(P9,{side:s,...a,ref:t}):o.jsx(_le,{side:s,...a,ref:t})})}),_le=m.forwardRef((e,t)=>{const r=v1(ih,e.__scopeTooltip),n=k9(ih,e.__scopeTooltip),s=m.useRef(null),a=xt(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),g=m.useCallback((v,p)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},b=Ele(x,y.getBoundingClientRect()),w=Nle(x,b),_=Cle(p.getBoundingClientRect()),S=Ale([...w,..._]);l(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=y=>g(y,d),p=y=>g(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,g,h]),m.useEffect(()=>{if(i){const v=p=>{const y=p.target,x={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!Ple(x,i);b?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,h]),o.jsx(P9,{...e,ref:a})}),[Sle,jle]=y1(N9,{isInside:!1}),P9=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=v1(ih,r),u=NA(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(r4,d),()=>document.removeEventListener(r4,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(t9,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(m1,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(gA,{children:n}),o.jsx(Sle,{scope:r,isInside:!0,children:o.jsx(gle,{id:c.contentId,role:"tooltip",children:s||n})})]})})});C9.displayName=ih;var A9="TooltipArrow",kle=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=NA(r);return jle(A9,r).isInside?null:o.jsx(g1,{...s,...n,ref:t})});kle.displayName=A9;function Ele(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Nle(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Cle(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Ple(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function Ale(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Tle(t)}function Tle(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Ole=E9,T9=C9;function O9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=O9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function er(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=O9(e))&&(n&&(n+=" "),n+=t);return n}const CA="-",Rle=e=>{const t=Mle(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(CA);return l[0]===""&&l.length!==1&&l.shift(),R9(l,t)||$le(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},R9=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?R9(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(CA);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},n4=/^\[(.+)\]$/,$le=e=>{if(n4.test(e)){const t=n4.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Mle=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Lle(Object.entries(e.classGroups),r).forEach(([a,i])=>{tN(i,n,a,t)}),n},tN=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:s4(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Ile(s)){tN(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{tN(i,s4(t,a),r,n)})})},s4=(e,t)=>{let r=e;return t.split(CA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ile=e=>e.isThemeGetter,Lle=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,Dle=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},$9="!",Fle=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(n||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith($9),v=g?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},Ble=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Ule=e=>({cache:Dle(e.cacheSize),parseClassName:Fle(e),...Rle(e)}),zle=/\s+/,qle=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(zle);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let v=!!g,p=n(v?h.substring(0,g):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=Ble(d).join(":"),x=f?y+$9:y,b=x+p;if(a.includes(b))continue;a.push(b);const w=s(p,v);for(let _=0;_<w.length;++_){const S=w[_];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function Wle(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=M9(t))&&(n&&(n+=" "),n+=r);return n}const M9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=M9(e[n]))&&(r&&(r+=" "),r+=t);return r};function Vle(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=Ule(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=qle(c,r);return s(c,d),d}return function(){return a(Wle.apply(null,arguments))}}const Tr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},I9=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hle=/^\d+\/\d+$/,Kle=new Set(["px","full","screen"]),Gle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=e=>Sf(e)||Kle.has(e)||Hle.test(e),yl=e=>Hh(e,"length",ice),Sf=e=>!!e&&!Number.isNaN(Number(e)),KS=e=>Hh(e,"number",Sf),Hp=e=>!!e&&Number.isInteger(Number(e)),Zle=e=>e.endsWith("%")&&Sf(e.slice(0,-1)),Dt=e=>I9.test(e),vl=e=>Gle.test(e),ece=new Set(["length","size","percentage"]),tce=e=>Hh(e,ece,L9),rce=e=>Hh(e,"position",L9),nce=new Set(["image","url"]),sce=e=>Hh(e,nce,lce),ace=e=>Hh(e,"",oce),Kp=()=>!0,Hh=(e,t,r)=>{const n=I9.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ice=e=>Yle.test(e)&&!Jle.test(e),L9=()=>!1,oce=e=>Xle.test(e),lce=e=>Qle.test(e),cce=()=>{const e=Tr("colors"),t=Tr("spacing"),r=Tr("blur"),n=Tr("brightness"),s=Tr("borderColor"),a=Tr("borderRadius"),i=Tr("borderSpacing"),l=Tr("borderWidth"),c=Tr("contrast"),u=Tr("grayscale"),d=Tr("hueRotate"),f=Tr("invert"),h=Tr("gap"),g=Tr("gradientColorStops"),v=Tr("gradientColorStopPositions"),p=Tr("inset"),y=Tr("margin"),x=Tr("opacity"),b=Tr("padding"),w=Tr("saturate"),_=Tr("scale"),S=Tr("sepia"),E=Tr("skew"),k=Tr("space"),j=Tr("translate"),N=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Dt,t],O=()=>[Dt,t],F=()=>["",mo,yl],M=()=>["auto",Sf,Dt],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Dt],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[Sf,Dt];return{cacheSize:500,separator:":",theme:{colors:[Kp],spacing:[mo,yl],blur:["none","",vl,Dt],brightness:V(),borderColor:[e],borderRadius:["none","","full",vl,Dt],borderSpacing:O(),borderWidth:F(),contrast:V(),grayscale:z(),hueRotate:V(),invert:z(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Zle,yl],inset:P(),margin:P(),opacity:V(),padding:O(),saturate:V(),scale:V(),sepia:z(),skew:V(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Dt]}],container:["container"],columns:[{columns:[vl]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Dt]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hp,Dt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Dt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Hp,Dt]}],"grid-cols":[{"grid-cols":[Kp]}],"col-start-end":[{col:["auto",{span:["full",Hp,Dt]},Dt]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Kp]}],"row-start-end":[{row:["auto",{span:[Hp,Dt]},Dt]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Dt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Dt,t]}],"min-w":[{"min-w":[Dt,t,"min","max","fit"]}],"max-w":[{"max-w":[Dt,t,"none","full","min","max","fit","prose",{screen:[vl]},vl]}],h:[{h:[Dt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Dt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Dt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Dt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vl,yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",KS]}],"font-family":[{font:[Kp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Dt]}],"line-clamp":[{"line-clamp":["none",Sf,KS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mo,Dt]}],"list-image":[{"list-image":["none",Dt]}],"list-style-type":[{list:["none","disc","decimal",Dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mo,yl]}],"underline-offset":[{"underline-offset":["auto",mo,Dt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),rce]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sce]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[mo,Dt]}],"outline-w":[{outline:[mo,yl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[mo,yl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vl,ace]}],"shadow-color":[{shadow:[Kp]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vl,Dt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Dt]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Dt]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Hp,Dt]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Dt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mo,yl,KS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uce=Vle(cce);function ce(...e){return uce(er(e))}function qm(e){const t=String(e),n=parseInt(t,10).toString(16).padStart(8,"0").toLowerCase(),s=n.slice(0,8),a=n.slice(0,4),i="4"+n.slice(1,4),l="8"+n.slice(2,5),c=n+n+n+n;return`${s}-${a}-${i}-${l}-${c.slice(0,12)}`}const dce=Ole,fce=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(T9,{ref:n,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));fce.displayName=T9.displayName;var Kh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hu=typeof window>"u"||"Deno"in globalThis;function ka(){}function hce(e,t){return typeof e=="function"?e(t):e}function rN(e){return typeof e=="number"&&e>=0&&e!==1/0}function D9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jf(e,t){return typeof e=="function"?e(t):e}function ci(e,t){return typeof e=="function"?e(t):e}function a4(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==PA(i,t.options))return!1}else if(!Tg(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function i4(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ku(t.options.mutationKey)!==Ku(a))return!1}else if(!Tg(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function PA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ku)(e)}function Ku(e){return JSON.stringify(e,(t,r)=>nN(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Tg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Tg(e[r],t[r])):!1}function F9(e,t){if(e===t)return e;const r=o4(e)&&o4(t);if(r||nN(e)&&nN(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=F9(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function db(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function o4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nN(e){if(!l4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!l4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function l4(e){return Object.prototype.toString.call(e)==="[object Object]"}function pce(e){return new Promise(t=>{setTimeout(t,e)})}function sN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?F9(e,t):t}function mce(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function gce(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var AA=Symbol();function B9(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===AA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xu,Ll,If,w8,yce=(w8=class extends Kh{constructor(){super();jt(this,xu);jt(this,Ll);jt(this,If);lt(this,If,t=>{if(!Hu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ne(this,Ll)||this.setEventListener(ne(this,If))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Ll))==null||t.call(this),lt(this,Ll,void 0))}setEventListener(t){var r;lt(this,If,t),(r=ne(this,Ll))==null||r.call(this),lt(this,Ll,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ne(this,xu)!==t&&(lt(this,xu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ne(this,xu)=="boolean"?ne(this,xu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xu=new WeakMap,Ll=new WeakMap,If=new WeakMap,w8),TA=new yce,Lf,Dl,Df,_8,vce=(_8=class extends Kh{constructor(){super();jt(this,Lf,!0);jt(this,Dl);jt(this,Df);lt(this,Df,t=>{if(!Hu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ne(this,Dl)||this.setEventListener(ne(this,Df))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Dl))==null||t.call(this),lt(this,Dl,void 0))}setEventListener(t){var r;lt(this,Df,t),(r=ne(this,Dl))==null||r.call(this),lt(this,Dl,t(this.setOnline.bind(this)))}setOnline(t){ne(this,Lf)!==t&&(lt(this,Lf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ne(this,Lf)}},Lf=new WeakMap,Dl=new WeakMap,Df=new WeakMap,_8),fb=new vce;function aN(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function xce(e){return Math.min(1e3*2**e,3e4)}function U9(e){return(e??"online")==="online"?fb.isOnline():!0}var z9=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function GS(e){return e instanceof z9}function q9(e){let t=!1,r=0,n=!1,s;const a=aN(),i=p=>{var y;n||(h(new z9(p)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>TA.isFocused()&&(e.networkMode==="always"||fb.isOnline())&&e.canRun(),d=()=>U9(e.networkMode)&&e.canRun(),f=p=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,p),s==null||s(),a.resolve(p))},h=p=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,p),s==null||s(),a.reject(p))},g=()=>new Promise(p=>{var y;s=x=>{(n||u())&&p(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;s=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var E;if(n)return;const b=e.retry??(Hu?0:3),w=e.retryDelay??xce,_=typeof w=="function"?w(r,x):w,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!S){h(x);return}r++,(E=e.onFail)==null||E.call(e,r,x),pce(_).then(()=>u()?void 0:g()).then(()=>{t?h(x):v()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),a)}}function bce(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var En=bce(),bu,S8,W9=(S8=class{constructor(){jt(this,bu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rN(this.gcTime)&&lt(this,bu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hu?1/0:5*60*1e3))}clearGcTimeout(){ne(this,bu)&&(clearTimeout(ne(this,bu)),lt(this,bu,void 0))}},bu=new WeakMap,S8),Ff,Bf,ja,ns,My,wu,si,vo,j8,wce=(j8=class extends W9{constructor(t){super();jt(this,si);jt(this,Ff);jt(this,Bf);jt(this,ja);jt(this,ns);jt(this,My);jt(this,wu);lt(this,wu,!1),lt(this,My,t.defaultOptions),this.setOptions(t.options),this.observers=[],lt(this,ja,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,lt(this,Ff,_ce(this.options)),this.state=t.state??ne(this,Ff),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,ns))==null?void 0:t.promise}setOptions(t){this.options={...ne(this,My),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,ja).remove(this)}setData(t,r){const n=sN(this.state.data,t,this.options);return Ft(this,si,vo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ft(this,si,vo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=ne(this,ns))==null?void 0:n.promise;return(s=ne(this,ns))==null||s.cancel(t),r?r.then(ka).catch(ka):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Ff))}isActive(){return this.observers.some(t=>ci(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!D9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,ns))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,ns))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,ja).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ne(this,ns)&&(ne(this,wu)?ne(this,ns).cancel({revert:!0}):ne(this,ns).cancelRetry()),this.scheduleGc()),ne(this,ja).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ft(this,si,vo).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,ns))return ne(this,ns).continueRetry(),ne(this,ns).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(lt(this,wu,!0),n.signal)})},a=()=>{const f=B9(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),lt(this,wu,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),lt(this,Bf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Ft(this,si,vo).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,v,p;GS(f)&&f.silent||Ft(this,si,vo).call(this,{type:"error",error:f}),GS(f)||((g=(h=ne(this,ja).config).onError)==null||g.call(h,f,this),(p=(v=ne(this,ja).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return lt(this,ns,q9({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,v,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(g=(h=ne(this,ja).config).onSuccess)==null||g.call(h,f,this),(p=(v=ne(this,ja).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Ft(this,si,vo).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ft(this,si,vo).call(this,{type:"pause"})},onContinue:()=>{Ft(this,si,vo).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),ne(this,ns).start()}},Ff=new WeakMap,Bf=new WeakMap,ja=new WeakMap,ns=new WeakMap,My=new WeakMap,wu=new WeakMap,si=new WeakSet,vo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...V9(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return GS(s)&&s.revert&&ne(this,Bf)?{...ne(this,Bf),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),En.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ne(this,ja).notify({query:this,type:"updated",action:t})})},j8);function V9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U9(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _ce(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Oi,k8,Sce=(k8=class extends Kh{constructor(t={}){super();jt(this,Oi);this.config=t,lt(this,Oi,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??PA(s,r);let i=this.get(a);return i||(i=new wce({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){ne(this,Oi).has(t.queryHash)||(ne(this,Oi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ne(this,Oi).get(t.queryHash);r&&(t.destroy(),r===t&&ne(this,Oi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,Oi).get(t)}getAll(){return[...ne(this,Oi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>a4(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>a4(t,n)):r}notify(t){En.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oi=new WeakMap,k8),Ri,vs,_u,$i,wl,E8,jce=(E8=class extends W9{constructor(t){super();jt(this,$i);jt(this,Ri);jt(this,vs);jt(this,_u);this.mutationId=t.mutationId,lt(this,vs,t.mutationCache),lt(this,Ri,[]),this.state=t.state||H9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,Ri).includes(t)||(ne(this,Ri).push(t),this.clearGcTimeout(),ne(this,vs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){lt(this,Ri,ne(this,Ri).filter(r=>r!==t)),this.scheduleGc(),ne(this,vs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,Ri).length||(this.state.status==="pending"?this.scheduleGc():ne(this,vs).remove(this))}continue(){var t;return((t=ne(this,_u))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,l,c,u,d,f,h,g,v,p,y,x,b,w,_,S,E,k;lt(this,_u,q9({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,N)=>{Ft(this,$i,wl).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Ft(this,$i,wl).call(this,{type:"pause"})},onContinue:()=>{Ft(this,$i,wl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,vs).canRun(this)}));const r=this.state.status==="pending",n=!ne(this,_u).canStart();try{if(!r){Ft(this,$i,wl).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=ne(this,vs).config).onMutate)==null?void 0:a.call(s,t,this));const N=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));N!==this.state.context&&Ft(this,$i,wl).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const j=await ne(this,_u).start();return await((u=(c=ne(this,vs).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,t,this.state.context)),await((g=(h=ne(this,vs).config).onSettled)==null?void 0:g.call(h,j,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,j,null,t,this.state.context)),Ft(this,$i,wl).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(y=ne(this,vs).config).onError)==null?void 0:x.call(y,j,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,j,t,this.state.context)),await((S=(_=ne(this,vs).config).onSettled)==null?void 0:S.call(_,void 0,j,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,j,t,this.state.context)),j}finally{Ft(this,$i,wl).call(this,{type:"error",error:j})}}finally{ne(this,vs).runNext(this)}}},Ri=new WeakMap,vs=new WeakMap,_u=new WeakMap,$i=new WeakSet,wl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),En.batch(()=>{ne(this,Ri).forEach(n=>{n.onMutationUpdate(t)}),ne(this,vs).notify({mutation:this,type:"updated",action:t})})},E8);function H9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ta,Iy,N8,kce=(N8=class extends Kh{constructor(t={}){super();jt(this,ta);jt(this,Iy);this.config=t,lt(this,ta,new Map),lt(this,Iy,Date.now())}build(t,r,n){const s=new jce({mutationCache:this,mutationId:++Av(this,Iy)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=s0(t),n=ne(this,ta).get(r)??[];n.push(t),ne(this,ta).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=s0(t);if(ne(this,ta).has(r)){const s=(n=ne(this,ta).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?ne(this,ta).delete(r):ne(this,ta).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=ne(this,ta).get(s0(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=ne(this,ta).get(s0(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ne(this,ta).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>i4(r,n))}findAll(t={}){return this.getAll().filter(r=>i4(t,r))}notify(t){En.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return En.batch(()=>Promise.all(t.map(r=>r.continue().catch(ka))))}},ta=new WeakMap,Iy=new WeakMap,N8);function s0(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function c4(e){return{onFetch:(t,r)=>{var d,f,h,g,v;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=B9(t.options,t.fetchOptions),b=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};y(E);const k=await x(E),{maxPages:j}=t.options,N=S?gce:mce;return{pages:N(w.pages,k,j),pageParams:N(w.pageParams,_,j)}};if(s&&a.length){const w=s==="backward",_=w?Ece:u4,S={pages:a,pageParams:i},E=_(n,S);l=await b(S,E,w)}else{const w=e??a.length;do{const _=c===0?i[0]??n.initialPageParam:u4(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function u4(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ece(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rn,Fl,Bl,Uf,zf,Ul,qf,Wf,C8,Nce=(C8=class{constructor(e={}){jt(this,rn);jt(this,Fl);jt(this,Bl);jt(this,Uf);jt(this,zf);jt(this,Ul);jt(this,qf);jt(this,Wf);lt(this,rn,e.queryCache||new Sce),lt(this,Fl,e.mutationCache||new kce),lt(this,Bl,e.defaultOptions||{}),lt(this,Uf,new Map),lt(this,zf,new Map),lt(this,Ul,0)}mount(){Av(this,Ul)._++,ne(this,Ul)===1&&(lt(this,qf,TA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,rn).onFocus())})),lt(this,Wf,fb.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,rn).onOnline())})))}unmount(){var e,t;Av(this,Ul)._--,ne(this,Ul)===0&&((e=ne(this,qf))==null||e.call(this),lt(this,qf,void 0),(t=ne(this,Wf))==null||t.call(this),lt(this,Wf,void 0))}isFetching(e){return ne(this,rn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,Fl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,rn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=ne(this,rn).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(jf(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ne(this,rn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=ne(this,rn).get(n.queryHash),a=s==null?void 0:s.state.data,i=hce(t,a);if(i!==void 0)return ne(this,rn).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return En.batch(()=>ne(this,rn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,rn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ne(this,rn);En.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ne(this,rn),n={type:"active",...e};return En.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=En.batch(()=>ne(this,rn).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ka).catch(ka)}invalidateQueries(e={},t={}){return En.batch(()=>{if(ne(this,rn).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=En.batch(()=>ne(this,rn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ka)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ka)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ne(this,rn).build(this,t);return r.isStaleByTime(jf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ka).catch(ka)}fetchInfiniteQuery(e){return e.behavior=c4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ka).catch(ka)}ensureInfiniteQueryData(e){return e.behavior=c4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fb.isOnline()?ne(this,Fl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,rn)}getMutationCache(){return ne(this,Fl)}getDefaultOptions(){return ne(this,Bl)}setDefaultOptions(e){lt(this,Bl,e)}setQueryDefaults(e,t){ne(this,Uf).set(Ku(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,Uf).values()];let r={};return t.forEach(n=>{Tg(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){ne(this,zf).set(Ku(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,zf).values()];let r={};return t.forEach(n=>{Tg(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,Bl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=PA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===AA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,Bl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,rn).clear(),ne(this,Fl).clear()}},rn=new WeakMap,Fl=new WeakMap,Bl=new WeakMap,Uf=new WeakMap,zf=new WeakMap,Ul=new WeakMap,qf=new WeakMap,Wf=new WeakMap,C8),Ts,Yt,Ly,xs,Su,Vf,zl,Mi,Dy,Hf,Kf,ju,ku,ql,Gf,fr,jm,iN,oN,lN,cN,uN,dN,fN,K9,P8,Cce=(P8=class extends Kh{constructor(t,r){super();jt(this,fr);jt(this,Ts);jt(this,Yt);jt(this,Ly);jt(this,xs);jt(this,Su);jt(this,Vf);jt(this,zl);jt(this,Mi);jt(this,Dy);jt(this,Hf);jt(this,Kf);jt(this,ju);jt(this,ku);jt(this,ql);jt(this,Gf,new Set);this.options=r,lt(this,Ts,t),lt(this,Mi,null),lt(this,zl,aN()),this.options.experimental_prefetchInRender||ne(this,zl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ne(this,Yt).addObserver(this),d4(ne(this,Yt),this.options)?Ft(this,fr,jm).call(this):this.updateResult(),Ft(this,fr,cN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hN(ne(this,Yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hN(ne(this,Yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ft(this,fr,uN).call(this),Ft(this,fr,dN).call(this),ne(this,Yt).removeObserver(this)}setOptions(t,r){const n=this.options,s=ne(this,Yt);if(this.options=ne(this,Ts).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ci(this.options.enabled,ne(this,Yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ft(this,fr,fN).call(this),ne(this,Yt).setOptions(this.options),n._defaulted&&!db(this.options,n)&&ne(this,Ts).getQueryCache().notify({type:"observerOptionsUpdated",query:ne(this,Yt),observer:this});const a=this.hasListeners();a&&f4(ne(this,Yt),s,this.options,n)&&Ft(this,fr,jm).call(this),this.updateResult(r),a&&(ne(this,Yt)!==s||ci(this.options.enabled,ne(this,Yt))!==ci(n.enabled,ne(this,Yt))||jf(this.options.staleTime,ne(this,Yt))!==jf(n.staleTime,ne(this,Yt)))&&Ft(this,fr,iN).call(this);const i=Ft(this,fr,oN).call(this);a&&(ne(this,Yt)!==s||ci(this.options.enabled,ne(this,Yt))!==ci(n.enabled,ne(this,Yt))||i!==ne(this,ql))&&Ft(this,fr,lN).call(this,i)}getOptimisticResult(t){const r=ne(this,Ts).getQueryCache().build(ne(this,Ts),t),n=this.createResult(r,t);return Ace(this,n)&&(lt(this,xs,n),lt(this,Vf,this.options),lt(this,Su,ne(this,Yt).state)),n}getCurrentResult(){return ne(this,xs)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){ne(this,Gf).add(t)}getCurrentQuery(){return ne(this,Yt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=ne(this,Ts).defaultQueryOptions(t),n=ne(this,Ts).getQueryCache().build(ne(this,Ts),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ft(this,fr,jm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ne(this,xs)))}createResult(t,r){var j;const n=ne(this,Yt),s=this.options,a=ne(this,xs),i=ne(this,Su),l=ne(this,Vf),u=t!==n?t.state:ne(this,Ly),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&d4(t,r),P=N&&f4(t,n,r,s);(C||P)&&(f={...f,...V9(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:y}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(i==null?void 0:i.data)&&r.select===ne(this,Dy))g=ne(this,Hf);else try{lt(this,Dy,r.select),g=r.select(f.data),g=sN(a==null?void 0:a.data,g,r),lt(this,Hf,g),lt(this,Mi,null)}catch(N){lt(this,Mi,N)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&y==="pending"){let N;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=a.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((j=ne(this,Kf))==null?void 0:j.state.data,ne(this,Kf)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),lt(this,Mi,null)}catch(C){lt(this,Mi,C)}N!==void 0&&(y="success",g=sN(a==null?void 0:a.data,N,r),h=!0)}ne(this,Mi)&&(v=ne(this,Mi),g=ne(this,Hf),p=Date.now(),y="error");const x=f.fetchStatus==="fetching",b=y==="pending",w=y==="error",_=b&&x,S=g!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:w,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&S,isStale:OA(t,r),refetch:this.refetch,promise:ne(this,zl)};if(this.options.experimental_prefetchInRender){const N=O=>{k.status==="error"?O.reject(k.error):k.data!==void 0&&O.resolve(k.data)},C=()=>{const O=lt(this,zl,k.promise=aN());N(O)},P=ne(this,zl);switch(P.status){case"pending":t.queryHash===n.queryHash&&N(P);break;case"fulfilled":(k.status==="error"||k.data!==P.value)&&C();break;case"rejected":(k.status!=="error"||k.error!==P.reason)&&C();break}}return k}updateResult(t){const r=ne(this,xs),n=this.createResult(ne(this,Yt),this.options);if(lt(this,Su,ne(this,Yt).state),lt(this,Vf,this.options),ne(this,Su).data!==void 0&&lt(this,Kf,ne(this,Yt)),db(n,r))return;lt(this,xs,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!ne(this,Gf).size)return!0;const c=new Set(l??ne(this,Gf));return this.options.throwOnError&&c.add("error"),Object.keys(ne(this,xs)).some(u=>{const d=u;return ne(this,xs)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Ft(this,fr,K9).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ft(this,fr,cN).call(this)}},Ts=new WeakMap,Yt=new WeakMap,Ly=new WeakMap,xs=new WeakMap,Su=new WeakMap,Vf=new WeakMap,zl=new WeakMap,Mi=new WeakMap,Dy=new WeakMap,Hf=new WeakMap,Kf=new WeakMap,ju=new WeakMap,ku=new WeakMap,ql=new WeakMap,Gf=new WeakMap,fr=new WeakSet,jm=function(t){Ft(this,fr,fN).call(this);let r=ne(this,Yt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ka)),r},iN=function(){Ft(this,fr,uN).call(this);const t=jf(this.options.staleTime,ne(this,Yt));if(Hu||ne(this,xs).isStale||!rN(t))return;const n=D9(ne(this,xs).dataUpdatedAt,t)+1;lt(this,ju,setTimeout(()=>{ne(this,xs).isStale||this.updateResult()},n))},oN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ne(this,Yt)):this.options.refetchInterval)??!1},lN=function(t){Ft(this,fr,dN).call(this),lt(this,ql,t),!(Hu||ci(this.options.enabled,ne(this,Yt))===!1||!rN(ne(this,ql))||ne(this,ql)===0)&&lt(this,ku,setInterval(()=>{(this.options.refetchIntervalInBackground||TA.isFocused())&&Ft(this,fr,jm).call(this)},ne(this,ql)))},cN=function(){Ft(this,fr,iN).call(this),Ft(this,fr,lN).call(this,Ft(this,fr,oN).call(this))},uN=function(){ne(this,ju)&&(clearTimeout(ne(this,ju)),lt(this,ju,void 0))},dN=function(){ne(this,ku)&&(clearInterval(ne(this,ku)),lt(this,ku,void 0))},fN=function(){const t=ne(this,Ts).getQueryCache().build(ne(this,Ts),this.options);if(t===ne(this,Yt))return;const r=ne(this,Yt);lt(this,Yt,t),lt(this,Ly,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},K9=function(t){En.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(ne(this,xs))}),ne(this,Ts).getQueryCache().notify({query:ne(this,Yt),type:"observerResultsUpdated"})})},P8);function Pce(e,t){return ci(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function d4(e,t){return Pce(e,t)||e.state.data!==void 0&&hN(e,t,t.refetchOnMount)}function hN(e,t,r){if(ci(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&OA(e,t)}return!1}function f4(e,t,r,n){return(e!==t||ci(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&OA(e,r)}function OA(e,t){return ci(t.enabled,e)!==!1&&e.isStaleByTime(jf(t.staleTime,e))}function Ace(e,t){return!db(e.getCurrentResult(),t)}var Wl,Vl,Os,No,Uo,fx,pN,A8,Tce=(A8=class extends Kh{constructor(r,n){super();jt(this,Uo);jt(this,Wl);jt(this,Vl);jt(this,Os);jt(this,No);lt(this,Wl,r),this.setOptions(n),this.bindMethods(),Ft(this,Uo,fx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=ne(this,Wl).defaultMutationOptions(r),db(this.options,n)||ne(this,Wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ne(this,Os),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ku(n.mutationKey)!==Ku(this.options.mutationKey)?this.reset():((s=ne(this,Os))==null?void 0:s.state.status)==="pending"&&ne(this,Os).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ne(this,Os))==null||r.removeObserver(this)}onMutationUpdate(r){Ft(this,Uo,fx).call(this),Ft(this,Uo,pN).call(this,r)}getCurrentResult(){return ne(this,Vl)}reset(){var r;(r=ne(this,Os))==null||r.removeObserver(this),lt(this,Os,void 0),Ft(this,Uo,fx).call(this),Ft(this,Uo,pN).call(this)}mutate(r,n){var s;return lt(this,No,n),(s=ne(this,Os))==null||s.removeObserver(this),lt(this,Os,ne(this,Wl).getMutationCache().build(ne(this,Wl),this.options)),ne(this,Os).addObserver(this),ne(this,Os).execute(r)}},Wl=new WeakMap,Vl=new WeakMap,Os=new WeakMap,No=new WeakMap,Uo=new WeakSet,fx=function(){var n;const r=((n=ne(this,Os))==null?void 0:n.state)??H9();lt(this,Vl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},pN=function(r){En.batch(()=>{var n,s,a,i,l,c,u,d;if(ne(this,No)&&this.hasListeners()){const f=ne(this,Vl).variables,h=ne(this,Vl).context;(r==null?void 0:r.type)==="success"?((s=(n=ne(this,No)).onSuccess)==null||s.call(n,r.data,f,h),(i=(a=ne(this,No)).onSettled)==null||i.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=ne(this,No)).onError)==null||c.call(l,r.error,f,h),(d=(u=ne(this,No)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(ne(this,Vl))})})},A8),G9=m.createContext(void 0),Ys=e=>{const t=m.useContext(G9);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Oce=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(G9.Provider,{value:e,children:t})),Y9=m.createContext(!1),Rce=()=>m.useContext(Y9);Y9.Provider;function $ce(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mce=m.createContext($ce()),Ice=()=>m.useContext(Mce);function J9(e,t){return typeof e=="function"?e(...t):!!e}function X9(){}var Lce=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Dce=e=>{m.useEffect(()=>{e.clearReset()},[e])},Fce=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&J9(r,[e.error,n]),Bce=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Uce=(e,t)=>e.isLoading&&e.isFetching&&!t,zce=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,h4=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qce(e,t,r){var d,f,h,g,v;const n=Ys(),s=Rce(),a=Ice(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",Bce(i),Lce(i,a),Dce(a);const l=!n.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(p=>{const y=s?()=>{}:c.subscribe(En.batchCalls(p));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),zce(i,u))throw h4(i,c,a);if(Fce({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,i,u),i.experimental_prefetchInRender&&!Hu&&Uce(u,s)){const p=l?h4(i,c,a):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;p==null||p.catch(X9).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Wt(e,t){return qce(e,Cce)}function pa(e,t){const r=Ys(),[n]=m.useState(()=>new Tce(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(En.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((i,l)=>{n.mutate(i,l).catch(X9)},[n]);if(s.error&&J9(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}var Yl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yl||(Yl={}));const p4="popstate";function Wce(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return mN("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:hb(s)}return Hce(t,r,null,e)}function fn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vce(){return Math.random().toString(36).substr(2,8)}function m4(e,t){return{usr:e.state,key:e.key,idx:t}}function mN(e,t,r,n){return r===void 0&&(r=null),Og({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gh(t):t,{state:r,key:t&&t.key||n||Vce()})}function hb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Hce(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Yl.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Og({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Yl.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:x})}function h(y,x){l=Yl.Push;let b=mN(p.location,y,x);u=d()+1;let w=m4(b,u),_=p.createHref(b);try{i.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:p.location,delta:1})}function g(y,x){l=Yl.Replace;let b=mN(p.location,y,x);u=d();let w=m4(b,u),_=p.createHref(b);i.replaceState(w,"",_),a&&c&&c({action:l,location:p.location,delta:0})}function v(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof y=="string"?y:hb(y);return b=b.replace(/ $/,"%20"),fn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let p={get action(){return l},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(p4,f),c=y,()=>{s.removeEventListener(p4,f),c=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(y){return i.go(y)}};return p}var g4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(g4||(g4={}));function Kce(e,t,r){return r===void 0&&(r="/"),Gce(e,t,r,!1)}function Gce(e,t,r,n){let s=typeof t=="string"?Gh(t):t,a=RA(s.pathname||"/",r);if(a==null)return null;let i=Z9(e);Yce(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=iue(a);l=sue(i[c],u,n)}return l}function Z9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(fn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=dc([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(fn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z9(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:rue(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of ez(a.path))s(a,i,c)}),t}function ez(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=ez(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Yce(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nue(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jce=/^:[\w-]+$/,Xce=3,Qce=2,Zce=1,eue=10,tue=-2,y4=e=>e==="*";function rue(e,t){let r=e.split("/"),n=r.length;return r.some(y4)&&(n+=tue),t&&(n+=Qce),r.filter(s=>!y4(s)).reduce((s,a)=>s+(Jce.test(a)?Xce:a===""?Zce:eue),n)}function nue(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function sue(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=v4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=v4({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:dc([a,f.pathname]),pathnameBase:uue(dc([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=dc([a,f.pathnameBase]))}return i}function v4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aue(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let p=l[f]||"";i=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function aue(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Q9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function iue(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Q9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function RA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function oue(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Gh(e):e;return{pathname:r?r.startsWith("/")?r:lue(r,t):t,search:due(n),hash:fue(s)}}function lue(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function YS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cue(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $A(e,t){let r=cue(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function MA(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Gh(e):(s=Og({},e),fn(!s.pathname||!s.pathname.includes("?"),YS("?","pathname","search",s)),fn(!s.pathname||!s.pathname.includes("#"),YS("#","pathname","hash",s)),fn(!s.search||!s.search.includes("#"),YS("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=oue(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const dc=e=>e.join("/").replace(/\/\/+/g,"/"),uue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),due=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fue=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hue(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tz=["post","put","patch","delete"];new Set(tz);const pue=["get",...tz];new Set(pue);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}const IA=m.createContext(null),mue=m.createContext(null),Tc=m.createContext(null),x1=m.createContext(null),al=m.createContext({outlet:null,matches:[],isDataRoute:!1}),rz=m.createContext(null);function gue(e,t){let{relative:r}=t===void 0?{}:t;Yh()||fn(!1);let{basename:n,navigator:s}=m.useContext(Tc),{hash:a,pathname:i,search:l}=sz(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:dc([n,i])),s.createHref({pathname:c,search:l,hash:a})}function Yh(){return m.useContext(x1)!=null}function Xs(){return Yh()||fn(!1),m.useContext(x1).location}function nz(e){m.useContext(Tc).static||m.useLayoutEffect(e)}function ar(){let{isDataRoute:e}=m.useContext(al);return e?Pue():yue()}function yue(){Yh()||fn(!1);let e=m.useContext(IA),{basename:t,future:r,navigator:n}=m.useContext(Tc),{matches:s}=m.useContext(al),{pathname:a}=Xs(),i=JSON.stringify($A(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return nz(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=MA(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:dc([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,a,e])}function Jh(){let{matches:e}=m.useContext(al),t=e[e.length-1];return t?t.params:{}}function sz(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Tc),{matches:s}=m.useContext(al),{pathname:a}=Xs(),i=JSON.stringify($A(s,n.v7_relativeSplatPath));return m.useMemo(()=>MA(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function vue(e,t){return xue(e,t)}function xue(e,t,r,n){Yh()||fn(!1);let{navigator:s}=m.useContext(Tc),{matches:a}=m.useContext(al),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Xs(),d;if(t){var f;let y=typeof t=="string"?Gh(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||fn(!1),d=y}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=Kce(e,{pathname:g}),p=jue(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:dc([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:dc([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&p?m.createElement(x1.Provider,{value:{location:Rg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yl.Pop}},p):p}function bue(){let e=Cue(),t=hue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const wue=m.createElement(bue,null);class _ue extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(al.Provider,{value:this.props.routeContext},m.createElement(rz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sue(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(IA);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(al.Provider,{value:t},n)}function jue(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||fn(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,v=!1,p=null,y=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||wue,c&&(u<0&&h===0?(v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),b=()=>{let w;return g?w=p:v?w=y:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(Sue,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(_ue,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var az=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(az||{}),pb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pb||{});function kue(e){let t=m.useContext(IA);return t||fn(!1),t}function Eue(e){let t=m.useContext(mue);return t||fn(!1),t}function Nue(e){let t=m.useContext(al);return t||fn(!1),t}function iz(e){let t=Nue(),r=t.matches[t.matches.length-1];return r.route.id||fn(!1),r.route.id}function Cue(){var e;let t=m.useContext(rz),r=Eue(pb.UseRouteError),n=iz(pb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Pue(){let{router:e}=kue(az.UseNavigateStable),t=iz(pb.UseNavigateStable),r=m.useRef(!1);return nz(()=>{r.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Rg({fromRouteId:t},a)))},[e,t])}function Aue(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hx(e){let{to:t,replace:r,state:n,relative:s}=e;Yh()||fn(!1);let{future:a,static:i}=m.useContext(Tc),{matches:l}=m.useContext(al),{pathname:c}=Xs(),u=ar(),d=MA(t,$A(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function $s(e){fn(!1)}function Tue(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Yl.Pop,navigator:a,static:i=!1,future:l}=e;Yh()&&fn(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:Rg({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Gh(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,p=m.useMemo(()=>{let y=RA(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:g,key:v},navigationType:s}},[c,d,f,h,g,v,s]);return p==null?null:m.createElement(Tc.Provider,{value:u},m.createElement(x1.Provider,{children:r,value:p}))}function Oue(e){let{children:t,location:r}=e;return vue(gN(t),r)}new Promise(()=>{});function gN(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,gN(n.props.children,a));return}n.type!==$s&&fn(!1),!n.props.index||!n.props.children||fn(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=gN(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function Rue(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function $ue(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mue(e,t){return e.button===0&&(!t||t==="_self")&&!$ue(e)}function vN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Iue(e,t){let r=vN(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const Lue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Due="6";try{window.__reactRouterVersion=Due}catch{}const Fue="startTransition",x4=Lh[Fue];function Bue(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=Wce({window:s,v5Compat:!0}));let i=a.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&x4?x4(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>Aue(n),[n]),m.createElement(Tue,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const Uue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Rue(t,Lue),{basename:g}=m.useContext(Tc),v,p=!1;if(typeof u=="string"&&zue.test(u)&&(v=u,Uue))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=RA(_.pathname,g);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let y=gue(u,{relative:s}),x=que(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||x(w)}return m.createElement("a",yN({},h,{href:v||y,onClick:p||a?n:b,ref:r,target:c}))});var b4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(b4||(b4={}));var w4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(w4||(w4={}));function que(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=ar(),u=Xs(),d=sz(e,{relative:i});return m.useCallback(f=>{if(Mue(f,r)){f.preventDefault();let h=n!==void 0?n:hb(u)===hb(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}function Xh(e){let t=m.useRef(vN(e)),r=m.useRef(!1),n=Xs(),s=m.useMemo(()=>Iue(n.search,r.current?null:t.current),[n.search]),a=ar(),i=m.useCallback((l,c)=>{const u=vN(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,i]}function oz(e,t){return function(){return e.apply(t,arguments)}}const{toString:Wue}=Object.prototype,{getPrototypeOf:LA}=Object,{iterator:b1,toStringTag:lz}=Symbol,w1=(e=>t=>{const r=Wue.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_i=e=>(e=e.toLowerCase(),t=>w1(t)===e),_1=e=>t=>typeof t===e,{isArray:Qh}=Array,oh=_1("undefined");function Yy(e){return e!==null&&!oh(e)&&e.constructor!==null&&!oh(e.constructor)&&Ks(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cz=_i("ArrayBuffer");function Vue(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cz(e.buffer),t}const Hue=_1("string"),Ks=_1("function"),uz=_1("number"),Jy=e=>e!==null&&typeof e=="object",Kue=e=>e===!0||e===!1,px=e=>{if(w1(e)!=="object")return!1;const t=LA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(lz in e)&&!(b1 in e)},Gue=e=>{if(!Jy(e)||Yy(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Yue=_i("Date"),Jue=_i("File"),Xue=_i("Blob"),Que=_i("FileList"),Zue=e=>Jy(e)&&Ks(e.pipe),ede=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ks(e.append)&&((t=w1(e))==="formdata"||t==="object"&&Ks(e.toString)&&e.toString()==="[object FormData]"))},tde=_i("URLSearchParams"),[rde,nde,sde,ade]=["ReadableStream","Request","Response","Headers"].map(_i),ide=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xy(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Qh(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Yy(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function dz(e,t){if(Yy(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const uu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fz=e=>!oh(e)&&e!==uu;function xN(){const{caseless:e,skipUndefined:t}=fz(this)&&this||{},r={},n=(s,a)=>{const i=e&&dz(r,a)||a;px(r[i])&&px(s)?r[i]=xN(r[i],s):px(s)?r[i]=xN({},s):Qh(s)?r[i]=s.slice():(!t||!oh(s))&&(r[i]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Xy(arguments[s],n);return r}const ode=(e,t,r,{allOwnKeys:n}={})=>(Xy(t,(s,a)=>{r&&Ks(s)?e[a]=oz(s,r):e[a]=s},{allOwnKeys:n}),e),lde=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cde=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ude=(e,t,r,n)=>{let s,a,i;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&LA(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},dde=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},fde=e=>{if(!e)return null;if(Qh(e))return e;let t=e.length;if(!uz(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},hde=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&LA(Uint8Array)),pde=(e,t)=>{const n=(e&&e[b1]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},mde=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},gde=_i("HTMLFormElement"),yde=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),_4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),vde=_i("RegExp"),hz=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Xy(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},xde=e=>{hz(e,(t,r)=>{if(Ks(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ks(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bde=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Qh(e)?n(e):n(String(e).split(t)),r},wde=()=>{},_de=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Sde(e){return!!(e&&Ks(e.append)&&e[lz]==="FormData"&&e[b1])}const jde=e=>{const t=new Array(10),r=(n,s)=>{if(Jy(n)){if(t.indexOf(n)>=0)return;if(Yy(n))return n;if(!("toJSON"in n)){t[s]=n;const a=Qh(n)?[]:{};return Xy(n,(i,l)=>{const c=r(i,s+1);!oh(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},kde=_i("AsyncFunction"),Ede=e=>e&&(Jy(e)||Ks(e))&&Ks(e.then)&&Ks(e.catch),pz=((e,t)=>e?setImmediate:t?((r,n)=>(uu.addEventListener("message",({source:s,data:a})=>{s===uu&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),uu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ks(uu.postMessage)),Nde=typeof queueMicrotask<"u"?queueMicrotask.bind(uu):typeof process<"u"&&process.nextTick||pz,Cde=e=>e!=null&&Ks(e[b1]),ve={isArray:Qh,isArrayBuffer:cz,isBuffer:Yy,isFormData:ede,isArrayBufferView:Vue,isString:Hue,isNumber:uz,isBoolean:Kue,isObject:Jy,isPlainObject:px,isEmptyObject:Gue,isReadableStream:rde,isRequest:nde,isResponse:sde,isHeaders:ade,isUndefined:oh,isDate:Yue,isFile:Jue,isBlob:Xue,isRegExp:vde,isFunction:Ks,isStream:Zue,isURLSearchParams:tde,isTypedArray:hde,isFileList:Que,forEach:Xy,merge:xN,extend:ode,trim:ide,stripBOM:lde,inherits:cde,toFlatObject:ude,kindOf:w1,kindOfTest:_i,endsWith:dde,toArray:fde,forEachEntry:pde,matchAll:mde,isHTMLForm:gde,hasOwnProperty:_4,hasOwnProp:_4,reduceDescriptors:hz,freezeMethods:xde,toObjectSet:bde,toCamelCase:yde,noop:wde,toFiniteNumber:_de,findKey:dz,global:uu,isContextDefined:fz,isSpecCompliantForm:Sde,toJSONObject:jde,isAsyncFn:kde,isThenable:Ede,setImmediate:pz,asap:Nde,isIterable:Cde};function Mt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ve.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const mz=Mt.prototype,gz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gz[e]={value:e}});Object.defineProperties(Mt,gz);Object.defineProperty(mz,"isAxiosError",{value:!0});Mt.from=(e,t,r,n,s,a)=>{const i=Object.create(mz);ve.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Mt.call(i,l,c,r,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const Pde=null;function bN(e){return ve.isPlainObject(e)||ve.isArray(e)}function yz(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function S4(e,t,r){return e?e.concat(t).map(function(s,a){return s=yz(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Ade(e){return ve.isArray(e)&&!e.some(bN)}const Tde=ve.toFlatObject(ve,{},null,function(t){return/^is[A-Z]/.test(t)});function S1(e,t,r){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!ve.isUndefined(y[p])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ve.isDate(v))return v.toISOString();if(ve.isBoolean(v))return v.toString();if(!c&&ve.isBlob(v))throw new Mt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(v)||ve.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,p,y){let x=v;if(v&&!y&&typeof v=="object"){if(ve.endsWith(p,"{}"))p=n?p:p.slice(0,-2),v=JSON.stringify(v);else if(ve.isArray(v)&&Ade(v)||(ve.isFileList(v)||ve.endsWith(p,"[]"))&&(x=ve.toArray(v)))return p=yz(p),x.forEach(function(w,_){!(ve.isUndefined(w)||w===null)&&t.append(i===!0?S4([p],_,a):i===null?p:p+"[]",u(w))}),!1}return bN(v)?!0:(t.append(S4(y,p,a),u(v)),!1)}const f=[],h=Object.assign(Tde,{defaultVisitor:d,convertValue:u,isVisitable:bN});function g(v,p){if(!ve.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),ve.forEach(v,function(x,b){(!(ve.isUndefined(x)||x===null)&&s.call(t,x,ve.isString(b)?b.trim():b,p,h))===!0&&g(x,p?p.concat(b):[b])}),f.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return g(e),t}function j4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function DA(e,t){this._pairs=[],e&&S1(e,this,t)}const vz=DA.prototype;vz.append=function(t,r){this._pairs.push([t,r])};vz.toString=function(t){const r=t?function(n){return t.call(this,n,j4)}:j4;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Ode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xz(e,t,r){if(!t)return e;const n=r&&r.encode||Ode;ve.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=ve.isURLSearchParams(t)?t.toString():new DA(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class k4{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(n){n!==null&&t(n)})}}const bz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rde=typeof URLSearchParams<"u"?URLSearchParams:DA,$de=typeof FormData<"u"?FormData:null,Mde=typeof Blob<"u"?Blob:null,Ide={isBrowser:!0,classes:{URLSearchParams:Rde,FormData:$de,Blob:Mde},protocols:["http","https","file","blob","url","data"]},FA=typeof window<"u"&&typeof document<"u",wN=typeof navigator=="object"&&navigator||void 0,Lde=FA&&(!wN||["ReactNative","NativeScript","NS"].indexOf(wN.product)<0),Dde=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fde=FA&&window.location.href||"http://localhost",Bde=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FA,hasStandardBrowserEnv:Lde,hasStandardBrowserWebWorkerEnv:Dde,navigator:wN,origin:Fde},Symbol.toStringTag,{value:"Module"})),os={...Bde,...Ide};function Ude(e,t){return S1(e,new os.classes.URLSearchParams,{visitor:function(r,n,s,a){return os.isNode&&ve.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function zde(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qde(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function wz(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=a>=r.length;return i=!i&&ve.isArray(s)?s.length:i,c?(ve.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!ve.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&ve.isArray(s[i])&&(s[i]=qde(s[i])),!l)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(n,s)=>{t(zde(n),s,r,0)}),r}return null}function Wde(e,t,r){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Qy={transitional:bz,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=ve.isObject(t);if(a&&ve.isHTMLForm(t)&&(t=new FormData(t)),ve.isFormData(t))return s?JSON.stringify(wz(t)):t;if(ve.isArrayBuffer(t)||ve.isBuffer(t)||ve.isStream(t)||ve.isFile(t)||ve.isBlob(t)||ve.isReadableStream(t))return t;if(ve.isArrayBufferView(t))return t.buffer;if(ve.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ude(t,this.formSerializer).toString();if((l=ve.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return S1(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Wde(t)):t}],transformResponse:[function(t){const r=this.transitional||Qy.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ve.isResponse(t)||ve.isReadableStream(t))return t;if(t&&ve.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Mt.from(l,Mt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:os.classes.FormData,Blob:os.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{Qy.headers[e]={}});const Vde=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hde=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&Vde[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},E4=Symbol("internals");function Gp(e){return e&&String(e).trim().toLowerCase()}function mx(e){return e===!1||e==null?e:ve.isArray(e)?e.map(mx):String(e)}function Kde(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Gde=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function JS(e,t,r,n,s){if(ve.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!ve.isString(t)){if(ve.isString(n))return t.indexOf(n)!==-1;if(ve.isRegExp(n))return n.test(t)}}function Yde(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Jde(e,t){const r=ve.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}class Gs{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,u){const d=Gp(c);if(!d)throw new Error("header name must be a non-empty string");const f=ve.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=mx(l))}const i=(l,c)=>ve.forEach(l,(u,d)=>a(u,d,c));if(ve.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(ve.isString(t)&&(t=t.trim())&&!Gde(t))i(Hde(t),r);else if(ve.isObject(t)&&ve.isIterable(t)){let l={},c,u;for(const d of t){if(!ve.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ve.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Gp(t),t){const n=ve.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return Kde(s);if(ve.isFunction(r))return r.call(this,s,n);if(ve.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Gp(t),t){const n=ve.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||JS(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=Gp(i),i){const l=ve.findKey(n,i);l&&(!r||JS(n,n[l],l,r))&&(delete n[l],s=!0)}}return ve.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||JS(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return ve.forEach(this,(s,a)=>{const i=ve.findKey(n,a);if(i){r[i]=mx(s),delete r[a];return}const l=t?Yde(a):String(a).trim();l!==a&&delete r[a],r[l]=mx(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ve.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&ve.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[E4]=this[E4]={accessors:{}}).accessors,s=this.prototype;function a(i){const l=Gp(i);n[l]||(Jde(s,i),n[l]=!0)}return ve.isArray(t)?t.forEach(a):a(t),this}}Gs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Gs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ve.freezeMethods(Gs);function XS(e,t){const r=this||Qy,n=t||r,s=Gs.from(n.headers);let a=n.data;return ve.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function _z(e){return!!(e&&e.__CANCEL__)}function Zh(e,t,r){Mt.call(this,e??"canceled",Mt.ERR_CANCELED,t,r),this.name="CanceledError"}ve.inherits(Zh,Mt,{__CANCEL__:!0});function Sz(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Mt("Request failed with status code "+r.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Xde(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qde(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[a];i||(i=u),r[s]=c,n[s]=u;let f=a,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function Zde(e,t){let r=0,n=1e3/t,s,a;const i=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(s=u,a||(a=setTimeout(()=>{a=null,i(s)},n-f)))},()=>s&&i(s)]}const mb=(e,t,r=3)=>{let n=0;const s=Qde(50,250);return Zde(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,c=i-n,u=s(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},N4=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},C4=e=>(...t)=>ve.asap(()=>e(...t)),efe=os.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,os.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(os.origin),os.navigator&&/(msie|trident)/i.test(os.navigator.userAgent)):()=>!0,tfe=os.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];ve.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ve.isString(n)&&i.push("path="+n),ve.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rfe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nfe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function jz(e,t,r){let n=!rfe(t);return e&&(n||r==!1)?nfe(e,t):t}const P4=e=>e instanceof Gs?{...e}:e;function Gu(e,t){t=t||{};const r={};function n(u,d,f,h){return ve.isPlainObject(u)&&ve.isPlainObject(d)?ve.merge.call({caseless:h},u,d):ve.isPlainObject(d)?ve.merge({},d):ve.isArray(d)?d.slice():d}function s(u,d,f,h){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function a(u,d){if(!ve.isUndefined(d))return n(void 0,d)}function i(u,d){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>s(P4(u),P4(d),f,!0)};return ve.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);ve.isUndefined(h)&&f!==l||(r[d]=h)}),r}const kz=e=>{const t=Gu({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Gs.from(i),t.url=xz(jz(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ve.isFormData(r)){if(os.hasStandardBrowserEnv||os.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(ve.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(os.hasStandardBrowserEnv&&(n&&ve.isFunction(n)&&(n=n(t)),n||n!==!1&&efe(t.url))){const c=s&&a&&tfe.read(a);c&&i.set(s,c)}return t},sfe=typeof XMLHttpRequest<"u",afe=sfe&&function(e){return new Promise(function(r,n){const s=kz(e);let a=s.data;const i=Gs.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,g,v;function p(){g&&g(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function x(){if(!y)return;const w=Gs.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};Sz(function(k){r(k),p()},function(k){n(k),p()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new Mt("Request aborted",Mt.ECONNABORTED,e,y)),y=null)},y.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new Mt(S,Mt.ERR_NETWORK,e,y);E.event=_||null,n(E),y=null},y.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||bz;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new Mt(_,S.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&ve.forEach(i.toJSON(),function(_,S){y.setRequestHeader(S,_)}),ve.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),u&&([h,v]=mb(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,g]=mb(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=w=>{y&&(n(!w||w.type?new Zh(null,e,y):w),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=Xde(s.url);if(b&&os.protocols.indexOf(b)===-1){n(new Mt("Unsupported protocol "+b+":",Mt.ERR_BAD_REQUEST,e));return}y.send(a||null)})},ife=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Mt?d:new Zh(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>ve.asap(l),c}},ofe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},lfe=async function*(e,t){for await(const r of cfe(e))yield*ofe(r,t)},cfe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},A4=(e,t,r,n)=>{const s=lfe(e,t);let a=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=a+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},T4=64*1024,{isFunction:a0}=ve,ufe=(({Request:e,Response:t})=>({Request:e,Response:t}))(ve.global),{ReadableStream:O4,TextEncoder:R4}=ve.global,$4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},dfe=e=>{e=ve.merge.call({skipUndefined:!0},ufe,e);const{fetch:t,Request:r,Response:n}=e,s=t?a0(t):typeof fetch=="function",a=a0(r),i=a0(n);if(!s)return!1;const l=s&&a0(O4),c=s&&(typeof R4=="function"?(v=>p=>v.encode(p))(new R4):async v=>new Uint8Array(await new r(v).arrayBuffer())),u=a&&l&&$4(()=>{let v=!1;const p=new r(os.origin,{body:new O4,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!p}),d=i&&l&&$4(()=>ve.isReadableStream(new n("").body)),f={stream:d&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(p,y)=>{let x=p&&p[v];if(x)return x.call(p);throw new Mt(`Response type '${v}' is not supported`,Mt.ERR_NOT_SUPPORT,y)})});const h=async v=>{if(v==null)return 0;if(ve.isBlob(v))return v.size;if(ve.isSpecCompliantForm(v))return(await new r(os.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(v)||ve.isArrayBuffer(v))return v.byteLength;if(ve.isURLSearchParams(v)&&(v=v+""),ve.isString(v))return(await c(v)).byteLength},g=async(v,p)=>{const y=ve.toFiniteNumber(v.getContentLength());return y??h(p)};return async v=>{let{url:p,method:y,data:x,signal:b,cancelToken:w,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:k,headers:j,withCredentials:N="same-origin",fetchOptions:C}=kz(v),P=t||fetch;k=k?(k+"").toLowerCase():"text";let O=ife([b,w&&w.toAbortSignal()],_),F=null;const M=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let q;try{if(E&&u&&y!=="get"&&y!=="head"&&(q=await g(j,x))!==0){let V=new r(p,{method:"POST",body:x,duplex:"half"}),te;if(ve.isFormData(x)&&(te=V.headers.get("content-type"))&&j.setContentType(te),V.body){const[X,ye]=N4(q,mb(C4(E)));x=A4(V.body,T4,X,ye)}}ve.isString(N)||(N=N?"include":"omit");const B=a&&"credentials"in r.prototype,I={...C,signal:O,method:y.toUpperCase(),headers:j.normalize().toJSON(),body:x,duplex:"half",credentials:B?N:void 0};F=a&&new r(p,I);let A=await(a?P(F,C):P(p,I));const z=d&&(k==="stream"||k==="response");if(d&&(S||z&&M)){const V={};["status","statusText","headers"].forEach(oe=>{V[oe]=A[oe]});const te=ve.toFiniteNumber(A.headers.get("content-length")),[X,ye]=S&&N4(te,mb(C4(S),!0))||[];A=new n(A4(A.body,T4,X,()=>{ye&&ye(),M&&M()}),V)}k=k||"text";let re=await f[ve.findKey(f,k)||"text"](A,v);return!z&&M&&M(),await new Promise((V,te)=>{Sz(V,te,{data:re,headers:Gs.from(A.headers),status:A.status,statusText:A.statusText,config:v,request:F})})}catch(B){throw M&&M(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,v,F),{cause:B.cause||B}):Mt.from(B,B&&B.code,v,F)}}},ffe=new Map,Ez=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i=a.length,l=i,c,u,d=ffe;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:dfe(t)),d=u;return u};Ez();const _N={http:Pde,xhr:afe,fetch:{get:Ez}};ve.forEach(_N,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const M4=e=>`- ${e}`,hfe=e=>ve.isFunction(e)||e===null||e===!1,Nz={getAdapter:(e,t)=>{e=ve.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){n=e[i];let l;if(s=n,!hfe(n)&&(s=_N[(l=String(n)).toLowerCase()],s===void 0))throw new Mt(`Unknown adapter '${l}'`);if(s&&(ve.isFunction(s)||(s=s.get(t))))break;a[l||"#"+i]=s}if(!s){const i=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(M4).join(`
`):" "+M4(i[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:_N};function QS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zh(null,e)}function I4(e){return QS(e),e.headers=Gs.from(e.headers),e.data=XS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nz.getAdapter(e.adapter||Qy.adapter,e)(e).then(function(n){return QS(e),n.data=XS.call(e,e.transformResponse,n),n.headers=Gs.from(n.headers),n},function(n){return _z(n)||(QS(e),n&&n.response&&(n.response.data=XS.call(e,e.transformResponse,n.response),n.response.headers=Gs.from(n.response.headers))),Promise.reject(n)})}const Cz="1.12.2",j1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{j1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const L4={};j1.transitional=function(t,r,n){function s(a,i){return"[Axios v"+Cz+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new Mt(s(i," has been removed"+(r?" in "+r:"")),Mt.ERR_DEPRECATED);return r&&!L4[i]&&(L4[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,l):!0}};j1.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function pfe(e,t,r){if(typeof e!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const l=e[a],c=l===void 0||i(l,a,e);if(c!==!0)throw new Mt("option "+a+" must be "+c,Mt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Mt("Unknown option "+a,Mt.ERR_BAD_OPTION)}}const gx={assertOptions:pfe,validators:j1},Ai=gx.validators;class Cu{constructor(t){this.defaults=t||{},this.interceptors={request:new k4,response:new k4}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Gu(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&gx.assertOptions(n,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),s!=null&&(ve.isFunction(s)?r.paramsSerializer={serialize:s}:gx.assertOptions(s,{encode:Ai.function,serialize:Ai.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),gx.assertOptions(r,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&ve.merge(a.common,a[r.method]);a&&ve.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),r.headers=Gs.concat(i,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const v=[I4.bind(this),void 0];for(v.unshift(...l),v.push(...u),h=v.length,d=Promise.resolve(r);f<h;)d=d.then(v[f++],v[f++]);return d}h=l.length;let g=r;for(;f<h;){const v=l[f++],p=l[f++];try{g=v(g)}catch(y){p.call(this,y);break}}try{d=I4.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Gu(this.defaults,t);const r=jz(t.baseURL,t.url,t.allowAbsoluteUrls);return xz(r,t.params,t.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(t){Cu.prototype[t]=function(r,n){return this.request(Gu(n||{},{method:t,url:r,data:(n||{}).data}))}});ve.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,l){return this.request(Gu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Cu.prototype[t]=r(),Cu.prototype[t+"Form"]=r(!0)});class BA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new Zh(a,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new BA(function(s){t=s}),cancel:t}}}function mfe(e){return function(r){return e.apply(null,r)}}function gfe(e){return ve.isObject(e)&&e.isAxiosError===!0}const SN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(SN).forEach(([e,t])=>{SN[t]=e});function Pz(e){const t=new Cu(e),r=oz(Cu.prototype.request,t);return ve.extend(r,Cu.prototype,t,{allOwnKeys:!0}),ve.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Pz(Gu(e,s))},r}const nr=Pz(Qy);nr.Axios=Cu;nr.CanceledError=Zh;nr.CancelToken=BA;nr.isCancel=_z;nr.VERSION=Cz;nr.toFormData=S1;nr.AxiosError=Mt;nr.Cancel=nr.CanceledError;nr.all=function(t){return Promise.all(t)};nr.spread=mfe;nr.isAxiosError=gfe;nr.mergeConfig=Gu;nr.AxiosHeaders=Gs;nr.formToJSON=e=>wz(ve.isHTMLForm(e)?new FormData(e):e);nr.getAdapter=Nz.getAdapter;nr.HttpStatusCode=SN;nr.default=nr;const kf="https://web-production-80ed8.up.railway.app";let D4=!1;const Fn={setTokens:(e,t)=>{e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+"",localStorage.setItem("authToken",e),localStorage.setItem("refreshToken",t),localStorage.getItem("authToken")},getAccessToken:()=>{const e=localStorage.getItem("authToken");if(e&&(typeof localStorage<"u"?localStorage.getItem("userRole"):null)==="academy"){const r=e.length>30?`${e.substring(0,20)}...${e.substring(e.length-10)}`:e.substring(0,20)+"...";console.log(" Academy auth token",{length:e.length,preview:r,full:e})}return e},getRefreshToken:()=>localStorage.getItem("refreshToken"),clearTokens:(e=!1)=>{localStorage.getItem("authToken"),localStorage.getItem("refreshToken"),localStorage.getItem("userRole"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),e||localStorage.removeItem("userRole")},isTokenExpired:e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch{return!0}},refreshAccessToken:async()=>{var t;const e=Fn.getRefreshToken();if(!e||!e.trim())return null;try{const n=(await nr.post(`${kf}/api/refresh/`,{refresh:e})).data.access;if(n)return localStorage.setItem("authToken",n),n}catch(r){const n=(t=r==null?void 0:r.response)==null?void 0:t.status;console.error("Token refresh failed:",{status:n,error:r==null?void 0:r.message}),Fn.clearTokens(!1),typeof window<"u"&&!window.location.pathname.includes("/auth/")&&(window.location.href="/auth/login")}return null},setSessionRestoration:e=>{D4=e},isInSessionRestoration:()=>D4},Ce=nr.create({baseURL:kf,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Ce.interceptors.request.use(async e=>{var r,n,s,a,i,l;const t=Fn.getAccessToken();if(t&&!((r=e.url)!=null&&r.includes("/api/login/"))&&!((n=e.url)!=null&&n.includes("/api/academy/login/"))&&!((s=e.url)!=null&&s.includes("/api/register/"))&&!((a=e.url)!=null&&a.includes("/api/refresh/"))&&!((i=e.url)!=null&&i.includes("/api/verify-code/"))&&!((l=e.headers)!=null&&l.Authorization))if(Fn.isTokenExpired(t)){const c=await Fn.refreshAccessToken();c?e.headers.Authorization=`Bearer ${c}`:e.headers.Authorization=`Bearer ${t}`}else e.headers.Authorization=`Bearer ${t}`;return e},e=>Promise.reject(e));Ce.interceptors.response.use(e=>e,async e=>{var r,n,s,a,i,l,c,u,d;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/api/login/")||(s=t.url)!=null&&s.includes("/api/academy/login/")||(a=t.url)!=null&&a.includes("/api/register/")||(i=t.url)!=null&&i.includes("/api/refresh/"))return Promise.reject(e);t._retry=!0;const f=Fn.isInSessionRestoration(),h=(l=t.url)==null?void 0:l.includes("/api/academy/profile/"),g=(c=t.url)==null?void 0:c.includes("/api/academy/");try{const v=await Fn.refreshAccessToken(),p=Fn.getAccessToken();if(v){t.headers.Authorization=`Bearer ${v}`;try{return await Ce(t)}catch(y){if(((u=y.response)==null?void 0:u.status)===401&&g)return Promise.reject(y);throw y}}else if(p){if(g&&!f)return Promise.reject(e);t.headers.Authorization=`Bearer ${p}`;try{return await Ce(t)}catch(y){return Promise.reject(y)}}else if(g&&!f)return Promise.reject(e)}catch(v){if(console.error(" Token refresh threw an error:",v),Fn.getAccessToken()&&g||g&&!f)return Promise.reject(e)}if(!f&&!g)((d=e.response)==null?void 0:d.status)===401&&(Fn.clearTokens(!1),window.location.pathname.includes("/auth/")||(window.location.href="/auth/login"));else if(h)return Promise.reject(e)}return Promise.reject(e)});const Qe={AUTH:{LOGIN:"/api/login/",ACADEMY_LOGIN:"/api/academy/login/",REGISTER:"/api/register/",PROFILE:"/api/profile/",VERIFY_CODE:"/api/verify-code/",VERIFY_ACADEMY_EMAIL:"/api/verify-academy-email/",PASSWORD_RESET:"/password-reset/request/",PASSWORD_RESET_VERIFY:"/password-reset/verify/",PASSWORD_RESET_CONFIRM:"/password-reset/set-new/",TOKEN_REFRESH:"/api/refresh/"},USER:{PROFILE:"/api/user/profile/",SKILLS:"/api/user/skills/",TESTS:"/api/user/tests/"},ME:{PROFILE:"/api/me/profile/",SKILLS:"/api/me/skills/",INDUSTRY_PROFILE:"/api/me/industry-profile/",MATCHED_PROFESSIONS:"/api/me/profession/"},EDUCATIONS:"/api/educations/",WORK_EXPERIENCES:"/api/work-experiences/",SKILLS_SEARCH:"/api/skills/",ACADEMY:{PROFILE:"/api/academy/profile/",DETAIL:"/api/academy/",COURSES:"/api/academy/courses/",STUDENTS:"/api/academy/students/"},PAYMENTS:{BOG_AUTH:"/api/payments/bog/auth/",BOG_CREATE_ORDER:"/api/payments/bog/orders/"},JOBS:{SAVE_JOB:"/api/save-job/"}};function Sc(e,t){return{id:e.id!=null?String(e.id):t??"",academy_name:e.name??e.academy_name??"",description:e.description??"",website_url:e.website??e.website_url??"",contact_email:e.email??e.contact_email??"",logo_url:e.profile_image??e.logo_url??e.profile_photo_url??null,is_verified:e.is_verified,first_name:e.first_name??e.firstName??e.name??e.academy_name}}function yfe(e){return!e||typeof e!="object"?{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}:{github:e.github??"",linkedin:e.linkedin??"",facebook:e.facebook??"",instagram:e.instagram??"",dribbble:e.dribbble??"",behance:e.behance??""}}var UA="Avatar",[vfe,dJe]=Js(UA),[xfe,Az]=vfe(UA),Tz=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=m.useState("idle");return o.jsx(xfe,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(rt.span,{...n,ref:t})})});Tz.displayName=UA;var Oz="AvatarImage",Rz=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=Az(Oz,r),l=bfe(n,a.referrerPolicy),c=Ut(u=>{s(u),i.onImageLoadingStatusChange(u)});return an(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(rt.img,{...a,ref:t,src:n}):null});Rz.displayName=Oz;var $z="AvatarFallback",Mz=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=Az($z,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(rt.span,{...s,ref:t}):null});Mz.displayName=$z;function bfe(e,t){const[r,n]=m.useState("idle");return an(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Iz=Tz,Lz=Rz,Dz=Mz;const Fz=m.forwardRef(({className:e,...t},r)=>o.jsx(Iz,{ref:r,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Fz.displayName=Iz.displayName;const Bz=m.forwardRef(({className:e,...t},r)=>o.jsx(Lz,{ref:r,className:ce("aspect-square h-full w-full",e),...t}));Bz.displayName=Lz.displayName;const Uz=m.forwardRef(({className:e,...t},r)=>o.jsx(Dz,{ref:r,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Uz.displayName=Dz.displayName;const wfe={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-16 w-16",xl:"h-32 w-32"},F4=new Map,$g=({src:e,alt:t="Profile photo",fallback:r="U",className:n,size:s="md",loading:a="lazy"})=>o.jsxs(Fz,{className:ce(wfe[s],"rounded-3xl",n),children:[e&&o.jsx(Bz,{src:e,alt:t,className:"aspect-square h-full w-full",loading:a}),o.jsx(Uz,{className:"bg-[#AAF0FF] text-[#099DBC] text-2xl font-semibold rounded-none",children:r})]}),zz=()=>{const e=m.useCallback(r=>new Promise((n,s)=>{if(F4.has(r)){n();return}const a=new Image;a.onload=()=>{F4.set(r,!0),n()},a.onerror=s,!r.includes("supabase.co")&&!r.includes(window.location.origin)&&(a.crossOrigin="anonymous"),a.src=r}),[]),t=m.useCallback(async r=>{const n=r.map(s=>e(s));await Promise.allSettled(n)},[e]);return{preloadImage:e,preloadImages:t}};function B4(e){return e==="ka"?"ka":"en"}function Pu(e){const r=e.split("/").filter(Boolean)[0];if(r==="ka"||r==="en")return r;if(typeof window<"u"){const n=localStorage.getItem("appLanguage");if(n==="en"||n==="ka")return n}return"en"}function Mg(e){const t=e.split("/").filter(Boolean),r=t[0];return r==="ka"||r==="en"?"/"+t.slice(1).join("/"):e}function jN(e,t){return e.startsWith("/auth/")||e==="/auth"||e.startsWith("/en/")||e.startsWith("/ka/")?e:e==="/"?`/${B4(t)}`:`/${B4(t)}${e}`}function Ea(e,t){return jN(e,t)}const qz=m.createContext(void 0),i0=e=>{if(e&&typeof e=="object"){const t=e,r=n=>{if(n.user_type)return String(n.user_type);if(n.role)return String(n.role);if(n.user_role)return String(n.user_role);if(Array.isArray(n.roles)&&n.roles.length>0){const s=n.roles.find(a=>typeof a=="string"&&(a==="academy"||a.toLowerCase()==="academy"));return String(s||n.roles[0])}};if(t.user&&typeof t.user=="object"){const n=t.user,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.profile&&typeof t.profile=="object"){const n=t.profile,s=r(n);return s&&!n.user_type&&!n.role&&(n.user_type=s),n}if(t.email||t.username||t.id||t.user_type||t.role||t.name){const n={};t.id&&(n.id=typeof t.id=="string"||typeof t.id=="number"?t.id:String(t.id)),t.email&&(n.email=t.email),t.username&&(n.username=t.username),t.first_name&&(n.first_name=t.first_name),t.last_name&&(n.last_name=t.last_name),t.name&&!t.first_name&&(n.first_name=t.name),t.phone_number&&(n.phone_number=t.phone_number),t.profile_image!==void 0&&(n.profile_image=t.profile_image);const s=r(t);return s&&(n.user_type=s),n}}return null},U4=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_id||r.sub||r.id||null}catch(t){return console.error("Failed to decode JWT token:",t),null}},_fe=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!0),[a,i]=m.useState(null),l=ar(),{preloadImage:c}=zz(),u=m.useRef(c);m.useEffect(()=>{u.current=c},[c]),m.useEffect(()=>{(async()=>{Fn.setSessionRestoration(!0);try{const y=Fn.getAccessToken();if(!y){s(!1),Fn.setSessionRestoration(!1);return}const x=localStorage.getItem("userRole");let b=null;try{const j=y.split(".");if(j.length===3){const N=JSON.parse(atob(j[1])),C=N.user_id||N.sub||N.id||"";let O=N.user_type||N.role||N.user_role;!O&&Array.isArray(N.roles)&&(O=N.roles.find(M=>typeof M=="string"&&(M==="academy"||M.toLowerCase()==="academy"))||N.roles[0]),b={id:C||String(N.username)||"",email:N.email||N.username||"",username:N.username||N.email||"",first_name:N.first_name||N.name||"",user_type:O||"user",profile_image:N.profile_image||null}}}catch(j){console.error("Failed to decode JWT token:",j),console.warn(" JWT decode failed, but preserving token and attempting API call"),b=null}const w=x==="academy",_=(b==null?void 0:b.user_type)==="academy";let S=null;if(w||_)S=b;else try{const j=await Ce.get(Qe.AUTH.PROFILE),N=j.data;if(N.user_roles&&Array.isArray(N.user_roles)&&N.user_roles.find(P=>P.role==="academy"||P.role==="academy")&&!N.user_type&&!N.role&&(N.user_type="academy"),S=i0(j.data),S){const C=U4(y);C?S.id=C:!S.id&&S.email&&(S.id=S.email)}}catch(j){console.warn(" Profile API call failed, using JWT data:",j),S=b}S||(S=b);const E=localStorage.getItem("userRole");let k=!1;if(!(S!=null&&S.user_type)&&!E)try{const j=await Ce.get(Qe.ACADEMY.PROFILE);j.data&&j.status!==404&&(k=!0)}catch{}if(E){const j=S==null?void 0:S.user_type;E==="user"&&j&&j!=="user"?(S.user_type=j,localStorage.setItem("userRole",j)):S.user_type=E}else S!=null&&S.user_type?localStorage.setItem("userRole",S.user_type):k?(S.user_type="academy",localStorage.setItem("userRole","academy")):b!=null&&b.user_type&&b.user_type!=="user"?(S.user_type=b.user_type,localStorage.setItem("userRole",b.user_type)):(S.user_type=S.user_type||"user",localStorage.setItem("userRole",S.user_type));if(S&&(S.id||S.email)){if(!S.id&&S.email&&(S.id=S.email),S.user_type){const j=localStorage.getItem("userRole");(!j||j!==S.user_type)&&localStorage.setItem("userRole",S.user_type)}r(S),S.user_type==="academy"?Ce.get(Qe.ACADEMY.PROFILE).then(j=>{if(j.data){const N=Sc(j.data,S.id!=null?String(S.id):void 0);i({name:N.academy_name||"",email:N.contact_email||"",is_verified:N.is_verified??!1})}else i(null)}).catch(()=>i(null)):i(null)}else r(null),i(null)}catch{r(null),i(null)}finally{Fn.setSessionRestoration(!1),s(!1)}})()},[]),m.useEffect(()=>{t!=null&&t.profile_image&&u.current(t.profile_image).catch(console.error)},[t==null?void 0:t.profile_image]),m.useEffect(()=>{if(!n&&t){const p=window.location.pathname,y=Pu(p)||localStorage.getItem("appLanguage")||"en",x=localStorage.getItem("userRole")||t.user_type||"user",w=["/auth/login","/auth/signup","/auth/reset-password","/email-verification","/email-confirmed"].includes(p),S=["/terms-of-use","/help"].includes(p);if(p==="/"||w){if(x==="academy"){const C=Ea("/academy/dashboard",y);l(C,{replace:!0})}else{const C=Ea("/home",y);l(C,{replace:!0})}return}if(S)return;const E=Mg(p),k=E.startsWith("/academy/"),j=/^\/academy\/[^/]+$/.test(E)&&E!=="/academy/dashboard"&&E!=="/academy/profile"&&E!=="/academy/settings"&&E!=="/academy/register",N=!k&&!S&&(E==="/dashboard"||E==="/home"||E.startsWith("/profile")||E.startsWith("/settings")||E.startsWith("/notifications")||E.startsWith("/jobs")||E.startsWith("/courses")||E.startsWith("/skill")||E.startsWith("/interests"));if(j||x==="academy"&&k&&!j||x==="academy"&&k||x==="user"&&N||E==="/dashboard"||E==="/home"||p.includes("/dashboard")||p.includes("/home"))return;if(k&&x!=="academy"&&!j){const C=Ea("/home",y);l(C,{replace:!0})}else if(x==="academy"&&(E==="/dashboard"||E==="/home"||N)){const C=Ea("/academy/dashboard",y);l(C,{replace:!0})}else if(x==="academy"&&!k&&!S){const C=Ea("/academy/dashboard",y);l(C,{replace:!0})}}},[t,n,l]);const d=async(p,y)=>{s(!0);try{const x=await Ce.post(Qe.AUTH.LOGIN,{username:p,password:y}),b=x.data.access||x.data.token,w=x.data.refresh||x.data.refresh_token;if(!b)throw new Error("Login succeeded but did not return the required token (access or token field).");Fn.setTokens(b,w||""),w||console.warn("Login: No refresh token in response. Session may expire when access token expires. Backend should return a refresh token for persistent sessions.");const _=typeof window<"u"?localStorage.getItem("authToken"):null;typeof window<"u"&&console.log("User auth token:",b),await new Promise(N=>setTimeout(N,100));let S=null;const E=i0(x.data);if(E&&E.email)S=E;else try{const N=await Ce.get(Qe.AUTH.PROFILE);S=i0(N.data)}catch{}if(!S)throw new Error("Failed to fetch user profile.");const k=U4(b);if(k?S.id=k:!S.id&&S.email&&(S.id=S.email),!S.user_type){let N=!1;try{const C=await Ce.get(Qe.ACADEMY.PROFILE);C.data&&C.status!==404&&(N=!0)}catch{}N?S.user_type="academy":S.user_type="user"}S.user_type&&localStorage.setItem("userRole",S.user_type),r(S),S.user_type==="academy"?Ce.get(Qe.ACADEMY.PROFILE).then(N=>{if(N.data){const C=Sc(N.data,S.id!=null?String(S.id):void 0);i({name:C.academy_name||"",email:C.contact_email||"",is_verified:C.is_verified??!1})}else i(null)}).catch(()=>i(null)):i(null),S!=null&&S.profile_image&&u.current(S.profile_image).catch(console.error);const j=Pu(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(S.user_type==="academy"){const N=Ea("/academy/dashboard",j);l(N)}else{const N=Ea("/home",j);l(N)}}catch(x){throw console.error("Login failed:",x),x}finally{s(!1)}},f=async(p,y)=>{try{await Ce.post(Qe.AUTH.REGISTER,{email:p,password:y}),l("/auth/email-verification")}catch(x){throw console.error("Registration failed:",x),x}},h=()=>{Fn.clearTokens(),r(null),i(null),l("/auth/login")},g=p=>{t&&r({...t,...p})},v=async()=>{try{const p=await Ce.get(Qe.AUTH.PROFILE),y=i0(p.data);y&&r(y)}catch(p){console.error("Failed to refresh user:",p)}};return o.jsx(qz.Provider,{value:{user:t,loading:n,academyDisplay:a,login:d,logout:h,register:f,updateUser:g,refreshUser:v},children:e})},ir=()=>{const e=m.useContext(qz);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Sfe={nav:{home:"Home",jobs:"Vacancies",courses:"Courses",webinars:"Webinars",profile:"Profile",settings:"Settings",help:"Help Center",notifications:"Notifications"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",clear:"Clear",apply:"Apply",close:"Close",yes:"Yes",no:"No",ok:"OK",view:"View",more:"More",less:"Less"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",rememberMe:"Remember me",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcome:"Welcome",welcomeBack:"Welcome Back"},dashboard:{welcome:"Welcome",jobOffers:"Job Offers",courses:"Courses",skillTest:"Skill Test",skillPath:"Skill Path",interests:"Interests"},jobs:{title:"Vacancies",noJobs:"No jobs found",apply:"Apply",applied:"Applied",save:"Save",saved:"Saved",location:"Location",salary:"Salary",salaryRange:"Salary Range",minimum:"Minimum",maximum:"Maximum",byAgreement:"By Agreement",workType:"Work Type",country:"Country",interests:"Interests / Skills",type:"Type",posted:"Posted",deadline:"Deadline",description:"Description",requirements:"Requirements",benefits:"Benefits",company:"Company",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",remote:"Remote",hybrid:"Hybrid",filter:"Filter Jobs",clearFilters:"Clear Filters",search:"Search",searchPlaceholder:"Search",filters:"Filters",vacancy:"vacancy",vacancies:"vacancies",dateDescending:"Date Descending",dateAscending:"Date Ascending",dateDescendingFull:"Date Descending",dateAscendingFull:"Date Ascending",tryAdjustingFilters:"Try adjusting your search terms or filters",showing:"Showing",of:"of",page:"Page",previous:"Previous",next:"Next",errorLoading:"Error loading jobs. Please try again."},courses:{title:"Courses",noCourses:"No courses found",enroll:"Enroll",enrolled:"Enrolled",save:"Save",saved:"Saved",duration:"Duration",level:"Level",instructor:"Instructor",academy:"Academy",description:"Description",curriculum:"Curriculum",reviews:"Reviews",price:"Price",free:"Free",filter:"Filter Courses",clearFilters:"Clear Filters"},profile:{title:"Profile",editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",skills:"Skills",experience:"Experience",education:"Education",bio:"Bio",saveChanges:"Save Changes"},settings:{title:"Settings",account:"Account",preferences:"Preferences",notifications:"Notifications",privacy:"Privacy",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode"},notifications:{title:"Notifications",noNotifications:"No notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",browserNotifications:"Browser Notifications",enableBrowserNotifications:"Enable Browser Notifications",browserNotificationsDescription:"Get notified when new jobs matching your skills are posted. You'll receive browser notifications even when you're not on the site.",notificationPermissionGranted:"Browser notifications are enabled",notificationPermissionDenied:"Browser notifications are blocked. Please enable them in your browser settings.",notificationPermissionDefault:"Click the button below to enable browser notifications for new job matches.",requestPermission:"Enable Notifications",checkingForJobs:"Checking for new jobs...",notificationsEnabled:"Notifications Enabled",notificationsDisabled:"Notifications Disabled"},subscription:{title:"Subscription",upgrade:"Upgrade plan",currentPlan:"Current Plan",features:"Features",subscribe:"Subscribe"},help:{title:"Help Center",faq:"FAQ",contact:"Contact Support"},terms:{title:"Terms of Use",lastUpdated:"Last updated"},skillTest:{title:"Skill Test",start:"Start Test",next:"Next",previous:"Previous",finish:"Finish",results:"Results"},skillPath:{title:"Your Personalized Skill Path"},home:{skillTestTitle:"Begin Your Skill Assessment Journey",skillTestSubtitle:"Take our skill test to unlock personalized recommendations.",skillPathTitle:"Explore your personalized career path",skillPathSubtitle:"Get personalized recommendations for your career."},errors:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",notFound:"Not found",pageNotFound:"Page Not Found",pageNotFoundDescription:"The page you're looking for doesn't exist or has been moved."},jobMatch:{expLevel:"Exp. Level",skill:"Skill",industryExp:"Industry Exp.",overall:"Overall",excellentMatch:"Excellent match",bestMatch:"Best match",goodMatch:"Good match",fairMatch:"Fair match",badMatch:"Bad match",scoreDescription:"This score shows how closely your skills match the job requirements, prioritizing exact and key skill matches."},webinars:{title:"Webinars",noWebinars:"No webinars found",upcoming:"Upcoming",past:"Past",register:"Register",registered:"Registered",comingsoon:"Coming Soon",comingsoondescription:"Were adding a brand new page to Breneo very soon! Stay tuned for fresh features and updates that will make your experience even better."},beta:{title:"Youre using the beta version",message:"Some features may be limited or change as we continue improving the platform. We appreciate your feedback. it helps us build a better experience."}},jfe={nav:{home:"",jobs:"",courses:"",webinars:"",profile:"",settings:"",help:" ",notifications:""},common:{loading:"...",error:"",success:"",save:"",cancel:"",delete:"",edit:"",back:"",next:"",previous:"",submit:"",search:"",filter:"",clear:"",apply:"",close:"",yes:"",no:"",ok:"",view:"",more:"",less:""},auth:{login:"",signup:"",logout:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",resetPassword:" ",rememberMe:"",createAccount:" ",alreadyHaveAccount:"  ?",dontHaveAccount:"  ?",firstName:"",lastName:"",phone:"",welcome:"",welcomeBack:"   "},dashboard:{welcome:"",jobOffers:"",courses:"",skillTest:" ",skillPath:" ",interests:""},jobs:{title:"",noJobs:"  ",apply:"",applied:" ",save:"",saved:"",location:"",salary:"",salaryRange:" ",minimum:"",maximum:"",byAgreement:"",workType:" ",country:"",interests:" / ",type:"",posted:"",deadline:"",description:"",requirements:"",benefits:"",company:"",fullTime:" ",partTime:" ",contract:"",remote:"",hybrid:"",filter:" ",clearFilters:" ",search:"",searchPlaceholder:"",filters:"",vacancy:"",vacancies:"",dateDescending:" ",dateAscending:" ",dateDescendingFull:" ",dateAscendingFull:" ",tryAdjustingFilters:"     ",showing:"",of:"",page:"",previous:"",next:"",errorLoading:"  . ,  ."},courses:{title:"",noCourses:"  ",enroll:"",enrolled:"",save:"",saved:"",duration:"",level:"",instructor:"",academy:"",description:"",curriculum:" ",reviews:"",price:"",free:"",filter:" ",clearFilters:" "},profile:{title:"",editProfile:" ",personalInfo:" ",contactInfo:" ",skills:"",experience:"",education:"",bio:"",saveChanges:" "},settings:{title:"",account:"",preferences:"",notifications:"",privacy:"",language:"",theme:"",darkMode:" ",lightMode:" "},notifications:{title:"",noNotifications:"  ",markAsRead:" ",markAllAsRead:"  ",browserNotifications:" ",enableBrowserNotifications:"  ",browserNotificationsDescription:" ,    ,    .    ,  ,    .",notificationPermissionGranted:"  ",notificationPermissionDenied:"  . ,     .",notificationPermissionDefault:"   ,       .",requestPermission:" ",checkingForJobs:"  ...",notificationsEnabled:" ",notificationsDisabled:" "},subscription:{title:"",upgrade:" ",currentPlan:" ",features:"",subscribe:""},help:{title:" ",faq:"  ",contact:" "},terms:{title:" ",lastUpdated:" "},skillTest:{title:" ",start:" ",next:"",previous:"",finish:"",results:""},skillPath:{title:"   "},home:{skillTestTitle:"    ",skillTestSubtitle:"      .",skillPathTitle:"    ",skillPathSubtitle:"    ."},errors:{somethingWentWrong:"  ",tryAgain:" ",notFound:" ",pageNotFound:"  ",pageNotFoundDescription:",  ,    ."},jobMatch:{expLevel:"",skill:"",industryExp:"",overall:"",excellentMatch:"!",bestMatch:"!",goodMatch:"!",fairMatch:"!",badMatch:"!",scoreDescription:"  ,       ,       ."},webinars:{title:"",noWebinars:"  ",upcoming:"",past:"",register:"",registered:"",comingsoon:" ",comingsoondescription:"Breneo-    !     ,       ."},beta:{title:"   ",message:"      ,    .      ."}},Wz=m.createContext(void 0),kfe={en:Sfe,ka:jfe};function Efe({children:e}){const t=Xs(),r=ar(),[n,s]=m.useState(()=>{if(typeof window<"u"){const u=Pu(t.pathname);if(u)return u;const d=localStorage.getItem("appLanguage");if(d==="en"||d==="ka")return d}return"en"}),[a,i]=m.useState(!1);m.useEffect(()=>{i(!0)},[]),m.useEffect(()=>{if(!a||typeof window>"u")return;const u=Pu(t.pathname);u&&u!==n&&(s(u),localStorage.setItem("appLanguage",u),document.documentElement.lang=u)},[t.pathname,a,n]);const l=u=>{if(s(u),typeof window<"u"){localStorage.setItem("appLanguage",u),document.documentElement.lang=u;const d=Mg(t.pathname),f=jN(d,u);f!==t.pathname&&r(f,{replace:!0})}};m.useEffect(()=>{if(a&&typeof window<"u"){document.documentElement.lang=n;const u=setTimeout(()=>{if(!t.pathname.startsWith("/auth/")&&t.pathname!=="/auth"&&t.pathname!=="/"&&Pu(t.pathname)!==n){const f=Mg(t.pathname),h=jN(f,n);h!==t.pathname&&!t.pathname.includes("undefined")&&r(h,{replace:!0})}},100);return()=>clearTimeout(u)}},[n,a,t.pathname,r]);const c=m.useMemo(()=>kfe[n],[n]);return o.jsx(Wz.Provider,{value:{language:n,setLanguage:l,t:c},children:e})}function Si(){const e=m.useContext(Wz);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function ji(){const{t:e}=Si();return e}const Vz=m.createContext(void 0),z4="breneo-font-size",q4={small:.875,medium:1,big:1.125};function Nfe({children:e}){const[t,r]=m.useState(()=>{const a=localStorage.getItem(z4)||"medium",i=q4[a];return typeof document<"u"&&document.documentElement.style.setProperty("--font-size-base",`${i}rem`),a});m.useEffect(()=>{const s=q4[t];document.documentElement.style.setProperty("--font-size-base",`${s}rem`),localStorage.setItem(z4,t)},[t]);const n=s=>{r(s)};return o.jsx(Vz.Provider,{value:{fontSize:t,setFontSize:n},children:e})}function Cfe(){const e=m.useContext(Vz);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e}const Wm={fetchPlans:async()=>{try{return(await Ce.get("/api/subscription-plans/")).data}catch(e){throw console.error("Error fetching subscription plans:",e),e}},createOrder:async e=>{try{return(await Ce.post("/api/bog/create-order/",{plan_id:e})).data}catch(t){throw console.error("Error creating BOG order:",t),t}},saveCard:async(e,t)=>{try{return(await Ce.post(`/api/bog/save-card/${e}/`,{plan_id:t})).data}catch(r){throw console.error(`Error saving card for order ${e}:`,r),r}},fetchSubscription:async()=>{try{return(await Ce.get("/api/me/subscription/")).data}catch(e){throw console.error("Error fetching subscription:",e),e}},fetchPaymentHistory:async()=>{try{return(await Ce.get("/api/me/payment-history/")).data}catch(e){throw console.error("Error fetching payment history:",e),e}}},Hz=m.createContext(void 0),Pfe=({children:e})=>{const{user:t}=ir(),[r,n]=m.useState(null),[s,a]=m.useState(!1),[i,l]=m.useState(null),c=async()=>{if(!t){n(null);return}try{a(!0),l(null);const u=await Wm.fetchSubscription();n(u)}catch(u){console.error("Failed to fetch subscription:",u),l("Failed to fetch subscription information")}finally{a(!1)}};return m.useEffect(()=>{t?c():n(null)},[t]),o.jsx(Hz.Provider,{value:{subscriptionInfo:r,loading:s,error:i,refreshSubscription:c},children:e})},k1=()=>{const e=m.useContext(Hz);if(e===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return e},Afe=Fn,Tfe=()=>{try{const e=Afe.getAccessToken();if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_type||r.role||null}catch(e){return console.error("Error extracting role from token:",e),null}},Ofe=()=>{try{return localStorage.getItem("userRole")}catch(e){return console.error("Error getting role from storage:",e),null}},Rfe=()=>{const e=Ofe();if(e)return e;const t=Tfe();return t||null};function pr({children:e,requiredRole:t,redirectTo:r="/auth/login"}){const{user:n,loading:s}=ir(),a=Pu(window.location.pathname)||localStorage.getItem("appLanguage")||"en",i=typeof window<"u"&&!!localStorage.getItem("authToken");if(s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-breneo-lightgray dark:bg-[#181818]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!n&&!i)return o.jsx(hx,{to:r,replace:!0});if(t){const l=(n==null?void 0:n.user_type)||localStorage.getItem("userRole")||Rfe()||"user";if(l!==t)if(l==="academy"){const c=Ea("/academy/dashboard",a);return o.jsx(hx,{to:c,replace:!0})}else{const c=Ea("/home",a);return o.jsx(hx,{to:c,replace:!0})}}return o.jsx(o.Fragment,{children:e})}const W4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,V4=er,Zy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return V4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=W4(d)||W4(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(v=>{let[p,y]=v;return Array.isArray(y)?y.includes({...a,...l}[p]):{...a,...l}[p]===y})?[...u,f,h]:u},[]);return V4(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},zA=Zy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] font-normal ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 dark:focus-visible:ring-primary/40 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90 active:bg-primary/80 dark:bg-primary dark:hover:bg-primary/90 dark:active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent text-breneo-blue hover:bg-breneo-blue/10 dark:border-white/20 dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"text-breneo-blue hover:bg-breneo-blue/10 hover:text-breneo-blue dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10 dark:hover:text-breneo-blue-dark",link:"text-breneo-blue underline-offset-4 hover:underline dark:text-breneo-blue-dark"},size:{default:"h-12 px-8 text-[15px] leading-[22px]",sm:"h-10 px-6 text-sm leading-[20px] [&_svg]:size-4",xs:"h-11 px-5 text-sm leading-[20px] [&_svg]:size-4",lg:"h-14 px-10 text-lg leading-[26px] [&_svg]:size-6",icon:"h-12 w-12 p-0 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),se=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?Ho:"button";return o.jsx(i,{className:ce(zA({variant:t,size:r,className:e})),ref:a,...s})});se.displayName="Button";const it=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ce("flex h-[3.2rem] w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t==="date"&&"relative pr-10 text-left",e),ref:n,...r}));it.displayName="Input";var $fe="Label",Kz=m.forwardRef((e,t)=>o.jsx(rt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Kz.displayName=$fe;var Gz=Kz;const Mfe=Zy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=m.forwardRef(({className:e,...t},r)=>o.jsx(Gz,{ref:r,className:ce(Mfe(),e),...t}));Be.displayName=Gz.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yz=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...Lfe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Yz("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(Dfe,{ref:a,iconNode:t,className:Yz(`lucide-${Ife(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=nt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=nt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=nt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=nt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=nt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=nt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=nt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=nt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=nt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=nt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=nt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=nt("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=nt("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=nt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=nt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=nt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=nt("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=nt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=nt("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=nt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=nt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=nt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=nt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=nt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=nt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=nt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=nt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=nt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=nt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=nt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=nt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=nt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=nt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ao(){const{theme:e,setTheme:t}=sl(),[r,n]=m.useState(!1);if(m.useEffect(()=>{n(!0)},[]),!r)return o.jsx(se,{variant:"ghost",size:"icon",className:"h-10 w-10",children:o.jsx(yb,{size:22})});const s=e==="dark";return o.jsx(se,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>t(s?"light":"dark"),children:s?o.jsx(GA,{size:22}):o.jsx(yb,{size:22})})}const she="/lovable-uploads/Breneo-logo.png",ahe="/lovable-uploads/Breneo-logo-dark.png";function An({className:e,...t}){const{theme:r,resolvedTheme:n}=sl(),[s,a]=R.useState(!1);R.useEffect(()=>{a(!0)},[]);const l=s&&(n??r)==="dark"?ahe:she;return o.jsx("img",{src:l,alt:"Breneo Logo",className:ce("object-contain",e),...t})}const Q4=()=>{const e=ar(),{login:t,loading:r,user:n}=ir(),[s,a]=m.useState(""),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,g]=m.useState(!1),[v,p]=m.useState(!1),y=m.useCallback(w=>new Promise((_,S)=>{const E=new Image;E.onload=()=>_(),E.onerror=()=>S(new Error(`Failed to load image: ${w}`)),E.src=w}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([y("/lovable-uploads/Breneo-logo.png"),y("/lovable-uploads/Breneo-logo-dark.png"),y("/lovable-uploads/future.png")])}catch(_){console.warn("Some images failed to preload:",_),p(!0)}})()},[y]),m.useEffect(()=>{if(!r&&n){const w=n.user_type||localStorage.getItem("userRole")||"user",_=Pu(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(w==="academy"){const S=Ea("/academy/dashboard",_);e(S,{replace:!0})}else{const S=Ea("/home",_);e(S,{replace:!0})}}},[n,r,e]),m.useEffect(()=>{document.title="Login | Breneo",(document.querySelector('meta[name="description"]')||(()=>{const S=document.createElement("meta");return S.setAttribute("name","description"),document.head.appendChild(S),S})()).setAttribute("content","Log in to your Breneo account."),(document.querySelector('link[rel="canonical"]')||(()=>{const S=document.createElement("link");return S.setAttribute("rel","canonical"),document.head.appendChild(S),S})()).setAttribute("href",`${window.location.origin}/auth/login`)},[]);const x=async w=>{w.preventDefault();let _=!1;try{const S=await Ce.post(Qe.AUTH.ACADEMY_LOGIN,{email:s,password:i}),E=S.data.access||S.data.token,k=S.data.refresh;if(!E)throw new Error("Login succeeded but did not return the required token.");k?Fn.setTokens(E,k):localStorage.setItem("authToken",E),localStorage.setItem("userRole","academy"),window.location.href="/academy/dashboard";return}catch{console.log("Academy login failed, trying regular login..."),_=!0}if(_)try{await t(s,i)}catch(S){let E="Login failed. Please try again.",k=!1;if(nr.isAxiosError(S)&&S.response&&S.response.data){const j=S.response.data;let N="";if(typeof j.detail=="string"?N=j.detail:typeof j.message=="string"?N=j.message:typeof j.error=="string"?N=j.error:Array.isArray(j.non_field_errors)&&j.non_field_errors.length>0&&typeof j.non_field_errors[0]=="string"&&(N=j.non_field_errors[0]),N){E=N;const C=N.toLowerCase();(C.includes("email not verified")||C.includes("account not active")||C.includes("please verify your email")||C.includes("e-mail address not verified")||C.includes("user is inactive"))&&(k=!0)}else console.error("Unknown error format from server:",j)}k?(fe.info("Your account is not verified. Redirecting to verification..."),sessionStorage.setItem("tempEmail",s),sessionStorage.setItem("tempPassword",i),e("/auth/email-verification")):(fe.error(E),console.error("Login page caught error (see details below):",S instanceof Error?S.message:String(S)),nr.isAxiosError(S)&&S.response&&console.error("Server response data:",S.response.data))}},b=r;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!v&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-6 lg:h-5 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{p(!0),f(!0)}}),v&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!d&&!v&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{p(!0),f(!0)}}),v&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Sign In"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Welcome back to your Breneo account"}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"emailOrUsername",children:"Email or Username"}),o.jsx(it,{id:"emailOrUsername",type:"text",placeholder:"Enter your email or username",className:"mt-1 h-[3.2rem]",value:s,onChange:w=>a(w.target.value),required:!0,disabled:b})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(it,{id:"password",type:c?"text":"password",placeholder:"Enter your password",className:"pr-10 h-[3.2rem]",value:i,onChange:w=>l(w.target.value),required:!0,disabled:b}),o.jsx(se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:b,children:c?o.jsx(Dg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Ju,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>e("/auth/reset-password"),children:"Forgot Password?"})})]}),o.jsx(se,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Signing In...":"Sign In"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Don't have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/signup"),children:"Sign Up"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!h&&!v&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(vn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,style:{backgroundImage:h?"url('/lovable-uploads/cover_3.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_3.png",alt:"",className:"hidden",onLoad:()=>g(!0),onError:()=>{p(!0),g(!0)}}),v&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(vn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})};function Hm(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Z4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rq(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Z4(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Z4(e[s],null)}}}}function C1(...e){return m.useCallback(rq(...e),e)}function ihe(e,t){const r=m.createContext(t),n=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function ohe(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,lhe(s,...t)]}function lhe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var xb=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},che=Lh[" useId ".trim().toString()]||(()=>{}),uhe=0;function ej(e){const[t,r]=m.useState(che());return xb(()=>{e||r(n=>n??String(uhe++))},[e]),e||(t?`radix-${t}`:"")}var dhe=Lh[" useInsertionEffect ".trim().toString()]||xb;function fhe({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=hhe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=phe(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function hhe({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return dhe(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function phe(e){return typeof e=="function"}function tj(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function eI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nq(...e){return t=>{let r=!1;const n=e.map(s=>{const a=eI(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():eI(e[s],null)}}}}function sq(...e){return m.useCallback(nq(...e),e)}function mhe(e){const t=ghe(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(vhe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function ghe(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=bhe(s),l=xhe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?nq(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yhe=Symbol("radix.slottable");function vhe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yhe}function xhe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function bhe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var whe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aq=whe.reduce((e,t)=>{const r=mhe(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _he(e,t){e&&ud.flushSync(()=>e.dispatchEvent(t))}function iq(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function She(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function jhe(e,t=globalThis==null?void 0:globalThis.document){const r=She(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var khe="DismissableLayer",PN="dismissableLayer.update",Ehe="dismissableLayer.pointerDownOutside",Nhe="dismissableLayer.focusOutside",tI,oq=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lq=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(oq),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=sq(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=Ahe(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=The(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return jhe(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(tI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=tI)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rI())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(PN,k),()=>document.removeEventListener(PN,k)},[]),o.jsx(aq.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:tj(e.onFocusCapture,E.onFocusCapture),onBlurCapture:tj(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:tj(e.onPointerDownCapture,S.onPointerDownCapture)})});lq.displayName=khe;var Che="DismissableLayerBranch",Phe=m.forwardRef((e,t)=>{const r=m.useContext(oq),n=m.useRef(null),s=sq(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(aq.div,{...e,ref:s})});Phe.displayName=Che;function Ahe(e,t=globalThis==null?void 0:globalThis.document){const r=iq(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){cq(Ehe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function The(e,t=globalThis==null?void 0:globalThis.document){const r=iq(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&cq(Nhe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rI(){const e=new CustomEvent(PN);document.dispatchEvent(e)}function cq(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?_he(s,a):s.dispatchEvent(a)}function nI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uq(...e){return t=>{let r=!1;const n=e.map(s=>{const a=nI(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():nI(e[s],null)}}}}function Ohe(...e){return m.useCallback(uq(...e),e)}function Rhe(e){const t=$he(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(Ihe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function $he(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=Dhe(s),l=Lhe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?uq(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mhe=Symbol("radix.slottable");function Ihe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mhe}function Lhe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Dhe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bhe=Fhe.reduce((e,t)=>{const r=Rhe(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sI(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var rj="focusScope.autoFocusOnMount",nj="focusScope.autoFocusOnUnmount",aI={bubbles:!1,cancelable:!0},Uhe="FocusScope",dq=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=sI(s),d=sI(a),f=m.useRef(null),h=Ohe(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:_l(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||_l(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&_l(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){oI.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(rj,aI);l.addEventListener(rj,u),l.dispatchEvent(x),x.defaultPrevented||(zhe(Khe(fq(l)),{select:!0}),document.activeElement===p&&_l(l))}return()=>{l.removeEventListener(rj,u),setTimeout(()=>{const x=new CustomEvent(nj,aI);l.addEventListener(nj,d),l.dispatchEvent(x),x.defaultPrevented||_l(p??document.body,{select:!0}),l.removeEventListener(nj,d),oI.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=qhe(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&_l(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&_l(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(Bhe.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});dq.displayName=Uhe;function zhe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_l(n,{select:t}),document.activeElement!==r)return}function qhe(e){const t=fq(e),r=iI(t,e),n=iI(t.reverse(),e);return[r,n]}function fq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iI(e,t){for(const r of e)if(!Whe(r,{upTo:t}))return r}function Whe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Vhe(e){return e instanceof HTMLInputElement&&"select"in e}function _l(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Vhe(e)&&t&&e.select()}}var oI=Hhe();function Hhe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=lI(e,t),e.unshift(t)},remove(t){var r;e=lI(e,t),(r=e[0])==null||r.resume()}}}function lI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Khe(e){return e.filter(t=>t.tagName!=="A")}function cI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ghe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=cI(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():cI(e[s],null)}}}}function Yhe(e){const t=Jhe(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(Qhe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Jhe(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=epe(s),l=Zhe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ghe(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xhe=Symbol("radix.slottable");function Qhe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xhe}function Zhe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function epe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rpe=tpe.reduce((e,t)=>{const r=Yhe(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),npe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},spe="Portal",hq=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);npe(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bh.createPortal(o.jsx(rpe.div,{...n,ref:t}),i):null});hq.displayName=spe;function ape(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var P1=e=>{const{present:t,children:r}=e,n=ipe(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=C1(n.ref,ope(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};P1.displayName="Presence";function ipe(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=ape(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=l0(n.current);a.current=l==="mounted"?u:"none"},[l]),xb(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=l0(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),xb(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=l0(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(a.current=l0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function l0(e){return(e==null?void 0:e.animationName)||"none"}function ope(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pq(e){const t=lpe(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(upe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function lpe(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=fpe(s),l=dpe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?rq(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cpe=Symbol("radix.slottable");function upe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cpe}function dpe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function fpe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ev=hpe.reduce((e,t)=>{const r=pq(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),sj=0;function ppe(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uI()),document.body.insertAdjacentElement("beforeend",e[1]??uI()),sj++,()=>{sj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sj--}},[])}function uI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zt=function(){return Zt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Zt.apply(this,arguments)};function ep(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function tv(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var pc="right-scroll-bar-position",mc="width-before-scroll-bar",mpe="with-scroll-bars-hidden",gpe="--removed-body-scroll-bar-size";function aj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ype(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var vpe=typeof window<"u"?m.useLayoutEffect:m.useEffect,dI=new WeakMap;function rv(e,t){var r=ype(null,function(n){return e.forEach(function(s){return aj(s,n)})});return vpe(function(){var n=dI.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||aj(l,null)}),a.forEach(function(l){s.has(l)||aj(l,i)})}dI.set(r,e)},[e]),r}function xpe(e){return e}function bpe(e,t){t===void 0&&(t=xpe);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function nv(e){e===void 0&&(e={});var t=bpe(null);return t.options=Zt({async:!0,ssr:!1},e),t}var mq=function(e){var t=e.sideCar,r=ep(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Zt({},r))};mq.isSideCarExport=!0;function sv(e,t){return e.useMedium(t),mq}var gq=nv(),ij=function(){},A1=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:ij,onWheelCapture:ij,onTouchMoveCapture:ij}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,v=e.noIsolation,p=e.inert,y=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,_=ep(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=rv([r,t]),k=Zt(Zt({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:gq,removeScrollBar:u,shards:f,noRelative:g,noIsolation:v,inert:p,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:w}),i?m.cloneElement(m.Children.only(l),Zt(Zt({},k),{ref:E})):m.createElement(b,Zt({},k,{className:c,ref:E}),l))});A1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A1.classNames={fullWidth:mc,zeroRight:pc};var wpe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _pe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wpe();return t&&e.setAttribute("nonce",t),e}function Spe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jpe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kpe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=_pe())&&(Spe(t,r),jpe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Epe=function(){var e=kpe();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},tp=function(){var e=Epe(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Npe={left:0,top:0,right:0,gap:0},oj=function(e){return parseInt(e||"",10)||0},Cpe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[oj(r),oj(n),oj(s)]},Ppe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Npe;var t=Cpe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ape=tp(),Ef="data-scroll-locked",Tpe=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(mpe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ef,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(mc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pc," .").concat(pc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(mc," .").concat(mc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ef,`] {
    `).concat(gpe,": ").concat(l,`px;
  }
`)},fI=function(){var e=parseInt(document.body.getAttribute(Ef)||"0",10);return isFinite(e)?e:0},Ope=function(){m.useEffect(function(){return document.body.setAttribute(Ef,(fI()+1).toString()),function(){var e=fI()-1;e<=0?document.body.removeAttribute(Ef):document.body.setAttribute(Ef,e.toString())}},[])},av=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Ope();var a=m.useMemo(function(){return Ppe(s)},[s]);return m.createElement(Ape,{styles:Tpe(a,!t,s,r?"":"!important")})},AN=!1;if(typeof window<"u")try{var c0=Object.defineProperty({},"passive",{get:function(){return AN=!0,!0}});window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{AN=!1}var Sd=AN?{passive:!1}:!1,Rpe=function(e){return e.tagName==="TEXTAREA"},yq=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Rpe(e)&&r[t]==="visible")},$pe=function(e){return yq(e,"overflowY")},Mpe=function(e){return yq(e,"overflowX")},hI=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=vq(e,n);if(s){var a=xq(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Ipe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Lpe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},vq=function(e,t){return e==="v"?$pe(t):Mpe(t)},xq=function(e,t){return e==="v"?Ipe(t):Lpe(t)},Dpe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Fpe=function(e,t,r,n,s){var a=Dpe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var g=xq(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&vq(e,l)&&(f+=x,h+=v);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},u0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pI=function(e){return[e.deltaX,e.deltaY]},mI=function(e){return e&&"current"in e?e.current:e},Bpe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Upe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zpe=0,jd=[];function qpe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(zpe++)[0],a=m.useState(tp)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=tv([e.lockRef.current],(e.shards||[]).map(mI),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=u0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=hI(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=hI(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Fpe(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!jd.length||jd[jd.length-1]!==a)){var x="deltaY"in y?pI(y):u0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&Bpe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(mI).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:Wpe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=u0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,pI(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,u0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return jd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Sd),document.addEventListener("touchmove",c,Sd),document.addEventListener("touchstart",d,Sd),function(){jd=jd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Sd),document.removeEventListener("touchmove",c,Sd),document.removeEventListener("touchstart",d,Sd)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:Upe(s)}):null,g?m.createElement(av,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Wpe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Vpe=sv(gq,qpe);var bq=m.forwardRef(function(e,t){return m.createElement(A1,Zt({},e,{ref:t,sideCar:Vpe}))});bq.classNames=A1.classNames;var Hpe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},kd=new WeakMap,d0=new WeakMap,f0={},lj=0,wq=function(e){return e&&(e.host||wq(e.parentNode))},Kpe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wq(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Gpe=function(e,t,r,n){var s=Kpe(t,Array.isArray(e)?e:[e]);f0[r]||(f0[r]=new WeakMap);var a=f0[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),v=g!==null&&g!=="false",p=(kd.get(h)||0)+1,y=(a.get(h)||0)+1;kd.set(h,p),a.set(h,y),i.push(h),p===1&&v&&d0.set(h,!0),y===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),lj++,function(){i.forEach(function(f){var h=kd.get(f)-1,g=a.get(f)-1;kd.set(f,h),a.set(f,g),h||(d0.has(f)||f.removeAttribute(n),d0.delete(f)),g||f.removeAttribute(r)}),lj--,lj||(kd=new WeakMap,kd=new WeakMap,d0=new WeakMap,f0={})}},iv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Hpe(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Gpe(n,s,r,"aria-hidden")):function(){return null}},T1="Dialog",[_q,fJe]=ohe(T1),[Ype,ki]=_q(T1),Sq=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=fhe({prop:n,defaultProp:s??!1,onChange:a,caller:T1});return o.jsx(Ype,{scope:t,triggerRef:l,contentRef:c,contentId:ej(),titleId:ej(),descriptionId:ej(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};Sq.displayName=T1;var jq="DialogTrigger",kq=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ki(jq,r),a=C1(t,s.triggerRef);return o.jsx(ev.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":QA(s.open),...n,ref:a,onClick:Hm(e.onClick,s.onOpenToggle)})});kq.displayName=jq;var JA="DialogPortal",[Jpe,Eq]=_q(JA,{forceMount:void 0}),Nq=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=ki(JA,t);return o.jsx(Jpe,{scope:t,forceMount:r,children:m.Children.map(n,i=>o.jsx(P1,{present:r||a.open,children:o.jsx(hq,{asChild:!0,container:s,children:i})}))})};Nq.displayName=JA;var bb="DialogOverlay",Cq=m.forwardRef((e,t)=>{const r=Eq(bb,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=ki(bb,e.__scopeDialog);return a.modal?o.jsx(P1,{present:n||a.open,children:o.jsx(Qpe,{...s,ref:t})}):null});Cq.displayName=bb;var Xpe=pq("DialogOverlay.RemoveScroll"),Qpe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ki(bb,r);return o.jsx(bq,{as:Xpe,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ev.div,{"data-state":QA(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zu="DialogContent",Pq=m.forwardRef((e,t)=>{const r=Eq(Zu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=ki(Zu,e.__scopeDialog);return o.jsx(P1,{present:n||a.open,children:a.modal?o.jsx(Zpe,{...s,ref:t}):o.jsx(eme,{...s,ref:t})})});Pq.displayName=Zu;var Zpe=m.forwardRef((e,t)=>{const r=ki(Zu,e.__scopeDialog),n=m.useRef(null),s=C1(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return iv(a)},[]),o.jsx(Aq,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hm(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Hm(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Hm(e.onFocusOutside,a=>a.preventDefault())})}),eme=m.forwardRef((e,t)=>{const r=ki(Zu,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(Aq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Aq=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=ki(Zu,r),c=m.useRef(null),u=C1(t,c);return ppe(),o.jsxs(o.Fragment,{children:[o.jsx(dq,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(lq,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":QA(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(tme,{titleId:l.titleId}),o.jsx(nme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),XA="DialogTitle",Tq=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ki(XA,r);return o.jsx(ev.h2,{id:s.titleId,...n,ref:t})});Tq.displayName=XA;var Oq="DialogDescription",Rq=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ki(Oq,r);return o.jsx(ev.p,{id:s.descriptionId,...n,ref:t})});Rq.displayName=Oq;var $q="DialogClose",Mq=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ki($q,r);return o.jsx(ev.button,{type:"button",...n,ref:t,onClick:Hm(e.onClick,()=>s.onOpenChange(!1))})});Mq.displayName=$q;function QA(e){return e?"open":"closed"}var Iq="DialogTitleWarning",[hJe,Lq]=ihe(Iq,{contentName:Zu,titleName:XA,docsSlug:"dialog"}),tme=({titleId:e})=>{const t=Lq(Iq),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},rme="DialogDescriptionWarning",nme=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lq(rme).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ZA=Sq,sme=kq,eT=Nq,rp=Cq,ov=Pq,lv=Tq,cv=Rq,Dq=Mq;const Ds=ZA,Fq=eT,tT=m.forwardRef(({className:e,...t},r)=>o.jsx(rp,{ref:r,className:ce("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tT.displayName=rp.displayName;const _s=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Fq,{children:[o.jsx(tT,{}),o.jsxs(ov,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/90 backdrop-blur-md p-6 shadow-lg duration-150 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[36px]",e),...r,children:[t,o.jsxs(Dq,{className:"absolute right-6 top-6 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0",children:[o.jsx(Cr,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_s.displayName=ov.displayName;const Fs=({className:e,...t})=>o.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fs.displayName="DialogHeader";const ui=({className:e,...t})=>o.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ui.displayName="DialogFooter";const Bs=m.forwardRef(({className:e,...t},r)=>o.jsx(lv,{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Bs.displayName=lv.displayName;const Nf=m.forwardRef(({className:e,...t},r)=>o.jsx(cv,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Nf.displayName=cv.displayName;function ame(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Bq=R.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),np=()=>{const e=R.useContext(Bq);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};ame(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const ime=24,ome=typeof window<"u"?m.useLayoutEffect:m.useEffect;function gI(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function lme(){return rT(/^Mac/)}function cme(){return rT(/^iPhone/)}function yI(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ume(){return rT(/^iPad/)||lme()&&navigator.maxTouchPoints>1}function Uq(){return cme()||ume()}function rT(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const cj=typeof document<"u"&&window.visualViewport;function vI(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function zq(e){for(vI(e)&&(e=e.parentElement);e&&!vI(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const dme=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let h0=0,uj;function fme(e={}){let{isDisabled:t}=e;ome(()=>{if(!t)return h0++,h0===1&&Uq()&&(uj=hme()),()=>{h0--,h0===0&&(uj==null||uj())}},[t])}function hme(){let e,t=0,r=f=>{e=zq(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,g=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((g<=0&&h>t||g>=v&&h<t)&&f.preventDefault(),t=h)},s=f=>{let h=f.target;TN(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=f=>{let h=f.target;TN(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",cj&&(cj.height<window.innerHeight?requestAnimationFrame(()=>{xI(h)}):cj.addEventListener("resize",()=>xI(h),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=gI(pme(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=gI(Yp(document,"touchstart",r,{passive:!1,capture:!0}),Yp(document,"touchmove",n,{passive:!1,capture:!0}),Yp(document,"touchend",s,{passive:!1,capture:!0}),Yp(document,"focus",a,!0),Yp(window,"scroll",i));return()=>{u(),d(),window.scrollTo(l,c)}}function pme(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function Yp(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function xI(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=zq(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=r.getBoundingClientRect().bottom+ime;a>i&&(r.scrollTop+=s-n)}e=r.parentElement}}function TN(e){return e instanceof HTMLInputElement&&!dme.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function mme(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function gme(...e){return t=>e.forEach(r=>mme(r,t))}function qq(...e){return m.useCallback(gme(...e),e)}const Wq=new WeakMap;function wn(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([s,a])=>{if(s.startsWith("--")){e.style.setProperty(s,a);return}n[s]=e.style[s],e.style[s]=a}),!r&&Wq.set(e,n)}function yme(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Wq.get(e);r&&(e.style[t]=r[t])}const Sn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function p0(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[Sn(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[Sn(t)?5:4]):null)}function vme(e){return 8*(Math.log(e+1)-2)}function dj(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function xme(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Vr={DURATION:.5,EASE:[.32,.72,0,1]},Vq=.4,bme=.25,wme=100,Hq=8,Vc=16,ON=26,fj="vaul-dragging";function Kq(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function _me({defaultProp:e,onChange:t}){const r=R.useState(e),[n]=r,s=R.useRef(n),a=Kq(t);return R.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}function Gq({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=_me({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Kq(r),c=R.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function Sme({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:s,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=Gq({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,g]=R.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);R.useEffect(()=>{function k(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const v=R.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),p=R.useMemo(()=>r==null?void 0:r.findIndex(k=>k===d),[r,d]),y=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===d||!r,x=R.useMemo(()=>{const k=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var j;return(j=r==null?void 0:r.map(N=>{const C=typeof N=="string";let P=0;if(C&&(P=parseInt(N,10)),Sn(l)){const F=C?P:h?N*k.height:0;return h?l==="bottom"?k.height-F:-k.height+F:F}const O=C?P:h?N*k.width:0;return h?l==="right"?k.width-O:-k.width+O:O}))!=null?j:[]},[r,h,c]),b=R.useMemo(()=>p!==null?x==null?void 0:x[p]:null,[x,p]),w=R.useCallback(k=>{var j;const N=(j=x==null?void 0:x.findIndex(C=>C===k))!=null?j:null;i(N),wn(n.current,{transition:`transform ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`,transform:Sn(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),x&&N!==x.length-1&&N!==a&&N<a?wn(s.current,{transition:`opacity ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`,opacity:"0"}):wn(s.current,{transition:`opacity ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`,opacity:"1"}),f(r==null?void 0:r[Math.max(N,0)])},[n.current,r,x,a,s,f]);R.useEffect(()=>{if(d||e){var k;const j=(k=r==null?void 0:r.findIndex(N=>N===e||N===d))!=null?k:-1;x&&j!==-1&&typeof x[j]=="number"&&w(x[j])}},[d,e,r,x,w]);function _({draggedDistance:k,closeDrawer:j,velocity:N,dismissible:C}){if(a===void 0)return;const P=l==="bottom"||l==="right"?(b??0)-k:(b??0)+k,O=p===a-1,F=p===0,M=k>0;if(O&&wn(s.current,{transition:`opacity ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`}),!u&&N>2&&!M){C?j():w(x[0]);return}if(!u&&N>2&&M&&x&&r){w(x[r.length-1]);return}const q=x==null?void 0:x.reduce((I,A)=>typeof I!="number"||typeof A!="number"?I:Math.abs(A-P)<Math.abs(I-P)?A:I),B=Sn(l)?window.innerHeight:window.innerWidth;if(N>Vq&&Math.abs(k)<B*.4){const I=M?1:-1;if(I>0&&v){w(x[r.length-1]);return}if(F&&I<0&&C&&j(),p===null)return;w(x[p+I]);return}w(q)}function S({draggedDistance:k}){if(b===null)return;const j=l==="bottom"||l==="right"?b-k:b+k;(l==="bottom"||l==="right")&&j<x[x.length-1]||(l==="top"||l==="left")&&j>x[x.length-1]||wn(n.current,{transform:Sn(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`})}function E(k,j){if(!r||typeof p!="number"||!x||a===void 0)return null;const N=p===a-1;if(p>=a&&j)return 0;if(N&&!j)return 1;if(!y&&!N)return null;const P=N?p+1:p-1,O=N?x[P]-x[P-1]:x[P+1]-x[P],F=k/Math.abs(O);return N?1-F:F}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:y,getPercentageDragged:E,setActiveSnapPoint:f,activeSnapPointIndex:p,onRelease:_,onDrag:S,snapPointsOffset:x}}const jme=()=>()=>{};function kme(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:s}=np(),a=R.useRef(null),i=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-ON)/window.innerWidth}R.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;xme(n&&!s?dj(document.body,{background:"black"}):jme,dj(c,{transformOrigin:Sn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Vr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Vr.EASE.join(",")})`}));const u=dj(c,{borderRadius:`${Hq}px`,overflow:"hidden",...Sn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},Vr.DURATION*1e3)}}},[t,r,i])}let Jp=null;function Eme({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:a}){const[i,l]=R.useState(()=>typeof window<"u"?window.location.href:""),c=R.useRef(0),u=R.useCallback(()=>{if(yI()&&Jp===null&&e&&!a){Jp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&c.current>=h&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),d=R.useCallback(()=>{if(yI()&&Jp!==null&&!a){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Jp),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),Jp=null}},[i]);return R.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),R.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,i,t,r,u,d]),{restorePositionSetting:d}}function Yq({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:s,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=bme,scrollLockTimeout:u=wme,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:p,modal:y=!0,onClose:x,nested:b,noBodyStyles:w,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:E=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:j=!1,repositionInputs:N=!0,onAnimationEnd:C,container:P,autoFocus:O=!1}){var F,M;const[q=!1,B]=Gq({defaultProp:S,prop:e,onChange:pe=>{t==null||t(pe),!pe&&!b&&Le(),setTimeout(()=>{C==null||C(pe)},Vr.DURATION*1e3),pe&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),pe||(document.body.style.pointerEvents="auto")}}),[I,A]=R.useState(!1),[z,re]=R.useState(!1),[V,te]=R.useState(!1),X=R.useRef(null),ye=R.useRef(null),oe=R.useRef(null),me=R.useRef(null),D=R.useRef(null),$=R.useRef(!1),H=R.useRef(null),G=R.useRef(0),le=R.useRef(!1),J=R.useRef(0),Z=R.useRef(null),K=R.useRef(((F=Z.current)==null?void 0:F.getBoundingClientRect().height)||0),de=R.useRef(((M=Z.current)==null?void 0:M.getBoundingClientRect().width)||0),ae=R.useRef(0),xe=R.useCallback(pe=>{a&&pe===ge.length-1&&(ye.current=new Date)},[]),{activeSnapPoint:ke,activeSnapPointIndex:Me,setActiveSnapPoint:Ee,onRelease:ue,snapPointsOffset:ge,onDrag:U,shouldFade:ee,getPercentageDragged:_e}=Sme({snapPoints:a,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:Z,fadeFromIndex:h,overlayRef:X,onSnapPointChange:xe,direction:_,container:P,snapToSequentialPoint:k});fme({isDisabled:!q||z||!y||V||!I||!N||!E});const{restorePositionSetting:Le}=Eme({isOpen:q,modal:y,nested:b,hasBeenOpened:I,preventScrollRestoration:j,noBodyStyles:w});function et(){return(window.innerWidth-ON)/window.innerWidth}function Xe(pe){var Ae,Fe;!d&&!a||Z.current&&!Z.current.contains(pe.target)||(K.current=((Ae=Z.current)==null?void 0:Ae.getBoundingClientRect().height)||0,de.current=((Fe=Z.current)==null?void 0:Fe.getBoundingClientRect().width)||0,re(!0),oe.current=new Date,Uq()&&window.addEventListener("touchend",()=>$.current=!1,{once:!0}),pe.target.setPointerCapture(pe.pointerId),G.current=Sn(_)?pe.pageY:pe.pageX)}function ot(pe,Ae){var Fe,Ge;let he=pe;const ze=(Fe=window.getSelection())==null?void 0:Fe.toString(),yt=Z.current?p0(Z.current,_):null,Et=new Date;if(he.hasAttribute("data-vaul-no-drag")||he.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(ye.current&&Et.getTime()-ye.current.getTime()<500)return!1;if(yt!==null&&(_==="bottom"?yt>0:yt<0))return!0;if(ze&&ze.length>0)return!1;if(Et.getTime()-((Ge=D.current)==null?void 0:Ge.getTime())<u&&yt===0||Ae)return D.current=Et,!1;for(;he;){if(he.scrollHeight>he.clientHeight){if(he.scrollTop!==0)return D.current=new Date,!1;if(he.getAttribute("role")==="dialog")return!0}he=he.parentNode}return!0}function Se(pe){if(Z.current&&z){const Ae=_==="bottom"||_==="right"?1:-1,Fe=(G.current-(Sn(_)?pe.pageY:pe.pageX))*Ae,Ge=Fe>0,he=a&&!d&&!Ge;if(he&&Me===0)return;const ze=Math.abs(Fe),yt=document.querySelector("[data-vaul-drawer-wrapper]"),Et=_==="bottom"||_==="top"?K.current:de.current;let or=ze/Et;const en=_e(ze,Ge);if(en!==null&&(or=en),he&&or>=1||!$.current&&!ot(pe.target,Ge))return;if(Z.current.classList.add(fj),$.current=!0,wn(Z.current,{transition:"none"}),wn(X.current,{transition:"none"}),a&&U({draggedDistance:Fe}),Ge&&!a){const Ar=vme(Fe),T=Math.min(Ar*-1,0)*Ae;wn(Z.current,{transform:Sn(_)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`});return}const Pt=1-or;if((ee||h&&Me===h-1)&&(n==null||n(pe,or),wn(X.current,{opacity:`${Pt}`,transition:"none"},!0)),yt&&X.current&&i){const Ar=Math.min(et()+or*(1-et()),1),T=8-or*8,L=Math.max(0,14-or*14);wn(yt,{borderRadius:`${T}px`,transform:Sn(_)?`scale(${Ar}) translate3d(0, ${L}px, 0)`:`scale(${Ar}) translate3d(${L}px, 0, 0)`,transition:"none"},!0)}if(!a){const Ar=ze*Ae;wn(Z.current,{transform:Sn(_)?`translate3d(0, ${Ar}px, 0)`:`translate3d(${Ar}px, 0, 0)`})}}}R.useEffect(()=>{var pe;function Ae(){if(!Z.current||!N)return;const Fe=document.activeElement;if(TN(Fe)||le.current){var Ge;const he=((Ge=window.visualViewport)==null?void 0:Ge.height)||0,ze=window.innerHeight;let yt=ze-he;const Et=Z.current.getBoundingClientRect().height||0,or=Et>ze*.8;ae.current||(ae.current=Et);const en=Z.current.getBoundingClientRect().top;if(Math.abs(J.current-yt)>60&&(le.current=!le.current),a&&a.length>0&&ge&&Me){const Pt=ge[Me]||0;yt+=Pt}if(J.current=yt,Et>he||le.current){const Pt=Z.current.getBoundingClientRect().height;let Ar=Pt;Pt>he&&(Ar=he-(or?en:ON)),p?Z.current.style.height=`${Pt-Math.max(yt,0)}px`:Z.current.style.height=`${Math.max(Ar,he-en)}px`}else Z.current.style.height=`${ae.current}px`;a&&a.length>0&&!le.current?Z.current.style.bottom="0px":Z.current.style.bottom=`${Math.max(yt,0)}px`}}return(pe=window.visualViewport)==null||pe.addEventListener("resize",Ae),()=>{var Fe;return(Fe=window.visualViewport)==null?void 0:Fe.removeEventListener("resize",Ae)}},[Me,a,ge]);function Ie(pe){W(),x==null||x(),pe||B(!1),setTimeout(()=>{a&&Ee(a[0])},Vr.DURATION*1e3)}function Y(){if(!Z.current)return;const pe=document.querySelector("[data-vaul-drawer-wrapper]"),Ae=p0(Z.current,_);wn(Z.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`}),wn(X.current,{transition:`opacity ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`,opacity:"1"}),i&&Ae&&Ae>0&&q&&wn(pe,{borderRadius:`${Hq}px`,overflow:"hidden",...Sn(_)?{transform:`scale(${et()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${et()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Vr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Vr.EASE.join(",")})`},!0)}function W(){!z||!Z.current||(Z.current.classList.remove(fj),$.current=!1,re(!1),me.current=new Date)}function ie(pe){if(!z||!Z.current)return;Z.current.classList.remove(fj),$.current=!1,re(!1),me.current=new Date;const Ae=p0(Z.current,_);if(!ot(pe.target,!1)||!Ae||Number.isNaN(Ae)||oe.current===null)return;const Fe=me.current.getTime()-oe.current.getTime(),Ge=G.current-(Sn(_)?pe.pageY:pe.pageX),he=Math.abs(Ge)/Fe;if(he>.05&&(te(!0),setTimeout(()=>{te(!1)},200)),a){ue({draggedDistance:Ge*(_==="bottom"||_==="right"?1:-1),closeDrawer:Ie,velocity:he,dismissible:d}),s==null||s(pe,!0);return}if(_==="bottom"||_==="right"?Ge>0:Ge<0){Y(),s==null||s(pe,!0);return}if(he>Vq){Ie(),s==null||s(pe,!1);return}var ze;const yt=Math.min((ze=Z.current.getBoundingClientRect().height)!=null?ze:0,window.innerHeight);var Et;const or=Math.min((Et=Z.current.getBoundingClientRect().width)!=null?Et:0,window.innerWidth),en=_==="left"||_==="right";if(Math.abs(Ae)>=(en?or:yt)*c){Ie(),s==null||s(pe,!1);return}s==null||s(pe,!0),Y()}R.useEffect(()=>(q&&(wn(document.documentElement,{scrollBehavior:"auto"}),ye.current=new Date),()=>{yme(document.documentElement,"scrollBehavior")}),[q]);function Oe(pe){const Ae=pe?(window.innerWidth-Vc)/window.innerWidth:1,Fe=pe?-Vc:0;H.current&&window.clearTimeout(H.current),wn(Z.current,{transition:`transform ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`,transform:`scale(${Ae}) translate3d(0, ${Fe}px, 0)`}),!pe&&Z.current&&(H.current=setTimeout(()=>{const Ge=p0(Z.current,_);wn(Z.current,{transition:"none",transform:Sn(_)?`translate3d(0, ${Ge}px, 0)`:`translate3d(${Ge}px, 0, 0)`})},500))}function Ke(pe,Ae){if(Ae<0)return;const Fe=(window.innerWidth-Vc)/window.innerWidth,Ge=Fe+Ae*(1-Fe),he=-Vc+Ae*Vc;wn(Z.current,{transform:Sn(_)?`scale(${Ge}) translate3d(0, ${he}px, 0)`:`scale(${Ge}) translate3d(${he}px, 0, 0)`,transition:"none"})}function Te(pe,Ae){const Fe=Sn(_)?window.innerHeight:window.innerWidth,Ge=Ae?(Fe-Vc)/Fe:1,he=Ae?-Vc:0;Ae&&wn(Z.current,{transition:`transform ${Vr.DURATION}s cubic-bezier(${Vr.EASE.join(",")})`,transform:Sn(_)?`scale(${Ge}) translate3d(0, ${he}px, 0)`:`scale(${Ge}) translate3d(${he}px, 0, 0)`})}return R.createElement(ZA,{defaultOpen:S,onOpenChange:pe=>{!d&&!pe||(pe?A(!0):Ie(!0),B(pe))},open:q},R.createElement(Bq.Provider,{value:{activeSnapPoint:ke,snapPoints:a,setActiveSnapPoint:Ee,drawerRef:Z,overlayRef:X,onOpenChange:t,onPress:Xe,onRelease:ie,onDrag:Se,dismissible:d,handleOnly:f,isOpen:q,isDragging:z,shouldFade:ee,closeDrawer:Ie,onNestedDrag:Ke,onNestedOpenChange:Oe,onNestedRelease:Te,keyboardIsOpen:le,modal:y,snapPointsOffset:ge,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:w,container:P,autoFocus:O}},r))}const Jq=R.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:s,shouldFade:a,isOpen:i,modal:l}=np(),c=qq(t,r),u=n&&n.length>0;return l?R.createElement(rp,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});Jq.displayName="Drawer.Overlay";const Xq=R.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},s){const{drawerRef:a,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:g,snapPoints:v,container:p,handleOnly:y,autoFocus:x}=np(),[b,w]=R.useState(!1),_=qq(s,a),S=R.useRef(null),E=R.useRef(null),k=R.useRef(!1),j=v&&v.length>0;kme();const N=(P,O,F=0)=>{if(k.current)return!0;const M=Math.abs(P.y),q=Math.abs(P.x),B=q>M,I=["bottom","right"].includes(O)?1:-1;if(O==="left"||O==="right"){if(!(P.x*I<0)&&q>=0&&q<=F)return B}else if(!(P.y*I<0)&&M>=0&&M<=F)return!B;return k.current=!0,!0};R.useEffect(()=>{j&&window.requestAnimationFrame(()=>{w(!0)})},[]);function C(P){S.current=null,k.current=!1,l(P)}return R.createElement(ov,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":h&&j?"true":"false","data-vaul-custom-container":p?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:P=>{y||(n.onPointerDown==null||n.onPointerDown.call(n,P),S.current={x:P.pageX,y:P.pageY},i(P))},onOpenAutoFocus:P=>{r==null||r(P),x||P.preventDefault()},onPointerDownOutside:P=>{if(e==null||e(P),!f||P.defaultPrevented){P.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:P=>{if(!f){P.preventDefault();return}},onPointerMove:P=>{if(E.current=P,y||(n.onPointerMove==null||n.onPointerMove.call(n,P),!S.current))return;const O=P.pageY-S.current.y,F=P.pageX-S.current.x,M=P.pointerType==="touch"?10:2;N({x:F,y:O},g,M)?c(P):(Math.abs(F)>M||Math.abs(O)>M)&&(S.current=null)},onPointerUp:P=>{n.onPointerUp==null||n.onPointerUp.call(n,P),S.current=null,k.current=!1,l(P)},onPointerOut:P=>{n.onPointerOut==null||n.onPointerOut.call(n,P),C(E.current)},onContextMenu:P=>{n.onContextMenu==null||n.onContextMenu.call(n,P),C(E.current)}})});Xq.displayName="Drawer.Content";const Nme=250,Cme=120,Qq=R.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:s,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:g}=np(),v=R.useRef(null),p=R.useRef(!1);function y(){if(p.current){w();return}window.setTimeout(()=>{x()},Cme)}function x(){if(a||e||p.current){w();return}if(w(),(!i||i.length===0)&&u){s();return}if(l===i[i.length-1]&&u){s();return}const S=i.findIndex(k=>k===l);if(S===-1)return;const E=i[S+1];c(E)}function b(){v.current=window.setTimeout(()=>{p.current=!0},Nme)}function w(){window.clearTimeout(v.current),p.current=!1}return R.createElement("div",{onClick:y,onPointerCancel:w,onPointerDown:_=>{d&&h(_),b()},onPointerMove:_=>{d&&g(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},R.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});Qq.displayName="Drawer.Handle";function Pme({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:s,onNestedRelease:a}=np();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return R.createElement(Yq,{nested:!0,onClose:()=>{s(!1)},onDrag:(i,l)=>{n(i,l),e==null||e(i,l)},onOpenChange:i=>{i&&s(i)},onRelease:a,...r})}function Ame(e){const t=np(),{container:r=t.container,...n}=e;return R.createElement(eT,{container:r,...n})}const co={Root:Yq,NestedRoot:Pme,Content:Xq,Overlay:Jq,Trigger:sme,Portal:Ame,Handle:Qq,Close:Dq,Title:lv,Description:cv},Yi=({shouldScaleBackground:e=!0,...t})=>o.jsx(co.Root,{shouldScaleBackground:e,...t});Yi.displayName="Drawer";const Tme=co.Portal,Bg=co.Close,Zq=m.forwardRef(({className:e,...t},r)=>o.jsx(co.Overlay,{ref:r,className:ce("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",e),...t}));Zq.displayName=co.Overlay.displayName;const Ji=m.forwardRef(({className:e,children:t,showOverlay:r=!0,...n},s)=>o.jsxs(Tme,{children:[r&&o.jsx(Zq,{}),o.jsx(co.Content,{ref:s,className:ce("fixed left-2 right-2 bottom-4 z-50 mt-24 flex h-auto flex-col rounded-[36px] border-t border-l border-r bg-background/90 backdrop-blur-md",e),...n,children:t})]}));Ji.displayName="DrawerContent";const Xi=({className:e,children:t,...r})=>o.jsxs("div",{className:ce("flex items-center justify-between gap-4 px-6 pt-6 pb-4",e),...r,children:[o.jsx("div",{className:"flex-1",children:t}),o.jsx(Bg,{asChild:!0,children:o.jsx("button",{className:"rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0","aria-label":"Close",children:o.jsx(Cr,{className:"h-3.5 w-3.5"})})})]});Xi.displayName="DrawerHeader";const Xo=({className:e,...t})=>o.jsx("div",{className:ce("mt-auto flex flex-col gap-3 px-6 pt-4 pb-6",e),...t});Xo.displayName="DrawerFooter";const Qi=m.forwardRef(({className:e,...t},r)=>o.jsx(co.Title,{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Qi.displayName=co.Title.displayName;const eW=m.forwardRef(({className:e,...t},r)=>o.jsx(co.Description,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));eW.displayName=co.Description.displayName;var Ome=m.createContext(void 0);function sp(e){const t=m.useContext(Ome);return e||t||"ltr"}function Ug(e,[t,r]){return Math.min(r,Math.max(t,e))}function Rme(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var nT="ScrollArea",[tW,pJe]=Js(nT),[$me,Ka]=tW(nT),rW=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,v]=m.useState(null),[p,y]=m.useState(null),[x,b]=m.useState(0),[w,_]=m.useState(0),[S,E]=m.useState(!1),[k,j]=m.useState(!1),N=xt(t,P=>c(P)),C=sp(s);return o.jsx($me,{scope:r,type:n,dir:C,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:j,onCornerWidthChange:b,onCornerHeightChange:_,children:o.jsx(rt.div,{dir:C,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});rW.displayName=nT;var nW="ScrollAreaViewport",sW=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...i}=e,l=Ka(nW,r),c=m.useRef(null),u=xt(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Wme({asChild:s,children:n},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});sW.displayName=nW;var uo="ScrollAreaScrollbar",sT=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ka(uo,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(Mme,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(Ime,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(aW,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(aT,{...n,ref:t}):null});sT.displayName=uo;var Mme=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ka(uo,e.__scopeScrollArea),[a,i]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Zn,{present:r||a,children:o.jsx(aW,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Ime=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ka(uo,e.__scopeScrollArea),a=e.orientation==="horizontal",i=R1(()=>c("SCROLL_END"),100),[l,c]=Rme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),i()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),o.jsx(Zn,{present:r||l!=="hidden",children:o.jsx(aT,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),aW=m.forwardRef((e,t)=>{const r=Ka(uo,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=m.useState(!1),l=e.orientation==="horizontal",c=R1(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return lh(r.viewport,c),lh(r.content,c),o.jsx(Zn,{present:n||a,children:o.jsx(aT,{"data-state":a?"visible":"hidden",...s,ref:t})})}),aT=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Ka(uo,e.__scopeScrollArea),a=m.useRef(null),i=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=uW(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,g){return zme(h,i.current,l,g)}return r==="horizontal"?o.jsx(Lme,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,g=bI(h,l,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?o.jsx(Dme,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,g=bI(h,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Lme=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Ka(uo,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=xt(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(oW,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":O1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),fW(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_b(i.paddingLeft),paddingEnd:_b(i.paddingRight)}})}})}),Dme=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Ka(uo,e.__scopeScrollArea),[i,l]=m.useState(),c=m.useRef(null),u=xt(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(oW,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":O1(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),fW(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_b(i.paddingTop),paddingEnd:_b(i.paddingBottom)}})}})}),[Fme,iW]=tW(uo),oW=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=Ka(uo,r),[v,p]=m.useState(null),y=xt(t,N=>p(N)),x=m.useRef(null),b=m.useRef(""),w=g.viewport,_=n.content-n.viewport,S=Ut(d),E=Ut(c),k=R1(f,10);function j(N){if(x.current){const C=N.clientX-x.current.left,P=N.clientY-x.current.top;u({x:C,y:P})}}return m.useEffect(()=>{const N=C=>{const P=C.target;(v==null?void 0:v.contains(P))&&S(C,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,v,_,S]),m.useEffect(E,[n,E]),lh(v,k),lh(g.content,k),o.jsx(Fme,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Ut(a),onThumbPointerUp:Ut(i),onThumbPositionChange:E,onThumbPointerDown:Ut(l),children:o.jsx(rt.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ue(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),j(N))}),onPointerMove:Ue(e.onPointerMove,j),onPointerUp:Ue(e.onPointerUp,N=>{const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),wb="ScrollAreaThumb",lW=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=iW(wb,e.__scopeScrollArea);return o.jsx(Zn,{present:r||s.hasThumb,children:o.jsx(Bme,{ref:t,...n})})}),Bme=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Ka(wb,r),i=iW(wb,r),{onThumbPositionChange:l}=i,c=xt(t,f=>i.onThumbChange(f)),u=m.useRef(),d=R1(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const g=qme(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(rt.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ue(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),v=f.clientX-g.left,p=f.clientY-g.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:Ue(e.onPointerUp,i.onThumbPointerUp)})});lW.displayName=wb;var iT="ScrollAreaCorner",cW=m.forwardRef((e,t)=>{const r=Ka(iT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Ume,{...e,ref:t}):null});cW.displayName=iT;var Ume=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Ka(iT,r),[a,i]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return lh(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),lh(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(rt.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _b(e){return e?parseInt(e,10):0}function uW(e,t){const r=e/t;return isNaN(r)?0:r}function O1(e){const t=uW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function zme(e,t,r,n="ltr"){const s=O1(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return dW([c,u],f)(e)}function bI(e,t,r="ltr"){const n=O1(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=Ug(e,c);return dW([0,i],[0,l])(u)}function dW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function fW(e,t){return e>0&&e<t}var qme=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function R1(e,t){const r=Ut(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function lh(e,t){const r=Ut(t);an(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function Wme(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=m.Children.only(n);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var hW=rW,Vme=sW,Hme=cW;const Sb=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(hW,{ref:n,className:ce("relative overflow-hidden",e),...r,children:[o.jsx(Vme,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(pW,{}),o.jsx(Hme,{})]}));Sb.displayName=hW.displayName;const pW=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(sT,{ref:n,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(lW,{className:"relative flex-1 rounded-full bg-border"})}));pW.displayName=sT.displayName;const wI=768;function va(){const[e,t]=m.useState(window.innerWidth<wI);return m.useEffect(()=>{function r(){t(window.innerWidth<wI)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}const dn=[{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of",flag:"",code:"KR",dial_code:"+82"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Lao People's Democratic Republic",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia, The Former Yugoslav Republic of",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova, Republic of",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+870"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Saint Helena",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia and Montenegro",flag:"",code:"CS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan, Province of China",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"United States Minor Outlying Islands",flag:"",code:"UM",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Viet Nam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Western Sahara",flag:"",code:"EH",dial_code:"+212"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],_I=({countries:e,onSelect:t,selectedCountry:r})=>o.jsx("div",{className:"space-y-1",children:e.map(n=>o.jsxs("button",{onClick:()=>t(n),className:`w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3 ${(r==null?void 0:r.code)===n.code?"bg-primary/10 text-primary":""}`,children:[o.jsx("span",{className:"text-lg",children:n.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:n.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:n.dial_code})]})]},n.code))}),Kme=({isOpen:e,onClose:t,onSelect:r,selectedCountry:n})=>{const s=va(),[a,i]=m.useState(""),l=m.useMemo(()=>{if(!a)return dn;const d=a.toLowerCase();return dn.filter(f=>f.name.toLowerCase().includes(d)||f.dial_code.includes(a)||f.code.toLowerCase().includes(d))},[a]),c=d=>{r(d),t()},u=()=>{i("")};return s?o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(Ji,{className:"h-[85vh]",children:[o.jsx(Xi,{children:o.jsx(Qi,{children:"Select Country"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(it,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(se,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(Cr,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(Sb,{className:"h-full px-4",children:o.jsx(_I,{countries:l,onSelect:c,selectedCountry:n})})}),o.jsx("div",{className:"p-4 border-t",children:o.jsx(Bg,{asChild:!0,children:o.jsx(se,{variant:"outline",className:"w-full",children:"Cancel"})})})]})}):o.jsx(Ds,{open:e,onOpenChange:t,children:o.jsxs(_s,{className:"max-w-md max-h-[80vh]",children:[o.jsx(Fs,{children:o.jsx(Bs,{children:"Select Country"})}),o.jsx("div",{className:"mt-4 pb-4",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(it,{placeholder:"Search countries or dial codes...",value:a,onChange:d=>i(d.target.value),className:"pl-10 pr-10 w-full"}),a&&o.jsx(se,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:o.jsx(Cr,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"overflow-hidden",children:o.jsx(Sb,{className:"h-[400px]",children:o.jsx(_I,{countries:l,onSelect:c,selectedCountry:n})})})]})})},mW=({value:e,onChange:t,placeholder:r="Select country",className:n=""})=>{const[s,a]=m.useState(!1),i=dn.find(c=>c.code==="GE"),l=e||i;return o.jsxs(o.Fragment,{children:[o.jsxs(se,{variant:"outline",role:"combobox","aria-expanded":s,className:`justify-between shrink-0 ${n}`,onClick:()=>a(!0),children:[l?o.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[o.jsx("span",{className:"text-lg shrink-0",children:l.flag}),o.jsx("span",{className:"text-muted-foreground whitespace-nowrap",children:l.dial_code})]}):r,o.jsx(Wfe,{className:"ml-1.5 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),o.jsx(Kme,{isOpen:s,onClose:()=>a(!1),onSelect:t,selectedCountry:l})]})},Gme=()=>{const e=ar(),[t,r]=m.useState(!1),[n,s]=m.useState(dn.find(N=>N.code==="GE")),[a,i]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[g,v]=m.useState(""),[p,y]=m.useState(!1),[x,b]=m.useState(!1),[w,_]=m.useState(!1),[S,E]=m.useState(!1),k=m.useCallback(N=>new Promise((C,P)=>{const O=new Image;O.onload=()=>C(),O.onerror=()=>P(new Error(`Failed to load image: ${N}`)),O.src=N}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([k("/lovable-uploads/Breneo-logo.png"),k("/lovable-uploads/Breneo-logo-dark.png"),k("/lovable-uploads/way.png")])}catch(C){console.warn("Some images failed to preload:",C),E(!0)}})()},[k]);const j=async N=>{N.preventDefault(),y(!0);const C=`${n==null?void 0:n.dial_code}${f}`;try{await Ce.post(Qe.AUTH.REGISTER,{first_name:a,last_name:l,email:u,phone_number:C,password:g}),sessionStorage.setItem("tempEmail",u),sessionStorage.setItem("tempPassword",g),e("/email-verification"),fe.success("Registration successful! Verify your email.")}catch(P){let O="Registration failed. Please try again.";nr.isAxiosError(P)&&P.response&&(O=P.response.data.detail||P.response.data.message||P.response.data.error||O),fe.error(O)}finally{y(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-6 lg:h-5 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{E(!0),b(!0)}}),S&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!x&&!S&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-8 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{E(!0),b(!0)}}),S&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Create Account"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up for your Breneo account"}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"mt-1 flex gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Be,{htmlFor:"firstName",children:"First Name"}),o.jsx(it,{id:"firstName",placeholder:"John",className:"mt-1 h-[3.2rem]",value:a,onChange:N=>i(N.target.value),required:!0})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Be,{htmlFor:"lastName",children:"Last Name"}),o.jsx(it,{id:"lastName",placeholder:"Doe",className:"mt-1 h-[3.2rem]",value:l,onChange:N=>c(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"email",children:"Email Address"}),o.jsx(it,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:u,onChange:N=>d(N.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(mW,{value:n,onChange:s,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(it,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:N=>h(N.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(it,{id:"password",type:t?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:g,onChange:N=>v(N.target.value),required:!0}),o.jsx(se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?o.jsx(Dg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Ju,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]}),o.jsx(se,{type:"submit",className:"w-full h-14",disabled:p,children:p?"Signing Up...":"Sign Up"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!w&&!S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(vn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${w?"opacity-100":"opacity-0"}`,style:{backgroundImage:w?"url('/lovable-uploads/cover_2.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/cover_2.png",alt:"",className:"hidden",onLoad:()=>_(!0),onError:()=>{E(!0),_(!0)}}),S&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(vn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Way"})]})})]})})]})]})},Yme=()=>{const e=ar(),[t,r]=m.useState(1),[n,s]=m.useState(""),[a,i]=m.useState(["","","","","",""]),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(!1),[g,v]=m.useState(!1),[p,y]=m.useState(!1),x=m.useRef([]),[b,w]=m.useState(!1),[_,S]=m.useState(!1),[E,k]=m.useState(!1),j=m.useCallback(M=>new Promise((q,B)=>{const I=new Image;I.onload=()=>q(),I.onerror=()=>B(new Error(`Failed to load image: ${M}`)),I.src=M}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([j("/lovable-uploads/Breneo-logo.png"),j("/lovable-uploads/Breneo-logo-dark.png"),j("/lovable-uploads/future.png")])}catch(q){console.warn("Some images failed to preload:",q),k(!0)}})()},[j]),m.useEffect(()=>{document.title="Reset Password | Breneo"},[]);const N=async M=>{var q,B;M.preventDefault(),y(!0);try{const I=await nr.post(`${kf}/password-reset/request/`,{email:n});fe.success(I.data.message||"Code sent to your email!"),r(2)}catch(I){fe.error(((B=(q=I.response)==null?void 0:q.data)==null?void 0:B.error)||"Error sending code")}finally{y(!1)}},C=async M=>{var B,I;M.preventDefault();const q=a.join("");if(q.length!==6){fe.error("Please enter a 6-digit code.");return}y(!0);try{const A=await nr.post(`${kf}/password-reset/verify/`,{email:n,code:q});fe.success(A.data.message||"Code verified!"),r(3)}catch(A){fe.error(((I=(B=A.response)==null?void 0:B.data)==null?void 0:I.error)||"Invalid code")}finally{y(!1)}},P=(M,q)=>{var I;if(q&&!/^\d$/.test(q))return;const B=[...a];B[M]=q,i(B),q&&M<5&&((I=x.current[M+1])==null||I.focus())},O=(M,q)=>{var B;q.key==="Backspace"&&!a[M]&&M>0&&((B=x.current[M-1])==null||B.focus())},F=async M=>{var q,B;if(M.preventDefault(),l!==u){fe.error("Passwords do not match");return}y(!0);try{const I=a.join(""),A=await nr.post(`${kf}/password-reset/set-new/`,{email:n,code:I,new_password:l,confirm_password:u});fe.success(A.data.message||"Password reset successfully!"),e("/auth/login")}catch(I){fe.error(((B=(q=I.response)==null?void 0:q.data)==null?void 0:B.error)||"Error setting new password")}finally{y(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!b&&!E&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-6 lg:h-5 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{k(!0),w(!0)}}),E&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!b&&!E&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-8 transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{k(!0),w(!0)}}),E&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Reset Password"}),t===1&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your email to receive a verification code."}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"email",children:"Email Address"}),o.jsx(it,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-[3.2rem]",value:n,onChange:M=>s(M.target.value),required:!0,disabled:p})]}),o.jsx(se,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Sending Code...":"Send Code"})]})]}),t===2&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-muted-foreground mb-8",children:["A code was sent to ",n,". Please enter it below."]}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:a.map((M,q)=>o.jsx(it,{ref:B=>x.current[q]=B,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-[3.2rem] w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:M,onChange:B=>P(q,B.target.value),onKeyDown:B=>O(q,B),maxLength:1,required:!0,disabled:p,autoFocus:q===0},q))})}),o.jsx(se,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Verifying...":"Verify Code"})]})]}),t===3&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your new password."}),o.jsxs("form",{onSubmit:F,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"newPassword",children:"New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(it,{id:"newPassword",type:f?"text":"password",placeholder:"Enter new password",className:"pr-10 h-[3.2rem]",value:l,onChange:M=>c(M.target.value),required:!0,disabled:p}),o.jsx(se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),disabled:p,children:f?o.jsx(Dg,{className:"h-4 w-4 text-gray-500"}):o.jsx(Ju,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(it,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirm new password",className:"pr-10 h-[3.2rem]",value:u,onChange:M=>d(M.target.value),required:!0,disabled:p}),o.jsx(se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!g),disabled:p,children:g?o.jsx(Dg,{className:"h-4 w-4 text-gray-500"}):o.jsx(Ju,{className:"h-4 w-4 text-gray-500"})})]})]}),o.jsx(se,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:p,children:p?"Setting...":"Set New Password"})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Remembered your password?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!_&&!E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(vn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${_?"opacity-100":"opacity-0"}`,style:{backgroundImage:_?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>S(!0),onError:()=>{k(!0),S(!0)}}),E&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(vn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},Jme=()=>{var E,k;const e=ar(),t=Xs(),{login:r}=ir(),[n,s]=m.useState(["","","","","",""]),[a,i]=m.useState(!1),l=m.useRef([]),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,g]=m.useState(!1),v=((E=t.state)==null?void 0:E.email)||sessionStorage.getItem("tempEmail")||sessionStorage.getItem("tempAcademyEmail"),p=sessionStorage.getItem("tempPassword"),y=((k=t.state)==null?void 0:k.isAcademy)||!1,x=m.useCallback(j=>new Promise((N,C)=>{const P=new Image;P.onload=()=>N(),P.onerror=()=>C(new Error(`Failed to load image: ${j}`)),P.src=j}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([x("/lovable-uploads/Breneo-logo.png"),x("/lovable-uploads/Breneo-logo-dark.png"),x("/lovable-uploads/future.png")])}catch(N){console.warn("Some images failed to preload:",N),g(!0)}})()},[x]),m.useEffect(()=>{document.title="Email Verification | Breneo"},[]);const b=async()=>{var j,N,C,P,O;if(!v||!p){fe.error("Session expired. Please log in manually."),e("/auth/login");return}try{console.log("Attempting auto-login with:",{email:v,passwordLength:p.length}),await r(v,p),fe.success("Email verified and logged in!"),sessionStorage.removeItem("tempEmail"),sessionStorage.removeItem("tempPassword")}catch(F){console.error("Auto-login failed:",F),nr.isAxiosError(F)&&console.error("Login error details:",{status:(j=F.response)==null?void 0:j.status,statusText:(N=F.response)==null?void 0:N.statusText,data:(C=F.response)==null?void 0:C.data,url:(P=F.config)==null?void 0:P.url,method:(O=F.config)==null?void 0:O.method}),fe.error("Verification successful, but auto-login failed. Please log in manually."),e("/auth/login")}},w=(j,N)=>{var P;if(N&&!/^\d$/.test(N))return;const C=[...n];C[j]=N,s(C),N&&j<5&&((P=l.current[j+1])==null||P.focus())},_=(j,N)=>{var C;N.key==="Backspace"&&!n[j]&&j>0&&((C=l.current[j-1])==null||C.focus())},S=async j=>{if(j.preventDefault(),!v){fe.error("Email missing. Please register again."),e("/auth/signup");return}const N=n.join("");if(N.length!==6){fe.error("Please enter a 6-digit code.");return}i(!0);try{const C=y?Qe.AUTH.VERIFY_ACADEMY_EMAIL:Qe.AUTH.VERIFY_CODE;await Ce.post(C,{email:v,code:N}),y?(fe.success("Email verified successfully!"),sessionStorage.removeItem("tempAcademyEmail"),e("/auth/login")):p?await b():(fe.success("Email verified successfully!"),sessionStorage.removeItem("tempEmail"),e("/auth/login"))}catch(C){let P="Verification failed. Please try again.",O=!1;if(nr.isAxiosError(C)&&C.response){const F=C.response.data,M=F.detail||F.message||F.error||Array.isArray(F.email)&&F.email[0]||"";P=typeof M=="string"?M:P,C.response.status===400&&P.toLowerCase().includes("user with this email already exists")&&(O=!0)}O&&!y&&p?(fe.info("Verification processed, attempting login..."),await b()):fe.error(P)}finally{i(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-6 lg:h-5 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-5 w-16 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!c&&!h&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-8 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&o.jsx("div",{className:"h-8 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),o.jsx(ao,{})]}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Verify Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-8",children:["Enter the 6-digit code sent to your email"," ",y&&"(academy registration)"," (",v||"your-email",")"]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsx("div",{className:"w-full sm:w-[23.5rem]",children:o.jsx("div",{className:"flex gap-2 sm:gap-2",children:n.map((j,N)=>o.jsx(it,{ref:C=>l.current[N]=C,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:j,onChange:C=>w(N,C.target.value),onKeyDown:C=>_(N,C),maxLength:1,required:!0,disabled:a,autoFocus:N===0},N))})}),o.jsx(se,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:a,children:a?"Verifying...":"Verify Email"})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Didn't receive a code?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Back to Login"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!d&&!h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(vn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,style:{backgroundImage:d?"url('/lovable-uploads/future.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[o.jsx(vn,{className:"h-16 w-16 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},Re=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ce("rounded-lg border-0 bg-card text-card-foreground",e),...t}));Re.displayName="Card";const bt=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ce("flex flex-col space-y-1.5 p-6 pb-6 border-b my-2",e),...t}));bt.displayName="CardHeader";const Ot=m.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Ot.displayName="CardTitle";const ln=m.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));ln.displayName="CardDescription";const De=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ce("p-6 pt-0",e),...t}));De.displayName="CardContent";const Xme=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ce("flex items-center p-6 pt-0",e),...t}));Xme.displayName="CardFooter";const Qme=()=>(m.useEffect(()=>{const e="Email Confirmed | Breneo",t="Your email has been confirmed. You can now log in to your Breneo account.";document.title=e;let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",t);let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n)),n.setAttribute("href",`${window.location.origin}/email-confirmed`)},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("main",{className:"w-full max-w-md px-4",children:[o.jsx("h1",{className:"sr-only",children:"Email confirmation successful"}),o.jsxs(Re,{className:"shadow-md",children:[o.jsxs(bt,{className:"text-center pt-8",children:[o.jsx("div",{className:"mx-auto mb-4 rounded-full bg-primary/10 p-3 text-primary",children:o.jsx(mi,{className:"h-8 w-8","aria-hidden":"true"})}),o.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your email is confirmed"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thank you! Your account is now verified."})]}),o.jsx(De,{className:"pb-8 pt-2",children:o.jsx("div",{className:"mt-6",children:o.jsx(se,{asChild:!0,className:"w-full",children:o.jsx(Lr,{to:"/auth/login","aria-label":"Go to login page",children:"Go to Login"})})})})]})]})}));function xo({to:e,...t}){const{language:r}=Si(),n=typeof e=="string"?e:e.pathname||"",s=n.startsWith("/auth")||n==="/auth"?e:Ea(n,r);return o.jsx(Lr,{to:s,...t})}const Zme=Zy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:e,variant:t,...r}){return o.jsx("div",{className:ce(Zme({variant:t}),e),...r})}function oT({collapsed:e,toggleSidebar:t,onUpgradeClick:r}){const n=Xs(),{loading:s,user:a,academyDisplay:i}=ir(),{subscriptionInfo:l}=k1(),{theme:c,setTheme:u}=sl(),{language:d,setLanguage:f}=Si(),h=ji(),[g,v]=R.useState(!1),p=Mg(n.pathname),y=d==="ka"?"GEO":"EN",x=n.pathname,b=(a==null?void 0:a.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy";if(R.useEffect(()=>{v(!0)},[]),s)return null;const w=()=>{if(b&&(i!=null&&i.name))return i.name;if(!a)return"Member";const{first_name:P,last_name:O,email:F}=a;if(P&&O){const M=q=>q?q.charAt(0).toUpperCase()+q.slice(1).toLowerCase():"";return`${M(P)} ${M(O)}`}return F??"Member"},_=()=>b&&(i!=null&&i.email)?i.email:(a==null?void 0:a.email)??"",S=()=>b&&(i!=null&&i.name)?i.name.slice(0,2).toUpperCase():a!=null&&a.first_name&&(a!=null&&a.last_name)?`${a.first_name.charAt(0)}${a.last_name.charAt(0)}`.toUpperCase():a!=null&&a.email?a.email.charAt(0).toUpperCase():"U",E=b?[{icon:Y4,label:h.nav.home,href:"/academy/home"},{icon:J4,label:h.nav.courses,href:"/academy/courses"}]:[{icon:Y4,label:h.nav.home,href:"/home"},{icon:Xr,label:h.nav.jobs,href:"/jobs"},{icon:J4,label:h.nav.courses,href:"/courses"},{icon:tq,label:h.nav.webinars,href:"/webinars"}],k=b?"/academy/profile":"/profile",j=b?"/academy/settings":"/settings",N=b?"/academy/home":"/home",C=[...E,{icon:Xz,label:h.nav.profile,href:k}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(xo,{to:N,className:"flex items-center ml-1",children:o.jsx(An,{className:"h-6 md:h-5"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(se,{variant:"ghost",onClick:()=>f(d==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full !text-gray-500 hover:!text-gray-700 dark:!text-gray-400 dark:hover:!text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:!bg-black/[0.08] dark:hover:!bg-white/[0.05] transition-colors
                         text-sm font-medium flex items-center gap-2`,children:[o.jsx(jc,{className:"h-4 w-4"}),o.jsx("span",{children:y})]}),o.jsx("button",{onClick:()=>u(c==="dark"?"light":"dark"),className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:g&&c==="dark"?o.jsx(GA,{size:20}):o.jsx(yb,{size:20})}),o.jsx(xo,{to:"/notifications",className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:o.jsx(qA,{size:20})})]})]})}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#F3F3F4]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 ",children:o.jsx("nav",{className:"flex justify-around items-center py-3",children:C.map((P,O)=>{let F=p===P.href;return P.href==="/home"?F=p==="/home"||p==="/dashboard"||x.includes("/home")||x.includes("/dashboard"):P.href==="/academy/home"?F=p==="/academy/home"||p==="/academy/dashboard"||x.includes("/academy/home")||x.includes("/academy/dashboard"):F=p===P.href||x.endsWith(P.href),o.jsxs(xo,{to:P.href,className:ce("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-0 flex-1 mx-0",F?"text-gray-600":"text-gray-600 hover:text-breneo-blue"),children:[o.jsx(P.icon,{size:20,className:ce("transition-colors duration-200 mb-0.5",F?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue")}),o.jsx("span",{className:ce("text-xs font-medium transition-colors duration-200 text-center",F?"text-gray-600":"text-gray-600 group-hover:text-breneo-blue"),children:P.label})]},O)})})}),o.jsxs("div",{className:ce("hidden md:flex fixed top-4 left-4 bottom-4 z-40 bg-[#FFFFFF] dark:bg-card transition-all duration-300 flex-col rounded-3xl",e?"w-20":"w-64"),children:[o.jsx("div",{className:"p-4 pt-5 flex items-center justify-between",children:e?o.jsx(An,{className:"h-4 w-8 object-cover object-left ml-3"}):o.jsx(xo,{to:N,className:"flex items-center space-x-2 ml-3",children:o.jsx(An,{className:"h-6"})})}),o.jsxs("div",{className:"flex flex-col flex-1",children:[o.jsx("div",{className:"flex-1 overflow-y-auto pt-8",children:o.jsx("nav",{className:"space-y-1 px-4",children:E.map((P,O)=>{let F=p===P.href;return P.href==="/home"?F=p==="/home"||p==="/dashboard"||x.includes("/home")||x.includes("/dashboard"):P.href==="/academy/home"?F=p==="/academy/home"||p==="/academy/dashboard"||x.includes("/academy/home")||x.includes("/academy/dashboard"):F=p===P.href||x.endsWith(P.href),o.jsxs(xo,{to:P.href,className:ce("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",F?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(P.icon,{size:22,className:ce("transition-colors duration-200 flex-shrink-0",F?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsxs("span",{className:ce("font-medium text-base transition-colors duration-200 flex items-center gap-3",F?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue"),children:[P.label,P.href==="/webinars"&&o.jsx(Ct,{className:"bg-breneo-blue text-white border-0 px-3 py-0.8 text-[12px] font-semibold hidden md:inline-flex",children:"Soon"})]})]},O)})})}),o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("div",{className:"mb-4"}),o.jsxs("div",{className:"space-y-1 mb-4",children:[o.jsxs(xo,{to:j,className:ce("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",p===j?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(N1,{size:22,className:ce("flex-shrink-0 transition-colors duration-200",p===j?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:h.nav.settings})]}),o.jsxs(xo,{to:"/help",className:ce("flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group",p==="/help"?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[o.jsx(Vfe,{size:22,className:ce("flex-shrink-0 transition-colors duration-200",p==="/help"?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&o.jsx("span",{className:"font-medium text-base",children:h.nav.help})]}),!b&&o.jsxs("button",{onClick:r,className:ce("w-full flex items-center space-x-4 px-4 py-2.5 rounded-xl transition-all duration-200 group","bg-gradient-to-br from-[#cedcfc] to-[#a0dfee] dark:from-[#6B7BA8]/40 dark:to-[#4A9FB8]/40","hover:from-[#CFD8EE] hover:to-[#97D9E9] dark:hover:from-[#6B7BA8]/50 dark:hover:to-[#4A9FB8]/50 text-left",e&&"justify-center px-4"),children:[l!=null&&l.is_active?o.jsx(Zz,{size:22,className:"text-gray-700 dark:text-gray-200 flex-shrink-0 group-hover:scale-110 transition-transform"}):o.jsx(gb,{size:22,className:"text-gray-700 dark:text-gray-200 flex-shrink-0 group-hover:translate-x-0.5 transition-transform"}),!e&&o.jsx("span",{className:"font-medium text-base text-gray-700 dark:text-gray-200 truncate",children:l!=null&&l.is_active?l.plan_name||"Pro Plan":h.subscription.upgrade})]})]}),o.jsx("div",{className:"mt-4 pt-4",children:o.jsxs(xo,{to:k,className:"flex items-center space-x-4 px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group",children:[o.jsx("div",{className:ce("flex items-center justify-center w-8 h-8 rounded-[50px] text-sm font-semibold shrink-0",a!=null&&a.profile_image?"overflow-hidden":"bg-[#AAF0FF] text-[#099DBC]"),children:a!=null&&a.profile_image?o.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-full h-full object-cover rounded-[12px]"}):S()}),!e&&o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-semibold text-sm text-gray-700 dark:text-gray-200 truncate",children:w()}),o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 truncate",children:_()})]})]})})]})]})]})]})}const gW=e=>/^(\/(en|ka))?\/jobs\/[^/]+$/.test(e),yW=e=>/^(\/(en|ka))?\/course\/[^/]+$/.test(e),ege=e=>e.includes("/skill-path"),tge=e=>/^(\/(en|ka))?\/academy\/courses\/(add|edit\/[^/]+)$/.test(e),rge=(e,t,r)=>r?gW(e)||yW(e)?null:e.startsWith("/home")||e.startsWith("/academy/home")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/dashboard")||e.startsWith("/academy/dashboard")?o.jsxs(o.Fragment,{children:[r.dashboard.welcome,","," ",o.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/jobs")?r.jobs.title:e.startsWith("/courses")?r.courses.title:e.startsWith("/settings")||e.startsWith("/academy/settings")?r.settings.title:e.startsWith("/profile")||e.startsWith("/academy/profile")?r.profile.title:e.startsWith("/notifications")?r.notifications.title:e.startsWith("/skill-test")?r.skillTest.title:e.startsWith("/skill-path")?null:r.nav.home:"Home";function nge({sidebarCollapsed:e,isVisible:t}){var E;const r=Xs(),n=ar(),{user:s}=ir(),{theme:a,setTheme:i}=sl(),{language:l,setLanguage:c}=Si(),u=ji(),[d,f]=R.useState(!1),h=(s==null?void 0:s.first_name)||((E=s==null?void 0:s.email)==null?void 0:E.split("@")[0])||"User",g=Mg(r.pathname),v=rge(g,h,u),p=gW(g),y=yW(g),x=ege(g),b=tge(g),_=(()=>{if(b){if(g.includes("/edit/"))return"Edit Course";if(g.includes("/add"))return"Add Course"}return null})(),S=l==="ka"?"GEO":"EN";return R.useEffect(()=>{f(!0)},[]),o.jsx("header",{className:ce("fixed top-0 right-0 z-30","bg-gradient-to-b from-breneo-lightgray dark:from-background to-transparent","transition-opacity duration-300 ease-in-out",e?"md:left-24":"md:left-[17rem]","left-0",t?"opacity-100":"opacity-0 pointer-events-none"),children:o.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-9 md:px-12 lg:px-14 pt-6 pb-4",children:[o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:p||y||x||b?o.jsxs(o.Fragment,{children:[o.jsxs(se,{variant:"ghost",onClick:()=>n(-1),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                           text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                           text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(Vm,{className:"h-4 w-4"}),o.jsx("span",{children:u.common.back})]}),_&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground ml-4",children:_})]}):v&&o.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:v})}),o.jsx("div",{className:"md:hidden"}),o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsxs(se,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                       text-sm font-medium flex items-center gap-2 transition-colors`,children:[o.jsx(jc,{className:"h-4 w-4"}),o.jsx("span",{children:S})]}),o.jsxs(se,{variant:"ghost",size:"icon",onClick:()=>i(a==="dark"?"light":"dark"),className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[d&&a==="dark"?o.jsx(GA,{className:"h-5 w-5"}):o.jsx(yb,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),o.jsx(xo,{to:"/notifications",children:o.jsxs(se,{variant:"ghost",size:"icon",className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[o.jsx(qA,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:"Notifications"})]})})]})]})})}const sge="academy_verified_congrats_shown";function age(){const{user:e,academyDisplay:t}=ir(),[r,n]=m.useState(!1),[s,a]=m.useState(!1),i=(e==null?void 0:e.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy",l=(t==null?void 0:t.is_verified)===!0,c=(e==null?void 0:e.id)!=null?String(e.id):null,u=c?`${sge}_${c}`:null;m.useEffect(()=>{if(!(!i||!l||!u||s))try{localStorage.getItem(u)==="true"||n(!0)}finally{a(!0)}},[i,l,u,s]);const d=f=>{if(!f&&u)try{localStorage.setItem(u,"true")}catch{}n(f)};return i?o.jsx(Ds,{open:r,onOpenChange:d,children:o.jsxs(_s,{className:"sm:max-w-md rounded-3xl",children:[o.jsx(Fs,{children:o.jsx(Bs,{className:"sr-only",children:"Academy verified"})}),o.jsxs("div",{className:"flex flex-col items-center text-center py-4 px-2",children:[o.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:o.jsx(mi,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Congratulations!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your academy is now verified. Learners can trust your profile and youll stand out on the platform."}),o.jsx(se,{onClick:()=>d(!1),className:"min-w-[140px]",children:"Got it"})]})]})}):null}const vW="https://breneo-job-aggregator.up.railway.app",ige=`${vW}/api/search`,RN=`${vW}/api/v1/jobs/`,oge=e=>e.trim().toLowerCase(),lge=e=>{const t=e.trim().toUpperCase(),r=dn.find(n=>n.code.toUpperCase()===t);return(r==null?void 0:r.name)??e};let SI=0;const jI=1e3,lT=async(e,t)=>{const n=Date.now()-SI;if(n<jI){const s=jI-n;await new Promise(a=>setTimeout(a,s))}return SI=Date.now(),fetch(e,t)},kI=e=>{const t={id:String(e.id),job_id:String(e.id),title:e.title,job_title:e.title,company:e.company_name,company_logo:e.company_logo,companyLogo:e.company_logo,company_name:e.company_name,employer_name:e.company_name,location:e.location,job_location:e.location,description:e.description,job_description:e.description,apply_url:e.apply_url,job_apply_link:e.apply_url,url:e.apply_url,date_posted:e.posted_at||e.fetched_at,posted_date:e.posted_at||e.fetched_at,posted_at:e.posted_at||e.fetched_at,fetched_at:e.fetched_at,status:e.is_active?"active":"inactive"};return e.raw&&typeof e.raw=="object"&&!Array.isArray(e.raw)?{...t,...e.raw}:t},cge=e=>{const t=e.company,r=(t==null?void 0:t.name)||e.company_name||"Unknown Company",n=(t==null?void 0:t.logo)||e.company_logo||void 0;return{id:String(e.id??""),job_id:String(e.id??""),title:e.title||"",job_title:e.title||"",company:r,company_name:r,employer_name:r,company_logo:n,companyLogo:n,location:e.location||"",job_location:e.location||"",description:e.description||e.description_short||"",job_description:e.description||e.description_short||"",apply_url:e.apply_url||"",job_apply_link:e.apply_url||"",url:e.apply_url||"",date_posted:e.posted_at||e.fetched_at||"",posted_date:e.posted_at||e.fetched_at||"",posted_at:e.posted_at||e.fetched_at||"",fetched_at:e.fetched_at||"",status:"active",industry_tags:e.industry_tags||void 0,...e}},uge=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams;t&&t.trim()&&a.set("query",t.trim()),r.countries.length>0&&a.set("country",r.countries.map(oge).join(",")),r.skills.length>0&&a.set("title",r.skills.join(",")),r.workMode&&r.workMode.length>0?a.set("work_mode",r.workMode.map(h=>h.toLowerCase()).join(",")):r.isRemote&&a.set("work_mode","remote"),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority.map(h=>h.toLowerCase()).join(",")),r.company&&r.company.length>0&&a.set("company",r.company.join(",")),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted),a.set("page",String(n)),a.set("num_pages",String(s)),a.set("sort","newest");const i=`${ige}?${a.toString()}`;console.log(" /api/search request:",i);const l=await lT(i,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!l.ok)throw new Error(`Search API ${l.status}: ${l.statusText}`);const c=await l.json(),u=c.results||[],d=c.pagination;return{jobs:u.map(cge),pagination:d?{page:d.page,current:d.page,num_pages:d.num_pages,total_pages:d.total_pages,total_results:d.total_results,total_items:d.total_results,has_next:d.has_next,has_previous:d.has_previous}:void 0}},$1=async e=>{const{query:t,filters:r,page:n=1,pageSize:s=20}=e,a=new URLSearchParams,i=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted||r.skills.length>0,l=t&&t.trim()?t.trim():"";if(l?a.set("search",l):i||a.set("search",""),a.set("page",String(n)),a.set("limit",String(s)),a.set("is_active","true"),console.log(` Fetching page ${n} with limit ${s}, query: "${l||"(empty - all jobs)"}", hasFilters: ${i})`),r.countries.length>0){const u=lge(r.countries[0]);a.set("location",u)}r.isRemote?a.set("work_mode","remote"):r.workMode&&r.workMode.length>0&&a.set("work_mode",r.workMode[0]),r.seniority&&r.seniority.length>0&&a.set("seniority",r.seniority[0]),r.company&&r.company.length>0&&a.set("company",r.company[0]),r.datePosted&&r.datePosted!=="all"&&a.set("date_posted",r.datePosted);const c=`${RN}?${a.toString()}`;console.log(" Full API Endpoint URL:",c),console.log(" Query Parameters:",Object.fromEntries(a.entries())),console.log(" Breneo Job API Request:",{filters:{countries:r.countries,jobTypes:r.jobTypes,isRemote:r.isRemote,datePosted:r.datePosted||"all",skills:r.skills,seniority:r.seniority,workMode:r.workMode,company:r.company},query:t,page:n});try{console.log(" Making API request to:",c);const u=await lT(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(" API Response Status:",u.status,u.statusText),console.log(" API Response Headers:",{contentType:u.headers.get("content-type"),contentLength:u.headers.get("content-length")}),u.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!u.ok){let y=`Failed to fetch jobs: ${u.status} ${u.statusText}`;try{const x=await u.text();if(console.error(" API Error Response:",x),x)try{const b=JSON.parse(x);b.message?y=b.message:b.error&&(y=b.error),console.error(" API Error Details:",b)}catch{y=`${y} - ${x}`}}catch(x){console.error(" Could not read error response body:",x)}throw new Error(y)}const d=await u.text();console.log(" API Response text length:",d.length),console.log(" API Response text preview (first 500 chars):",d.substring(0,500));let f;try{f=JSON.parse(d)}catch(y){throw console.error(" Failed to parse API response as JSON:",y),console.error(" Full response text:",d),new Error(`Invalid JSON response from API: ${d.substring(0,200)}`)}console.log(" API Response parsed, type:",Array.isArray(f)?"Array":typeof f),console.log(" API Response preview:",{isArray:Array.isArray(f),hasResults:f&&typeof f=="object"&&"results"in f,keys:f&&typeof f=="object"?Object.keys(f):[],arrayLength:Array.isArray(f)?f.length:null,firstItem:Array.isArray(f)&&f.length>0?f[0]:null});let h=[],g;if(Array.isArray(f)){const y=f;if(console.log(` Received ${y.length} total jobs from API (legacy array format)`),y.length===0)return console.warn(" API returned empty array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:void 0};const x=y.filter(b=>b.is_active!==!1);console.log(` ${x.length} active jobs after filtering`),h=x.map(kI),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else if(f&&typeof f=="object"&&"results"in f){const y=f,x=y.results||[];if(console.log(` Received ${x.length} jobs from paginated API response`),console.log(" Pagination info:",y.pagination),console.log(" Applied filters:",y.filters),x.length===0)return console.warn(" API returned empty results array"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:y.pagination};g=y.pagination;const b=x.filter(w=>w.is_active!==!1);console.log(` ${b.length} active jobs after filtering`),h=b.map(kI),console.log(` Mapped ${h.length} jobs to ApiJob format`)}else throw console.error(" Unexpected API response format:",f),console.error(" Full response:",JSON.stringify(f,null,2)),new Error("Invalid response format from API - expected array of jobs or object with results array");if(h.length===0)return console.warn(" No jobs returned from API after processing"),console.warn(" This could mean:"),console.warn("  1. API returned empty array"),console.warn("  2. All jobs were filtered out (is_active = false)"),console.warn("  3. Response format doesn't match expected structure"),console.log(" Full API response:",JSON.stringify(f,null,2)),{jobs:[],pagination:g};console.log(` Starting frontend filtering for ${h.length} jobs`);const v=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted&&r.datePosted!=="all"||r.skills.length>0;let p=h;return r.jobTypes.length>0&&(p=p.filter(y=>{const x=(y.employment_type||y.job_employment_type||y.type||"").toUpperCase().replace(/[-\s]/g,"");return r.jobTypes.some(b=>{const w=b.toUpperCase().replace(/[-\s]/g,"");return x.includes(w)})})),console.log(" Breneo Job API Final Response:",{totalJobsFromAPI:h.length,afterFiltering:p.length,filters:{query:t||"(none)",countries:r.countries.length,jobTypes:r.jobTypes.length,isRemote:r.isRemote,skills:r.skills.length},sampleJob:p.length>0?{id:p[0].id||p[0].job_id,title:p[0].title||p[0].job_title,company:p[0].company||p[0].company_name}:null}),{jobs:p,pagination:g}}catch(u){throw console.error(" Error in fetchJobsFromBreneoAPI:",u),u instanceof TypeError&&u.message.includes("fetch")?(console.error(" Network error - API might be unreachable:",RN),new Error("Unable to connect to job API. Please check your internet connection and try again.")):u}},M1=async e=>{if(!e)throw new Error("Job ID is required");console.log(" Fetching job detail for ID:",e);const t="https://breneo-job-aggregator.up.railway.app/api/job-details",r=new URLSearchParams;r.set("job_id",e);const n=`${t}?${r.toString()}`;console.log(` Fetching job details from: ${n}`);try{const s=await lT(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(s.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!s.ok){let c=`Failed to fetch job details: ${s.status} ${s.statusText}`;try{const u=await s.text();if(console.error("API Error Response:",u),u)try{const d=JSON.parse(u);d.message?c=d.message:d.error&&(c=d.error),console.error("API Error Details:",d)}catch{c=`${c} - ${u}`}}catch(u){console.error("Could not read error response body:",u)}throw new Error(c)}const a=await s.json();let i=null;if(Array.isArray(a)&&a.length>0)i=a[0];else if(a&&typeof a=="object")if("results"in a&&Array.isArray(a.results)){const c=a.results;c.length>0&&(i=c[0])}else if("data"in a){const c=a.data;c&&typeof c=="object"&&(i=c)}else i=a;if(!i)throw console.error(" Job not found or invalid response format:",a),new Error(`No job found with ID: ${e}`);console.log(" Found job:",{id:i.id,title:i.title,company:i.company_name});let l={id:String(i.id),job_id:String(i.id),title:i.title,job_title:i.title,company:i.company_name,company_logo:i.company_logo,companyLogo:i.company_logo,company_name:i.company_name,employer_name:i.company_name,location:i.location,job_location:i.location,description:i.description||"",job_description:i.description||"",apply_url:i.apply_url,job_apply_link:i.apply_url,url:i.apply_url,date_posted:i.posted_at||i.fetched_at,posted_date:i.posted_at||i.fetched_at,posted_at:i.posted_at||i.fetched_at,fetched_at:i.fetched_at};return i.raw&&typeof i.raw=="object"&&!Array.isArray(i.raw)&&(l={...l,...i.raw}),Object.keys(i).forEach(c=>{c in l||(l[c]=i[c])}),console.log(" Processed job detail:",l),l}catch(s){throw console.error(" Error fetching job details:",s),s instanceof TypeError&&s.message==="Failed to fetch"?new Error("Failed to connect to job details API. Please check your network connection."):s instanceof Error?s:new Error(`Failed to fetch job details: ${String(s)}`)}},uv=async e=>{try{const t=[];e.query&&e.query.trim()&&t.push(e.query.trim()),e.filters.skills.length>0&&t.push(...e.filters.skills);const r=t.length>0?t.join(" "):"";let n;try{n=await uge({...e,query:r,filters:e.filters}),console.log(" Using /api/search")}catch(f){console.warn(" /api/search unavailable, falling back to /api/v1/jobs/",f),n=await $1({...e,query:r,filters:e.filters})}let s=n.jobs;e.filters.jobTypes.length>0&&(s=s.filter(f=>{const h=(f.employment_type||f.job_employment_type||f.type||"").toUpperCase().replace(/[-\s]/g,"");return e.filters.jobTypes.some(g=>{const v=g.toUpperCase().replace(/[-\s]/g,"");return h.includes(v)})}));const a=n.pagination,i=new Set,l=[];for(const f of s){const h=f.job_id||f.id||"";if(h&&!i.has(h))i.add(h),l.push(f);else if(!h){const g=`${f.job_title||f.title||""}_${f.employer_name||f.company_name||f.company||""}`;i.has(g)||(i.add(g),l.push(f))}}let c,u,d;if(a){c=l,d=a.total_results??a.total_items??l.length;const f=a.current??a.page??e.page??1,h=a.total_pages??a.num_pages??1;u=a.has_next??(f<h&&h>1),console.log(`Using API pagination: page ${f}/${h}, ${l.length} jobs, hasMore: ${u}, total: ${d}`)}else{const f=e.pageSize||20,h=e.page||1,g=(h-1)*f,v=g+f;c=l.slice(g,v),u=v<l.length,d=l.length,console.log(`Client-side pagination: Fetched ${l.length} unique jobs, showing ${c.length} on page ${h}`)}return c.length>0&&console.log("Sample job structure:",c[0]),{jobs:c,page:(a==null?void 0:a.page)??e.page??1,pageSize:e.pageSize||20,hasMore:u,total:d}}catch(t){throw console.error("Error fetching jobs:",t),t}},dge=async e=>(await $1(e)).jobs,fge=async e=>{try{return await uv(e)}catch(t){throw console.error("Primary job source failed:",t),t}},$N=async(e="developer",t=1)=>{console.log(" Testing job fetch with:",{query:e,page:t});try{const n=await uv({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});return console.log(" Test fetch successful:",{jobsCount:n.jobs.length,hasMore:n.hasMore,total:n.total,firstJob:n.jobs[0]||null}),n}catch(r){throw console.error(" Test fetch failed:",r),r}},MN=async(e="developer",t=1,r=1)=>{console.log(" Testing direct API call with:",{query:e,page:t,numPages:r});const n=new URLSearchParams;n.set("query",e),n.set("page",String(t)),n.set("num_pages",String(r)),n.set("country","us"),n.set("date_posted","all");const s=`${RN}?${n.toString()}`;console.log(" API URL:",s);try{const a=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log(" Response status:",a.status,a.statusText),console.log(" Response headers:",{contentType:a.headers.get("content-type"),contentLength:a.headers.get("content-length")});const i=await a.text();console.log(" Response text length:",i.length),console.log(" Response text preview:",i.substring(0,500));const l=JSON.parse(i);return console.log(" Parsed JSON:",{isArray:Array.isArray(l),type:typeof l,length:Array.isArray(l)?l.length:null,keys:typeof l=="object"&&l!==null?Object.keys(l):null,firstItem:Array.isArray(l)&&l.length>0?l[0]:null}),l}catch(a){throw console.error(" Direct API test failed:",a),a}};if(typeof window<"u"){const e=window;e.testFetchJobs=$N,e.testDirectAPI=MN,e.jobService={fetchActiveJobs:uv,fetchJobDetail:M1,fetchJobsFromBreneoAPI:$1,testFetchJobs:$N,testDirectAPI:MN},console.log(" Job service test functions available:"),console.log("  - window.testFetchJobs(query, page) - Test through service layer"),console.log("  - window.testDirectAPI(query, page, numPages) - Test raw API endpoint"),console.log("  - window.jobService.fetchActiveJobs(params)"),console.log("  - window.jobService.fetchJobsFromBreneoAPI(params)")}const bi={fetchActiveJobs:uv,fetchJobDetail:M1,fetchJobsFromBreneoAPI:$1,fetchJobsFromJSearch:dge,fetchJobsFromMultipleSources:fge,testFetchJobs:$N,testDirectAPI:MN};function wr({className:e,...t}){return o.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",e),...t})}function hge({isOpen:e,onClose:t}){const[r,n]=m.useState([]),[s,a]=m.useState(!0),[i,l]=m.useState(!1),[c,u]=m.useState(null),{subscriptionInfo:d}=k1();m.useEffect(()=>{if(!e)return;(async()=>{try{a(!0);const x=(await Wm.fetchPlans()).map(b=>{let w=b.description;if(typeof w=="string"&&w.trim()!=="")try{w=JSON.parse(w)}catch{w=w.split(",").map(S=>({title:S.trim()})).filter(S=>S.title!=="")}else w=[];return{...b,description:w}});console.log("Loaded Subscription Plans:",x),n(x)}catch(y){console.error("Failed to fetch plans:",y),fe.error("Failed to load subscription plans.")}finally{a(!1)}})()},[e]);const f=async p=>{l(!0),u(p);try{const y=await Wm.createOrder(p),{redirect_url:x,order_id:b}=y;if(x&&b){localStorage.setItem("bog_order_id",b),localStorage.setItem("selected_plan_id",p.toString());try{await Wm.saveCard(b,p)}catch(w){console.warn("Card registration intent failed, but continuing to payment:",w)}window.location.href=x}else throw new Error("Invalid response from payment server")}catch(y){console.error("Checkout failed:",y),fe.error("Failed to initiate checkout. Please try again."),l(!1),u(null)}},h=p=>{const y=parseFloat(p.price);let x=y*2.5,b=60,w="month";return p.name.toLowerCase().includes("weekly")?(w="week",x=y*4,b=75):p.name.toLowerCase().includes("quarterly")&&(w="3 months",x=y*3,b=67),{price:y.toFixed(2),originalPrice:x.toFixed(2),savePercentage:b,period:w}},g=r.slice(0,3),v=()=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10 max-w-5xl mx-auto",children:g.map(p=>{const y=h(p),x=p.name.toLowerCase().includes("quarterly"),b=p.name.toLowerCase().includes("plus"),w=Array.isArray(p.description)?p.description:[];return o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(Re,{className:`rounded-2xl border relative overflow-hidden flex flex-col bg-white dark:bg-[#242424] ${b?"border-breneo-blue dark:border-breneo-blue":"border-gray-100 dark:border-gray-800"}`,children:[o.jsxs("div",{className:"px-4 pt-4 pb-3 flex items-center gap-1 border-b border-gray-100 dark:border-gray-800",children:[o.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-gray-100 leading-tight",children:[p.name," Plan"]}),x&&o.jsx("span",{className:"text-base",children:""}),(d==null?void 0:d.is_active)&&d.plan_name===p.name&&o.jsx(Ct,{className:"ml-2 bg-green-100 text-green-700 hover:bg-green-100 border-green-200",children:"Current Plan"})]}),o.jsxs("div",{className:"px-4 pt-3 pb-4",children:[o.jsxs("div",{className:"text-gray-400 dark:text-gray-500 line-through text-sm font-medium",children:["",y.originalPrice,"/",y.period]}),o.jsxs("div",{className:"flex items-center flex-wrap gap-2 mt-1",children:[o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsxs("span",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:["",y.price]}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 font-bold text-sm",children:["/",y.period]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-[#01bfff] to-[#0088cc] text-white rounded-full px-3 py-1 text-[10px] font-black uppercase tracking-tight",children:["Save ",y.savePercentage,"%"]})]})]}),o.jsx("div",{className:"flex-grow"}),o.jsx(se,{onClick:()=>f(p.id),disabled:i||(d==null?void 0:d.is_active)&&d.plan_name===p.name,variant:d!=null&&d.is_active&&d.plan_name===p.name?"secondary":"default",className:"w-full rounded-none rounded-b-2xl",children:i&&c===p.id?o.jsx(Yn,{className:"h-5 w-5 animate-spin"}):d!=null&&d.is_active&&d.plan_name===p.name?"Current Plan":"Upgrade Now"})]}),o.jsx("div",{className:`rounded-xl border overflow-hidden bg-white dark:bg-[#242424] ${b?"border-breneo-blue dark:border-breneo-blue":"border-gray-100 dark:border-gray-800"}`,children:o.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:w.map((_,S)=>o.jsxs("div",{className:"px-3 py-2.5 flex items-center justify-between min-h-[44px]",children:[o.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 pr-3",children:_.title}),_.badge&&o.jsx(Ct,{className:"bg-breneo-blue text-white hover:bg-breneo-blue font-bold text-[10px] px-2 border-0",children:_.badge})]},`${p.id}-${_.title}-${S}`))})})]},p.id)})});return o.jsx(Ds,{open:e,onOpenChange:t,children:o.jsxs(Fq,{children:[o.jsx(tT,{className:"bg-white/95 dark:bg-black/70 backdrop-blur-md z-[100] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 duration-300"}),o.jsx(_s,{className:"fixed inset-0 z-[101] w-full h-full max-w-none rounded-none border-none p-0 overflow-y-auto bg-[#F2F2F3] dark:bg-[#181818] shadow-none outline-none transform-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:fade-in-0 data-[state=closed]:fade-out-0 data-[state=open]:zoom-in-100 data-[state=closed]:zoom-out-100 data-[state=open]:slide-in-from-left-0 data-[state=open]:slide-in-from-top-0 data-[state=closed]:slide-out-to-left-0 data-[state=closed]:slide-out-to-top-0 duration-300",onInteractOutside:p=>p.preventDefault(),children:o.jsxs("div",{className:"w-full min-h-full pt-20 pb-20 px-4 sm:px-12 md:px-20 lg:px-32",children:[o.jsxs("div",{className:"text-center mb-16 px-4",children:[o.jsxs("h1",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-gray-100 mb-4 tracking-tight",children:["Get 3x More Interviews"," ",o.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"For Less than 1 a day"})]}),o.jsxs("p",{className:"text-lg md:text-xl font-bold text-gray-500 dark:text-gray-400",children:["Interview-winning tools + live career coachingall in"," ",o.jsx("span",{className:"text-breneo-blue",children:"Breneo Pro"})]})]}),s?o.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(wr,{className:"h-[400px] rounded-[32px]"}),o.jsx(wr,{className:"h-[400px] rounded-[32px]"}),o.jsx(wr,{className:"h-[400px] rounded-[32px]"})]}),o.jsx(wr,{className:"h-[500px] rounded-[32px]"})]}):o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx(v,{}),o.jsxs("div",{className:"mt-16 mb-12 max-w-6xl mx-auto bg-white dark:bg-[#242424] border border-gray-100 dark:border-gray-800 rounded-[24px] p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsx("p",{className:"text-gray-800 dark:text-gray-100 text-xl font-bold italic text-center md:text-left leading-relaxed",children:`"Breneo Plus took me from 'just browsing' to signed offer in 21 daystotal game changer."`}),o.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-[#242424] p-4 rounded-2xl border border-gray-100 dark:border-gray-800 shrink-0",children:[o.jsx("img",{src:"/lovable-uploads/randomstudent.png",alt:"Rahul S.",className:"h-12 w-12 rounded-full border-2 border-white dark:border-gray-800 object-cover"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-black text-gray-900 dark:text-gray-100",children:"Rahul S."}),o.jsx("div",{className:"text-sm font-bold text-breneo-blue",children:"Software Engineer"})]})]})]}),o.jsx("div",{className:"h-12"})]})]})})]})})}function It({children:e,showSidebar:t=!0,showHeader:r=!0,background:n="default"}){const[s,a]=m.useState(!1),[i,l]=m.useState(!0),[c,u]=m.useState(!1),[d,f]=Xh(),h=m.useRef(null);m.useEffect(()=>{if(d.get("upgrade")==="true"){u(!0);const p=new URLSearchParams(d);p.delete("upgrade"),f(p,{replace:!0})}},[d,f]);const g=()=>{a(p=>!p)},v=()=>{u(!0)};return m.useEffect(()=>{const p=h.current;if(!p)return;const y=()=>{p.scrollTop>50?l(!1):l(!0)};return p.addEventListener("scroll",y),()=>{p.removeEventListener("scroll",y)}},[]),o.jsxs("div",{className:ce("h-screen overflow-hidden",n==="white"?"bg-white":"bg-breneo-lightgray"),children:[t&&o.jsx(oT,{collapsed:s,toggleSidebar:g,onUpgradeClick:v}),r&&o.jsx(nge,{sidebarCollapsed:s,isVisible:i}),o.jsx("main",{ref:h,className:ce("h-full overflow-y-auto transition-all duration-300",t&&(s?"md:ml-24":"md:ml-[17rem]"),r&&"pt-24 pb-32 md:pt-24 md:pb-0",(t||r)&&"px-2 md:px-6"),children:o.jsx("div",{className:"h-full",children:e})}),o.jsx(age,{}),o.jsx(hge,{isOpen:c,onClose:()=>u(!1)})]})}const ua=m.forwardRef(({value:e,size:t=60,strokeWidth:r=3,className:n,showLabel:s=!0,matchLabel:a,percentageTextSize:i="lg",centerLabel:l},c)=>{const u=(t-r)/2,d=2*Math.PI*u,f=Math.max(0,Math.min(100,e)),h=d-f/100*d,g=a||(e>=70?"GOOD MATCH":"FAIR MATCH"),v={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return o.jsxs("div",{ref:c,className:ce("flex items-center gap-2",n),children:[s&&o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:g}),o.jsxs("div",{className:"relative",style:{width:t,height:t},children:[o.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",style:{overflow:"visible"},children:[o.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-gray-200/40 dark:text-gray-700/40"}),o.jsx("circle",{cx:t/2,cy:t/2,r:u,fill:"none",stroke:"currentColor",strokeWidth:r,strokeDasharray:d,strokeDashoffset:h,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:ce("font-bold text-gray-700 dark:text-gray-300",v[i]),children:l!==void 0?l:`${Math.round(e)}%`})})]})]})});ua.displayName="RadialProgress";const pge="modulepreload",mge=function(e){return"/"+e},EI={},dv=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=mge(c),c in EI)return;EI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":pge,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},gge=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dv(async()=>{const{default:n}=await Promise.resolve().then(()=>ap);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class cT extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yge extends cT{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vge extends cT{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xge extends cT{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var IN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(IN||(IN={}));var bge=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class wge{constructor(t,{headers:r={},customFetch:n,region:s=IN.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=gge(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return bge(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new yge(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new vge(d);if(!d.ok)throw new xge(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ls={},uT={},I1={},fv={},L1={},D1={},_ge=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ch=_ge();const Sge=ch.fetch,xW=ch.fetch.bind(ch),bW=ch.Headers,jge=ch.Request,kge=ch.Response,ap=Object.freeze(Object.defineProperty({__proto__:null,Headers:bW,Request:jge,Response:kge,default:xW,fetch:Sge},Symbol.toStringTag,{value:"Module"})),Ege=ite(ap);var F1={};Object.defineProperty(F1,"__esModule",{value:!0});let Nge=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};F1.default=Nge;var wW=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D1,"__esModule",{value:!0});const Cge=wW(Ege),Pge=wW(F1);let Age=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cge.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,f=null,h=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await a.text();try{u=JSON.parse(p),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,g="OK")}catch{a.status===404&&p===""?(h=204,g="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new Pge.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};D1.default=Age;var Tge=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(L1,"__esModule",{value:!0});const Oge=Tge(D1);let Rge=class extends Oge.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};L1.default=Rge;var $ge=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fv,"__esModule",{value:!0});const Mge=$ge(L1);let Ige=class extends Mge.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};fv.default=Ige;var Lge=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I1,"__esModule",{value:!0});const Xp=Lge(fv);let Dge=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Xp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xp.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xp.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Xp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};I1.default=Dge;var B1={},U1={};Object.defineProperty(U1,"__esModule",{value:!0});U1.version=void 0;U1.version="0.0.0-automated";Object.defineProperty(B1,"__esModule",{value:!0});B1.DEFAULT_HEADERS=void 0;const Fge=U1;B1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Fge.version}`};var _W=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uT,"__esModule",{value:!0});const Bge=_W(I1),Uge=_W(fv),zge=B1;let qge=class SW{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},zge.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Bge.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new SW(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new Uge.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};uT.default=qge;var ip=ls&&ls.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.PostgrestError=Ls.PostgrestBuilder=Ls.PostgrestTransformBuilder=Ls.PostgrestFilterBuilder=Ls.PostgrestQueryBuilder=Ls.PostgrestClient=void 0;const jW=ip(uT);Ls.PostgrestClient=jW.default;const kW=ip(I1);Ls.PostgrestQueryBuilder=kW.default;const EW=ip(fv);Ls.PostgrestFilterBuilder=EW.default;const NW=ip(L1);Ls.PostgrestTransformBuilder=NW.default;const CW=ip(D1);Ls.PostgrestBuilder=CW.default;const PW=ip(F1);Ls.PostgrestError=PW.default;var Wge=Ls.default={PostgrestClient:jW.default,PostgrestQueryBuilder:kW.default,PostgrestFilterBuilder:EW.default,PostgrestTransformBuilder:NW.default,PostgrestBuilder:CW.default,PostgrestError:PW.default};const{PostgrestClient:Vge,PostgrestQueryBuilder:bJe,PostgrestFilterBuilder:wJe,PostgrestTransformBuilder:_Je,PostgrestBuilder:SJe,PostgrestError:jJe}=Wge;let LN;typeof window>"u"?LN=require("ws"):LN=window.WebSocket;const Hge=LN,Kge="2.11.10",Gge={"X-Client-Info":`realtime-js/${Kge}`},Yge="1.0.0",AW=1e4,Jge=1e3;var Cf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cf||(Cf={}));var ys;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ys||(ys={}));var ii;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ii||(ii={}));var DN;(function(e){e.websocket="websocket"})(DN||(DN={}));var iu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(iu||(iu={}));class Xge{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class TW{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kr||(kr={}));const NI=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=Qge(i,e,t,s),a),{})},Qge=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?OW(a,i):FN(i)},OW=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rye(t,r)}switch(e){case kr.bool:return Zge(t);case kr.float4:case kr.float8:case kr.int2:case kr.int4:case kr.int8:case kr.numeric:case kr.oid:return eye(t);case kr.json:case kr.jsonb:return tye(t);case kr.timestamp:return nye(t);case kr.abstime:case kr.date:case kr.daterange:case kr.int4range:case kr.int8range:case kr.money:case kr.reltime:case kr.text:case kr.time:case kr.timestamptz:case kr.timetz:case kr.tsrange:case kr.tstzrange:return FN(t);default:return FN(t)}},FN=e=>e,Zge=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eye=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tye=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rye=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>OW(t,l))}return e},nye=e=>typeof e=="string"?e.replace(" ","T"):e,RW=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class hj{constructor(t,r,n={},s=AW){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var CI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(CI||(CI={}));class Km{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Km.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Km.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Km.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),g=f.map(y=>y.presence_ref),v=d.filter(y=>g.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(PI||(PI={}));var AI;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(AI||(AI={}));var ko;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ko||(ko={}));class dT{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ys.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hj(this,ii.join,this.params,this.timeout),this.rejoinTimer=new TW(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ys.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ys.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ys.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ys.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ii.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Km(this),this.broadcastEndpointURL=RW(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ko.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ko.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ko.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let p=0;p<g;p++){const y=h[p],{filter:{event:x,schema:b,table:w,filter:_}}=y,S=d&&d[p];if(S&&S.event===x&&S.schema===b&&S.table===w&&S.filter===_)v.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=ys.errored,t==null||t(ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ko.SUBSCRIBED);return}}).receive("error",d=>{this.state=ys.errored,t==null||t(ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ys.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ii.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new hj(this,ii.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hj(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ii;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,p,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(p=g.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(g=>{var v,p,y,x,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(b=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:y,commit_timestamp:x,type:b,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}g.callback(h,n)})}_isClosed(){return this.state===ys.closed}_isJoined(){return this.state===ys.joined}_isJoining(){return this.state===ys.joining}_isLeaving(){return this.state===ys.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&dT.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ii.close,{},t)}_onError(t){this._on(ii.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ys.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=NI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=NI(t.columns,t.old_record)),r}}const TI=()=>{},sye=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aye{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Gge,this.params={},this.timeout=AW,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=TI,this.ref=0,this.logger=TI,this.conn=null,this.sendBuffer=[],this.serializer=new Xge,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>dv(async()=>{const{default:c}=await Promise.resolve().then(()=>ap);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${DN.websocket}`,this.httpEndpoint=RW(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new TW(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Hge),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new iye(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yge}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cf.connecting:return iu.Connecting;case Cf.open:return iu.Open;case Cf.closing:return iu.Closing;default:return iu.Closed}}isConnected(){return this.connectionState()===iu.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new dT(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(ii.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Jge,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ii.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sye],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class iye{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Cf.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class fT extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class oye extends fT{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class BN extends fT{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var lye=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $W=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dv(async()=>{const{default:n}=await Promise.resolve().then(()=>ap);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cye=()=>lye(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dv(()=>Promise.resolve().then(()=>ap),void 0)).Response:Response}),UN=e=>{if(Array.isArray(e))return e.map(r=>UN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=UN(n)}),t};var dd=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const pj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uye=(e,t,r)=>dd(void 0,void 0,void 0,function*(){const n=yield cye();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new oye(pj(s),e.status||500))}).catch(s=>{t(new BN(pj(s),s))}):t(new BN(pj(e),e))}),dye=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function hv(e,t,r,n,s,a){return dd(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,dye(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>uye(c,l,n))})})}function jb(e,t,r,n){return dd(this,void 0,void 0,function*(){return hv(e,"GET",t,r,n)})}function Ol(e,t,r,n,s){return dd(this,void 0,void 0,function*(){return hv(e,"POST",t,n,s,r)})}function fye(e,t,r,n,s){return dd(this,void 0,void 0,function*(){return hv(e,"PUT",t,n,s,r)})}function hye(e,t,r,n){return dd(this,void 0,void 0,function*(){return hv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function MW(e,t,r,n,s){return dd(this,void 0,void 0,function*(){return hv(e,"DELETE",t,n,s,r)})}var As=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const pye={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mye{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=$W(s)}uploadOrUpdate(t,r,n,s){return As(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},OI),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Mn(a))return{data:null,error:a};throw a}})}upload(t,r,n){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return As(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:OI.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Mn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return As(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Ol(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new fT("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}update(t,r,n){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return As(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Mn(s))return{data:null,error:s};throw s}})}copy(t,r,n){return As(this,void 0,void 0,function*(){try{return{data:{path:(yield Ol(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Mn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return As(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Ol(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(Mn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return As(this,void 0,void 0,function*(){try{const s=yield Ol(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(Mn(s))return{data:null,error:s};throw s}})}download(t,r){return As(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield jb(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Mn(l))return{data:null,error:l};throw l}})}info(t){return As(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield jb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:UN(n),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}exists(t){return As(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hye(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Mn(n)&&n instanceof BN){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return As(this,void 0,void 0,function*(){try{return{data:yield MW(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}list(t,r,n){return As(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pye),r),{prefix:t||""});return{data:yield Ol(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Mn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gye="2.7.1",yye={"X-Client-Info":`storage-js/${gye}`};var Ed=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vye{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},yye),r),this.fetch=$W(n)}listBuckets(){return Ed(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Mn(t))return{data:null,error:t};throw t}})}getBucket(t){return Ed(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ed(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ed(this,void 0,void 0,function*(){try{return{data:yield fye(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ed(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ed(this,void 0,void 0,function*(){try{return{data:yield MW(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}}class xye extends vye{constructor(t,r={},n){super(t,r,n)}from(t){return new mye(this.url,this.headers,t,this.fetch)}}const bye="2.50.0";let km="";typeof Deno<"u"?km="deno":typeof document<"u"?km="web":typeof navigator<"u"&&navigator.product==="ReactNative"?km="react-native":km="node";const wye={"X-Client-Info":`supabase-js-${km}/${bye}`},_ye={headers:wye},Sye={schema:"public"},jye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kye={};var Eye=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Nye=e=>{let t;return e?t=e:typeof fetch>"u"?t=xW:t=fetch,(...r)=>t(...r)},Cye=()=>typeof Headers>"u"?bW:Headers,Pye=(e,t,r)=>{const n=Nye(r),s=Cye();return(a,i)=>Eye(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var Aye=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Tye(e){return e.endsWith("/")?e:e+"/"}function Oye(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Aye(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const IW="2.70.0",Wd=30*1e3,zN=3,mj=zN*Wd,Rye="http://localhost:9999",$ye="supabase.auth.token",Mye={"X-Client-Info":`gotrue-js/${IW}`},qN="X-Supabase-Api-Version",LW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iye=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lye=6e5;class hT extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dye extends hT{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fye(e){return $t(e)&&e.name==="AuthApiError"}class DW extends hT{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Oc extends hT{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Sl extends Oc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bye(e){return $t(e)&&e.name==="AuthSessionMissingError"}class m0 extends Oc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class g0 extends Oc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class y0 extends Oc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uye(e){return $t(e)&&e.name==="AuthImplicitGrantRedirectError"}class RI extends Oc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class WN extends Oc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gj(e){return $t(e)&&e.name==="AuthRetryableFetchError"}class $I extends Oc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Gm extends Oc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),MI=` 	
\r=`.split(""),zye=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<MI.length;t+=1)e[MI[t].charCodeAt(0)]=-2;for(let t=0;t<kb.length;t+=1)e[kb[t].charCodeAt(0)]=t;return e})();function II(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kb[n]),t.queuedBits-=6}}function FW(e,t,r){const n=zye[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function LI(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{Vye(i,n,r)};for(let i=0;i<e.length;i+=1)FW(e.charCodeAt(i),s,a);return t.join("")}function qye(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wye(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qye(n,t)}}function Vye(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hye(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)FW(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Kye(e){const t=[];return Wye(e,r=>t.push(r)),new Uint8Array(t)}function Gye(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>II(s,r,n)),II(null,r,n),t.join("")}function Yye(e){return Math.round(Date.now()/1e3)+e}function Jye(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ei=()=>typeof window<"u"&&typeof document<"u",Hc={tested:!1,writable:!1},Ym=()=>{if(!ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hc.tested)return Hc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hc.tested=!0,Hc.writable=!0}catch{Hc.tested=!0,Hc.writable=!1}return Hc.writable};function Xye(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const BW=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dv(async()=>{const{default:n}=await Promise.resolve().then(()=>ap);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Qye=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",UW=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},v0=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},x0=async(e,t)=>{await e.removeItem(t)};class z1{constructor(){this.promise=new z1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}z1.promiseConstructor=Promise;function yj(e){const t=e.split(".");if(t.length!==3)throw new Gm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Iye.test(t[n]))throw new Gm("JWT not in base64url format");return{header:JSON.parse(LI(t[0])),payload:JSON.parse(LI(t[1])),signature:Hye(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zye(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eve(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function tve(e){return("0"+e.toString(16)).substr(-2)}function rve(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,tve).join("")}async function nve(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function sve(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nve(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nd(e,t,r=!1){const n=rve();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await UW(e,`${t}-code-verifier`,s);const a=await sve(n);return[a,n===a?"plain":"s256"]}const ave=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ive(e){const t=e.headers.get(qN);if(!t||!t.match(ave))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ove(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lve(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cve=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cd(e){if(!cve.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var uve=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Qc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dve=[502,503,504];async function DI(e){var t;if(!Qye(e))throw new WN(Qc(e),0);if(dve.includes(e.status))throw new WN(Qc(e),e.status);let r;try{r=await e.json()}catch(a){throw new DW(Qc(a),a)}let n;const s=ive(e);if(s&&s.getTime()>=LW["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $I(Qc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Sl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new $I(Qc(r),e.status,r.weak_password.reasons);throw new Dye(Qc(r),e.status||500,n)}const fve=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function zt(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[qN]||(a[qN]=LW["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await hve(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hve(e,t,r,n,s,a){const i=fve(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new WN(Qc(c),0)}if(l.ok||await DI(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await DI(c)}}function bo(e){var t;let r=null;yve(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Yye(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function FI(e){const t=bo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Il(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pve(e){return{data:e,error:null}}function mve(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=uve(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function gve(e){return e}function yve(e){return e.access_token&&e.refresh_token&&e.expires_in}const vj=["global","local","others"];var vve=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class xve{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=BW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=vj[0]){if(vj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vj.join(", ")}`);try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Il})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=vve(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mve,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Il})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:gve});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cd(t);try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Il})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Cd(t);try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Il})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Cd(t);try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Il})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Cd(t.userId);try{const{data:r,error:n}=await zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Cd(t.userId),Cd(t.id);try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}}const bve={getItem:e=>Ym()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ym()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ym()&&globalThis.localStorage.removeItem(e)}};function BI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function wve(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pd={debug:!!(globalThis&&Ym()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zW extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _ve extends zW{}async function Sve(e,t,r){Pd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Pd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Pd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Pd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _ve(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}wve();const jve={url:Rye,storageKey:$ye,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mye,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function UI(e,t,r){return await r()}class zg{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zg.nextInstanceID,zg.nextInstanceID+=1,this.instanceID>0&&ei()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jve),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xve({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=BW(s.fetch),this.lock=s.lock||UI,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ei()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Sve:this.lock=UI,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ym()?this.storage=bve:(this.memoryStorage={},this.storage=BI(this.memoryStorage)):(this.memoryStorage={},this.storage=BI(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${IW}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Xye(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ei()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Uye(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $t(r)?{error:r}:{error:new DW("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:bo}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Nd(this.storage,this.storageKey)),a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:bo})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bo})}else throw new g0("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:FI})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:FI})}else throw new g0("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new m0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,g;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:y,wallet:x,statement:b,options:w}=t;let _;if(ei())if(typeof x=="object")_=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=E}}try{const{data:y,error:x}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Gye(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:bo});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new m0}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if($t(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await v0(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:bo});if(await x0(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new m0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if($t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new m0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Nd(this.storage,this.storageKey));const{error:f}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new g0("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:bo});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($t(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Nd(this.storage,this.storageKey)),await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:pve})}catch(a){if($t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Sl;const{error:s}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new g0("You must provide either an email or phone number and a type")}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await v0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Il}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sl}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Il})})}catch(r){if($t(r))return Bye(r)&&(await this._removeSession(),await x0(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Sl;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Nd(this.storage,this.storageKey));const{data:u,error:d}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Il});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Sl;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=yj(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if($t(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Sl;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ei())throw new y0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new y0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new RI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new y0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new RI("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new y0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if($t(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await v0(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Fye(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await x0(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Jye(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nd(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if($t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ei()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($t(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eve(async s=>(s>0&&await Zye(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bo})),(s,a)=>{const i=200*Math.pow(2,s);return a&&gj(a)&&Date.now()+i-n<Wd})}catch(n){if(this._debug(r,"error",n),$t(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ei()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await v0(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<mj;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${mj}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),gj(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Sl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new z1;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Sl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),$t(a)){const i={session:null,error:a};return gj(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await UW(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await x0(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ei()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wd}ms, refresh threshold is ${zN} ticks`),s<=zN&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zW)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ei()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Nd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=yj(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+Lye>Date.now()))return n;const{data:s,error:a}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Gm("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new Gm("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=yj(n);if(ove(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:s,signature:i},error:null}}const u=lve(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,Kye(`${l}.${c}`)))throw new Gm("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}zg.nextInstanceID=0;const kve=zg;class Eve extends kve{constructor(t){super(t)}}var Nve=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Cve{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Tye(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Sye,realtime:kye,auth:Object.assign(Object.assign({},jye),{storageKey:u}),global:_ye},f=Oye(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=Pye(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Vge(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new wge(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xye(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Nve(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Eve({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new aye(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pve=(e,t,r)=>new Cve(e,t,r),Ave="https://kwvpfetgerukuglqeuzl.supabase.co",Tve="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dnBmZXRnZXJ1a3VnbHFldXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDYzNjEsImV4cCI6MjA2NTgyMjM2MX0.oQNRxz5hNqp_YVkIJ0KOtVSgAksQ0km6iESqiWI8wHw",Qt=Pve(Ave,Tve),op=async e=>{const t=String(e),r=[qm(t),t],n=parseInt(t,10);!isNaN(n)&&n.toString()===t&&r.push(qm(n)),console.log(" getUserTestAnswers - Trying variants:",{originalUserId:e,userIdStr:t,variants:r});for(const s of r)try{const{data:a,error:i}=await Qt.from("usertestanswers").select("*").eq("userid",s).order("answeredat",{ascending:!0});if(i){console.warn(` Error fetching with variant ${s}:`,i.message);continue}if(a&&a.length>0)return console.log(` Found ${a.length} test answers for user ${s}`),a;console.log(` No answers found for variant ${s}`)}catch(a){console.warn(` Exception with variant ${s}:`,a);continue}try{const{data:{user:s}}=await Qt.auth.getUser();if(s){console.log(" Trying with auth user ID:",s.id);const{data:a,error:i}=await Qt.from("usertestanswers").select("*").eq("userid",s.id).order("answeredat",{ascending:!0});if(!i&&a&&a.length>0)return console.log(` Found ${a.length} test answers using auth user ID`),a}}catch(s){console.warn(" Could not get auth user:",s)}return console.log(" No test answers found with any variant"),[]},lp=e=>{const t={};return!e||!Array.isArray(e)?(console.error("Invalid answers array:",e),t):(e.forEach(r=>{const n=r.relatedSkills||r.relatedskills||[];Array.isArray(n)&&n.forEach(s=>{s&&typeof s=="string"&&(t[s]=(t[s]||0)+1)})}),t)},q1=(e,t=3)=>Object.entries(e).sort(([,r],[,n])=>n-r).slice(0,t).map(([r,n])=>({skill:r,score:n})),qg=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"];return e.filter(r=>{const n=r.toLowerCase().trim();return!t.some(s=>n.includes(s)||s.includes(n))})},Ove=Qe.AUTH.PROFILE,Rve=Qe.AUTH.PROFILE,Rr={async getProfile(){const{data:e}=await Ce.get(Ove);return e},async updateProfile(e){const{data:t}=await Ce.patch(Rve,e);return t},async getEducations(){const{data:e}=await Ce.get(Qe.EDUCATIONS);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async createEducation(e){const{data:t}=await Ce.post(Qe.EDUCATIONS,e);return t},async getEducation(e){const{data:t}=await Ce.get(`${Qe.EDUCATIONS}${e}/`);return t},async updateEducation(e,t){const{data:r}=await Ce.patch(`${Qe.EDUCATIONS}${e}/`,t);return r},async deleteEducation(e){await Ce.delete(`${Qe.EDUCATIONS}${e}/`)},async getWorkExperiences(){const{data:e}=await Ce.get(Qe.WORK_EXPERIENCES);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async createWorkExperience(e){const{data:t}=await Ce.post(Qe.WORK_EXPERIENCES,e);return t},async getWorkExperience(e){const{data:t}=await Ce.get(`${Qe.WORK_EXPERIENCES}${e}/`);return t},async updateWorkExperience(e,t){const{data:r}=await Ce.patch(`${Qe.WORK_EXPERIENCES}${e}/`,t);return r},async deleteWorkExperience(e){await Ce.delete(`${Qe.WORK_EXPERIENCES}${e}/`)},async getMySkills(){const{data:e}=await Ce.get(Qe.ME.SKILLS);return Array.isArray(e)?e:(e==null?void 0:e.results)??(e==null?void 0:e.items)??[]},async getIndustryProfile(){const{data:e}=await Ce.get(Qe.ME.INDUSTRY_PROFILE),t=e;if(!t||typeof t!="object")return{};const r=t.industry_years??t.industry_years_json;return r&&typeof r=="object"?r:{}},async addSkill(e){const{data:t}=await Ce.post(Qe.ME.SKILLS,{name:e});return t},async removeSkill(e){await Ce.delete(`${Qe.ME.SKILLS}${e}/`)},async searchSkills(e){if(!e.trim())return[];const{data:t}=await Ce.get(Qe.SKILLS_SEARCH,{params:{query:e.trim()}});return Array.isArray(t)?t:(t==null?void 0:t.results)??(t==null?void 0:t.items)??[]}},zI={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]},pT=e=>{if(!e)return[];const t=[],n=[e.title,e.job_title,e.position,e.description,e.job_description,e.job_required_experience,e.required_experience,...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string"&&a.length>0).join(" ").toLowerCase();return Object.keys(zI).forEach(a=>{zI[a].some(l=>n.includes(l.toLowerCase()))&&t.push(a)}),[...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[]].filter(a=>typeof a=="string").forEach(a=>{t.includes(a.toLowerCase())||t.push(a.toLowerCase())}),[...new Set(t)]},Jm=e=>e.toLowerCase().trim().replace(/\s+/g," "),$ve=(e,t)=>{const r=Jm(e),n=Jm(t);if(r===n)return"exact";const s=3;if(r.length>=s&&n.length>=s&&(r.includes(n)||n.includes(r))){const a=r.length<n.length?r:n,i=r.length>=n.length?r:n;if(a.length>=s||a.length/i.length>=.5)return"partial"}return null},Mve=(e,t,r)=>{const n=e.map(Jm),s=t.map(Jm),a=r?Jm(r):"",i=[],l=[],c=[],u=[];return n.forEach(d=>{a&&(a.includes(d)?c.includes(d)||c.push(d):a.split(/\s+/).some(g=>g.includes(d)||d.includes(g))&&!c.includes(d)&&c.push(d))}),n.forEach(d=>{let f=!1,h=null;for(const g of s){const v=$ve(d,g);if(v){f=!0,h=v;break}}f&&h&&(h==="exact"?i.includes(d)||i.push(d):l.includes(d)||l.push(d),c.includes(d)||u.includes(d)||u.push(d))}),{exactMatches:i,partialMatches:l,titleMatches:c,descriptionMatches:u}},Ive=(e,t,r)=>{if(e.length===0||t.length===0&&!r)return 0;const n=Mve(e,t,r);if(n.exactMatches.length===0&&n.partialMatches.length===0&&n.titleMatches.length===0)return 0;const s={exactMatch:1,partialMatch:.6,titleMatch:1.2,descriptionMatch:1};let a=0,i=0;n.exactMatches.forEach(y=>{const b=n.titleMatches.includes(y)?s.exactMatch*s.titleMatch:s.exactMatch*s.descriptionMatch;a+=b,i+=s.exactMatch*s.titleMatch}),n.partialMatches.forEach(y=>{const b=n.titleMatches.includes(y)?s.partialMatch*s.titleMatch:s.partialMatch*s.descriptionMatch;a+=b,i+=s.partialMatch*s.titleMatch});const l=t.length||1,u=new Set([...n.exactMatches,...n.partialMatches]).size/l*100,d=e.length,h=new Set([...n.exactMatches,...n.partialMatches]).size/d*100;let p=(i>0?a/i*100:0)*.5+u*.3+h*.2;if(n.titleMatches.length>0){const y=Math.min(n.titleMatches.length/d*15,15);p=Math.min(p+y,100)}return t.length===0&&n.titleMatches.length>0&&(p=Math.min(n.titleMatches.length/d*100,75)),Math.round(Math.min(Math.max(p,0),100))},Ou=e=>e===void 0||e<=0?"Bad match":e>=95?"Excellent match":e>=85?"Best match":e>=70?"Good match":e>=50?"Fair match":"Bad match",Lve={"financial services":"fintech",finance:"fintech",fs:"fintech",banking:"banking",payments:"payments","e commerce":"e-commerce",ecommerce:"e-commerce",retail:"retail",insurance:"insurance","enterprise software":"enterprise software",saas:"saas","software as a service":"saas",medtech:"medtech","medical technology":"medtech",pharma:"pharma",pharmaceutical:"pharma",healthcare:"healthcare","health care":"healthcare",marketplace:"marketplace","market place":"marketplace",technology:"technology",tech:"technology",software:"technology",cloud:"cloud","cloud computing":"cloud",design:"design","ui/ux":"design",marketing:"marketing",sales:"sales",hr:"hr","human resources":"hr","customer service":"customer service",consulting:"consulting",content:"content"},Dve={fintech:["banking","insurance","payments"],banking:["fintech","payments"],payments:["fintech","banking"],"e-commerce":["retail","marketplace"],retail:["e-commerce","marketplace"],marketplace:["e-commerce","retail"],healthcare:["medtech","pharma"],medtech:["healthcare","pharma"],pharma:["healthcare","medtech"],technology:["saas","cloud","design"],saas:["technology","enterprise software"],"enterprise software":["saas","technology"],cloud:["technology"],design:["technology","content"],marketing:["sales","content"],sales:["marketing"],content:["design","marketing"]};function Fve(e){if(e==null||typeof e!="string")return[];const t=e.trim();if(!t)return[];const n=t.split(",").map(s=>s.trim().toLowerCase().replace(/\s+/g," ")).filter(Boolean).map(s=>Lve[s]??s).filter(Boolean);return[...new Set(n)]}function b0(e){return e&&e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function qI(e,t,r){return Math.min(r,Math.max(t,e))}function Bve(e,t){const r=e.filter(Boolean),n=t;if(r.length===0)return{percent:null,reasons:["Job industry not provided"],matchedExact:[],matchedRelated:[],missing:[],isNa:!0};const s=[],a=[],i=[],l=[];let c=0;for(const d of r){const f=d.trim().toLowerCase();let h,g;if(n[f]!=null&&n[f]>0)h=1,g=n[f],s.push({tag:f,years:g});else{const x=(Dve[f]??[]).find(b=>n[b]!=null&&n[b]>0);x?(h=.5,g=n[x],a.push({jobTag:f,matchedVia:x,years:g})):(h=0,g=0,i.push(f))}const v=qI(g/5,0,1)*.2,p=qI(h+v,0,1);c+=p}const u=Math.round(c/r.length*100);return s.length&&s.forEach(({tag:d,years:f})=>{l.push(`Exact match: ${b0(d)} (${f.toFixed(1)} yrs)`)}),a.length&&a.forEach(({jobTag:d,matchedVia:f,years:h})=>{l.push(`Related match: ${b0(d)} via ${b0(f)} (${h.toFixed(1)} yrs)`)}),i.length&&i.forEach(d=>{l.push(`No match: ${b0(d)}`)}),{percent:u,reasons:l,matchedExact:s,matchedRelated:a,missing:i,isNa:!1}}const qW={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]},Eb={};for(const e of Object.keys(qW)){const t=e.toLowerCase().trim();Eb[t]=e}for(const[e,t]of Object.entries(qW))for(const r of t){const n=r.toLowerCase().trim();n in Eb||(Eb[n]=e)}function qr(e){const t=e.toLowerCase().trim().replace(/\s+/g," ");return Eb[t]??t}const Nb={intern:0,junior:1,mid:2,senior:3,lead:4,unknown:null};function WI(e){if(!e||typeof e!="string")return null;const t=e.toLowerCase().trim();return t in Nb&&Nb[t]!==null?t:/\bintern\b/.test(t)?"intern":/\bjunior\b|\bentry\b/.test(t)?"junior":/\bmid\b|\bmiddle\b|\bintermediate\b/.test(t)?"mid":/\bsenior\b/.test(t)?"senior":/\blead\b|\bprincipal\b|\bstaff\b/.test(t)?"lead":null}function Uve(e){if(!e||typeof e!="string")return null;const t=e.trim(),r=t.match(/(\d+)\s*[-]\s*\d+/);if(r)return parseInt(r[1],10);const n=t.match(/(\d+)\s*\+/);if(n)return parseInt(n[1],10);const s=t.match(/\b(\d+)\s*(?:year|yr|y\.?)?s?\b/i);return s?parseInt(s[1],10):null}const zve={engineering:["Technology","Software"],software:["Technology","Software"],"data science":["Technology","Data & Analytics"],"product management":["Product","Technology"],design:["Design","Creative"],marketing:["Marketing","Advertising"],sales:["Sales","Business Development"],finance:["Finance","FinTech"],healthcare:["Healthcare"],"customer support":["Customer Service"],operations:["Operations"]};function qve(e,t,r){const n=[],s=(t||"").trim();s&&s.split(/[,;|/]/).forEach(l=>{const c=l.trim();c&&n.push(c)});const a=(e||"").toLowerCase();for(const[l,c]of Object.entries(zve))a.includes(l)&&c.forEach(u=>{n.includes(u)||n.push(u)});const i=(r||"").toLowerCase();return(i.includes("fintech")||i.includes("finance"))&&(n.includes("FinTech")||n.push("FinTech")),(i.includes("e-commerce")||i.includes("ecommerce"))&&(n.includes("E-commerce")||n.push("E-commerce")),[...new Set(n)]}function VN(e){const t=e,r=t.required_skills??t.skills??t.job_skills??[],n=Array.isArray(r)?r.filter(_=>typeof _=="string"):typeof r=="string"?r.split(/[,;]/).map(_=>_.trim()).filter(Boolean):[],s=pT(e),a=[...new Set([...n.map(qr),...s.map(qr)])],i=t.skills_preferred??t.skillsPreferred,l=Array.isArray(i)?i.filter(_=>typeof _=="string"):[],c=[...new Set(l.map(qr))],u=t.tech_stack??t.techStack,d=Array.isArray(u)?u.filter(_=>typeof _=="string"):[],f=d.length>0?[...new Set(d.map(qr))]:[...new Set(s.map(qr))],h=t.seniority??e.job_required_experience??e.required_experience;let g=WI(h);!g&&(e.title||e.job_title)&&(g=WI(e.title||e.job_title));const v=t.role_category??t.roleCategory??e.job_category??e.category??e.industry??e.job_industry??"",p=typeof t.min_years_experience=="number"?t.min_years_experience:typeof t.minYearsExperience=="number"?t.minYearsExperience:Uve(e.job_required_experience??e.required_experience),y=t.languages_required??t.languagesRequired,x=Array.isArray(y)?y.filter(_=>typeof _=="string"):typeof y=="string"?y.split(/[,;]/).map(_=>_.trim()).filter(Boolean):[],b=e.industry??e.job_industry,w=qve(v,b,e.title??e.job_title);return{skillsRequired:a,skillsPreferred:c,seniority:g??null,roleCategory:v,minYearsExperience:p,languagesRequired:x,techStack:f,industryTags:w}}const xj={required:.7,preferred:.2,stack:.1},Ad=6;function Wve(e,t){const r=new Set([...t.userSkills.map(qr),...(t.techStackExperience||[]).map(qr)]),n=[...new Set(e.skillsRequired.map(qr))],s=[...new Set(e.skillsPreferred.map(qr))],a=[...new Set(e.techStack.map(qr))];let i=null,l=null,c=null,u=0;const d=[],f=[];if(n.length>0){for(const w of n)r.has(w)?(u++,d.push(w)):f.push(w);i=u/n.length}let h=0;const g=[];if(s.length>0){for(const w of s)r.has(w)&&(h++,g.push(w));l=h/s.length}a.length>0&&(c=a.filter(_=>r.has(_)).length/a.length);const v=[];i!==null&&v.push({w:xj.required,v:i}),l!==null&&v.push({w:xj.preferred,v:l}),c!==null&&v.push({w:xj.stack,v:c});let p=null;if(v.length>0){const w=v.reduce((S,E)=>S+E.w,0),_=v.reduce((S,E)=>S+E.w*E.v,0);p=Math.round(_/w*100)}const y=[];d.length&&y.push(`Matched required: ${d.slice(0,Ad).join(", ")}`),f.length&&y.push(`Missing required: ${f.slice(0,Ad).join(", ")}`),g.length&&y.push(`Matched preferred: ${g.slice(0,Ad).join(", ")}`),y.length===0&&p!==null&&y.push("Skills compared with job requirements.");const x=f.map(w=>`Missing required skill: ${w}`),b={requiredMatched:u,requiredTotal:n.length,preferredMatched:h,preferredTotal:s.length,matchedRequired:d.slice(0,Ad),missingRequired:f.slice(0,Ad),matchedPreferred:g.slice(0,Ad)};return{bucket:{percent:p,reasons:y,details:b},missingCritical:x}}function Vve(e,t){let r=null;const n=e.seniority!==null?Nb[e.seniority]:null,s=t.seniority!=="unknown"?Nb[t.seniority]:null;if(n!=null)if(s==null)r=.5;else{const u=s-n;u===0?r=1:u===1?r=.85:u>=2?r=.75:u===-1?r=.55:r=.25}let a=null;e.minYearsExperience!=null&&t.yearsExperienceTotal!=null&&(t.yearsExperienceTotal>=e.minYearsExperience?a=1:a=Math.min(1,Math.max(0,t.yearsExperienceTotal/e.minYearsExperience)));const i=[];r!==null&&i.push({w:.6,v:r}),a!==null&&i.push({w:.4,v:a});let l=null;if(i.length>0){const u=i.reduce((d,f)=>d+f.w,0);l=Math.round(i.reduce((d,f)=>d+f.w*f.v,0)/u*100)}const c=[];return e.seniority&&c.push(`Job expects: ${e.seniority}`),e.minYearsExperience!=null&&c.push(`Job min years: ${e.minYearsExperience}`),t.seniority!=="unknown"&&c.push(`You have: ${t.seniority}`),t.yearsExperienceTotal!=null&&c.push(`Your years: ${t.yearsExperienceTotal}`),c.length===0&&c.push("Experience level not specified for this job."),{percent:l,reasons:c,details:{seniorityComponent:r,yearsComponent:a,jobSeniority:e.seniority,jobMinYears:e.minYearsExperience,userSeniority:t.seniority,userYears:t.yearsExperienceTotal}}}function Hve(e,t){const r=e.industryTags.length>0?Fve(e.industryTags.join(",")):[];if(r.length===0)return{percent:null,reasons:["Industry not specified for this job."],details:{}};const n=t.yearsExperienceByIndustry||{},s={};for(const[i,l]of Object.entries(n))if(l!=null&&l>0){const c=i.trim().toLowerCase();s[c]=(s[c]??0)+l}const a=Bve(r,s);return{percent:a.percent,reasons:a.reasons,details:{matchedExact:a.matchedExact,matchedRelated:a.matchedRelated,missing:a.missing,isNa:a.isNa}}}const Cb=["a1","a2","b1","b2","c1","c2","native"];function VI(e){const t=e.trim(),r=t.match(/^(.+?)\s+(a1|a2|b1|b2|c1|c2|native)$/i);return r?{lang:r[1].trim().toLowerCase(),level:r[2].toLowerCase()}:{lang:t.toLowerCase(),level:"native"}}function Kve(e,t){const r=Cb.indexOf(e.toLowerCase()),n=Cb.indexOf(t.toLowerCase());return n===-1?!0:r===-1?!1:r>=n}function Gve(e,t){const r=[];if(e.languagesRequired.length===0)return r;const n=new Map;for(const s of t.languages||[]){const{lang:a,level:i}=VI(s),l=n.get(a);(!l||Cb.indexOf(i)>Cb.indexOf(l))&&n.set(a,i)}for(const s of e.languagesRequired){const{lang:a,level:i}=VI(s),l=n.get(a);(!l||!Kve(l,i))&&r.push(`Missing language: ${s}`)}return r}function Yve(e,t,r){const n=[];if(e!==null&&n.push({w:.5,v:e/100}),t!==null&&n.push({w:.3,v:t/100}),r!==null&&n.push({w:.2,v:r/100}),n.length===0)return 0;const s=n.reduce((a,i)=>a+i.w,0);return n.reduce((a,i)=>a+i.w*i.v,0)/s*100}function Jve(e,t,r,n,s){var c;const a=[],i=r.percent??0;e.skillsRequired.length>0&&i>=80&&a.push("Meets required skills"),e.skillsPreferred.length>0&&r.details.preferredMatched>0&&a.push("Has preferred skills"),s.length===0&&e.languagesRequired.length>0&&a.push("Language fit"),t.seniority!=="unknown"&&e.seniority&&t.seniority===e.seniority&&a.push("Seniority match");const l=n.details;return e.industryTags.length>0&&((c=l.matchingTags)!=null&&c.length)&&a.push("Industry experience"),a}function WW(e,t){const{bucket:r,missingCritical:n}=Wve(e,t),s=Vve(e,t),a=Hve(e,t),i=Gve(e,t),l=[...n,...i];let c=Yve(r.percent??0,s.percent??0,a.percent??0);i.length>0&&(c=c*.75),c=Math.round(Math.min(100,Math.max(0,c)));const u=Jve(e,t,r,a,i);return{expLevel:s,skills:r,industry:a,overallPercent:c,badges:u,missingCritical:l}}function Xve(e={}){return{userSkills:e.userSkills??[],yearsExperienceTotal:e.yearsExperienceTotal??null,yearsExperienceByIndustry:e.yearsExperienceByIndustry??{},industryTags:e.industryTags??[],seniority:e.seniority??"unknown",languages:e.languages??[],roleInterests:e.roleInterests??[],techStackExperience:e.techStackExperience??[]}}function gc(e,t={}){const r=[...new Set(e.map(qr))];return Xve({userSkills:r,techStackExperience:r,...t})}function Ru(e,t){const r=VN(e);return WW(r,t)}const HI="betaVersionModalShown",mT=()=>{const[e,t]=m.useState(!1),r=va(),{t:n}=Si();m.useEffect(()=>{if(!sessionStorage.getItem(HI)){const i=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(i)}},[]);const s=()=>{t(!1),sessionStorage.setItem(HI,"true")};return r?o.jsx(Yi,{open:e,onOpenChange:s,children:o.jsxs(Ji,{className:"max-h-[85vh]",children:[o.jsx(Xi,{children:o.jsx(Qi,{className:"text-xl font-bold",children:n.beta.title})}),o.jsxs("div",{className:"px-6 pb-2",children:[o.jsx("div",{className:"flex-1 px-6 pb-4 flex flex-col items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain mt-4"})}),o.jsx(eW,{className:"text-base",children:n.beta.message})]}),o.jsx("div",{className:"p-4",children:o.jsx(Bg,{asChild:!0,children:o.jsx(se,{variant:"default",className:"w-full",children:n.common.close})})})]})}):o.jsx(Ds,{open:e,onOpenChange:s,children:o.jsxs(_s,{className:"max-w-md",children:[o.jsx(Fs,{children:o.jsx(Bs,{className:"text-xl font-bold",children:n.beta.title})}),o.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain"})}),o.jsx("div",{className:"px-0 pb-2",children:o.jsx(Nf,{className:"text-base",children:n.beta.message})}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(se,{variant:"default",onClick:s,children:n.common.close})})]})})},Qve="https://breneo-job-aggregator.up.railway.app/api/companies",Qp=new Map,Zve=async e=>{if(!e||!e.trim())return;const t=e.trim();if(Qp.has(t)){const r=Qp.get(t);return r===null?void 0:r}try{const r=encodeURIComponent(t),n=`${Qve}/${r}`,s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(s.ok){const a=await s.json(),i=a.logo||a.company_logo||a.logo_url||a.employer_logo;if(i&&typeof i=="string")try{if(new URL(i).protocol.startsWith("http"))return Qp.set(t,i),i}catch{}}Qp.set(t,null);return}catch(r){console.error(`Error fetching company logo for ${t}:`,r),Qp.set(t,null);return}},gT=async(e,t)=>{const r=await Zve(e);return r||t},e0e=(e,t)=>{if(!t||t.length===0)return .5;if(!e.required_skills||e.required_skills.length===0)return .3;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=t.map(r),s=e.required_skills.map(r);let a=0;return s.forEach(l=>{n.forEach(c=>{c===l?a+=2:(l.includes(c)||c.includes(l))&&(a+=1)})}),a>0?a/s.length*(a/n.length)*10:.1},t0e=async()=>{try{const e={country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[]};return(await bi.fetchActiveJobs({query:"",filters:e,page:1,pageSize:50})).jobs||[]}catch(e){throw console.error("Error fetching jobs:",e),e}},KI=()=>{var ye;const{user:e,loading:t}=ir(),r=ar(),n=Ys(),s=va(),a=ji(),[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(!0),[h,g]=m.useState(!1),v=m.useRef(null),p=m.useRef(null),[y,x]=m.useState(!1),[b,w]=m.useState(!1),[_,S]=m.useState(!1),{data:E=[]}=Wt({queryKey:["profileSkills",e==null?void 0:e.id],queryFn:()=>Rr.getMySkills(),enabled:!!e}),k=m.useMemo(()=>{const oe=(E||[]).map(D=>qr(D.skill_name)),me=(i||[]).map(D=>qr(D));return[...new Set([...oe,...me])]},[E,i]);m.useEffect(()=>{(async()=>{if(!e){f(!1),g(!1);return}try{f(!0);try{const D=await Ce.get(`/api/skilltest/results/?user=${e.id}`);let $=null;if(Array.isArray(D.data)&&D.data.length>0?$=D.data[0]:D.data&&typeof D.data=="object"&&($=D.data),$&&($.final_role||$.skills_json)){g(!0);const H=$.skills_json||{},G=Object.keys(H.tech||{}),le=Object.keys(H.soft||{}),J=[...G,...le];l(J),u(G),f(!1);return}}catch{}try{const D=await Ce.get(`/api/user/${e.id}/skills`);if(D.data&&D.data.skills){const $=D.data.skills.slice(0,5);l($),u($),g($.length>0),f(!1);return}}catch{}const me=await op(String(e.id));if(me&&me.length>0){g(!0);const D=lp(me),H=q1(D,20).map(J=>J.skill);l(H);const G=["javascript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","typescript","html","css","sql","react","vue","angular","node.js","express","django","flask","spring","laravel","rails","git","docker","kubernetes","aws","azure","gcp","linux","machine learning","data science","ai","blockchain","devops","testing"],le=H.filter(J=>G.some(Z=>J.toLowerCase().includes(Z.toLowerCase())||Z.toLowerCase().includes(J.toLowerCase())));u(le.length>0?le:H)}else g(!1)}catch(me){console.error("Error fetching user skills:",me),g(!1)}finally{f(!1)}})()},[e]),m.useEffect(()=>{S(!0)},[]);const{data:j=[]}=Wt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var oe;if(!e)return[];try{const D=((oe=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:oe.saved_jobs)||[];return Array.isArray(D)?D.map($=>{if(typeof $=="string"||typeof $=="number")return String($);if($&&typeof $=="object"){const H=$;if(H.id)return String(H.id);if(H.job_id)return String(H.job_id);if(H.jobId)return String(H.jobId)}return null}).filter($=>$!==null):[]}catch(me){return console.error("Error fetching saved jobs:",me),[]}},enabled:!!e}),{data:N=[]}=Wt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var oe;if(!e)return[];try{const D=((oe=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:oe.saved_courses)||[];return Array.isArray(D)?D.map($=>{if(typeof $=="string"||typeof $=="number")return String($);if($&&typeof $=="object"){const H=$;if(H.id)return String(H.id);if(H.course_id)return String(H.course_id);if(H.courseId)return String(H.courseId)}return null}).filter($=>$!==null):[]}catch(me){return console.error("Error fetching saved course IDs:",me),[]}},enabled:!!e}),{data:C=[],isLoading:P,error:O}=Wt({queryKey:["home-jobs"],queryFn:()=>t0e(),enabled:!!e,staleTime:5*60*1e3,retry:1});m.useEffect(()=>{O&&console.error("Error fetching jobs:",O)},[O]);const F=pa({mutationFn:async oe=>{if(!e)throw new Error("User not logged in");if(!oe.id)throw new Error("Job ID is required");const me=String(oe.id);oe.is_saved;try{const D=`${Qe.JOBS.SAVE_JOB}${me}/`;await Ce.post(D)}catch(D){const $=D instanceof Error?D.message:"Failed to save job. Please try again.";throw new Error($)}},onSuccess:(oe,me)=>{n.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["profile"]}),fe.success(me.is_saved?"Job Unsaved":"Job Saved")},onError:oe=>{console.error("Error saving job:",oe);const me=oe instanceof Error?oe.message:"Failed to save job";fe.error(me)}}),{data:M=[],isLoading:q}=Wt({queryKey:["home-courses"],queryFn:async()=>{const{data:oe,error:me}=await Qt.from("courses").select("*").order("created_at",{ascending:!1});return me?(console.error("Error fetching courses:",me),[]):oe||[]},enabled:!!e&&!d}),B=m.useMemo(()=>{if(!M||M.length===0)return[];if(!i||i.length===0)return M.map($=>({...$,match:.5}));const oe=M.map($=>({...$,match:e0e($,i)}));oe.sort(($,H)=>{if(Math.abs(($.match||0)-(H.match||0))>.1)return(H.match||0)-($.match||0);const G=$.required_skills&&$.required_skills.length>0,le=H.required_skills&&H.required_skills.length>0;return G&&!le?-1:!G&&le?1:0});const me=oe.filter($=>($.match||0)>.1),D=oe.filter($=>($.match||0)<=.1);return[...me,...D].slice(0,20)},[M,i]),I=pa({mutationFn:async oe=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ce.post(`/api/save-course/${oe}/`)},onMutate:async oe=>{await n.cancelQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]});const me=n.getQueryData(["savedCourseIds",e==null?void 0:e.id]);let D=!1;return n.setQueryData(["savedCourseIds",e==null?void 0:e.id],$=>{if(!$)return $;const H=String(oe);return D=$.includes(H),D?$.filter(G=>G!==H):[...$,H]}),{previousSavedCourseIds:me,wasSaved:D}},onError:(oe,me,D)=>{D!=null&&D.previousSavedCourseIds&&(e!=null&&e.id)&&n.setQueryData(["savedCourseIds",e.id],D.previousSavedCourseIds),console.error("Error updating saved courses:",oe),fe.error("Failed to update saved courses. Please try again.")},onSuccess:(oe,me,D)=>{n.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["home-courses"]}),n.invalidateQueries({queryKey:["profile"]});const $=(D==null?void 0:D.wasSaved)??!1;fe.success($?"Removed from saved courses.":"Course saved to your profile.")}}),A=m.useMemo(()=>{const me=(C||[]).map($=>{const H=e&&k.length>=0?Ru($,gc(k)).overallPercent:void 0;return{job:$,matchPercentage:H}});return me.sort(($,H)=>{if($.matchPercentage!==H.matchPercentage)return H.matchPercentage-$.matchPercentage;const G=$.job.posted_at||$.job.fetched_at||$.job.date_posted||"",le=H.job.posted_at||H.job.fetched_at||H.job.date_posted||"";if(G&&le)try{const J=new Date(G).getTime();return new Date(le).getTime()-J}catch{return 0}return 0}),me.slice(0,9).map($=>$.job).map($=>{const H=$.id||"";if(!H)return console.warn("Skipping job without valid ID:",$),null;const G=$.title||$.job_title||$.position||"Untitled Position",le=$.company_name||$.employer_name||(typeof $.company=="string"?$.company:null)||"Unknown Company",J=$.job_city||$.city||"",Z=$.job_state||$.state||"",K=$.job_country||$.country||"",de=$.job_location||$.location||[J,Z,K].filter(Boolean).join(", ")||"Location not specified",ae=$.employer_logo||$.company_logo||$.logo_url||(typeof $.company=="object"&&$.company?$.company.logo||$.company.company_logo:void 0),xe=$.posted_at||$.fetched_at||$.date_posted||$.posted_date||$.job_posted_at_datetime_utc||void 0;let ke="By agreement";const Me=$.job_min_salary||$.min_salary,Ee=$.job_max_salary||$.max_salary,ue=$.job_salary_currency||$.salary_currency||"$",ge=$.job_salary_period||$.salary_period||"yearly";if(Me&&Ee&&typeof Me=="number"&&typeof Ee=="number"){const Se=ge==="monthly"?"Monthly":"",Ie=Me.toLocaleString(),Y=Ee.toLocaleString();["$","","","","",""].some(Oe=>ue.includes(Oe))?ke=`${ue}${Ie} - ${ue}${Y}${Se?`/${Se}`:""}`:ke=`${Ie} - ${Y} ${ue}${Se?`/${Se}`:""}`}else if(Me&&typeof Me=="number"){const Se=Me.toLocaleString();ke=["$","","","","",""].some(W=>ue.includes(W))?`${ue}${Se}+`:`${Se}+ ${ue}`}else $.salary&&typeof $.salary=="string"&&(ke=$.salary);const U=$.job_employment_type||$.employment_type||$.type||"FULLTIME",_e={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[U]||U||"Full time";let Le="On-site";$.job_is_remote||$.is_remote||$.remote===!0?Le="Remote":G!=null&&G.toLowerCase().includes("hybrid")&&(Le="Hybrid");const Xe=e&&k.length>=0?Ru($,gc(k)).overallPercent:void 0;return{id:H,title:G,company:le,company_name:le,location:typeof de=="string"?de:"Location not specified",logo:ae,company_logo:ae,salary:ke,employment_type:_e,work_arrangement:Le,is_saved:j==null?void 0:j.includes(String(H)),matchPercentage:Xe,date:xe?new Date(String(xe)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}}).filter($=>$!==null)},[C,j,e,k]),[z,re]=m.useState({});m.useEffect(()=>{(async()=>{const me=A.filter(G=>!G.company_logo&&G.company_name);if(me.length===0)return;const D=me.map(async G=>{const le=await gT(G.company_name||"",void 0);return{jobId:G.id,logo:le}}),$=await Promise.all(D),H={};$.forEach(({jobId:G,logo:le})=>{le&&(H[G]=le)}),Object.keys(H).length>0&&re(G=>({...G,...H}))})()},[A]);const V=A.map(oe=>({...oe,company_logo:oe.company_logo||z[oe.id]||void 0})),te=oe=>{if(v.current){const D=oe==="left"?v.current.scrollLeft-400:v.current.scrollLeft+400;v.current.scrollTo({left:D,behavior:"smooth"})}},X=oe=>{if(p.current){const D=oe==="left"?p.current.scrollLeft-400:p.current.scrollLeft+400;p.current.scrollTo({left:D,behavior:"smooth"})}};return t?o.jsx(It,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})})})}):e?o.jsxs(It,{children:[o.jsx(mT,{}),s&&o.jsx("div",{className:"mb-4 px-4 md:hidden",children:o.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:[a.auth.welcome,","," ",o.jsx("span",{className:"font-bold",children:(e==null?void 0:e.first_name)||((ye=e==null?void 0:e.email)==null?void 0:ye.split("@")[0])||"User"}),"! "]})}),o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[!h&&!d&&o.jsx(Re,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:y?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:o.jsx(De,{className:"p-4 md:p-4",children:o.jsx(Lr,{to:"/skill-test",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillTestTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillTestSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})}),h&&!d&&o.jsx(Re,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in hover:shadow-soft transition-shadow cursor-pointer",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:b?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>w(!0),onMouseUp:()=>w(!1),onMouseLeave:()=>w(!1),onTouchStart:()=>w(!0),onTouchEnd:()=>w(!1),children:o.jsx(De,{className:"p-4 md:p-4 flex items-center justify-center md:block",children:o.jsx(Lr,{to:"/skill-path",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:a.home.skillPathTitle}),o.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:a.home.skillPathSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-explorer-front-color.png",alt:"Coding A Website",className:"w-full h-full object-contain",onError:oe=>{oe.target.style.display="none"}})})]})})})})]}),o.jsxs("div",{className:"space-y-6 pt-6 md:pt-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Top job picks for you"}),!P&&!O&&V.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>te("left"),"aria-label":"Scroll left",children:o.jsx(kN,{className:"h-4 w-4"})}),o.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>te("right"),"aria-label":"Scroll right",children:o.jsx(Ta,{className:"h-4 w-4"})})]})]}),P?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:[...Array(3)].map((oe,me)=>o.jsx(Re,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(De,{className:"p-4",children:[o.jsx(wr,{className:"h-4 w-20 mb-2"}),o.jsx(wr,{className:"h-6 w-3/4 mb-4"}),o.jsx(wr,{className:"h-4 w-1/2"})]})},me))}):O?o.jsx(Re,{children:o.jsxs(De,{className:"p-6 text-center",children:[o.jsx("p",{className:"text-gray-500 mb-2",children:"Unable to load jobs at the moment."}),o.jsx("p",{className:"text-sm text-gray-400",children:"Please try again later."})]})}):V.length===0?o.jsx(Re,{children:o.jsx(De,{className:"p-6 text-center",children:o.jsx("p",{className:"text-gray-500",children:"No jobs found. Try adjusting your search criteria."})})}):o.jsx("div",{ref:v,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:V.map(oe=>{var me,D;return o.jsx(Re,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl flex-shrink-0 snap-start cursor-pointer w-[calc((100%-2rem)/3)] min-w-[280px] hover:shadow-soft",onClick:()=>{if(!oe.id||String(oe.id).trim()==="")return;const $=encodeURIComponent(String(oe.id));r(`/jobs/${$}`)},children:o.jsxs(De,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:oe.company_logo?o.jsx("img",{src:oe.company_logo,alt:`${oe.company_name||(typeof oe.company=="string"?oe.company:((me=oe.company)==null?void 0:me.name)||"Company")} logo`,className:"w-10 h-10 rounded-md object-cover",loading:"lazy"}):o.jsx("div",{className:"w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center",children:o.jsx(Xr,{className:"h-5 w-5 text-white"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:oe.company_name||(typeof oe.company=="string"?oe.company:((D=oe.company)==null?void 0:D.name)||"Company")}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:oe.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:oe.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[oe.employment_type&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:oe.employment_type}),oe.work_arrangement&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:oe.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ua,{value:oe.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:oe.matchPercentage!=null?(()=>{const $=oe.matchPercentage,H=$>=95?"excellentMatch":$>=85?"bestMatch":$>=70?"goodMatch":$>=50?"fairMatch":"badMatch";return a.jobMatch[H]})():""})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:$=>{$.stopPropagation(),F.mutate(oe)},"aria-label":oe.is_saved?"Unsave job":"Save job",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",oe.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",oe.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},oe.id)})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top courses picked for you"})}),!q&&B.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>X("left"),"aria-label":"Scroll courses left",children:o.jsx(kN,{className:"h-4 w-4"})}),o.jsx(se,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>X("right"),"aria-label":"Scroll courses right",children:o.jsx(Ta,{className:"h-4 w-4"})})]})]}),q?o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:[...Array(3)].map((oe,me)=>o.jsx(Re,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:o.jsxs(De,{className:"p-0",children:[o.jsx(wr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(wr,{className:"h-5 w-3/4 mb-2"}),o.jsx(wr,{className:"h-4 w-1/2 mb-3"}),o.jsx(wr,{className:"h-3 w-full"})]})]})},me))}):B.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"p-8 text-center",children:[o.jsx(hc,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No courses available at the moment."})]})}):o.jsx("div",{ref:p,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:B.map(oe=>{const me=N.includes(String(oe.id));return o.jsx(Lr,{to:`/course/${oe.id}`,className:"flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px] block",children:o.jsx(Re,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(De,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:oe.image||"/placeholder.svg",alt:oe.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:D=>{D.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:oe.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:oe.duration&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:oe.duration})}),o.jsx(se,{variant:"secondary",size:"icon",onClick:D=>{D.preventDefault(),D.stopPropagation(),I.mutate(String(oe.id))},"aria-label":me?"Unsave course":"Save course",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",me?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",me?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})]})})},oe.id)})})]})]})]})})]}):o.jsx(It,{children:o.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})})})})})},yT=m.createContext({});function vT(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const VW=typeof window<"u",HW=VW?m.useLayoutEffect:m.useEffect,W1=m.createContext(null);function xT(e,t){e.indexOf(t)===-1&&e.push(t)}function bT(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const io=(e,t,r)=>r>t?t:r<e?e:r;let V1=()=>{},uh=()=>{};const Qo={},KW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function GW(e){return typeof e=="object"&&e!==null}const YW=e=>/^0[^.\s]+$/u.test(e);function wT(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fa=e=>e,r0e=(e,t)=>r=>t(e(r)),pv=(...e)=>e.reduce(r0e),Wg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class _T{constructor(){this.subscriptions=[]}add(t){return xT(this.subscriptions,t),()=>bT(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=e=>e*1e3,Ra=e=>e/1e3;function JW(e,t){return t?e*(1e3/t):0}const XW=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,n0e=1e-7,s0e=12;function a0e(e,t,r,n,s){let a,i,l=0;do i=t+(r-t)/2,a=XW(i,n,s)-e,a>0?r=i:t=i;while(Math.abs(a)>n0e&&++l<s0e);return i}function mv(e,t,r,n){if(e===t&&r===n)return Fa;const s=a=>a0e(a,0,1,e,r);return a=>a===0||a===1?a:XW(s(a),t,n)}const QW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZW=e=>t=>1-e(1-t),eV=mv(.33,1.53,.69,.99),ST=ZW(eV),tV=QW(ST),rV=e=>(e*=2)<1?.5*ST(e):.5*(2-Math.pow(2,-10*(e-1))),jT=e=>1-Math.sin(Math.acos(e)),nV=ZW(jT),sV=QW(jT),i0e=mv(.42,0,1,1),o0e=mv(0,0,.58,1),aV=mv(.42,0,.58,1),l0e=e=>Array.isArray(e)&&typeof e[0]!="number",iV=e=>Array.isArray(e)&&typeof e[0]=="number",GI={linear:Fa,easeIn:i0e,easeInOut:aV,easeOut:o0e,circIn:jT,circInOut:sV,circOut:nV,backIn:ST,backInOut:tV,backOut:eV,anticipate:rV},c0e=e=>typeof e=="string",YI=e=>{if(iV(e)){uh(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,r,n,s]=e;return mv(t,r,n,s)}else if(c0e(e))return uh(GI[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),GI[e];return e},w0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],JI={value:null,addProjectionMetrics:null};function u0e(e,t){let r=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){i.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,g=!1)=>{const p=g&&s?r:n;return h&&i.add(f),p.has(f)||p.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&JI.value&&JI.value.frameloop[t].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(f))}};return d}const d0e=40;function oV(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=w0.reduce((w,_)=>(w[_]=u0e(a,t?_:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:g,postRender:v}=i,p=()=>{const w=Qo.useManualTiming?s.timestamp:performance.now();r=!1,Qo.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(w-s.timestamp,d0e),1)),s.timestamp=w,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),g.process(s),v.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},y=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:w0.reduce((w,_)=>{const S=i[_];return w[_]=(E,k=!1,j=!1)=>(r||y(),S.schedule(E,k,j)),w},{}),cancel:w=>{for(let _=0;_<w0.length;_++)i[w0[_]].cancel(w)},state:s,steps:i}}const{schedule:Fr,cancel:kc,state:Vn,steps:bj}=oV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fa,!0);let yx;function f0e(){yx=void 0}const Ss={now:()=>(yx===void 0&&Ss.set(Vn.isProcessing||Qo.useManualTiming?Vn.timestamp:performance.now()),yx),set:e=>{yx=e,queueMicrotask(f0e)}},lV=e=>t=>typeof t=="string"&&t.startsWith(e),cV=lV("--"),h0e=lV("var(--"),kT=e=>h0e(e)?p0e.test(e.split("/*")[0].trim()):!1,p0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function XI(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const cp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vg={...cp,transform:e=>io(0,1,e)},_0={...cp,default:1},Xm=e=>Math.round(e*1e5)/1e5,ET=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m0e(e){return e==null}const g0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NT=(e,t)=>r=>!!(typeof r=="string"&&g0e.test(r)&&r.startsWith(e)||t&&!m0e(r)&&Object.prototype.hasOwnProperty.call(r,t)),uV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,i,l]=n.match(ET);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},y0e=e=>io(0,255,e),wj={...cp,transform:e=>Math.round(y0e(e))},du={test:NT("rgb","red"),parse:uV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+wj.transform(e)+", "+wj.transform(t)+", "+wj.transform(r)+", "+Xm(Vg.transform(n))+")"};function v0e(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const HN={test:NT("#"),parse:v0e,transform:du.transform},gv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),jl=gv("deg"),eo=gv("%"),dt=gv("px"),x0e=gv("vh"),b0e=gv("vw"),QI={...eo,parse:e=>eo.parse(e)/100,transform:e=>eo.transform(e*100)},of={test:NT("hsl","hue"),parse:uV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+eo.transform(Xm(t))+", "+eo.transform(Xm(r))+", "+Xm(Vg.transform(n))+")"},mn={test:e=>du.test(e)||HN.test(e)||of.test(e),parse:e=>du.test(e)?du.parse(e):of.test(e)?of.parse(e):HN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?du.transform(e):of.transform(e),getAnimatableNone:e=>{const t=mn.parse(e);return t.alpha=0,mn.transform(t)}},w0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _0e(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ET))==null?void 0:t.length)||0)+(((r=e.match(w0e))==null?void 0:r.length)||0)>0}const dV="number",fV="color",S0e="var",j0e="var(",ZI="${}",k0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(k0e,c=>(mn.test(c)?(n.color.push(a),s.push(fV),r.push(mn.parse(c))):c.startsWith(j0e)?(n.var.push(a),s.push(S0e),r.push(c)):(n.number.push(a),s.push(dV),r.push(parseFloat(c))),++a,ZI)).split(ZI);return{values:r,split:l,indexes:n,types:s}}function hV(e){return Hg(e).values}function pV(e){const{split:t,types:r}=Hg(e),n=t.length;return s=>{let a="";for(let i=0;i<n;i++)if(a+=t[i],s[i]!==void 0){const l=r[i];l===dV?a+=Xm(s[i]):l===fV?a+=mn.transform(s[i]):a+=s[i]}return a}}const E0e=e=>typeof e=="number"?0:mn.test(e)?mn.getAnimatableNone(e):e;function N0e(e){const t=hV(e);return pV(e)(t.map(E0e))}const Ec={test:_0e,parse:hV,createTransformer:pV,getAnimatableNone:N0e};function _j(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function C0e({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,i=0;if(!t)s=a=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=_j(c,l,e+1/3),a=_j(c,l,e),i=_j(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}function Pb(e,t){return r=>r>0?t:e}const Yr=(e,t,r)=>e+(t-e)*r,Sj=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},P0e=[HN,du,of],A0e=e=>P0e.find(t=>t.test(e));function e3(e){const t=A0e(e);if(V1(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===of&&(r=C0e(r)),r}const t3=(e,t)=>{const r=e3(e),n=e3(t);if(!r||!n)return Pb(e,t);const s={...r};return a=>(s.red=Sj(r.red,n.red,a),s.green=Sj(r.green,n.green,a),s.blue=Sj(r.blue,n.blue,a),s.alpha=Yr(r.alpha,n.alpha,a),du.transform(s))},KN=new Set(["none","hidden"]);function T0e(e,t){return KN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function O0e(e,t){return r=>Yr(e,t,r)}function CT(e){return typeof e=="number"?O0e:typeof e=="string"?kT(e)?Pb:mn.test(e)?t3:M0e:Array.isArray(e)?mV:typeof e=="object"?mn.test(e)?t3:R0e:Pb}function mV(e,t){const r=[...e],n=r.length,s=e.map((a,i)=>CT(a)(a,t[i]));return a=>{for(let i=0;i<n;i++)r[i]=s[i](a);return r}}function R0e(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=CT(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function $0e(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],i=e.indexes[a][n[a]],l=e.values[i]??0;r[s]=l,n[a]++}return r}const M0e=(e,t)=>{const r=Ec.createTransformer(t),n=Hg(e),s=Hg(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?KN.has(e)&&!s.values.length||KN.has(t)&&!n.values.length?T0e(e,t):pv(mV($0e(n,s),s.values),r):(V1(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Pb(e,t))};function gV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Yr(e,t,r):CT(e)(e,t)}const I0e=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Fr.update(t,r),stop:()=>kc(t),now:()=>Vn.isProcessing?Vn.timestamp:Ss.now()}},yV=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Ab=2e4;function PT(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ab;)t+=r,n=e.next(t);return t>=Ab?1/0:t}function L0e(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(PT(n),Ab);return{type:"keyframes",ease:a=>n.next(s*a).value/t,duration:Ra(s)}}const D0e=5;function vV(e,t,r){const n=Math.max(t-D0e,0);return JW(r-e(n),t-n)}const Hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jj=.001;function F0e({duration:e=Hr.duration,bounce:t=Hr.bounce,velocity:r=Hr.velocity,mass:n=Hr.mass}){let s,a;V1(e<=Zi(Hr.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let i=1-t;i=io(Hr.minDamping,Hr.maxDamping,i),e=io(Hr.minDuration,Hr.maxDuration,Ra(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-r,g=GN(u,i),v=Math.exp(-f);return jj-h/g*v},a=u=>{const f=u*i*e,h=f*r+r,g=Math.pow(i,2)*Math.pow(u,2)*e,v=Math.exp(-f),p=GN(Math.pow(u,2),i);return(-s(u)+jj>0?-1:1)*((h-g)*v)/p}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-jj+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=U0e(s,a,l);if(e=Zi(e),isNaN(c))return{stiffness:Hr.stiffness,damping:Hr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const B0e=12;function U0e(e,t,r){let n=r;for(let s=1;s<B0e;s++)n=n-e(n)/t(n);return n}function GN(e,t){return e*Math.sqrt(1-t*t)}const z0e=["duration","bounce"],q0e=["stiffness","damping","mass"];function r3(e,t){return t.some(r=>e[r]!==void 0)}function W0e(e){let t={velocity:Hr.velocity,stiffness:Hr.stiffness,damping:Hr.damping,mass:Hr.mass,isResolvedFromDuration:!1,...e};if(!r3(e,q0e)&&r3(e,z0e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*io(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Hr.mass,stiffness:s,damping:a}}else{const r=F0e(e);t={...t,...r,mass:Hr.mass},t.isResolvedFromDuration=!0}return t}function Tb(e=Hr.visualDuration,t=Hr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=W0e({...r,velocity:-Ra(r.velocity||0)}),v=h||0,p=u/(2*Math.sqrt(c*d)),y=i-a,x=Ra(Math.sqrt(c/d)),b=Math.abs(y)<5;n||(n=b?Hr.restSpeed.granular:Hr.restSpeed.default),s||(s=b?Hr.restDelta.granular:Hr.restDelta.default);let w;if(p<1){const S=GN(x,p);w=E=>{const k=Math.exp(-p*x*E);return i-k*((v+p*x*y)/S*Math.sin(S*E)+y*Math.cos(S*E))}}else if(p===1)w=S=>i-Math.exp(-x*S)*(y+(v+x*y)*S);else{const S=x*Math.sqrt(p*p-1);w=E=>{const k=Math.exp(-p*x*E),j=Math.min(S*E,300);return i-k*((v+p*x*y)*Math.sinh(j)+S*y*Math.cosh(j))/S}}const _={calculatedDuration:g&&f||null,next:S=>{const E=w(S);if(g)l.done=S>=f;else{let k=S===0?v:0;p<1&&(k=S===0?Zi(v):vV(w,S,E));const j=Math.abs(k)<=n,N=Math.abs(i-E)<=s;l.done=j&&N}return l.value=l.done?i:E,l},toString:()=>{const S=Math.min(PT(_),Ab),E=yV(k=>_.next(S*k).value,S,30);return S+"ms "+E},toTransition:()=>{}};return _}Tb.applyToOptions=e=>{const t=L0e(e,100,Tb);return e.ease=t.ease,e.duration=Zi(t.duration),e.type="keyframes",e};function YN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=j=>l!==void 0&&j<l||c!==void 0&&j>c,v=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let p=r*t;const y=f+p,x=i===void 0?y:i(y);x!==y&&(p=x-f);const b=j=>-p*Math.exp(-j/n),w=j=>x+b(j),_=j=>{const N=b(j),C=w(j);h.done=Math.abs(N)<=u,h.value=h.done?x:C};let S,E;const k=j=>{g(h.value)&&(S=j,E=Tb({keyframes:[h.value,v(h.value)],velocity:vV(w,j,h.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:j=>{let N=!1;return!E&&S===void 0&&(N=!0,_(j),k(j)),S!==void 0&&j>=S?E.next(j-S):(!N&&_(j),h)}}}function V0e(e,t,r){const n=[],s=r||Qo.mix||gV,a=e.length-1;for(let i=0;i<a;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||Fa:t;l=pv(c,l)}n.push(l)}return n}function H0e(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(uh(a===t.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=V0e(t,n,s),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Wg(e[f],e[f+1],d);return l[f](h)};return r?d=>u(io(e[0],e[a-1],d)):u}function K0e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Wg(0,t,n);e.push(Yr(r,1,s))}}function G0e(e){const t=[0];return K0e(t,e.length-1),t}function Y0e(e,t){return e.map(r=>r*t)}function J0e(e,t){return e.map(()=>t||aV).splice(0,e.length-1)}function Qm({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=l0e(n)?n.map(YI):YI(n),a={done:!1,value:t[0]},i=Y0e(r&&r.length===t.length?r:G0e(t),e),l=H0e(i,t,{ease:Array.isArray(s)?s:J0e(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const X0e=e=>e!==null;function AT(e,{repeat:t,repeatType:r="loop"},n,s=1){const a=e.filter(X0e),l=s<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const Q0e={decay:YN,inertia:YN,tween:Qm,keyframes:Qm,spring:Tb};function xV(e){typeof e.type=="string"&&(e.type=Q0e[e.type])}class TT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Z0e=e=>e/100;class OT extends TT{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Ss.now()&&this.tick(Ss.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xV(t);const{type:r=Qm,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=t;let{keyframes:l}=t;const c=r||Qm;c!==Qm&&typeof l[0]!="number"&&(this.mixKeyframes=pv(Z0e,gV(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=PT(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:g,type:v,onUpdate:p,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,_=n;if(f){const j=Math.min(this.currentTime,s)/l;let N=Math.floor(j),C=j%1;!C&&j>=1&&(C=1),C===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(h==="reverse"?(C=1-C,g&&(C-=g/l)):h==="mirror"&&(_=i)),w=io(0,1,C)*l}const S=b?{done:!1,value:d[0]}:_.next(w);a&&(S.value=a(S.value));let{done:E}=S;!b&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&v!==YN&&(S.value=AT(d,this.options,y,this.speed)),p&&p(S.value),k&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Ra(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ra(t)}get time(){return Ra(this.currentTime)}set time(t){var r;t=Zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ss.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ra(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=I0e,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(a=(s=this.options).onPlay)==null||a.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ss.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function exe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fu=e=>e*180/Math.PI,JN=e=>{const t=fu(Math.atan2(e[1],e[0]));return XN(t)},txe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:JN,rotateZ:JN,skewX:e=>fu(Math.atan(e[1])),skewY:e=>fu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},XN=e=>(e=e%360,e<0&&(e+=360),e),n3=JN,s3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),a3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rxe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:s3,scaleY:a3,scale:e=>(s3(e)+a3(e))/2,rotateX:e=>XN(fu(Math.atan2(e[6],e[5]))),rotateY:e=>XN(fu(Math.atan2(-e[2],e[0]))),rotateZ:n3,rotate:n3,skewX:e=>fu(Math.atan(e[4])),skewY:e=>fu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function QN(e){return e.includes("scale")?1:0}function ZN(e,t){if(!e||e==="none")return QN(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=rxe,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=txe,s=l}if(!s)return QN(t);const a=n[t],i=s[1].split(",").map(sxe);return typeof a=="function"?a(i):i[a]}const nxe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return ZN(r,t)};function sxe(e){return parseFloat(e.trim())}const up=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dp=new Set(up),i3=e=>e===cp||e===dt,axe=new Set(["x","y","z"]),ixe=up.filter(e=>!axe.has(e));function oxe(e){const t=[];return ixe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Xl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ZN(t,"x"),y:(e,{transform:t})=>ZN(t,"y")};Xl.translateX=Xl.x;Xl.translateY=Xl.y;const $u=new Set;let e2=!1,t2=!1,r2=!1;function bV(){if(t2){const e=Array.from($u).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=oxe(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,i])=>{var l;(l=n.getValue(a))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}t2=!1,e2=!1,$u.forEach(e=>e.complete(r2)),$u.clear()}function wV(){$u.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(t2=!0)})}function lxe(){r2=!0,wV(),bV(),r2=!1}class RT{constructor(t,r,n,s,a,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?($u.add(this),e2||(e2=!0,Fr.read(wV),Fr.resolveKeyframes(bV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),i=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),s&&a===void 0&&s.set(t[0])}exe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$u.delete(this)}cancel(){this.state==="scheduled"&&($u.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cxe=e=>e.startsWith("--");function uxe(e,t,r){cxe(t)?e.style.setProperty(t,r):e.style[t]=r}const dxe=wT(()=>window.ScrollTimeline!==void 0),fxe={};function hxe(e,t){const r=wT(e);return()=>fxe[t]??r()}const _V=hxe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Em=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,o3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Em([0,.65,.55,1]),circOut:Em([.55,0,1,.45]),backIn:Em([.31,.01,.66,-.59]),backOut:Em([.33,1.53,.69,.99])};function SV(e,t){if(e)return typeof e=="function"?_V()?yV(e,t):"ease-out":iV(e)?Em(e):Array.isArray(e)?e.map(r=>SV(r,t)||o3.easeOut):o3[e]}function pxe(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=SV(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function jV(e){return typeof e=="function"&&"applyToOptions"in e}function mxe({type:e,...t}){return jV(e)&&_V()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class gxe extends TT{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=i,this.options=t,uh(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=mxe(t);this.animation=pxe(r,n,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=AT(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):uxe(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ra(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ra(t)}get time(){return Ra(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&dxe()?(this.animation.timeline=t,Fa):r(this)}}const kV={anticipate:rV,backInOut:tV,circInOut:sV};function yxe(e){return e in kV}function vxe(e){typeof e.ease=="string"&&yxe(e.ease)&&(e.ease=kV[e.ease])}const kj=10;class xxe extends gxe{constructor(t){vxe(t),xV(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new OT({...i,autoplay:!1}),c=Math.max(kj,Ss.now()-this.startTime),u=io(0,kj,c-kj);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const l3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ec.test(e)||e==="0")&&!e.startsWith("url("));function bxe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function wxe(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=l3(s,t),l=l3(a,t);return V1(i===l,`You are trying to animate ${t} from "${s}" to "${a}". "${i?a:s}" is not an animatable value.`,"value-not-animatable"),!i||!l?!1:bxe(e)||(r==="spring"||jV(r))&&n}function n2(e){e.duration=0,e.type="keyframes"}const _xe=new Set(["opacity","clipPath","filter","transform"]),Sxe=wT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jxe(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:a,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Sxe()&&r&&_xe.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&a!==0&&i!=="inertia"}const kxe=40;class Exe extends TT{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var v;super(),this.stop=()=>{var p,y;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Ss.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:i,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||RT;this.keyframeResolver=new g(l,(p,y,x)=>this.onKeyframesResolved(p,y,h,!x),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:a,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Ss.now(),wxe(t,a,i,l)||((Qo.instantAnimations||!c)&&(d==null||d(AT(t,n,r))),t[0]=t[t.length-1],n2(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kxe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&jxe(h)?new xxe({...h,element:h.motionValue.owner.current}):new OT(h);g.finished.then(()=>this.notifyFinished()).catch(Fa),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),lxe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Nxe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Cxe(e){const t=Nxe.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}const Pxe=4;function EV(e,t,r=1){uh(r<=Pxe,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[n,s]=Cxe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return KW(i)?parseFloat(i):i}return kT(s)?EV(s,t,r+1):s}function $T(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Axe={type:"spring",stiffness:500,damping:25,restSpeed:10},Txe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Oxe={type:"keyframes",duration:.8},Rxe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$xe=(e,{keyframes:t})=>t.length>2?Oxe:dp.has(e)?e.startsWith("scale")?Txe(t[1]):Axe:Rxe;function Mxe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Ixe=e=>e!==null;function Lxe(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(Ixe),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}function NV(e,t,r,n=0,s=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),i=e.size,l=(i-1)*n;return typeof r=="function"?r(a,i):s===1?a*n:l-a*n}const MT=(e,t,r,n={},s,a)=>i=>{const l=$T(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Zi(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};Mxe(l)||Object.assign(d,$xe(e,d)),d.duration&&(d.duration=Zi(d.duration)),d.repeatDelay&&(d.repeatDelay=Zi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(n2(d),d.delay===0&&(f=!0)),(Qo.instantAnimations||Qo.skipAnimations)&&(f=!0,n2(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=Lxe(d.keyframes,l);if(h!==void 0){Fr.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new OT(d):new Exe(d)},CV=new Set(["width","height","top","left","right","bottom",...up]),c3=30,Dxe=e=>!isNaN(parseFloat(e));class Fxe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const s=Ss.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ss.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Dxe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new _T);const n=this.events[t].add(r);return t==="change"?()=>{n(),Fr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ss.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>c3)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,c3);return JW(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dh(e,t){return new Fxe(e,t)}function u3(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function IT(e,t,r,n){if(typeof t=="function"){const[s,a]=u3(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=u3(n);t=t(r!==void 0?r:e.custom,s,a)}return t}function Pf(e,t,r){const n=e.getProps();return IT(n,t,r!==void 0?r:n.custom,e)}const s2=e=>Array.isArray(e);function Bxe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,dh(r))}function Uxe(e){return s2(e)?e[e.length-1]||0:e}function zxe(e,t){const r=Pf(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const i in a){const l=Uxe(a[i]);Bxe(e,i,l)}}const cs=e=>!!(e&&e.getVelocity);function qxe(e){return!!(cs(e)&&e.add)}function a2(e,t){const r=e.getValue("willChange");if(qxe(r))return r.add(t);if(!r&&Qo.WillChange){const n=new Qo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function LT(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Wxe="framerAppearId",PV="data-"+LT(Wxe);function AV(e){return e.props[PV]}function Vxe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function TV(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(a=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&Vxe(u,d))continue;const g={delay:r,...$T(a||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!g.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const x=AV(e);if(x){const b=window.MotionHandoffAnimation(x,d,Fr);b!==null&&(g.startTime=b,p=!0)}}a2(e,d),f.start(MT(d,f,h,e.shouldReduceMotion&&CV.has(d)?{type:!1}:g,e,p));const y=f.animation;y&&c.push(y)}return i&&Promise.all(c).then(()=>{Fr.update(()=>{i&&zxe(e,i)})}),c}function i2(e,t,r={}){var c;const n=Pf(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(TV(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return Hxe(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,i]:[i,a];return u().then(()=>d())}else return Promise.all([a(),i(r.delay)])}function Hxe(e,t,r=0,n=0,s=0,a=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(i2(c,t,{...i,delay:r+(typeof n=="function"?0:n)+NV(e.variantChildren,c,n,s,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Kxe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>i2(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=i2(e,t,r);else{const s=typeof t=="function"?Pf(e,t,r.custom):t;n=Promise.all(TV(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Gxe={test:e=>e==="auto",parse:e=>e},OV=e=>t=>t.test(e),RV=[cp,dt,eo,jl,b0e,x0e,Gxe],d3=e=>RV.find(OV(e));function Yxe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YW(e):!0}const Jxe=new Set(["brightness","contrast","saturate","opacity"]);function Xxe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(ET)||[];if(!n)return e;const s=r.replace(n,"");let a=Jxe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const Qxe=/\b([a-z-]*)\(.*?\)/gu,o2={...Ec,getAnimatableNone:e=>{const t=e.match(Qxe);return t?t.map(Xxe).join(" "):e}},f3={...cp,transform:Math.round},Zxe={rotate:jl,rotateX:jl,rotateY:jl,rotateZ:jl,scale:_0,scaleX:_0,scaleY:_0,scaleZ:_0,skew:jl,skewX:jl,skewY:jl,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:Vg,originX:QI,originY:QI,originZ:dt},DT={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,inset:dt,insetBlock:dt,insetBlockStart:dt,insetBlockEnd:dt,insetInline:dt,insetInlineStart:dt,insetInlineEnd:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,paddingBlock:dt,paddingBlockStart:dt,paddingBlockEnd:dt,paddingInline:dt,paddingInlineStart:dt,paddingInlineEnd:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,marginBlock:dt,marginBlockStart:dt,marginBlockEnd:dt,marginInline:dt,marginInlineStart:dt,marginInlineEnd:dt,backgroundPositionX:dt,backgroundPositionY:dt,...Zxe,zIndex:f3,fillOpacity:Vg,strokeOpacity:Vg,numOctaves:f3},ebe={...DT,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:o2,WebkitFilter:o2},$V=e=>ebe[e];function MV(e,t){let r=$V(e);return r!==o2&&(r=Ec),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const tbe=new Set(["auto","none","0"]);function rbe(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!tbe.has(a)&&Hg(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=MV(r,s)}class nbe extends RT{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),kT(f))){const h=EV(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!CV.has(n)||t.length!==2)return;const[s,a]=t,i=d3(s),l=d3(a),c=XI(s),u=XI(a);if(c!==u&&Xl[n]){this.needsMeasurement=!0;return}if(i!==l)if(i3(i)&&i3(l))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Xl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||Yxe(t[s]))&&n.push(s);n.length&&rbe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Xl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function sbe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const IV=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function LV(e){return GW(e)&&"offsetHeight"in e}const{schedule:FT,cancel:kJe}=oV(queueMicrotask,!1),ti={x:!1,y:!1};function DV(){return ti.x||ti.y}function abe(e){return e==="x"||e==="y"?ti[e]?null:(ti[e]=!0,()=>{ti[e]=!1}):ti.x||ti.y?null:(ti.x=ti.y=!0,()=>{ti.x=ti.y=!1})}function FV(e,t){const r=sbe(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function h3(e){return!(e.pointerType==="touch"||DV())}function ibe(e,t,r={}){const[n,s,a]=FV(e,r),i=l=>{if(!h3(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{h3(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),a}const BV=(e,t)=>t?e===t?!0:BV(e,t.parentElement):!1,BT=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,obe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UV(e){return obe.has(e.tagName)||e.isContentEditable===!0}const vx=new WeakSet;function p3(e){return t=>{t.key==="Enter"&&e(t)}}function Ej(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lbe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=p3(()=>{if(vx.has(r))return;Ej(r,"down");const s=p3(()=>{Ej(r,"up")}),a=()=>Ej(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function m3(e){return BT(e)&&!DV()}function cbe(e,t,r={}){const[n,s,a]=FV(e,r),i=l=>{const c=l.currentTarget;if(!m3(l))return;vx.add(c);const u=t(c,l),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),vx.has(c)&&vx.delete(c),m3(g)&&typeof u=="function"&&u(g,{success:v})},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||BV(c,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),LV(l)&&(l.addEventListener("focus",u=>lbe(u,s)),!UV(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function zV(e){return GW(e)&&"ownerSVGElement"in e}function ube(e){return zV(e)&&e.tagName==="svg"}const dbe=[...RV,mn,Ec],fbe=e=>dbe.find(OV(e)),g3=()=>({translate:0,scale:1,origin:0,originPoint:0}),lf=()=>({x:g3(),y:g3()}),y3=()=>({min:0,max:0}),_n=()=>({x:y3(),y:y3()}),l2={current:null},qV={current:!1},hbe=typeof window<"u";function pbe(){if(qV.current=!0,!!hbe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>l2.current=e.matches;e.addEventListener("change",t),t()}else l2.current=!1}const mbe=new WeakMap;function H1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Kg(e){return typeof e=="string"||Array.isArray(e)}const UT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zT=["initial",...UT];function K1(e){return H1(e.animate)||zT.some(t=>Kg(e[t]))}function WV(e){return!!(K1(e)||e.variants)}function gbe(e,t,r){for(const n in t){const s=t[n],a=r[n];if(cs(s))e.addValue(n,s);else if(cs(a))e.addValue(n,dh(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,dh(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const v3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ob={};function VV(e){Ob=e}function ybe(){return Ob}class vbe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ss.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Fr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=K1(r),this.isVariantNode=WV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&cs(g)&&g.set(c[h])}}mount(t){var r;this.current=t,mbe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(qV.current||pbe(),this.shouldReduceMotion=l2.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),kc(this.notifyUpdate),kc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=dp.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Fr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ob){const r=Ob[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<v3.length;n++){const s=v3[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=gbe(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=dh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(KW(n)||YW(n))?n=parseFloat(n):!fbe(n)&&Ec.test(r)&&(n=MV(t,r)),this.setBaseTarget(t,cs(n)?n.get():n)),cs(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=IT(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!cs(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new _T),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){FT.render(this.render)}}class Rc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class HV extends vbe{constructor(){super(...arguments),this.KeyframeResolver=nbe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cs(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function KV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function xbe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bbe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Nj(e){return e===void 0||e===1}function c2({scale:e,scaleX:t,scaleY:r}){return!Nj(e)||!Nj(t)||!Nj(r)}function Zc(e){return c2(e)||GV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function GV(e){return x3(e.x)||x3(e.y)}function x3(e){return e&&e!=="0%"}function Rb(e,t,r){const n=e-r,s=t*n;return r+s}function b3(e,t,r,n,s){return s!==void 0&&(e=Rb(e,s,n)),Rb(e,r,n)+t}function u2(e,t=0,r=1,n,s){e.min=b3(e.min,t,r,n,s),e.max=b3(e.max,t,r,n,s)}function YV(e,{x:t,y:r}){u2(e.x,t.translate,t.scale,t.originPoint),u2(e.y,r.translate,r.scale,r.originPoint)}const w3=.999999999999,_3=1.0000000000001;function wbe(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,i;for(let l=0;l<s;l++){a=r[l],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&uf(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,YV(e,i)),n&&Zc(a.latestValues)&&uf(e,a.latestValues))}t.x<_3&&t.x>w3&&(t.x=1),t.y<_3&&t.y>w3&&(t.y=1)}function cf(e,t){e.min=e.min+t,e.max=e.max+t}function S3(e,t,r,n,s=.5){const a=Yr(e.min,e.max,s);u2(e,t,r,a,n)}function uf(e,t){S3(e.x,t.x,t.scaleX,t.scale,t.originX),S3(e.y,t.y,t.scaleY,t.scale,t.originY)}function JV(e,t){return KV(bbe(e.getBoundingClientRect(),t))}function _be(e,t,r){const n=JV(e,r),{scroll:s}=t;return s&&(cf(n.x,s.offset.x),cf(n.y,s.offset.y)),n}const Sbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jbe=up.length;function kbe(e,t,r){let n="",s=!0;for(let a=0;a<jbe;a++){const i=up[a],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=IV(l,DT[i]);if(!c){s=!1;const d=Sbe[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function qT(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(dp.has(c)){i=!0;continue}else if(cV(c)){s[c]=u;continue}else{const d=IV(u,DT[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=kbe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}function XV(e,{style:t,vars:r},n,s){const a=e.style;let i;for(i in t)a[i]=t[i];s==null||s.applyProjectionStyles(a,n);for(i in r)a.setProperty(i,r[i])}function j3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dt.test(e))e=parseFloat(e);else return e;const r=j3(e,t.target.x),n=j3(e,t.target.y);return`${r}% ${n}%`}},Ebe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Ec.parse(e);if(s.length>5)return n;const a=Ec.createTransformer(e),i=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=Yr(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}},d2={borderRadius:{...Zp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zp,borderTopRightRadius:Zp,borderBottomLeftRadius:Zp,borderBottomRightRadius:Zp,boxShadow:Ebe};function QV(e,{layout:t,layoutId:r}){return dp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!d2[e]||e==="opacity")}function WT(e,t,r){var i;const n=e.style,s=t==null?void 0:t.style,a={};if(!n)return a;for(const l in n)(cs(n[l])||s&&cs(s[l])||QV(l,e)||((i=r==null?void 0:r.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(a[l]=n[l]);return a}function Nbe(e){return window.getComputedStyle(e)}class Cbe extends HV{constructor(){super(...arguments),this.type="html",this.renderInstance=XV}readValueFromInstance(t,r){var n;if(dp.has(r))return(n=this.projection)!=null&&n.isProjecting?QN(r):nxe(t,r);{const s=Nbe(t),a=(cV(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return JV(t,r)}build(t,r,n){qT(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return WT(t,r,n)}}const Pbe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Abe={offset:"strokeDashoffset",array:"strokeDasharray"};function Tbe(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?Pbe:Abe;e[a.offset]=dt.transform(-n);const i=dt.transform(t),l=dt.transform(r);e[a.array]=`${i} ${l}`}const Obe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ZV(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:i=0,...l},c,u,d){if(qT(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const g of Obe)f[g]!==void 0&&(h[g]=f[g],delete f[g]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&Tbe(f,s,a,i,!1)}const eH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Rbe(e,t,r,n){XV(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(eH.has(s)?s:LT(s),t.attrs[s])}function rH(e,t,r){const n=WT(e,t,r);for(const s in e)if(cs(e[s])||cs(t[s])){const a=up.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}class $be extends HV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(dp.has(r)){const n=$V(r);return n&&n.default||0}return r=eH.has(r)?r:LT(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return rH(t,r,n)}build(t,r,n){ZV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){Rbe(t,r,n,s)}mount(t){this.isSVGTag=tH(t.tagName),super.mount(t)}}const Mbe=zT.length;function nH(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?nH(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Mbe;r++){const n=zT[r],s=e.props[n];(Kg(s)||s===!1)&&(t[n]=s)}return t}function sH(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Ibe=[...UT].reverse(),Lbe=UT.length;function Dbe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Kxe(e,r,n)))}function Fbe(e){let t=Dbe(e),r=k3(),n=!0;const s=c=>(u,d)=>{var h;const f=Pf(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:v,...p}=f;u={...u,...p,...v}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=nH(e.parent)||{},f=[],h=new Set;let g={},v=1/0;for(let y=0;y<Lbe;y++){const x=Ibe[y],b=r[x],w=u[x]!==void 0?u[x]:d[x],_=Kg(w),S=x===c?b.isActive:null;S===!1&&(v=y);let E=w===d[x]&&w!==u[x]&&_;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...g},!b.isActive&&S===null||!w&&!b.prevProp||H1(w)||typeof w=="boolean")continue;const k=Bbe(b.prevProp,w);let j=k||x===c&&b.isActive&&!E&&_||y>v&&_,N=!1;const C=Array.isArray(w)?w:[w];let P=C.reduce(s(x),{});S===!1&&(P={});const{prevResolvedValues:O={}}=b,F={...O,...P},M=I=>{j=!0,h.has(I)&&(N=!0,h.delete(I)),b.needsAnimating[I]=!0;const A=e.getValue(I);A&&(A.liveStyle=!1)};for(const I in F){const A=P[I],z=O[I];if(g.hasOwnProperty(I))continue;let re=!1;s2(A)&&s2(z)?re=!sH(A,z):re=A!==z,re?A!=null?M(I):h.add(I):A!==void 0&&h.has(I)?M(I):b.protectedKeys[I]=!0}b.prevProp=w,b.prevResolvedValues=P,b.isActive&&(g={...g,...P}),n&&e.blockInitialAnimation&&(j=!1);const q=E&&k;j&&(!q||N)&&f.push(...C.map(I=>{const A={type:x};if(typeof I=="string"&&n&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:z}=e,re=Pf(z,I);if(z.enteringChildren&&re){const{delayChildren:V}=re.transition||{};A.delay=NV(z.enteringChildren,e,V)}}return{animation:I,options:A}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const x=Pf(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let p=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=k3()}}}function Bbe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sH(t,e):!1}function Kc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k3(){return{animate:Kc(!0),whileInView:Kc(),whileHover:Kc(),whileTap:Kc(),whileDrag:Kc(),whileFocus:Kc(),exit:Kc()}}const aH=1e-4,Ube=1-aH,zbe=1+aH,iH=.01,qbe=0-iH,Wbe=0+iH;function js(e){return e.max-e.min}function Vbe(e,t,r){return Math.abs(e-t)<=r}function E3(e,t,r,n=.5){e.origin=n,e.originPoint=Yr(t.min,t.max,e.origin),e.scale=js(r)/js(t),e.translate=Yr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Ube&&e.scale<=zbe||isNaN(e.scale))&&(e.scale=1),(e.translate>=qbe&&e.translate<=Wbe||isNaN(e.translate))&&(e.translate=0)}function Zm(e,t,r,n){E3(e.x,t.x,r.x,n?n.originX:void 0),E3(e.y,t.y,r.y,n?n.originY:void 0)}function N3(e,t,r){e.min=r.min+t.min,e.max=e.min+js(t)}function Hbe(e,t,r){N3(e.x,t.x,r.x),N3(e.y,t.y,r.y)}function C3(e,t,r){e.min=t.min-r.min,e.max=e.min+js(t)}function $b(e,t,r){C3(e.x,t.x,r.x),C3(e.y,t.y,r.y)}function P3(e,t,r,n,s){return e-=t,e=Rb(e,1/r,n),s!==void 0&&(e=Rb(e,1/s,n)),e}function Kbe(e,t=0,r=1,n=.5,s,a=e,i=e){if(eo.test(t)&&(t=parseFloat(t),t=Yr(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Yr(a.min,a.max,n);e===a&&(l-=t),e.min=P3(e.min,t,r,l,s),e.max=P3(e.max,t,r,l,s)}function A3(e,t,[r,n,s],a,i){Kbe(e,t[r],t[n],t[s],t.scale,a,i)}const Gbe=["x","scaleX","originX"],Ybe=["y","scaleY","originY"];function T3(e,t,r,n){A3(e.x,t,Gbe,r?r.x:void 0,n?n.x:void 0),A3(e.y,t,Ybe,r?r.y:void 0,n?n.y:void 0)}function O3(e,t){e.min=t.min,e.max=t.max}function Xa(e,t){O3(e.x,t.x),O3(e.y,t.y)}function R3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $3(e){return e.translate===0&&e.scale===1}function oH(e){return $3(e.x)&&$3(e.y)}function M3(e,t){return e.min===t.min&&e.max===t.max}function Jbe(e,t){return M3(e.x,t.x)&&M3(e.y,t.y)}function I3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lH(e,t){return I3(e.x,t.x)&&I3(e.y,t.y)}function L3(e){return js(e.x)/js(e.y)}function D3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Sa(e){return[e("x"),e("y")]}function Xbe(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const cH=["TopLeft","TopRight","BottomLeft","BottomRight"],Qbe=cH.length,F3=e=>typeof e=="string"?parseFloat(e):e,B3=e=>typeof e=="number"||dt.test(e);function Zbe(e,t,r,n,s,a){s?(e.opacity=Yr(0,r.opacity??1,ewe(n)),e.opacityExit=Yr(t.opacity??1,0,twe(n))):a&&(e.opacity=Yr(t.opacity??1,r.opacity??1,n));for(let i=0;i<Qbe;i++){const l=`border${cH[i]}Radius`;let c=U3(t,l),u=U3(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||B3(c)===B3(u)?(e[l]=Math.max(Yr(F3(c),F3(u),n),0),(eo.test(u)||eo.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Yr(t.rotate||0,r.rotate||0,n))}function U3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ewe=uH(0,.5,nV),twe=uH(.5,.95,Fa);function uH(e,t,r){return n=>n<e?0:n>t?1:r(Wg(e,t,n))}function rwe(e,t){const r=Ss.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(kc(n),e(a-t))};return Fr.setup(n,!0),()=>kc(n)}function Gg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function xx(e){return cs(e)?e.get():e}function nwe(e,t,r){const n=cs(e)?e:dh(e);return n.start(MT("",n,t,r)),n.animation}const swe=(e,t)=>e.depth-t.depth;class awe{constructor(){this.children=[],this.isDirty=!1}add(t){xT(this.children,t),this.isDirty=!0}remove(t){bT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(swe),this.isDirty=!1,this.children.forEach(t)}}class iwe{constructor(){this.members=[]}add(t){xT(this.members,t),t.scheduleRender()}remove(t){if(bT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const bx={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Cj=["","X","Y","Z"],owe=1e3;let lwe=0;function Pj(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function dH(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=AV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Fr,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&dH(n)}function fH({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=lwe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dwe),this.nodes.forEach(mwe),this.nodes.forEach(gwe),this.nodes.forEach(fwe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new awe)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new _T),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=zV(i)&&!ube(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Fr.read(()=>{f=window.innerWidth}),e(i,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=rwe(h,250),bx.hasAnimatedSinceResize&&(bx.hasAnimatedSinceResize=!1,this.nodes.forEach(W3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||wwe,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!lH(this.targetLayout,g),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...$T(v,"layout"),onPlay:p,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else f||W3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ywe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pwe),this.nodes.forEach(cwe),this.nodes.forEach(uwe)):this.nodes.forEach(q3),this.clearAllSnapshots();const l=Ss.now();Vn.delta=io(0,1e3/60,l-Vn.timestamp),Vn.timestamp=l,Vn.isProcessing=!0,bj.update.process(Vn),bj.preRender.process(Vn),bj.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,FT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hwe),this.sharedNodes.forEach(vwe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!js(this.snapshot.measuredBox.x)&&!js(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!oH(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Zc(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),_we(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return _n();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Swe))){const{scroll:d}=this.root;d&&(cf(l.x,d.offset.x),cf(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=_n();if(Xa(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Xa(l,i),cf(l.x,f.offset.x),cf(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=_n();Xa(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&uf(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zc(d.latestValues)&&uf(c,d.latestValues)}return Zc(this.latestValues)&&uf(c,this.latestValues),c}removeTransform(i){const l=_n();Xa(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zc(u.latestValues))continue;c2(u.latestValues)&&u.updateSnapshot();const d=_n(),f=u.measurePageBox();Xa(d,f),T3(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Zc(this.latestValues)&&T3(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Vn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xa(this.target,this.layout.layoutBox),YV(this.target,this.targetDelta)):Xa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||c2(this.parent.latestValues)||GV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,l,c){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),$b(this.relativeTargetOrigin,l,c),Xa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Xa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;wbe(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=_n());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R3(this.prevProjectionDelta.x,this.projectionDelta.x),R3(this.prevProjectionDelta.y,this.projectionDelta.y)),Zm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!D3(this.projectionDelta.x,this.prevProjectionDelta.x)||!D3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lf(),this.projectionDelta=lf(),this.projectionDeltaWithTransform=lf()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=lf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=_n(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,p=g!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(bwe));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;V3(f.x,i.x,S),V3(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($b(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xwe(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&Jbe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=_n()),Xa(w,this.relativeTarget)),p&&(this.animationValues=d,Zbe(d,u,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(kc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fr.update(()=>{bx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dh(0)),this.currentAnimation=nwe(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(owe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&hH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||_n();const f=js(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=js(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}Xa(l,c),uf(l,d),Zm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new iwe),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Pj("z",i,u,this.animationValues);for(let d=0;d<Cj.length;d++)Pj(`rotate${Cj[d]}`,i,u,this.animationValues),Pj(`skew${Cj[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=xx(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=xx(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Zc(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Xbe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),i.transform=f;const{x:h,y:g}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in d2){if(d[v]===void 0)continue;const{correct:p,applyTo:y,isCSSVariable:x}=d2[v],b=f==="none"?d[v]:p(d[v],u);if(y){const w=y.length;for(let _=0;_<w;_++)i[y[_]]=b}else x?this.options.visualElement.renderState.vars[v]=b:i[v]=b}this.options.layoutId&&(i.pointerEvents=u===this?xx(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(z3),this.root.sharedNodes.clear()}}}function cwe(e){e.updateLayout()}function uwe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?Sa(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=js(h);h.min=n[f].min,h.max=h.min+g}):hH(a,t.layoutBox,n)&&Sa(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=js(n[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=lf();Zm(l,n,t.layoutBox);const c=lf();i?Zm(c,e.applyTransform(s,!0),t.measuredBox):Zm(c,n,t.layoutBox);const u=!oH(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const v=_n();$b(v,t.layoutBox,h.layoutBox);const p=_n();$b(p,n,g.layoutBox),lH(v,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function dwe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fwe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hwe(e){e.clearSnapshot()}function z3(e){e.clearMeasurements()}function q3(e){e.isLayoutDirty=!1}function pwe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function W3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mwe(e){e.resolveTargetDelta()}function gwe(e){e.calcProjection()}function ywe(e){e.resetSkewAndRotation()}function vwe(e){e.removeLeadSnapshot()}function V3(e,t,r){e.translate=Yr(t.translate,0,r),e.scale=Yr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function H3(e,t,r,n){e.min=Yr(t.min,r.min,n),e.max=Yr(t.max,r.max,n)}function xwe(e,t,r,n){H3(e.x,t.x,r.x,n),H3(e.y,t.y,r.y,n)}function bwe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wwe={duration:.45,ease:[.4,0,.1,1]},K3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),G3=K3("applewebkit/")&&!K3("chrome/")?Math.round:Fa;function Y3(e){e.min=G3(e.min),e.max=G3(e.max)}function _we(e){Y3(e.x),Y3(e.y)}function hH(e,t,r){return e==="position"||e==="preserve-aspect"&&!Vbe(L3(t),L3(r),.2)}function Swe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const jwe=fH({attachResizeListener:(e,t)=>Gg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Aj={current:void 0},pH=fH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Aj.current){const e=new jwe({});e.mount(window),e.setOptions({layoutScroll:!0}),Aj.current=e}return Aj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),VT=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function J3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kwe(...e){return t=>{let r=!1;const n=e.map(s=>{const a=J3(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():J3(e[s],null)}}}}function Ewe(...e){return m.useCallback(kwe(...e),e)}class Nwe extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=LV(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Cwe({children:e,isPresent:t,anchorX:r,root:n}){var d;const s=m.useId(),a=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(VT),c=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=Ewe(a,c);return m.useInsertionEffect(()=>{const{width:f,height:h,top:g,left:v,right:p}=i.current;if(t||!a.current||!f||!h)return;const y=r==="left"?`left: ${v}`:`right: ${p}`;a.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const b=n??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${g}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[t]),o.jsx(Nwe,{isPresent:t,childRef:a,sizeRef:i,children:m.cloneElement(e,{ref:u})})}const Pwe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i,anchorX:l,root:c})=>{const u=vT(Awe),d=m.useId();let f=!0,h=m.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;n&&n()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,n]);return a&&f&&(h={...h}),m.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[r]),m.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=o.jsx(Cwe,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(W1.Provider,{value:h,children:e})};function Awe(){return new Map}function mH(e=!0){const t=m.useContext(W1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=m.useId();m.useEffect(()=>{if(e)return s(a)},[e]);const i=m.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,i]:[!0]}const S0=e=>e.key||"";function X3(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const Twe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1,anchorX:l="left",root:c})=>{const[u,d]=mH(i),f=m.useMemo(()=>X3(e),[e]),h=i&&!u?[]:f.map(S0),g=m.useRef(!0),v=m.useRef(f),p=vT(()=>new Map),y=m.useRef(new Set),[x,b]=m.useState(f),[w,_]=m.useState(f);HW(()=>{g.current=!1,v.current=f;for(let k=0;k<w.length;k++){const j=S0(w[k]);h.includes(j)?(p.delete(j),y.current.delete(j)):p.get(j)!==!0&&p.set(j,!1)}},[w,h.length,h.join("-")]);const S=[];if(f!==x){let k=[...f];for(let j=0;j<w.length;j++){const N=w[j],C=S0(N);h.includes(C)||(k.splice(j,0,N),S.push(N))}return a==="wait"&&S.length&&(k=S),_(X3(k)),b(f),null}const{forceRender:E}=m.useContext(yT);return o.jsx(o.Fragment,{children:w.map(k=>{const j=S0(k),N=i&&!u?!1:f===w||h.includes(j),C=()=>{if(y.current.has(j))return;if(y.current.add(j),p.has(j))p.set(j,!0);else return;let P=!0;p.forEach(O=>{O||(P=!1)}),P&&(E==null||E(),_(v.current),i&&(d==null||d()),n&&n())};return o.jsx(Pwe,{isPresent:N,initial:!g.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:N?void 0:C,anchorX:l,children:k},j)})})},gH=m.createContext({strict:!1}),Q3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Z3=!1;function Owe(){if(Z3)return;const e={};for(const t in Q3)e[t]={isEnabled:r=>Q3[t].some(n=>!!r[n])};VV(e),Z3=!0}function yH(){return Owe(),ybe()}function Rwe(e){const t=yH();for(const r in e)t[r]={...t[r],...e[r]};VV(t)}const $we=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$we.has(e)}let vH=e=>!Mb(e);function Mwe(e){typeof e=="function"&&(vH=t=>t.startsWith("on")?!Mb(t):e(t))}try{Mwe(require("@emotion/is-prop-valid").default)}catch{}function Iwe(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(vH(s)||r===!0&&Mb(s)||!t&&!Mb(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const G1=m.createContext({});function Lwe(e,t){if(K1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Kg(r)?r:void 0,animate:Kg(n)?n:void 0}}return e.inherit!==!1?t:{}}function Dwe(e){const{initial:t,animate:r}=Lwe(e,m.useContext(G1));return m.useMemo(()=>({initial:t,animate:r}),[eL(t),eL(r)])}function eL(e){return Array.isArray(e)?e.join(" "):e}const HT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xH(e,t,r){for(const n in t)!cs(t[n])&&!QV(n,r)&&(e[n]=t[n])}function Fwe({transformTemplate:e},t){return m.useMemo(()=>{const r=HT();return qT(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Bwe(e,t){const r=e.style||{},n={};return xH(n,r,e),Object.assign(n,Fwe(e,t)),n}function Uwe(e,t){const r={},n=Bwe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const bH=()=>({...HT(),attrs:{}});function zwe(e,t,r,n){const s=m.useMemo(()=>{const a=bH();return ZV(a,t,tH(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};xH(a,e.style,e),s.style={...a,...s.style}}return s}const qwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KT(e){return typeof e!="string"||e.includes("-")?!1:!!(qwe.indexOf(e)>-1||/[A-Z]/u.test(e))}function Wwe(e,t,r,{latestValues:n},s,a=!1,i){const c=(i??KT(e)?zwe:Uwe)(t,n,s,e),u=Iwe(t,typeof e=="string",a),d=e!==m.Fragment?{...u,...c,ref:r}:{},{children:f}=t,h=m.useMemo(()=>cs(f)?f.get():f,[f]);return m.createElement(e,{...d,children:h})}function Vwe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:Hwe(r,n,s,e),renderState:t()}}function Hwe(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=xx(a[h]);let{initial:i,animate:l}=e;const c=K1(e),u=WV(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!H1(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const v=IT(e,h[g]);if(v){const{transitionEnd:p,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const _=d?w.length-1:0;w=w[_]}w!==null&&(s[b]=w)}for(const b in p)s[b]=p[b]}}}return s}const wH=e=>(t,r)=>{const n=m.useContext(G1),s=m.useContext(W1),a=()=>Vwe(e,t,n,s);return r?a():vT(a)},Kwe=wH({scrapeMotionValuesFromProps:WT,createRenderState:HT}),Gwe=wH({scrapeMotionValuesFromProps:rH,createRenderState:bH}),Ywe=Symbol.for("motionComponentSymbol");function Jwe(e,t,r){const n=m.useRef(r);m.useInsertionEffect(()=>{n.current=r});const s=m.useRef(null);return m.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const i=n.current;if(typeof i=="function")if(a){const c=i(a);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):i(a);else i&&(i.current=a)},[t])}const _H=m.createContext({});function Nm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xwe(e,t,r,n,s,a){var y,x;const{visualElement:i}=m.useContext(G1),l=m.useContext(gH),c=m.useContext(W1),u=m.useContext(VT).reducedMotion,d=m.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:a}));const f=d.current,h=m.useContext(_H);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Qwe(d.current,r,s,h);const g=m.useRef(!1);m.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const v=r[PV],p=m.useRef(!!v&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,v))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,v)));return HW(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),p.current&&f.animationState&&f.animationState.animateChanges())}),m.useEffect(()=>{f&&(!p.current&&f.animationState&&f.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,v)}),p.current=!1),f.enteringChildren=void 0)}),f}function Qwe(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:SH(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||l&&Nm(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function SH(e){if(e)return e.options.allowProjection!==!1?e.projection:SH(e.parent)}function Tj(e,{forwardMotionProps:t=!1,type:r}={},n,s){n&&Rwe(n);const a=r?r==="svg":KT(e),i=a?Gwe:Kwe;function l(u,d){let f;const h={...m.useContext(VT),...u,layoutId:Zwe(u)},{isStatic:g}=h,v=Dwe(u),p=i(u,g);if(!g&&VW){e1e();const y=t1e(h);f=y.MeasureLayout,v.visualElement=Xwe(e,p,h,s,y.ProjectionNode,a)}return o.jsxs(G1.Provider,{value:v,children:[f&&v.visualElement?o.jsx(f,{visualElement:v.visualElement,...h}):null,Wwe(e,u,Jwe(p,v.visualElement,d),p,g,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=m.forwardRef(l);return c[Ywe]=e,c}function Zwe({layoutId:e}){const t=m.useContext(yT).id;return t&&e!==void 0?t+"-"+e:e}function e1e(e,t){m.useContext(gH).strict}function t1e(e){const t=yH(),{drag:r,layout:n}=t;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function r1e(e,t){if(typeof Proxy>"u")return Tj;const r=new Map,n=(a,i)=>Tj(a,i,e,t),s=(a,i)=>n(a,i);return new Proxy(s,{get:(a,i)=>i==="create"?n:(r.has(i)||r.set(i,Tj(i,void 0,e,t)),r.get(i))})}const n1e=(e,t)=>t.isSVG??KT(e)?new $be(t):new Cbe(t,{allowProjection:e!==m.Fragment});class s1e extends Rc{constructor(t){super(t),t.animationState||(t.animationState=Fbe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();H1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let a1e=0;class i1e extends Rc{constructor(){super(...arguments),this.id=a1e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const o1e={animation:{Feature:s1e},exit:{Feature:i1e}};function yv(e){return{point:{x:e.pageX,y:e.pageY}}}const l1e=e=>t=>BT(t)&&e(t,yv(t));function eg(e,t,r,n){return Gg(e,t,l1e(r),n)}const jH=({current:e})=>e?e.ownerDocument.defaultView:null,tL=(e,t)=>Math.abs(e-t);function c1e(e,t){const r=tL(e.x,t.x),n=tL(e.y,t.y);return Math.sqrt(r**2+n**2)}const rL=new Set(["auto","scroll"]);class kH{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:i=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Rj(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,p=c1e(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!p)return;const{point:y}=g,{timestamp:x}=Vn;this.history.push({...y,timestamp:x});const{onStart:b,onMove:w}=this.handlers;v||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Oj(v,this.transformPagePoint),Fr.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Rj(g.type==="pointercancel"?this.lastMoveEventInfo:Oj(v,this.transformPagePoint),this.history);this.startEvent&&p&&p(g,b),y&&y(g,b)},!BT(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=s||window;const c=yv(t),u=Oj(c,this.transformPagePoint),{point:d}=u,{timestamp:f}=Vn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,Rj(u,this.history)),this.removeListeners=pv(eg(this.contextWindow,"pointermove",this.handlePointerMove),eg(this.contextWindow,"pointerup",this.handlePointerUp),eg(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(rL.has(n.overflowX)||rL.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:s.x-r.x,y:s.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,s),Fr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),kc(this.updatePoint)}}function Oj(e,t){return t?{point:t(e.point)}:e}function nL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rj({point:e},t){return{point:e,delta:nL(e,EH(t)),offset:nL(e,u1e(t)),velocity:d1e(t,.1)}}function u1e(e){return e[0]}function EH(e){return e[e.length-1]}function d1e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=EH(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Zi(t)));)r--;if(!n)return{x:0,y:0};const a=Ra(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function f1e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Yr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Yr(r,e,n.max):Math.min(e,r)),e}function sL(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function h1e(e,{top:t,left:r,bottom:n,right:s}){return{x:sL(e.x,r,s),y:sL(e.y,t,n)}}function aL(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function p1e(e,t){return{x:aL(e.x,t.x),y:aL(e.y,t.y)}}function m1e(e,t){let r=.5;const n=js(e),s=js(t);return s>n?r=Wg(t.min,t.max-n,e.min):n>s&&(r=Wg(e.min,e.max-s,t.min)),io(0,1,r)}function g1e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const f2=.35;function y1e(e=f2){return e===!1?e=0:e===!0&&(e=f2),{x:iL(e,"left","right"),y:iL(e,"top","bottom")}}function iL(e,t,r){return{min:oL(e,t),max:oL(e,r)}}function oL(e,t){return typeof e=="number"?e:e[t]||0}const v1e=new WeakMap;class x1e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{r?(this.stopAnimation(),this.snapToCursor(yv(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:g,dragPropagation:v,onDragStart:p}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=abe(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sa(x=>{let b=this.getAxisMotionValue(x).get()||0;if(eo.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(b=js(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),p&&Fr.postRender(()=>p(f,h)),a2(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:p,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=h;if(v&&this.currentDirection===null){this.currentDirection=b1e(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Sa(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kH(t,{onSessionStart:a,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:jH(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Fr.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!j0(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=f1e(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Nm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=h1e(n.layoutBox,t):this.constraints=!1,this.elastic=y1e(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Sa(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=g1e(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Nm(t))return!1;const n=t.current;uh(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=_be(n,s.root,this.visualElement.getTransformPagePoint());let i=p1e(s.layout.layoutBox,a);if(r){const l=r(xbe(i));this.hasMutatedConstraints=!!l,l&&(i=KV(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Sa(d=>{if(!j0(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return a2(this.visualElement,t),n.start(MT(t,n,0,r,this.visualElement,!1))}stopAnimation(){Sa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Sa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Sa(r=>{const{drag:n}=this.getProps();if(!j0(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r],c=a.get()||0;a.set(t[r]-Yr(i,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Nm(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Sa(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=m1e({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Sa(i=>{if(!j0(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Yr(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;v1e.set(this.visualElement,this);const t=this.visualElement.current,r=eg(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!UV(c.target)&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Nm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Fr.read(n);const i=Gg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Sa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=f2,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:l}}}function j0(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function b1e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class w1e extends Rc{constructor(t){super(t),this.removeGroupControls=Fa,this.removeListeners=Fa,this.controls=new x1e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fa}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const lL=e=>(t,r)=>{e&&Fr.postRender(()=>e(t,r))};class _1e extends Rc{constructor(){super(...arguments),this.removePointerDownListener=Fa}onPointerDown(t){this.session=new kH(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:lL(t),onStart:lL(r),onMove:n,onEnd:(a,i)=>{delete this.session,s&&Fr.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=eg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let $j=!1;class S1e extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),$j&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),bx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:i}=n;return i&&(i.isPresent=a,$j=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==a?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||Fr.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),FT.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;$j=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NH(e){const[t,r]=mH(),n=m.useContext(yT);return o.jsx(S1e,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(_H),isPresent:t,safeToRemove:r})}const j1e={pan:{Feature:_1e},drag:{Feature:w1e,ProjectionNode:pH,MeasureLayout:NH}};function cL(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Fr.postRender(()=>a(t,yv(t)))}class k1e extends Rc{mount(){const{current:t}=this.node;t&&(this.unmount=ibe(t,(r,n)=>(cL(this.node,n,"Start"),s=>cL(this.node,s,"End"))))}unmount(){}}class E1e extends Rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pv(Gg(this.node.current,"focus",()=>this.onFocus()),Gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uL(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Fr.postRender(()=>a(t,yv(t)))}class N1e extends Rc{mount(){const{current:t}=this.node;t&&(this.unmount=cbe(t,(r,n)=>(uL(this.node,n,"Start"),(s,{success:a})=>uL(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const h2=new WeakMap,Mj=new WeakMap,C1e=e=>{const t=h2.get(e.target);t&&t(e)},P1e=e=>{e.forEach(C1e)};function A1e({root:e,...t}){const r=e||document;Mj.has(r)||Mj.set(r,{});const n=Mj.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(P1e,{root:e,...t})),n[s]}function T1e(e,t,r){const n=A1e(t);return h2.set(e,r),n.observe(e),()=>{h2.delete(e),n.unobserve(e)}}const O1e={some:0,all:1};class R1e extends Rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:O1e[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return T1e(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some($1e(t,r))&&this.startObserver()}unmount(){}}function $1e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const M1e={inView:{Feature:R1e},tap:{Feature:N1e},focus:{Feature:E1e},hover:{Feature:k1e}},I1e={layout:{ProjectionNode:pH,MeasureLayout:NH}},L1e={...o1e,...M1e,...j1e,...I1e},jn=r1e(L1e,n1e);var D1e=Array.isArray,Qs=D1e,F1e=typeof ls=="object"&&ls&&ls.Object===Object&&ls,CH=F1e,B1e=CH,U1e=typeof self=="object"&&self&&self.Object===Object&&self,z1e=B1e||U1e||Function("return this")(),fo=z1e,q1e=fo,W1e=q1e.Symbol,vv=W1e,dL=vv,PH=Object.prototype,V1e=PH.hasOwnProperty,H1e=PH.toString,em=dL?dL.toStringTag:void 0;function K1e(e){var t=V1e.call(e,em),r=e[em];try{e[em]=void 0;var n=!0}catch{}var s=H1e.call(e);return n&&(t?e[em]=r:delete e[em]),s}var G1e=K1e,Y1e=Object.prototype,J1e=Y1e.toString;function X1e(e){return J1e.call(e)}var Q1e=X1e,fL=vv,Z1e=G1e,e_e=Q1e,t_e="[object Null]",r_e="[object Undefined]",hL=fL?fL.toStringTag:void 0;function n_e(e){return e==null?e===void 0?r_e:t_e:hL&&hL in Object(e)?Z1e(e):e_e(e)}var il=n_e;function s_e(e){return e!=null&&typeof e=="object"}var ol=s_e,a_e=il,i_e=ol,o_e="[object Symbol]";function l_e(e){return typeof e=="symbol"||i_e(e)&&a_e(e)==o_e}var fp=l_e,c_e=Qs,u_e=fp,d_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f_e=/^\w*$/;function h_e(e,t){if(c_e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||u_e(e)?!0:f_e.test(e)||!d_e.test(e)||t!=null&&e in Object(t)}var GT=h_e;function p_e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $c=p_e;const hp=jr($c);var m_e=il,g_e=$c,y_e="[object AsyncFunction]",v_e="[object Function]",x_e="[object GeneratorFunction]",b_e="[object Proxy]";function w_e(e){if(!g_e(e))return!1;var t=m_e(e);return t==v_e||t==x_e||t==y_e||t==b_e}var YT=w_e;const Kt=jr(YT);var __e=fo,S_e=__e["__core-js_shared__"],j_e=S_e,Ij=j_e,pL=function(){var e=/[^.]+$/.exec(Ij&&Ij.keys&&Ij.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function k_e(e){return!!pL&&pL in e}var E_e=k_e,N_e=Function.prototype,C_e=N_e.toString;function P_e(e){if(e!=null){try{return C_e.call(e)}catch{}try{return e+""}catch{}}return""}var AH=P_e,A_e=YT,T_e=E_e,O_e=$c,R_e=AH,$_e=/[\\^$.*+?()[\]{}|]/g,M_e=/^\[object .+?Constructor\]$/,I_e=Function.prototype,L_e=Object.prototype,D_e=I_e.toString,F_e=L_e.hasOwnProperty,B_e=RegExp("^"+D_e.call(F_e).replace($_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U_e(e){if(!O_e(e)||T_e(e))return!1;var t=A_e(e)?B_e:M_e;return t.test(R_e(e))}var z_e=U_e;function q_e(e,t){return e==null?void 0:e[t]}var W_e=q_e,V_e=z_e,H_e=W_e;function K_e(e,t){var r=H_e(e,t);return V_e(r)?r:void 0}var fd=K_e,G_e=fd,Y_e=G_e(Object,"create"),Y1=Y_e,mL=Y1;function J_e(){this.__data__=mL?mL(null):{},this.size=0}var X_e=J_e;function Q_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Z_e=Q_e,eSe=Y1,tSe="__lodash_hash_undefined__",rSe=Object.prototype,nSe=rSe.hasOwnProperty;function sSe(e){var t=this.__data__;if(eSe){var r=t[e];return r===tSe?void 0:r}return nSe.call(t,e)?t[e]:void 0}var aSe=sSe,iSe=Y1,oSe=Object.prototype,lSe=oSe.hasOwnProperty;function cSe(e){var t=this.__data__;return iSe?t[e]!==void 0:lSe.call(t,e)}var uSe=cSe,dSe=Y1,fSe="__lodash_hash_undefined__";function hSe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=dSe&&t===void 0?fSe:t,this}var pSe=hSe,mSe=X_e,gSe=Z_e,ySe=aSe,vSe=uSe,xSe=pSe;function pp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pp.prototype.clear=mSe;pp.prototype.delete=gSe;pp.prototype.get=ySe;pp.prototype.has=vSe;pp.prototype.set=xSe;var bSe=pp;function wSe(){this.__data__=[],this.size=0}var _Se=wSe;function SSe(e,t){return e===t||e!==e&&t!==t}var JT=SSe,jSe=JT;function kSe(e,t){for(var r=e.length;r--;)if(jSe(e[r][0],t))return r;return-1}var J1=kSe,ESe=J1,NSe=Array.prototype,CSe=NSe.splice;function PSe(e){var t=this.__data__,r=ESe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():CSe.call(t,r,1),--this.size,!0}var ASe=PSe,TSe=J1;function OSe(e){var t=this.__data__,r=TSe(t,e);return r<0?void 0:t[r][1]}var RSe=OSe,$Se=J1;function MSe(e){return $Se(this.__data__,e)>-1}var ISe=MSe,LSe=J1;function DSe(e,t){var r=this.__data__,n=LSe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var FSe=DSe,BSe=_Se,USe=ASe,zSe=RSe,qSe=ISe,WSe=FSe;function mp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mp.prototype.clear=BSe;mp.prototype.delete=USe;mp.prototype.get=zSe;mp.prototype.has=qSe;mp.prototype.set=WSe;var X1=mp,VSe=fd,HSe=fo,KSe=VSe(HSe,"Map"),XT=KSe,gL=bSe,GSe=X1,YSe=XT;function JSe(){this.size=0,this.__data__={hash:new gL,map:new(YSe||GSe),string:new gL}}var XSe=JSe;function QSe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ZSe=QSe,eje=ZSe;function tje(e,t){var r=e.__data__;return eje(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Q1=tje,rje=Q1;function nje(e){var t=rje(this,e).delete(e);return this.size-=t?1:0,t}var sje=nje,aje=Q1;function ije(e){return aje(this,e).get(e)}var oje=ije,lje=Q1;function cje(e){return lje(this,e).has(e)}var uje=cje,dje=Q1;function fje(e,t){var r=dje(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hje=fje,pje=XSe,mje=sje,gje=oje,yje=uje,vje=hje;function gp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gp.prototype.clear=pje;gp.prototype.delete=mje;gp.prototype.get=gje;gp.prototype.has=yje;gp.prototype.set=vje;var QT=gp,TH=QT,xje="Expected a function";function ZT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xje);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(ZT.Cache||TH),r}ZT.Cache=TH;var OH=ZT;const bje=jr(OH);var wje=OH,_je=500;function Sje(e){var t=wje(e,function(n){return r.size===_je&&r.clear(),n}),r=t.cache;return t}var jje=Sje,kje=jje,Eje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nje=/\\(\\)?/g,Cje=kje(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Eje,function(r,n,s,a){t.push(s?a.replace(Nje,"$1"):n||r)}),t}),Pje=Cje;function Aje(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var eO=Aje,yL=vv,Tje=eO,Oje=Qs,Rje=fp,$je=1/0,vL=yL?yL.prototype:void 0,xL=vL?vL.toString:void 0;function RH(e){if(typeof e=="string")return e;if(Oje(e))return Tje(e,RH)+"";if(Rje(e))return xL?xL.call(e):"";var t=e+"";return t=="0"&&1/e==-$je?"-0":t}var Mje=RH,Ije=Mje;function Lje(e){return e==null?"":Ije(e)}var $H=Lje,Dje=Qs,Fje=GT,Bje=Pje,Uje=$H;function zje(e,t){return Dje(e)?e:Fje(e,t)?[e]:Bje(Uje(e))}var MH=zje,qje=fp,Wje=1/0;function Vje(e){if(typeof e=="string"||qje(e))return e;var t=e+"";return t=="0"&&1/e==-Wje?"-0":t}var Z1=Vje,Hje=MH,Kje=Z1;function Gje(e,t){t=Hje(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Kje(t[r++])];return r&&r==n?e:void 0}var tO=Gje,Yje=tO;function Jje(e,t,r){var n=e==null?void 0:Yje(e,t);return n===void 0?r:n}var IH=Jje;const Ba=jr(IH);function Xje(e){return e==null}var Qje=Xje;const Jt=jr(Qje);var Zje=il,eke=Qs,tke=ol,rke="[object String]";function nke(e){return typeof e=="string"||!eke(e)&&tke(e)&&Zje(e)==rke}var ske=nke;const xv=jr(ske);var LH={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=Symbol.for("react.element"),nO=Symbol.for("react.portal"),e_=Symbol.for("react.fragment"),t_=Symbol.for("react.strict_mode"),r_=Symbol.for("react.profiler"),n_=Symbol.for("react.provider"),s_=Symbol.for("react.context"),ake=Symbol.for("react.server_context"),a_=Symbol.for("react.forward_ref"),i_=Symbol.for("react.suspense"),o_=Symbol.for("react.suspense_list"),l_=Symbol.for("react.memo"),c_=Symbol.for("react.lazy"),ike=Symbol.for("react.offscreen"),DH;DH=Symbol.for("react.module.reference");function Ga(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rO:switch(e=e.type,e){case e_:case r_:case t_:case i_:case o_:return e;default:switch(e=e&&e.$$typeof,e){case ake:case s_:case a_:case c_:case l_:case n_:return e;default:return t}}case nO:return t}}}vr.ContextConsumer=s_;vr.ContextProvider=n_;vr.Element=rO;vr.ForwardRef=a_;vr.Fragment=e_;vr.Lazy=c_;vr.Memo=l_;vr.Portal=nO;vr.Profiler=r_;vr.StrictMode=t_;vr.Suspense=i_;vr.SuspenseList=o_;vr.isAsyncMode=function(){return!1};vr.isConcurrentMode=function(){return!1};vr.isContextConsumer=function(e){return Ga(e)===s_};vr.isContextProvider=function(e){return Ga(e)===n_};vr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rO};vr.isForwardRef=function(e){return Ga(e)===a_};vr.isFragment=function(e){return Ga(e)===e_};vr.isLazy=function(e){return Ga(e)===c_};vr.isMemo=function(e){return Ga(e)===l_};vr.isPortal=function(e){return Ga(e)===nO};vr.isProfiler=function(e){return Ga(e)===r_};vr.isStrictMode=function(e){return Ga(e)===t_};vr.isSuspense=function(e){return Ga(e)===i_};vr.isSuspenseList=function(e){return Ga(e)===o_};vr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===e_||e===r_||e===t_||e===i_||e===o_||e===ike||typeof e=="object"&&e!==null&&(e.$$typeof===c_||e.$$typeof===l_||e.$$typeof===n_||e.$$typeof===s_||e.$$typeof===a_||e.$$typeof===DH||e.getModuleId!==void 0)};vr.typeOf=Ga;LH.exports=vr;var FH=LH.exports,oke=il,lke=ol,cke="[object Number]";function uke(e){return typeof e=="number"||lke(e)&&oke(e)==cke}var BH=uke;const dke=jr(BH);var fke=BH;function hke(e){return fke(e)&&e!=+e}var pke=hke;const yp=jr(pke);var fi=function(t){return t===0?0:t>0?1:-1},hu=function(t){return xv(t)&&t.indexOf("%")===t.length-1},tt=function(t){return dke(t)&&!yp(t)},Tn=function(t){return tt(t)||xv(t)},mke=0,bv=function(t){var r=++mke;return"".concat(t||"").concat(r)},ed=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&!xv(t))return n;var a;if(hu(t)){var i=t.indexOf("%");a=r*parseFloat(t.slice(0,i))/100}else a=+t;return yp(a)&&(a=n),s&&a>r&&(a=r),a},Vd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},gke=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Aa=function(t,r){return tt(t)&&tt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ib(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ba(n,t))===r})}function Af(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function p2(e){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p2(e)}var yke=["viewBox","children"],vke=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bL=["points","pathLength"],Lj={svg:yke,polygon:bL,polyline:bL},sO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(m.isValidElement(t)&&(n=t.props),!hp(n))return null;var s={};return Object.keys(n).forEach(function(a){sO.includes(a)&&(s[a]=r||function(i){return n[a](n,i)})}),s},xke=function(t,r,n){return function(s){return t(r,n,s),null}},Db=function(t,r,n){if(!hp(t)||p2(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var i=t[a];sO.includes(a)&&typeof i=="function"&&(s||(s={}),s[a]=xke(i,r,n))}),s},bke=["children"],wke=["children"];function wL(e,t){if(e==null)return{};var r=_ke(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m2(e){"@babel/helpers - typeof";return m2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m2(e)}var _L={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Do=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},SL=null,Dj=null,aO=function e(t){if(t===SL&&Array.isArray(Dj))return Dj;var r=[];return m.Children.forEach(t,function(n){Jt(n)||(FH.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Dj=r,SL=t,r};function gi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Do(s)}):n=[Do(t)],aO(e).forEach(function(s){var a=Ba(s,"type.displayName")||Ba(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function sa(e,t){var r=gi(e,t);return r&&r[0]}var jL=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!tt(n)||n<=0||!tt(s)||s<=0)},Ske=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jke=function(t){return t&&t.type&&xv(t.type)&&Ske.indexOf(t.type)>=0},kke=function(t){return t&&m2(t)==="object"&&"clipDot"in t},Eke=function(t,r,n,s){var a,i=(a=Lj==null?void 0:Lj[s])!==null&&a!==void 0?a:[];return!Kt(t)&&(s&&i.includes(r)||vke.includes(r))||n&&sO.includes(r)},Gt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(m.isValidElement(t)&&(s=t.props),!hp(s))return null;var a={};return Object.keys(s).forEach(function(i){var l;Eke((l=s)===null||l===void 0?void 0:l[i],i,r,n)&&(a[i]=s[i])}),a},g2=function e(t,r){if(t===r)return!0;var n=m.Children.count(t);if(n!==m.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kL(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],i=r[s];if(Array.isArray(a)||Array.isArray(i)){if(!e(a,i))return!1}else if(!kL(a,i))return!1}return!0},kL=function(t,r){if(Jt(t)&&Jt(r))return!0;if(!Jt(t)&&!Jt(r)){var n=t.props||{},s=n.children,a=wL(n,bke),i=r.props||{},l=i.children,c=wL(i,wke);return s&&l?Af(a,c)&&g2(s,l):!s&&!l?Af(a,c):!1}return!1},EL=function(t,r){var n=[],s={};return aO(t).forEach(function(a,i){if(jke(a))n.push(a);else if(a){var l=Do(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,i);n.push(f),s[l]=!0}}}),n},Nke=function(t){var r=t&&t.type;return r&&_L[r]?_L[r]:null},Cke=function(t,r){return aO(r).indexOf(t)},Pke=["children","width","height","viewBox","className","style","title","desc"];function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y2.apply(this,arguments)}function Ake(e,t){if(e==null)return{};var r=Tke(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v2(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,i=e.style,l=e.title,c=e.desc,u=Ake(e,Pke),d=s||{width:r,height:n,x:0,y:0},f=er("recharts-surface",a);return R.createElement("svg",y2({},Gt(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var Oke=["children","className"];function x2(){return x2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x2.apply(this,arguments)}function Rke(e,t){if(e==null)return{};var r=$ke(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jr=R.forwardRef(function(e,t){var r=e.children,n=e.className,s=Rke(e,Oke),a=er("recharts-layer",n);return R.createElement("g",x2({className:a},Gt(s,!0),{ref:t}),r)}),Mu=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function Mke(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var Ike=Mke,Lke=Ike;function Dke(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Lke(e,t,r)}var Fke=Dke,Bke="\\ud800-\\udfff",Uke="\\u0300-\\u036f",zke="\\ufe20-\\ufe2f",qke="\\u20d0-\\u20ff",Wke=Uke+zke+qke,Vke="\\ufe0e\\ufe0f",Hke="\\u200d",Kke=RegExp("["+Hke+Bke+Wke+Vke+"]");function Gke(e){return Kke.test(e)}var UH=Gke;function Yke(e){return e.split("")}var Jke=Yke,zH="\\ud800-\\udfff",Xke="\\u0300-\\u036f",Qke="\\ufe20-\\ufe2f",Zke="\\u20d0-\\u20ff",eEe=Xke+Qke+Zke,tEe="\\ufe0e\\ufe0f",rEe="["+zH+"]",b2="["+eEe+"]",w2="\\ud83c[\\udffb-\\udfff]",nEe="(?:"+b2+"|"+w2+")",qH="[^"+zH+"]",WH="(?:\\ud83c[\\udde6-\\uddff]){2}",VH="[\\ud800-\\udbff][\\udc00-\\udfff]",sEe="\\u200d",HH=nEe+"?",KH="["+tEe+"]?",aEe="(?:"+sEe+"(?:"+[qH,WH,VH].join("|")+")"+KH+HH+")*",iEe=KH+HH+aEe,oEe="(?:"+[qH+b2+"?",b2,WH,VH,rEe].join("|")+")",lEe=RegExp(w2+"(?="+w2+")|"+oEe+iEe,"g");function cEe(e){return e.match(lEe)||[]}var uEe=cEe,dEe=Jke,fEe=UH,hEe=uEe;function pEe(e){return fEe(e)?hEe(e):dEe(e)}var mEe=pEe,gEe=Fke,yEe=UH,vEe=mEe,xEe=$H;function bEe(e){return function(t){t=xEe(t);var r=yEe(t)?vEe(t):void 0,n=r?r[0]:t.charAt(0),s=r?gEe(r,1).join(""):t.slice(1);return n[e]()+s}}var wEe=bEe,_Ee=wEe,SEe=_Ee("toUpperCase"),jEe=SEe;const u_=jr(jEe);function Er(e){return function(){return e}}const GH=Math.cos,Fb=Math.sin,Ei=Math.sqrt,Bb=Math.PI,d_=2*Bb,_2=Math.PI,S2=2*_2,eu=1e-6,kEe=S2-eu;function YH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function EEe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YH;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class NEe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YH:EEe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,i){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,l=this._y1,c=n-t,u=s-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>eu)if(!(Math.abs(f*c-u*d)>eu)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-i,v=s-l,p=c*c+u*u,y=g*g+v*v,x=Math.sqrt(p),b=Math.sqrt(h),w=a*Math.tan((_2-Math.acos((p+h-y)/(2*x*b)))/2),_=w/b,S=w/x;Math.abs(_-1)>eu&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*g>d*v)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,s,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^i,h=i?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>eu||Math.abs(this._y1-d)>eu)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%S2+S2),h>kEe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>eu&&this._append`A${n},${n},0,${+(h>=_2)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function iO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new NEe(t)}function oO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JH(e){this._context=e}JH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function f_(e){return new JH(e)}function XH(e){return e[0]}function QH(e){return e[1]}function ZH(e,t){var r=Er(!0),n=null,s=f_,a=null,i=iO(l);e=typeof e=="function"?e:e===void 0?XH:Er(e),t=typeof t=="function"?t:t===void 0?QH:Er(t);function l(c){var u,d=(c=oO(c)).length,f,h=!1,g;for(n==null&&(a=s(g=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Er(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Er(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Er(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function k0(e,t,r){var n=null,s=Er(!0),a=null,i=f_,l=null,c=iO(u);e=typeof e=="function"?e:e===void 0?XH:Er(+e),t=typeof t=="function"?t:Er(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QH:Er(+r);function u(f){var h,g,v,p=(f=oO(f)).length,y,x=!1,b,w=new Array(p),_=new Array(p);for(a==null&&(l=i(b=c())),h=0;h<=p;++h){if(!(h<p&&s(y=f[h],h,f))===x)if(x=!x)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=g;--v)l.point(w[v],_[v]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return ZH().defined(s).curve(i).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Er(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Er(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Er(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Er(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Er(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Er(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Er(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,a!=null&&(l=i(a)),u):i},u.context=function(f){return arguments.length?(f==null?a=l=null:l=i(a=f),u):a},u}class eK{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function CEe(e){return new eK(e,!0)}function PEe(e){return new eK(e,!1)}const lO={draw(e,t){const r=Ei(t/Bb);e.moveTo(r,0),e.arc(0,0,r,0,d_)}},AEe={draw(e,t){const r=Ei(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},tK=Ei(1/3),TEe=tK*2,OEe={draw(e,t){const r=Ei(t/TEe),n=r*tK;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},REe={draw(e,t){const r=Ei(t),n=-r/2;e.rect(n,n,r,r)}},$Ee=.8908130915292852,rK=Fb(Bb/10)/Fb(7*Bb/10),MEe=Fb(d_/10)*rK,IEe=-GH(d_/10)*rK,LEe={draw(e,t){const r=Ei(t*$Ee),n=MEe*r,s=IEe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const i=d_*a/5,l=GH(i),c=Fb(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Fj=Ei(3),DEe={draw(e,t){const r=-Ei(t/(Fj*3));e.moveTo(0,r*2),e.lineTo(-Fj*r,-r),e.lineTo(Fj*r,-r),e.closePath()}},ba=-.5,wa=Ei(3)/2,j2=1/Ei(12),FEe=(j2/2+1)*3,BEe={draw(e,t){const r=Ei(t/FEe),n=r/2,s=r*j2,a=n,i=r*j2+r,l=-a,c=i;e.moveTo(n,s),e.lineTo(a,i),e.lineTo(l,c),e.lineTo(ba*n-wa*s,wa*n+ba*s),e.lineTo(ba*a-wa*i,wa*a+ba*i),e.lineTo(ba*l-wa*c,wa*l+ba*c),e.lineTo(ba*n+wa*s,ba*s-wa*n),e.lineTo(ba*a+wa*i,ba*i-wa*a),e.lineTo(ba*l+wa*c,ba*c-wa*l),e.closePath()}};function UEe(e,t){let r=null,n=iO(s);e=typeof e=="function"?e:Er(e||lO),t=typeof t=="function"?t:Er(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:Er(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:Er(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Ub(){}function zb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function nK(e){this._context=e}nK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zEe(e){return new nK(e)}function sK(e){this._context=e}sK.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qEe(e){return new sK(e)}function aK(e){this._context=e}aK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WEe(e){return new aK(e)}function iK(e){this._context=e}iK.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function VEe(e){return new iK(e)}function NL(e){return e<0?-1:1}function CL(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),i=(r-e._y1)/(s||n<0&&-0),l=(a*s+i*n)/(n+s);return(NL(a)+NL(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}function PL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Bj(e,t,r){var n=e._x0,s=e._y0,a=e._x1,i=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,i-l*r,a,i)}function qb(e){this._context=e}qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bj(this,this._t0,PL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bj(this,PL(this,r=CL(this,e,t)),r);break;default:Bj(this,this._t0,r=CL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function oK(e){this._context=new lK(e)}(oK.prototype=Object.create(qb.prototype)).point=function(e,t){qb.prototype.point.call(this,t,e)};function lK(e){this._context=e}lK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function HEe(e){return new qb(e)}function KEe(e){return new oK(e)}function cK(e){this._context=e}cK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AL(e),s=AL(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AL(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),i=new Array(r);for(s[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(s[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(i[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function GEe(e){return new cK(e)}function h_(e,t){this._context=e,this._t=t}h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function YEe(e){return new h_(e,.5)}function JEe(e){return new h_(e,0)}function XEe(e){return new h_(e,1)}function fh(e,t){if((i=e.length)>1)for(var r=1,n,s,a=e[t[0]],i,l=a.length;r<i;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function k2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function QEe(e,t){return e[t]}function ZEe(e){const t=[];return t.key=e,t}function eNe(){var e=Er([]),t=k2,r=fh,n=QEe;function s(a){var i=Array.from(e.apply(this,arguments),ZEe),l,c=i.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,a)]).data=f;for(l=0,d=oO(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Er(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:Er(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?k2:typeof a=="function"?a:Er(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??fh,s):r},s}function tNe(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,i;s<a;++s){for(i=r=0;r<n;++r)i+=e[r][s][1]||0;if(i)for(r=0;r<n;++r)e[r][s][1]/=i}fh(e,t)}}function rNe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var i=0,l=0;i<s;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}fh(e,t)}}function nNe(e,t){if(!(!((i=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,i;n<a;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],y=p[n][1]||0,x=p[n-1][1]||0;g+=y-x}c+=f,u+=g*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,fh(e,t)}}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}var sNe=["type","size","sizeType"];function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(this,arguments)}function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){aNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aNe(e,t,r){return t=iNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iNe(e){var t=oNe(e,"string");return Yg(t)=="symbol"?t:t+""}function oNe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lNe(e,t){if(e==null)return{};var r=cNe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var uK={symbolCircle:lO,symbolCross:AEe,symbolDiamond:OEe,symbolSquare:REe,symbolStar:LEe,symbolTriangle:DEe,symbolWye:BEe},uNe=Math.PI/180,dNe=function(t){var r="symbol".concat(u_(t));return uK[r]||lO},fNe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*uNe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},hNe=function(t,r){uK["symbol".concat(u_(t))]=r},cO=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,i=t.sizeType,l=i===void 0?"area":i,c=lNe(t,sNe),u=OL(OL({},c),{},{type:n,size:a,sizeType:l}),d=function(){var y=dNe(n),x=UEe().type(y).size(fNe(a,l,n));return x()},f=u.className,h=u.cx,g=u.cy,v=Gt(u,!0);return h===+h&&g===+g&&a===+a?R.createElement("path",E2({},v,{className:er("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};cO.registerSymbol=hNe;function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(this,arguments)}function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){Jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fK(n.key),n)}}function yNe(e,t,r){return t&&gNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vNe(e,t,r){return t=Wb(t),xNe(e,dK()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function xNe(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bNe(e)}function bNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function wNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C2(e,t)}function C2(e,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C2(e,t)}function Jg(e,t,r){return t=fK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=_Ne(e,"string");return hh(t)=="symbol"?t:t+""}function _Ne(e,t){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _a=32,uO=function(e){function t(){return mNe(this,t),vNe(this,t,arguments)}return wNe(t,e),yNe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=_a/2,i=_a/6,l=_a/3,c=n.inactive?s:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:_a,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(_a,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_a/8,"h").concat(_a,"v").concat(_a*3/4,"h").concat(-_a,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=pNe({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(cO,{fill:c,cx:a,cy:a,size:_a,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,i=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:_a,height:_a},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,v){var p=g.formatter||c,y=er(Jg(Jg({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=Kt(g.value)?null:g.value;Mu(!Kt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=g.inactive?u:g.color;return R.createElement("li",N2({className:y,style:f,key:"legend-item-".concat(v)},Db(n.props,g,v)),R.createElement(v2,{width:i,height:i,viewBox:d,style:h},n.renderIcon(g)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(x,g,v):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,i=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(m.PureComponent);Jg(uO,"displayName","Legend");Jg(uO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var SNe=X1;function jNe(){this.__data__=new SNe,this.size=0}var kNe=jNe;function ENe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var NNe=ENe;function CNe(e){return this.__data__.get(e)}var PNe=CNe;function ANe(e){return this.__data__.has(e)}var TNe=ANe,ONe=X1,RNe=XT,$Ne=QT,MNe=200;function INe(e,t){var r=this.__data__;if(r instanceof ONe){var n=r.__data__;if(!RNe||n.length<MNe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $Ne(n)}return r.set(e,t),this.size=r.size,this}var LNe=INe,DNe=X1,FNe=kNe,BNe=NNe,UNe=PNe,zNe=TNe,qNe=LNe;function vp(e){var t=this.__data__=new DNe(e);this.size=t.size}vp.prototype.clear=FNe;vp.prototype.delete=BNe;vp.prototype.get=UNe;vp.prototype.has=zNe;vp.prototype.set=qNe;var hK=vp,WNe="__lodash_hash_undefined__";function VNe(e){return this.__data__.set(e,WNe),this}var HNe=VNe;function KNe(e){return this.__data__.has(e)}var GNe=KNe,YNe=QT,JNe=HNe,XNe=GNe;function Vb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new YNe;++t<r;)this.add(e[t])}Vb.prototype.add=Vb.prototype.push=JNe;Vb.prototype.has=XNe;var pK=Vb;function QNe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mK=QNe;function ZNe(e,t){return e.has(t)}var gK=ZNe,e2e=pK,t2e=mK,r2e=gK,n2e=1,s2e=2;function a2e(e,t,r,n,s,a){var i=r&n2e,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=r&s2e?new e2e:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var v=e[f],p=t[f];if(n)var y=i?n(p,v,f,t,e,a):n(v,p,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!t2e(t,function(x,b){if(!r2e(g,b)&&(v===x||s(v,x,r,n,a)))return g.push(b)})){h=!1;break}}else if(!(v===p||s(v,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var yK=a2e,i2e=fo,o2e=i2e.Uint8Array,l2e=o2e;function c2e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var u2e=c2e;function d2e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dO=d2e,$L=vv,ML=l2e,f2e=JT,h2e=yK,p2e=u2e,m2e=dO,g2e=1,y2e=2,v2e="[object Boolean]",x2e="[object Date]",b2e="[object Error]",w2e="[object Map]",_2e="[object Number]",S2e="[object RegExp]",j2e="[object Set]",k2e="[object String]",E2e="[object Symbol]",N2e="[object ArrayBuffer]",C2e="[object DataView]",IL=$L?$L.prototype:void 0,Uj=IL?IL.valueOf:void 0;function P2e(e,t,r,n,s,a,i){switch(r){case C2e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N2e:return!(e.byteLength!=t.byteLength||!a(new ML(e),new ML(t)));case v2e:case x2e:case _2e:return f2e(+e,+t);case b2e:return e.name==t.name&&e.message==t.message;case S2e:case k2e:return e==t+"";case w2e:var l=p2e;case j2e:var c=n&g2e;if(l||(l=m2e),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=y2e,i.set(e,t);var d=h2e(l(e),l(t),n,s,a,i);return i.delete(e),d;case E2e:if(Uj)return Uj.call(e)==Uj.call(t)}return!1}var A2e=P2e;function T2e(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var vK=T2e,O2e=vK,R2e=Qs;function $2e(e,t,r){var n=t(e);return R2e(e)?n:O2e(n,r(e))}var M2e=$2e;function I2e(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var L2e=I2e;function D2e(){return[]}var F2e=D2e,B2e=L2e,U2e=F2e,z2e=Object.prototype,q2e=z2e.propertyIsEnumerable,LL=Object.getOwnPropertySymbols,W2e=LL?function(e){return e==null?[]:(e=Object(e),B2e(LL(e),function(t){return q2e.call(e,t)}))}:U2e,V2e=W2e;function H2e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var K2e=H2e,G2e=il,Y2e=ol,J2e="[object Arguments]";function X2e(e){return Y2e(e)&&G2e(e)==J2e}var Q2e=X2e,DL=Q2e,Z2e=ol,xK=Object.prototype,eCe=xK.hasOwnProperty,tCe=xK.propertyIsEnumerable,rCe=DL(function(){return arguments}())?DL:function(e){return Z2e(e)&&eCe.call(e,"callee")&&!tCe.call(e,"callee")},fO=rCe,Hb={exports:{}};function nCe(){return!1}var sCe=nCe;Hb.exports;(function(e,t){var r=fo,n=sCe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Hb,Hb.exports);var bK=Hb.exports,aCe=9007199254740991,iCe=/^(?:0|[1-9]\d*)$/;function oCe(e,t){var r=typeof e;return t=t??aCe,!!t&&(r=="number"||r!="symbol"&&iCe.test(e))&&e>-1&&e%1==0&&e<t}var hO=oCe,lCe=9007199254740991;function cCe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lCe}var pO=cCe,uCe=il,dCe=pO,fCe=ol,hCe="[object Arguments]",pCe="[object Array]",mCe="[object Boolean]",gCe="[object Date]",yCe="[object Error]",vCe="[object Function]",xCe="[object Map]",bCe="[object Number]",wCe="[object Object]",_Ce="[object RegExp]",SCe="[object Set]",jCe="[object String]",kCe="[object WeakMap]",ECe="[object ArrayBuffer]",NCe="[object DataView]",CCe="[object Float32Array]",PCe="[object Float64Array]",ACe="[object Int8Array]",TCe="[object Int16Array]",OCe="[object Int32Array]",RCe="[object Uint8Array]",$Ce="[object Uint8ClampedArray]",MCe="[object Uint16Array]",ICe="[object Uint32Array]",$r={};$r[CCe]=$r[PCe]=$r[ACe]=$r[TCe]=$r[OCe]=$r[RCe]=$r[$Ce]=$r[MCe]=$r[ICe]=!0;$r[hCe]=$r[pCe]=$r[ECe]=$r[mCe]=$r[NCe]=$r[gCe]=$r[yCe]=$r[vCe]=$r[xCe]=$r[bCe]=$r[wCe]=$r[_Ce]=$r[SCe]=$r[jCe]=$r[kCe]=!1;function LCe(e){return fCe(e)&&dCe(e.length)&&!!$r[uCe(e)]}var DCe=LCe;function FCe(e){return function(t){return e(t)}}var wK=FCe,Kb={exports:{}};Kb.exports;(function(e,t){var r=CH,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Kb,Kb.exports);var BCe=Kb.exports,UCe=DCe,zCe=wK,FL=BCe,BL=FL&&FL.isTypedArray,qCe=BL?zCe(BL):UCe,_K=qCe,WCe=K2e,VCe=fO,HCe=Qs,KCe=bK,GCe=hO,YCe=_K,JCe=Object.prototype,XCe=JCe.hasOwnProperty;function QCe(e,t){var r=HCe(e),n=!r&&VCe(e),s=!r&&!n&&KCe(e),a=!r&&!n&&!s&&YCe(e),i=r||n||s||a,l=i?WCe(e.length,String):[],c=l.length;for(var u in e)(t||XCe.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||GCe(u,c)))&&l.push(u);return l}var ZCe=QCe,ePe=Object.prototype;function tPe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ePe;return e===r}var rPe=tPe;function nPe(e,t){return function(r){return e(t(r))}}var SK=nPe,sPe=SK,aPe=sPe(Object.keys,Object),iPe=aPe,oPe=rPe,lPe=iPe,cPe=Object.prototype,uPe=cPe.hasOwnProperty;function dPe(e){if(!oPe(e))return lPe(e);var t=[];for(var r in Object(e))uPe.call(e,r)&&r!="constructor"&&t.push(r);return t}var fPe=dPe,hPe=YT,pPe=pO;function mPe(e){return e!=null&&pPe(e.length)&&!hPe(e)}var p_=mPe,gPe=ZCe,yPe=fPe,vPe=p_;function xPe(e){return vPe(e)?gPe(e):yPe(e)}var mO=xPe,bPe=M2e,wPe=V2e,_Pe=mO;function SPe(e){return bPe(e,_Pe,wPe)}var jPe=SPe,UL=jPe,kPe=1,EPe=Object.prototype,NPe=EPe.hasOwnProperty;function CPe(e,t,r,n,s,a){var i=r&kPe,l=UL(e),c=l.length,u=UL(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:NPe.call(t,h)))return!1}var g=a.get(e),v=a.get(t);if(g&&v)return g==t&&v==e;var p=!0;a.set(e,t),a.set(t,e);for(var y=i;++f<c;){h=l[f];var x=e[h],b=t[h];if(n)var w=i?n(b,x,h,t,e,a):n(x,b,h,e,t,a);if(!(w===void 0?x===b||s(x,b,r,n,a):w)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return a.delete(e),a.delete(t),p}var PPe=CPe,APe=fd,TPe=fo,OPe=APe(TPe,"DataView"),RPe=OPe,$Pe=fd,MPe=fo,IPe=$Pe(MPe,"Promise"),LPe=IPe,DPe=fd,FPe=fo,BPe=DPe(FPe,"Set"),jK=BPe,UPe=fd,zPe=fo,qPe=UPe(zPe,"WeakMap"),WPe=qPe,P2=RPe,A2=XT,T2=LPe,O2=jK,R2=WPe,kK=il,xp=AH,zL="[object Map]",VPe="[object Object]",qL="[object Promise]",WL="[object Set]",VL="[object WeakMap]",HL="[object DataView]",HPe=xp(P2),KPe=xp(A2),GPe=xp(T2),YPe=xp(O2),JPe=xp(R2),tu=kK;(P2&&tu(new P2(new ArrayBuffer(1)))!=HL||A2&&tu(new A2)!=zL||T2&&tu(T2.resolve())!=qL||O2&&tu(new O2)!=WL||R2&&tu(new R2)!=VL)&&(tu=function(e){var t=kK(e),r=t==VPe?e.constructor:void 0,n=r?xp(r):"";if(n)switch(n){case HPe:return HL;case KPe:return zL;case GPe:return qL;case YPe:return WL;case JPe:return VL}return t});var XPe=tu,zj=hK,QPe=yK,ZPe=A2e,eAe=PPe,KL=XPe,GL=Qs,YL=bK,tAe=_K,rAe=1,JL="[object Arguments]",XL="[object Array]",E0="[object Object]",nAe=Object.prototype,QL=nAe.hasOwnProperty;function sAe(e,t,r,n,s,a){var i=GL(e),l=GL(t),c=i?XL:KL(e),u=l?XL:KL(t);c=c==JL?E0:c,u=u==JL?E0:u;var d=c==E0,f=u==E0,h=c==u;if(h&&YL(e)){if(!YL(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new zj),i||tAe(e)?QPe(e,t,r,n,s,a):ZPe(e,t,c,r,n,s,a);if(!(r&rAe)){var g=d&&QL.call(e,"__wrapped__"),v=f&&QL.call(t,"__wrapped__");if(g||v){var p=g?e.value():e,y=v?t.value():t;return a||(a=new zj),s(p,y,r,n,a)}}return h?(a||(a=new zj),eAe(e,t,r,n,s,a)):!1}var aAe=sAe,iAe=aAe,ZL=ol;function EK(e,t,r,n,s){return e===t?!0:e==null||t==null||!ZL(e)&&!ZL(t)?e!==e&&t!==t:iAe(e,t,r,n,EK,s)}var gO=EK,oAe=hK,lAe=gO,cAe=1,uAe=2;function dAe(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new oAe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?lAe(d,u,cAe|uAe,n,f):h))return!1}}return!0}var fAe=dAe,hAe=$c;function pAe(e){return e===e&&!hAe(e)}var NK=pAe,mAe=NK,gAe=mO;function yAe(e){for(var t=gAe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,mAe(s)]}return t}var vAe=yAe;function xAe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var CK=xAe,bAe=fAe,wAe=vAe,_Ae=CK;function SAe(e){var t=wAe(e);return t.length==1&&t[0][2]?_Ae(t[0][0],t[0][1]):function(r){return r===e||bAe(r,e,t)}}var jAe=SAe;function kAe(e,t){return e!=null&&t in Object(e)}var EAe=kAe,NAe=MH,CAe=fO,PAe=Qs,AAe=hO,TAe=pO,OAe=Z1;function RAe(e,t,r){t=NAe(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=OAe(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&TAe(s)&&AAe(i,s)&&(PAe(e)||CAe(e)))}var $Ae=RAe,MAe=EAe,IAe=$Ae;function LAe(e,t){return e!=null&&IAe(e,t,MAe)}var DAe=LAe,FAe=gO,BAe=IH,UAe=DAe,zAe=GT,qAe=NK,WAe=CK,VAe=Z1,HAe=1,KAe=2;function GAe(e,t){return zAe(e)&&qAe(t)?WAe(VAe(e),t):function(r){var n=BAe(r,e);return n===void 0&&n===t?UAe(r,e):FAe(t,n,HAe|KAe)}}var YAe=GAe;function JAe(e){return e}var bp=JAe;function XAe(e){return function(t){return t==null?void 0:t[e]}}var QAe=XAe,ZAe=tO;function eTe(e){return function(t){return ZAe(t,e)}}var tTe=eTe,rTe=QAe,nTe=tTe,sTe=GT,aTe=Z1;function iTe(e){return sTe(e)?rTe(aTe(e)):nTe(e)}var oTe=iTe,lTe=jAe,cTe=YAe,uTe=bp,dTe=Qs,fTe=oTe;function hTe(e){return typeof e=="function"?e:e==null?uTe:typeof e=="object"?dTe(e)?cTe(e[0],e[1]):lTe(e):fTe(e)}var wp=hTe;function pTe(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var mTe=pTe;function gTe(e){return e!==e}var yTe=gTe;function vTe(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var xTe=vTe,bTe=mTe,wTe=yTe,_Te=xTe;function STe(e,t,r){return t===t?_Te(e,t,r):bTe(e,wTe,r)}var jTe=STe,kTe=jTe;function ETe(e,t){var r=e==null?0:e.length;return!!r&&kTe(e,t,0)>-1}var NTe=ETe;function CTe(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var PTe=CTe;function ATe(){}var TTe=ATe,qj=jK,OTe=TTe,RTe=dO,$Te=1/0,MTe=qj&&1/RTe(new qj([,-0]))[1]==$Te?function(e){return new qj(e)}:OTe,ITe=MTe,LTe=pK,DTe=NTe,FTe=PTe,BTe=gK,UTe=ITe,zTe=dO,qTe=200;function WTe(e,t,r){var n=-1,s=DTe,a=e.length,i=!0,l=[],c=l;if(r)i=!1,s=FTe;else if(a>=qTe){var u=t?null:UTe(e);if(u)return zTe(u);i=!1,s=BTe,c=new LTe}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var VTe=WTe,HTe=wp,KTe=VTe;function GTe(e,t){return e&&e.length?KTe(e,HTe(t)):[]}var YTe=GTe;const e5=jr(YTe);function PK(e,t,r){return t===!0?e5(e,r):Kt(t)?e5(e,t):e}function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}var JTe=["ref"];function t5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(r),!0).forEach(function(n){m_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TK(n.key),n)}}function QTe(e,t,r){return t&&r5(e.prototype,t),r&&r5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZTe(e,t,r){return t=Gb(t),eOe(e,AK()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function eOe(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tOe(e)}function tOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function rOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$2(e,t)}function $2(e,t){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$2(e,t)}function m_(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=nOe(e,"string");return ph(t)=="symbol"?t:t+""}function nOe(e,t){if(ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sOe(e,t){if(e==null)return{};var r=aOe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iOe(e){return e.value}function oOe(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=sOe(t,JTe);return R.createElement(uO,r)}var n5=1,Tf=function(e){function t(){var r;XTe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=ZTe(this,t,[].concat(s)),m_(r,"lastBoundingBox",{width:-1,height:-1}),r}return rOe(t,e),QTe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>n5||Math.abs(s.height-this.lastBoundingBox.height)>n5)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?go({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,i=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return go(go({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,i=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=go(go({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},oOe(a,go(go({},this.props),{},{payload:PK(d,u,iOe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=go(go({},this.defaultProps),n.props),i=a.layout;return i==="vertical"&&tt(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(m.PureComponent);m_(Tf,"displayName","Legend");m_(Tf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var s5=vv,lOe=fO,cOe=Qs,a5=s5?s5.isConcatSpreadable:void 0;function uOe(e){return cOe(e)||lOe(e)||!!(a5&&e&&e[a5])}var dOe=uOe,fOe=vK,hOe=dOe;function OK(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=hOe),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?OK(l,t-1,r,n,s):fOe(s,l):n||(s[s.length]=l)}return s}var RK=OK;function pOe(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var mOe=pOe,gOe=mOe,yOe=gOe(),vOe=yOe,xOe=vOe,bOe=mO;function wOe(e,t){return e&&xOe(e,t,bOe)}var $K=wOe,_Oe=p_;function SOe(e,t){return function(r,n){if(r==null)return r;if(!_Oe(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var jOe=SOe,kOe=$K,EOe=jOe,NOe=EOe(kOe),yO=NOe,COe=yO,POe=p_;function AOe(e,t){var r=-1,n=POe(e)?Array(e.length):[];return COe(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var MK=AOe;function TOe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var OOe=TOe,i5=fp;function ROe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=i5(e),i=t!==void 0,l=t===null,c=t===t,u=i5(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var $Oe=ROe,MOe=$Oe;function IOe(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=MOe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var LOe=IOe,Wj=eO,DOe=tO,FOe=wp,BOe=MK,UOe=OOe,zOe=wK,qOe=LOe,WOe=bp,VOe=Qs;function HOe(e,t,r){t.length?t=Wj(t,function(a){return VOe(a)?function(i){return DOe(i,a.length===1?a[0]:a)}:a}):t=[WOe];var n=-1;t=Wj(t,zOe(FOe));var s=BOe(e,function(a,i,l){var c=Wj(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return UOe(s,function(a,i){return qOe(a,i,r)})}var KOe=HOe;function GOe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var YOe=GOe,JOe=YOe,o5=Math.max;function XOe(e,t,r){return t=o5(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=o5(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),JOe(e,this,l)}}var QOe=XOe;function ZOe(e){return function(){return e}}var eRe=ZOe,tRe=fd,rRe=function(){try{var e=tRe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),IK=rRe,nRe=eRe,l5=IK,sRe=bp,aRe=l5?function(e,t){return l5(e,"toString",{configurable:!0,enumerable:!1,value:nRe(t),writable:!0})}:sRe,iRe=aRe,oRe=800,lRe=16,cRe=Date.now;function uRe(e){var t=0,r=0;return function(){var n=cRe(),s=lRe-(n-r);if(r=n,s>0){if(++t>=oRe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dRe=uRe,fRe=iRe,hRe=dRe,pRe=hRe(fRe),mRe=pRe,gRe=bp,yRe=QOe,vRe=mRe;function xRe(e,t){return vRe(yRe(e,t,gRe),e+"")}var bRe=xRe,wRe=JT,_Re=p_,SRe=hO,jRe=$c;function kRe(e,t,r){if(!jRe(r))return!1;var n=typeof t;return(n=="number"?_Re(r)&&SRe(t,r.length):n=="string"&&t in r)?wRe(r[t],e):!1}var g_=kRe,ERe=RK,NRe=KOe,CRe=bRe,c5=g_,PRe=CRe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&c5(e,t[0],t[1])?t=[]:r>2&&c5(t[0],t[1],t[2])&&(t=[t[0]]),NRe(e,ERe(t,1),[])}),ARe=PRe;const vO=jr(ARe);function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M2.apply(this,arguments)}function TRe(e,t){return MRe(e)||$Re(e,t)||RRe(e,t)||ORe()}function ORe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(e,t){if(e){if(typeof e=="string")return u5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u5(e,t)}}function u5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function MRe(e){if(Array.isArray(e))return e}function d5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(r),!0).forEach(function(n){IRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IRe(e,t,r){return t=LRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LRe(e){var t=DRe(e,"string");return Xg(t)=="symbol"?t:t+""}function DRe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FRe(e){return Array.isArray(e)&&Tn(e[0])&&Tn(e[1])?e.join(" ~ "):e}var BRe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,p=t.label,y=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var O={padding:0,margin:0},F=(h?vO(d,h):d).map(function(M,q){if(M.type==="none")return null;var B=Vj({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),I=M.formatter||f||FRe,A=M.value,z=M.name,re=A,V=z;if(I&&re!=null&&V!=null){var te=I(A,z,M,q,d);if(Array.isArray(te)){var X=TRe(te,2);re=X[0],V=X[1]}else re=te}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:B},Tn(V)?R.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Tn(V)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},re),R.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:O},F)}return null},_=Vj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Vj({margin:0},u),E=!Jt(p),k=E?p:"",j=er("recharts-default-tooltip",g),N=er("recharts-tooltip-label",v);E&&y&&d!==void 0&&d!==null&&(k=y(p,d));var C=b?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",M2({className:j,style:_},C),R.createElement("p",{className:N,style:S},R.isValidElement(k)?k:"".concat(k)),w())};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function N0(e,t,r){return t=URe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function URe(e){var t=zRe(e,"string");return Qg(t)=="symbol"?t:t+""}function zRe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tm="recharts-tooltip-wrapper",qRe={visibility:"hidden"};function WRe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return er(tm,N0(N0(N0(N0({},"".concat(tm,"-right"),tt(r)&&t&&tt(t.x)&&r>=t.x),"".concat(tm,"-left"),tt(r)&&t&&tt(t.x)&&r<t.x),"".concat(tm,"-bottom"),tt(n)&&t&&tt(t.y)&&n>=t.y),"".concat(tm,"-top"),tt(n)&&t&&tt(t.y)&&n<t.y))}function f5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&tt(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return i[n]?d:f;if(i[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,p=c[n]+u;return v>p?Math.max(d,c[n]):Math.max(f,c[n])}function VRe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function HRe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=f5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=f5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=VRe({translateX:d,translateY:f,useTranslate3d:l})):u=qRe,{cssProperties:u,cssClasses:WRe({translateX:d,translateY:f,coordinate:r})}}function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function p5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){L2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DK(n.key),n)}}function YRe(e,t,r){return t&&GRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JRe(e,t,r){return t=Yb(t),XRe(e,LK()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function XRe(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QRe(e)}function QRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LK=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function ZRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I2(e,t)}function I2(e,t){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I2(e,t)}function L2(e,t,r){return t=DK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=e$e(e,"string");return mh(t)=="symbol"?t:t+""}function e$e(e,t){if(mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m5=1,t$e=function(e){function t(){var r;KRe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=JRe(this,t,[].concat(s)),L2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L2(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return ZRe(t,e),YRe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>m5||Math.abs(n.height-this.state.lastBoundingBox.height)>m5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,g=s.offset,v=s.position,p=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,b=s.wrapperStyle,w=HRe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),_=w.cssClasses,S=w.cssProperties,E=p5(p5({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return R.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(j){n.wrapperNode=j}},u)}}])}(m.PureComponent),r$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fo={isSsr:r$e(),get:function(t){return Fo[t]},set:function(t,r){if(typeof t=="string")Fo[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){Fo[s]=t[s]})}}};function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){xO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BK(n.key),n)}}function a$e(e,t,r){return t&&s$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i$e(e,t,r){return t=Jb(t),o$e(e,FK()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function o$e(e,t){if(t&&(gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l$e(e)}function l$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function c$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D2(e,t)}function D2(e,t){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D2(e,t)}function xO(e,t,r){return t=BK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=u$e(e,"string");return gh(t)=="symbol"?t:t+""}function u$e(e,t){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d$e(e){return e.dataKey}function f$e(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(BRe,t)}var Na=function(e){function t(){return n$e(this,t),i$e(this,t,arguments)}return c$e(t,e),a$e(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,g=s.offset,v=s.payload,p=s.payloadUniqBy,y=s.position,x=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,S=v??[];f&&S.length&&(S=PK(v.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),p,d$e));var E=S.length>0;return R.createElement(t$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:g,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:_},f$e(u,y5(y5({},this.props),{},{payload:S})))}}])}(m.PureComponent);xO(Na,"displayName","Tooltip");xO(Na,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var h$e=fo,p$e=function(){return h$e.Date.now()},m$e=p$e,g$e=/\s/;function y$e(e){for(var t=e.length;t--&&g$e.test(e.charAt(t)););return t}var v$e=y$e,x$e=v$e,b$e=/^\s+/;function w$e(e){return e&&e.slice(0,x$e(e)+1).replace(b$e,"")}var _$e=w$e,S$e=_$e,v5=$c,j$e=fp,x5=NaN,k$e=/^[-+]0x[0-9a-f]+$/i,E$e=/^0b[01]+$/i,N$e=/^0o[0-7]+$/i,C$e=parseInt;function P$e(e){if(typeof e=="number")return e;if(j$e(e))return x5;if(v5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=v5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=S$e(e);var r=E$e.test(e);return r||N$e.test(e)?C$e(e.slice(2),r?2:8):k$e.test(e)?x5:+e}var UK=P$e,A$e=$c,Hj=m$e,b5=UK,T$e="Expected a function",O$e=Math.max,R$e=Math.min;function $$e(e,t,r){var n,s,a,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(T$e);t=b5(t)||0,A$e(r)&&(d=!!r.leading,f="maxWait"in r,a=f?O$e(b5(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function g(E){var k=n,j=s;return n=s=void 0,u=E,i=e.apply(j,k),i}function v(E){return u=E,l=setTimeout(x,t),d?g(E):i}function p(E){var k=E-c,j=E-u,N=t-k;return f?R$e(N,a-j):N}function y(E){var k=E-c,j=E-u;return c===void 0||k>=t||k<0||f&&j>=a}function x(){var E=Hj();if(y(E))return b(E);l=setTimeout(x,p(E))}function b(E){return l=void 0,h&&n?g(E):(n=s=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?i:b(Hj())}function S(){var E=Hj(),k=y(E);if(n=arguments,s=this,c=E,k){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(x,t),g(c)}return l===void 0&&(l=setTimeout(x,t)),i}return S.cancel=w,S.flush=_,S}var M$e=$$e,I$e=M$e,L$e=$c,D$e="Expected a function";function F$e(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(D$e);return L$e(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),I$e(e,t,{leading:n,maxWait:t,trailing:s})}var B$e=F$e;const zK=jr(B$e);function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function w5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(r),!0).forEach(function(n){U$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U$e(e,t,r){return t=z$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z$e(e){var t=q$e(e,"string");return Zg(t)=="symbol"?t:t+""}function q$e(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W$e(e,t){return G$e(e)||K$e(e,t)||H$e(e,t)||V$e()}function V$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$e(e,t){if(e){if(typeof e=="string")return _5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _5(e,t)}}function _5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function G$e(e){if(Array.isArray(e))return e}var bO=m.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,i=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,g=e.children,v=e.debounce,p=v===void 0?0:v,y=e.id,x=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,S=m.useRef(null),E=m.useRef();E.current=b,m.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=m.useState({containerWidth:s.width,containerHeight:s.height}),j=W$e(k,2),N=j[0],C=j[1],P=m.useCallback(function(F,M){C(function(q){var B=Math.round(F),I=Math.round(M);return q.containerWidth===B&&q.containerHeight===I?q:{containerWidth:B,containerHeight:I}})},[]);m.useEffect(function(){var F=function(z){var re,V=z[0].contentRect,te=V.width,X=V.height;P(te,X),(re=E.current)===null||re===void 0||re.call(E,te,X)};p>0&&(F=zK(F,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(F),q=S.current.getBoundingClientRect(),B=q.width,I=q.height;return P(B,I),M.observe(S.current),function(){M.disconnect()}},[P,p]);var O=m.useMemo(function(){var F=N.containerWidth,M=N.containerHeight;if(F<0||M<0)return null;Mu(hu(i)||hu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Mu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=hu(i)?F:i,B=hu(c)?M:c;r&&r>0&&(q?B=q/r:B&&(q=B*r),h&&B>h&&(B=h)),Mu(q>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,B,i,c,d,f,r);var I=!Array.isArray(g)&&Do(g.type).endsWith("Chart");return R.Children.map(g,function(A){return FH.isElement(A)?m.cloneElement(A,C0({width:q,height:B},I?{style:C0({height:"100%",width:"100%",maxHeight:B,maxWidth:q},A.props.style)}:{})):A})},[r,g,c,h,f,d,N,i]);return R.createElement("div",{id:y?"".concat(y):void 0,className:er("recharts-responsive-container",x),style:C0(C0({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),y_=function(t){return null};y_.displayName="Cell";function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function F2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){Y$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y$e(e,t,r){return t=J$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J$e(e){var t=X$e(e,"string");return ey(t)=="symbol"?t:t+""}function X$e(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td={widthCache:{},cacheCount:0},Q$e=2e3,Z$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},j5="recharts_measurement_span";function eMe(e){var t=F2({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var tg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fo.isSsr)return{width:0,height:0};var n=eMe(r),s=JSON.stringify({text:t,copyStyle:n});if(Td.widthCache[s])return Td.widthCache[s];try{var a=document.getElementById(j5);a||(a=document.createElement("span"),a.setAttribute("id",j5),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=F2(F2({},Z$e),n);Object.assign(a.style,i),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Td.widthCache[s]=c,++Td.cacheCount>Q$e&&(Td.cacheCount=0,Td.widthCache={}),c}catch{return{width:0,height:0}}},tMe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function Xb(e,t){return aMe(e)||sMe(e,t)||nMe(e,t)||rMe()}function rMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nMe(e,t){if(e){if(typeof e=="string")return k5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k5(e,t)}}function k5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function aMe(e){if(Array.isArray(e))return e}function iMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lMe(n.key),n)}}function oMe(e,t,r){return t&&E5(e.prototype,t),r&&E5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lMe(e){var t=cMe(e,"string");return ty(t)=="symbol"?t:t+""}function cMe(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var N5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fMe=Object.keys(qK),df="NaN";function hMe(e,t){return e*qK[t]}var P0=function(){function e(t,r){iMe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!uMe.test(r)&&(this.num=NaN,this.unit=""),fMe.includes(r)&&(this.num=hMe(t,r),this.unit="px")}return oMe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=dMe.exec(r))!==null&&n!==void 0?n:[],a=Xb(s,3),i=a[1],l=a[2];return new e(parseFloat(i),l??"")}}])}();function WK(e){if(e.includes(df))return df;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=N5.exec(t))!==null&&r!==void 0?r:[],s=Xb(n,4),a=s[1],i=s[2],l=s[3],c=P0.parse(a??""),u=P0.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return df;t=t.replace(N5,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=C5.exec(t))!==null&&f!==void 0?f:[],g=Xb(h,4),v=g[1],p=g[2],y=g[3],x=P0.parse(v??""),b=P0.parse(y??""),w=p==="+"?x.add(b):x.subtract(b);if(w.isNaN())return df;t=t.replace(C5,w.toString())}return t}var P5=/\(([^()]*)\)/;function pMe(e){for(var t=e;t.includes("(");){var r=P5.exec(t),n=Xb(r,2),s=n[1];t=t.replace(P5,WK(s))}return t}function mMe(e){var t=e.replace(/\s+/g,"");return t=pMe(t),t=WK(t),t}function gMe(e){try{return mMe(e)}catch{return df}}function Kj(e){var t=gMe(e.slice(5,-1));return t===df?"":t}var yMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vMe=["dx","dy","angle","className","breakAll"];function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B2.apply(this,arguments)}function A5(e,t){if(e==null)return{};var r=xMe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T5(e,t){return SMe(e)||_Me(e,t)||wMe(e,t)||bMe()}function bMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wMe(e,t){if(e){if(typeof e=="string")return O5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O5(e,t)}}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Me(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function SMe(e){if(Array.isArray(e))return e}var VK=/[ \f\n\r\t\v\u2028\u2029]+/,HK=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];Jt(r)||(n?a=r.toString().split(""):a=r.toString().split(VK));var i=a.map(function(c){return{word:c,width:tg(c,s).width}}),l=n?0:tg("",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},jMe=function(t,r,n,s,a){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=tt(i),f=l,h=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(B,I){var A=I.word,z=I.width,re=B[B.length-1];if(re&&(s==null||a||re.width+z+n<Number(s)))re.words.push(A),re.width+=z+n;else{var V={words:[A],width:z};B.push(V)}return B},[])},g=h(r),v=function(q){return q.reduce(function(B,I){return B.width>I.width?B:I})};if(!d)return g;for(var p="",y=function(q){var B=f.slice(0,q),I=HK({breakAll:u,style:c,children:B+p}).wordsWithComputedWidth,A=h(I),z=A.length>i||v(A).width>Number(s);return[z,A]},x=0,b=f.length-1,w=0,_;x<=b&&w<=f.length-1;){var S=Math.floor((x+b)/2),E=S-1,k=y(E),j=T5(k,2),N=j[0],C=j[1],P=y(S),O=T5(P,1),F=O[0];if(!N&&!F&&(x=S+1),N&&F&&(b=S-1),!N&&F){_=C;break}w++}return _||g},R5=function(t){var r=Jt(t)?[]:t.toString().split(VK);return[{words:r}]},kMe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!Fo.isSsr){var c,u,d=HK({breakAll:i,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return R5(s);return jMe({breakAll:i,children:s,maxLines:l,style:a},c,u,r,n)}return R5(s)},$5="#808080",Qb=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,g=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,y=t.fill,x=y===void 0?$5:y,b=A5(t,yMe),w=m.useMemo(function(){return kMe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,S=b.dy,E=b.angle,k=b.className,j=b.breakAll,N=A5(b,vMe);if(!Tn(n)||!Tn(a))return null;var C=n+(tt(_)?_:0),P=a+(tt(S)?S:0),O;switch(p){case"start":O=Kj("calc(".concat(u,")"));break;case"middle":O=Kj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Kj("calc(".concat(w.length-1," * -").concat(l,")"));break}var F=[];if(f){var M=w[0].width,q=b.width;F.push("scale(".concat((tt(q)?q/M:1)/M,")"))}return E&&F.push("rotate(".concat(E,", ").concat(C,", ").concat(P,")")),F.length&&(N.transform=F.join(" ")),R.createElement("text",B2({},Gt(N,!0),{x:C,y:P,className:er("recharts-text",k),textAnchor:g,fill:x.includes("url")?$5:x}),w.map(function(B,I){var A=B.words.join(j?"":" ");return R.createElement("tspan",{x:C,dy:I===0?O:l,key:"".concat(A,"-").concat(I)},A)}))};function yc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EMe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wO(e){let t,r,n;e.length!==2?(t=yc,r=(l,c)=>yc(e(l),c),n=(l,c)=>e(l)-c):(t=e===yc||e===EMe?e:NMe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:i,right:a}}function NMe(){return 0}function KK(e){return e===null?NaN:+e}function*CMe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PMe=wO(yc),wv=PMe.right;wO(KK).center;class M5 extends Map{constructor(t,r=OMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(I5(this,t))}has(t){return super.has(I5(this,t))}set(t,r){return super.set(AMe(this,t),r)}delete(t){return super.delete(TMe(this,t))}}function I5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function AMe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function TMe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function OMe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RMe(e=yc){if(e===yc)return GK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function GK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $Me=Math.sqrt(50),MMe=Math.sqrt(10),IMe=Math.sqrt(2);function Zb(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),i=a>=$Me?10:a>=MMe?5:a>=IMe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Zb(e,t,r*2):[l,c,u]}function U2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,i]=n?Zb(t,e,r):Zb(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(a-u)/-i;else for(let u=0;u<l;++u)c[u]=(a-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(s+u)/-i;else for(let u=0;u<l;++u)c[u]=(s+u)*i;return c}function z2(e,t,r){return t=+t,e=+e,r=+r,Zb(e,t,r)[2]}function q2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?z2(t,e,r):z2(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function L5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function D5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YK(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?GK:RMe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));YK(e,t,g,v,s)}const a=e[t];let i=r,l=n;for(rm(e,r,t),s(e[n],a)>0&&rm(e,r,n);i<l;){for(rm(e,i,l),++i,--l;s(e[i],a)<0;)++i;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?rm(e,r,l):(++l,rm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function rm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function LMe(e,t,r){if(e=Float64Array.from(CMe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return D5(e);if(t>=1)return L5(e);var n,s=(n-1)*t,a=Math.floor(s),i=L5(YK(e,a).subarray(0,a+1)),l=D5(e.subarray(a+1));return i+(l-i)*(s-a)}}function DMe(e,t,r=KK){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),i=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return i+(l-i)*(s-a)}}function FMe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function Ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ll(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W2=Symbol("implicit");function _O(){var e=new M5,t=[],r=[],n=W2;function s(a){let i=e.get(a);if(i===void 0){if(n!==W2)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new M5;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return _O(t,r).unknown(n)},Ya.apply(s,arguments),s}function ry(){var e=_O().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,g=s<n,v=g?s:n,p=g?n:s;a=(p-v)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),v+=(p-v-a*(h-c))*d,i=a*(1-c),l&&(v=Math.round(v),i=Math.round(i));var y=FMe(h).map(function(x){return v+a*x});return r(g?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ry(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ya.apply(f(),arguments)}function JK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JK(t())},e}function rg(){return JK(ry.apply(null,arguments).paddingInner(1))}function SO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _v(){}var ny=.7,ew=1/ny,Of="\\s*([+-]?\\d+)\\s*",sy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BMe=/^#([0-9a-f]{3,8})$/,UMe=new RegExp(`^rgb\\(${Of},${Of},${Of}\\)$`),zMe=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),qMe=new RegExp(`^rgba\\(${Of},${Of},${Of},${sy}\\)$`),WMe=new RegExp(`^rgba\\(${to},${to},${to},${sy}\\)$`),VMe=new RegExp(`^hsl\\(${sy},${to},${to}\\)$`),HMe=new RegExp(`^hsla\\(${sy},${to},${to},${sy}\\)$`),F5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SO(_v,ay,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:B5,formatHex:B5,formatHex8:KMe,formatHsl:GMe,formatRgb:U5,toString:U5});function B5(){return this.rgb().formatHex()}function KMe(){return this.rgb().formatHex8()}function GMe(){return QK(this).formatHsl()}function U5(){return this.rgb().formatRgb()}function ay(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=BMe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?z5(t):r===3?new qs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?A0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?A0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UMe.exec(e))?new qs(t[1],t[2],t[3],1):(t=zMe.exec(e))?new qs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qMe.exec(e))?A0(t[1],t[2],t[3],t[4]):(t=WMe.exec(e))?A0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VMe.exec(e))?V5(t[1],t[2]/100,t[3]/100,1):(t=HMe.exec(e))?V5(t[1],t[2]/100,t[3]/100,t[4]):F5.hasOwnProperty(e)?z5(F5[e]):e==="transparent"?new qs(NaN,NaN,NaN,0):null}function z5(e){return new qs(e>>16&255,e>>8&255,e&255,1)}function A0(e,t,r,n){return n<=0&&(e=t=r=NaN),new qs(e,t,r,n)}function YMe(e){return e instanceof _v||(e=ay(e)),e?(e=e.rgb(),new qs(e.r,e.g,e.b,e.opacity)):new qs}function V2(e,t,r,n){return arguments.length===1?YMe(e):new qs(e,t,r,n??1)}function qs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}SO(qs,V2,XK(_v,{brighter(e){return e=e==null?ew:Math.pow(ew,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ny:Math.pow(ny,e),new qs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qs(Iu(this.r),Iu(this.g),Iu(this.b),tw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:q5,formatHex:q5,formatHex8:JMe,formatRgb:W5,toString:W5}));function q5(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}`}function JMe(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}${pu((isNaN(this.opacity)?1:this.opacity)*255)}`}function W5(){const e=tw(this.opacity);return`${e===1?"rgb(":"rgba("}${Iu(this.r)}, ${Iu(this.g)}, ${Iu(this.b)}${e===1?")":`, ${e})`}`}function tw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Iu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pu(e){return e=Iu(e),(e<16?"0":"")+e.toString(16)}function V5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new di(e,t,r,n)}function QK(e){if(e instanceof di)return new di(e.h,e.s,e.l,e.opacity);if(e instanceof _v||(e=ay(e)),!e)return new di;if(e instanceof di)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,l=a-s,c=(a+s)/2;return l?(t===a?i=(r-n)/l+(r<n)*6:r===a?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?a+s:2-a-s,i*=60):l=c>0&&c<1?0:i,new di(i,l,c,e.opacity)}function XMe(e,t,r,n){return arguments.length===1?QK(e):new di(e,t,r,n??1)}function di(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}SO(di,XMe,XK(_v,{brighter(e){return e=e==null?ew:Math.pow(ew,e),new di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ny:Math.pow(ny,e),new di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new qs(Gj(e>=240?e-240:e+120,s,n),Gj(e,s,n),Gj(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new di(H5(this.h),T0(this.s),T0(this.l),tw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tw(this.opacity);return`${e===1?"hsl(":"hsla("}${H5(this.h)}, ${T0(this.s)*100}%, ${T0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function H5(e){return e=(e||0)%360,e<0?e+360:e}function T0(e){return Math.max(0,Math.min(1,e||0))}function Gj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jO=e=>()=>e;function QMe(e,t){return function(r){return e+r*t}}function ZMe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function e4e(e){return(e=+e)==1?ZK:function(t,r){return r-t?ZMe(t,r,e):jO(isNaN(t)?r:t)}}function ZK(e,t){var r=t-e;return r?QMe(e,r):jO(isNaN(e)?t:e)}const K5=function e(t){var r=e4e(t);function n(s,a){var i=r((s=V2(s)).r,(a=V2(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=ZK(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function t4e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function r4e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function n4e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)s[i]=_p(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(l){for(i=0;i<n;++i)a[i]=s[i](l);return a}}function s4e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function rw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function a4e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=_p(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var H2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yj=new RegExp(H2.source,"g");function i4e(e){return function(){return e}}function o4e(e){return function(t){return e(t)+""}}function l4e(e,t){var r=H2.lastIndex=Yj.lastIndex=0,n,s,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=H2.exec(e))&&(s=Yj.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[i]?l[i]+=a:l[++i]=a),(n=n[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:rw(n,s)})),r=Yj.lastIndex;return r<t.length&&(a=t.slice(r),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?o4e(c[0].x):i4e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function _p(e,t){var r=typeof t,n;return t==null||r==="boolean"?jO(t):(r==="number"?rw:r==="string"?(n=ay(t))?(t=n,K5):l4e:t instanceof ay?K5:t instanceof Date?s4e:r4e(t)?t4e:Array.isArray(t)?n4e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?a4e:rw)(e,t)}function kO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function c4e(e,t){t===void 0&&(t=e,e=_p);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[l](i-l)}}function u4e(e){return function(){return e}}function nw(e){return+e}var G5=[0,1];function ks(e){return e}function K2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:u4e(isNaN(t)?NaN:.5)}function d4e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function f4e(e,t,r){var n=e[0],s=e[1],a=t[0],i=t[1];return s<n?(n=K2(s,n),a=r(i,a)):(n=K2(n,s),a=r(a,i)),function(l){return a(n(l))}}function h4e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=K2(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(l){var c=wv(e,l,1,n)-1;return a[c](s[c](l))}}function Sv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function v_(){var e=G5,t=G5,r=_p,n,s,a,i=ks,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==ks&&(i=d4e(e[0],e[h-1])),l=h>2?h4e:f4e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(s((u||(u=l(t,e.map(n),rw)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,nw),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=kO,d()},f.clamp=function(h){return arguments.length?(i=h?!0:ks,d()):i!==ks},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,g){return n=h,s=g,d()}}function EO(){return v_()(ks,ks)}function p4e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yh(e){return e=sw(Math.abs(e)),e?e[1]:NaN}function m4e(e,t){return function(r,n){for(var s=r.length,a=[],i=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function g4e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var y4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iy(e){if(!(t=y4e.exec(e)))throw new Error("invalid format: "+e);var t;return new NO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}iy.prototype=NO.prototype;function NO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}NO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v4e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var eG;function x4e(e,t){var r=sw(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(eG=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+sw(e,Math.max(0,t+a-1))[0]}function Y5(e,t){var r=sw(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const J5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:p4e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Y5(e*100,t),r:Y5,s:x4e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function X5(e){return e}var Q5=Array.prototype.map,Z5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function b4e(e){var t=e.grouping===void 0||e.thousands===void 0?X5:m4e(Q5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?X5:g4e(Q5.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=iy(f);var h=f.fill,g=f.align,v=f.sign,p=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):J5[S]||(w===void 0&&(w=12),_=!0,S="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=p==="$"?n:/[%p]/.test(S)?i:"",j=J5[S],N=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(P){var O=E,F=k,M,q,B;if(S==="c")F=j(P)+F,P="";else{P=+P;var I=P<0||1/P<0;if(P=isNaN(P)?c:j(Math.abs(P),w),_&&(P=v4e(P)),I&&+P==0&&v!=="+"&&(I=!1),O=(I?v==="("?v:l:v==="-"||v==="("?"":v)+O,F=(S==="s"?Z5[8+eG/3]:"")+F+(I&&v==="("?")":""),N){for(M=-1,q=P.length;++M<q;)if(B=P.charCodeAt(M),48>B||B>57){F=(B===46?s+P.slice(M+1):P.slice(M))+F,P=P.slice(0,M);break}}}b&&!y&&(P=t(P,1/0));var A=O.length+P.length+F.length,z=A<x?new Array(x-A+1).join(h):"";switch(b&&y&&(P=t(z+P,z.length?x-F.length:1/0),z=""),g){case"<":P=O+P+F+z;break;case"=":P=O+z+P+F;break;case"^":P=z.slice(0,A=z.length>>1)+O+P+F+z.slice(A);break;default:P=z+O+P+F;break}return a(P)}return C.toString=function(){return f+""},C}function d(f,h){var g=u((f=iy(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(yh(h)/3)))*3,p=Math.pow(10,-v),y=Z5[8+v/3];return function(x){return g(p*x)+y}}return{format:u,formatPrefix:d}}var O0,CO,tG;w4e({thousands:",",grouping:[3],currency:["$",""]});function w4e(e){return O0=b4e(e),CO=O0.format,tG=O0.formatPrefix,O0}function _4e(e){return Math.max(0,-yh(Math.abs(e)))}function S4e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yh(t)/3)))*3-yh(Math.abs(e)))}function j4e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yh(t)-yh(e))+1}function rG(e,t,r,n){var s=q2(e,t,r),a;switch(n=iy(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=S4e(s,i))&&(n.precision=a),tG(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=j4e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=_4e(s))&&(n.precision=a-(n.type==="%")*2);break}}return CO(n)}function Mc(e){var t=e.domain;return e.ticks=function(r){var n=t();return U2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return rG(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,i=n[s],l=n[a],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=z2(i,l,r),u===c)return n[s]=i,n[a]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function aw(){var e=EO();return e.copy=function(){return Sv(e,aw())},Ya.apply(e,arguments),Mc(e)}function nG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,nw),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nG(e).unknown(t)},e=arguments.length?Array.from(e,nw):[0,1],Mc(r)}function sG(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],i;return a<s&&(i=r,r=n,n=i,i=s,s=a,a=i),e[r]=t.floor(s),e[n]=t.ceil(a),e}function eD(e){return Math.log(e)}function tD(e){return Math.exp(e)}function k4e(e){return-Math.log(-e)}function E4e(e){return-Math.exp(-e)}function N4e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function C4e(e){return e===10?N4e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function P4e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rD(e){return(t,r)=>-e(-t,r)}function PO(e){const t=e(eD,tD),r=t.domain;let n=10,s,a;function i(){return s=P4e(n),a=C4e(n),r()[0]<0?(s=rD(s),a=rD(a),e(k4e,E4e)):e(eD,tD),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),g=s(d),v,p;const y=l==null?10:+l;let x=[];if(!(n%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<n;++v)if(p=h<0?v/a(-h):v*a(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=g;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/a(-h):v*a(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<y&&(x=U2(u,d,y))}else x=U2(h,g,Math.min(g-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=iy(c)).precision==null&&(c.trim=!0),c=CO(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(sG(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function aG(){const e=PO(v_()).domain([1,10]);return e.copy=()=>Sv(e,aG()).base(e.base()),Ya.apply(e,arguments),e}function nD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AO(e){var t=1,r=e(nD(t),sD(t));return r.constant=function(n){return arguments.length?e(nD(t=+n),sD(t)):t},Mc(r)}function iG(){var e=AO(v_());return e.copy=function(){return Sv(e,iG()).constant(e.constant())},Ya.apply(e,arguments)}function aD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function A4e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function T4e(e){return e<0?-e*e:e*e}function TO(e){var t=e(ks,ks),r=1;function n(){return r===1?e(ks,ks):r===.5?e(A4e,T4e):e(aD(r),aD(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Mc(t)}function OO(){var e=TO(v_());return e.copy=function(){return Sv(e,OO()).exponent(e.exponent())},Ya.apply(e,arguments),e}function O4e(){return OO.apply(null,arguments).exponent(.5)}function iD(e){return Math.sign(e)*e*e}function R4e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oG(){var e=EO(),t=[0,1],r=!1,n;function s(a){var i=R4e(e(a));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(a){return e.invert(iD(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,nw)).map(iD)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return oG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ya.apply(s,arguments),Mc(s)}function lG(){var e=[],t=[],r=[],n;function s(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=DMe(e,i/l);return a}function a(i){return i==null||isNaN(i=+i)?n:t[wv(r,i)]}return a.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(yc),s()},a.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return lG().domain(e).range(t).unknown(n)},Ya.apply(a,arguments)}function cG(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function i(c){return c!=null&&c<=c?s[wv(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return cG().domain([e,t]).range(s).unknown(a)},Ya.apply(Mc(i),arguments)}function uG(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[wv(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return uG().domain(e).range(t).unknown(r)},Ya.apply(s,arguments)}const Jj=new Date,Xj=new Date;function On(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const i=s(a),l=s.ceil(a);return a-i<l-a?i:l},s.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),s.range=(a,i,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<i);return c},s.filter=a=>On(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!a(i););else for(;--l>=0;)for(;t(i,1),!a(i););}),r&&(s.count=(a,i)=>(Jj.setTime(+a),Xj.setTime(+i),e(Jj),e(Xj),Math.floor(r(Jj,Xj))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?i=>n(i)%a===0:i=>s.count(0,i)%a===0):s)),s}const iw=On(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?On(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):iw);iw.range;const Oo=1e3,$a=Oo*60,Ro=$a*60,Zo=Ro*24,RO=Zo*7,oD=Zo*30,Qj=Zo*365,mu=On(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oo)},(e,t)=>(t-e)/Oo,e=>e.getUTCSeconds());mu.range;const $O=On(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oo)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getMinutes());$O.range;const MO=On(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCMinutes());MO.range;const IO=On(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oo-e.getMinutes()*$a)},(e,t)=>{e.setTime(+e+t*Ro)},(e,t)=>(t-e)/Ro,e=>e.getHours());IO.range;const LO=On(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ro)},(e,t)=>(t-e)/Ro,e=>e.getUTCHours());LO.range;const jv=On(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$a)/Zo,e=>e.getDate()-1);jv.range;const x_=On(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zo,e=>e.getUTCDate()-1);x_.range;const dG=On(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zo,e=>Math.floor(e/Zo));dG.range;function hd(e){return On(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$a)/RO)}const b_=hd(0),ow=hd(1),$4e=hd(2),M4e=hd(3),vh=hd(4),I4e=hd(5),L4e=hd(6);b_.range;ow.range;$4e.range;M4e.range;vh.range;I4e.range;L4e.range;function pd(e){return On(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/RO)}const w_=pd(0),lw=pd(1),D4e=pd(2),F4e=pd(3),xh=pd(4),B4e=pd(5),U4e=pd(6);w_.range;lw.range;D4e.range;F4e.range;xh.range;B4e.range;U4e.range;const DO=On(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());DO.range;const FO=On(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FO.range;const el=On(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());el.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:On(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});el.range;const tl=On(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:On(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});tl.range;function fG(e,t,r,n,s,a){const i=[[mu,1,Oo],[mu,5,5*Oo],[mu,15,15*Oo],[mu,30,30*Oo],[a,1,$a],[a,5,5*$a],[a,15,15*$a],[a,30,30*$a],[s,1,Ro],[s,3,3*Ro],[s,6,6*Ro],[s,12,12*Ro],[n,1,Zo],[n,2,2*Zo],[r,1,RO],[t,1,oD],[t,3,3*oD],[e,1,Qj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),v=g?g.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,g=wO(([,,y])=>y).right(i,h);if(g===i.length)return e.every(q2(u/Qj,d/Qj,f));if(g===0)return iw.every(Math.max(q2(u,d,f),1));const[v,p]=i[h/i[g-1][2]<i[g][2]/h?g-1:g];return v.every(p)}return[l,c]}const[z4e,q4e]=fG(tl,FO,w_,dG,LO,MO),[W4e,V4e]=fG(el,DO,b_,jv,IO,$O);function Zj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ek(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function H4e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=sm(s),d=am(s),f=sm(a),h=am(a),g=sm(i),v=am(i),p=sm(l),y=am(l),x=sm(c),b=am(c),w={a:I,A,b:z,B:re,c:null,d:hD,e:hD,f:mIe,g:kIe,G:NIe,H:fIe,I:hIe,j:pIe,L:hG,m:gIe,M:yIe,p:V,q:te,Q:gD,s:yD,S:vIe,u:xIe,U:bIe,V:wIe,w:_Ie,W:SIe,x:null,X:null,y:jIe,Y:EIe,Z:CIe,"%":mD},_={a:X,A:ye,b:oe,B:me,c:null,d:pD,e:pD,f:OIe,g:zIe,G:WIe,H:PIe,I:AIe,j:TIe,L:mG,m:RIe,M:$Ie,p:D,q:$,Q:gD,s:yD,S:MIe,u:IIe,U:LIe,V:DIe,w:FIe,W:BIe,x:null,X:null,y:UIe,Y:qIe,Z:VIe,"%":mD},S={a:C,A:P,b:O,B:F,c:M,d:dD,e:dD,f:lIe,g:uD,G:cD,H:fD,I:fD,j:sIe,L:oIe,m:nIe,M:aIe,p:N,q:rIe,Q:uIe,s:dIe,S:iIe,u:X4e,U:Q4e,V:Z4e,w:J4e,W:eIe,x:q,X:B,y:uD,Y:cD,Z:tIe,"%":cIe};w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(H,G){return function(le){var J=[],Z=-1,K=0,de=H.length,ae,xe,ke;for(le instanceof Date||(le=new Date(+le));++Z<de;)H.charCodeAt(Z)===37&&(J.push(H.slice(K,Z)),(xe=lD[ae=H.charAt(++Z)])!=null?ae=H.charAt(++Z):xe=ae==="e"?" ":"0",(ke=G[ae])&&(ae=ke(le,xe)),J.push(ae),K=Z+1);return J.push(H.slice(K,Z)),J.join("")}}function k(H,G){return function(le){var J=nm(1900,void 0,1),Z=j(J,H,le+="",0),K,de;if(Z!=le.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(G&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(K=ek(nm(J.y,0,1)),de=K.getUTCDay(),K=de>4||de===0?lw.ceil(K):lw(K),K=x_.offset(K,(J.V-1)*7),J.y=K.getUTCFullYear(),J.m=K.getUTCMonth(),J.d=K.getUTCDate()+(J.w+6)%7):(K=Zj(nm(J.y,0,1)),de=K.getDay(),K=de>4||de===0?ow.ceil(K):ow(K),K=jv.offset(K,(J.V-1)*7),J.y=K.getFullYear(),J.m=K.getMonth(),J.d=K.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),de="Z"in J?ek(nm(J.y,0,1)).getUTCDay():Zj(nm(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(de+5)%7:J.w+J.U*7-(de+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,ek(J)):Zj(J)}}function j(H,G,le,J){for(var Z=0,K=G.length,de=le.length,ae,xe;Z<K;){if(J>=de)return-1;if(ae=G.charCodeAt(Z++),ae===37){if(ae=G.charAt(Z++),xe=S[ae in lD?G.charAt(Z++):ae],!xe||(J=xe(H,le,J))<0)return-1}else if(ae!=le.charCodeAt(J++))return-1}return J}function N(H,G,le){var J=u.exec(G.slice(le));return J?(H.p=d.get(J[0].toLowerCase()),le+J[0].length):-1}function C(H,G,le){var J=g.exec(G.slice(le));return J?(H.w=v.get(J[0].toLowerCase()),le+J[0].length):-1}function P(H,G,le){var J=f.exec(G.slice(le));return J?(H.w=h.get(J[0].toLowerCase()),le+J[0].length):-1}function O(H,G,le){var J=x.exec(G.slice(le));return J?(H.m=b.get(J[0].toLowerCase()),le+J[0].length):-1}function F(H,G,le){var J=p.exec(G.slice(le));return J?(H.m=y.get(J[0].toLowerCase()),le+J[0].length):-1}function M(H,G,le){return j(H,t,G,le)}function q(H,G,le){return j(H,r,G,le)}function B(H,G,le){return j(H,n,G,le)}function I(H){return i[H.getDay()]}function A(H){return a[H.getDay()]}function z(H){return c[H.getMonth()]}function re(H){return l[H.getMonth()]}function V(H){return s[+(H.getHours()>=12)]}function te(H){return 1+~~(H.getMonth()/3)}function X(H){return i[H.getUTCDay()]}function ye(H){return a[H.getUTCDay()]}function oe(H){return c[H.getUTCMonth()]}function me(H){return l[H.getUTCMonth()]}function D(H){return s[+(H.getUTCHours()>=12)]}function $(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var G=E(H+="",w);return G.toString=function(){return H},G},parse:function(H){var G=k(H+="",!1);return G.toString=function(){return H},G},utcFormat:function(H){var G=E(H+="",_);return G.toString=function(){return H},G},utcParse:function(H){var G=k(H+="",!0);return G.toString=function(){return H},G}}}var lD={"-":"",_:" ",0:"0"},Un=/^\s*\d+/,K4e=/^%/,G4e=/[\\^$*+?|[\]().{}]/g;function sr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function Y4e(e){return e.replace(G4e,"\\$&")}function sm(e){return new RegExp("^(?:"+e.map(Y4e).join("|")+")","i")}function am(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function J4e(e,t,r){var n=Un.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function X4e(e,t,r){var n=Un.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Q4e(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Z4e(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eIe(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cD(e,t,r){var n=Un.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uD(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tIe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rIe(e,t,r){var n=Un.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nIe(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dD(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sIe(e,t,r){var n=Un.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fD(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function aIe(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function iIe(e,t,r){var n=Un.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function oIe(e,t,r){var n=Un.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lIe(e,t,r){var n=Un.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cIe(e,t,r){var n=K4e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uIe(e,t,r){var n=Un.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dIe(e,t,r){var n=Un.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hD(e,t){return sr(e.getDate(),t,2)}function fIe(e,t){return sr(e.getHours(),t,2)}function hIe(e,t){return sr(e.getHours()%12||12,t,2)}function pIe(e,t){return sr(1+jv.count(el(e),e),t,3)}function hG(e,t){return sr(e.getMilliseconds(),t,3)}function mIe(e,t){return hG(e,t)+"000"}function gIe(e,t){return sr(e.getMonth()+1,t,2)}function yIe(e,t){return sr(e.getMinutes(),t,2)}function vIe(e,t){return sr(e.getSeconds(),t,2)}function xIe(e){var t=e.getDay();return t===0?7:t}function bIe(e,t){return sr(b_.count(el(e)-1,e),t,2)}function pG(e){var t=e.getDay();return t>=4||t===0?vh(e):vh.ceil(e)}function wIe(e,t){return e=pG(e),sr(vh.count(el(e),e)+(el(e).getDay()===4),t,2)}function _Ie(e){return e.getDay()}function SIe(e,t){return sr(ow.count(el(e)-1,e),t,2)}function jIe(e,t){return sr(e.getFullYear()%100,t,2)}function kIe(e,t){return e=pG(e),sr(e.getFullYear()%100,t,2)}function EIe(e,t){return sr(e.getFullYear()%1e4,t,4)}function NIe(e,t){var r=e.getDay();return e=r>=4||r===0?vh(e):vh.ceil(e),sr(e.getFullYear()%1e4,t,4)}function CIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function pD(e,t){return sr(e.getUTCDate(),t,2)}function PIe(e,t){return sr(e.getUTCHours(),t,2)}function AIe(e,t){return sr(e.getUTCHours()%12||12,t,2)}function TIe(e,t){return sr(1+x_.count(tl(e),e),t,3)}function mG(e,t){return sr(e.getUTCMilliseconds(),t,3)}function OIe(e,t){return mG(e,t)+"000"}function RIe(e,t){return sr(e.getUTCMonth()+1,t,2)}function $Ie(e,t){return sr(e.getUTCMinutes(),t,2)}function MIe(e,t){return sr(e.getUTCSeconds(),t,2)}function IIe(e){var t=e.getUTCDay();return t===0?7:t}function LIe(e,t){return sr(w_.count(tl(e)-1,e),t,2)}function gG(e){var t=e.getUTCDay();return t>=4||t===0?xh(e):xh.ceil(e)}function DIe(e,t){return e=gG(e),sr(xh.count(tl(e),e)+(tl(e).getUTCDay()===4),t,2)}function FIe(e){return e.getUTCDay()}function BIe(e,t){return sr(lw.count(tl(e)-1,e),t,2)}function UIe(e,t){return sr(e.getUTCFullYear()%100,t,2)}function zIe(e,t){return e=gG(e),sr(e.getUTCFullYear()%100,t,2)}function qIe(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function WIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xh(e):xh.ceil(e),sr(e.getUTCFullYear()%1e4,t,4)}function VIe(){return"+0000"}function mD(){return"%"}function gD(e){return+e}function yD(e){return Math.floor(+e/1e3)}var Od,yG,vG;HIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HIe(e){return Od=H4e(e),yG=Od.format,Od.parse,vG=Od.utcFormat,Od.utcParse,Od}function KIe(e){return new Date(e)}function GIe(e){return e instanceof Date?+e:+new Date(+e)}function BO(e,t,r,n,s,a,i,l,c,u){var d=EO(),f=d.invert,h=d.domain,g=u(".%L"),v=u(":%S"),p=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function S(E){return(c(E)<E?g:l(E)<E?v:i(E)<E?p:a(E)<E?y:n(E)<E?s(E)<E?x:b:r(E)<E?w:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,GIe)):h().map(KIe)},d.ticks=function(E){var k=h();return e(k[0],k[k.length-1],E??10)},d.tickFormat=function(E,k){return k==null?S:u(k)},d.nice=function(E){var k=h();return(!E||typeof E.range!="function")&&(E=t(k[0],k[k.length-1],E??10)),E?h(sG(k,E)):d},d.copy=function(){return Sv(d,BO(e,t,r,n,s,a,i,l,c,u))},d}function YIe(){return Ya.apply(BO(W4e,V4e,el,DO,b_,jv,IO,$O,mu,yG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JIe(){return Ya.apply(BO(z4e,q4e,tl,FO,w_,x_,LO,MO,mu,vG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function __(){var e=0,t=1,r,n,s,a,i=ks,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var g,v;return arguments.length?([g,v]=h,i=f(g,v),u):[i(0),i(1)]}}return u.range=d(_p),u.rangeRound=d(kO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Ic(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xG(){var e=Mc(__()(ks));return e.copy=function(){return Ic(e,xG())},ll.apply(e,arguments)}function bG(){var e=PO(__()).domain([1,10]);return e.copy=function(){return Ic(e,bG()).base(e.base())},ll.apply(e,arguments)}function wG(){var e=AO(__());return e.copy=function(){return Ic(e,wG()).constant(e.constant())},ll.apply(e,arguments)}function UO(){var e=TO(__());return e.copy=function(){return Ic(e,UO()).exponent(e.exponent())},ll.apply(e,arguments)}function XIe(){return UO.apply(null,arguments).exponent(.5)}function _G(){var e=[],t=ks;function r(n){if(n!=null&&!isNaN(n=+n))return t((wv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(yc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>LMe(e,a/n))},r.copy=function(){return _G(t).domain(e)},ll.apply(r,arguments)}function S_(){var e=0,t=.5,r=1,n=1,s,a,i,l,c,u=ks,d,f=!1,h;function g(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(n*p<n*a?l:c),u(f?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),a=d(t=+t),i=d(r=+r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,g):[e,t,r]},g.clamp=function(p){return arguments.length?(f=!!p,g):f},g.interpolator=function(p){return arguments.length?(u=p,g):u};function v(p){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=c4e(p,[x,b,w]),g):[u(0),u(.5),u(1)]}}return g.range=v(_p),g.rangeRound=v(kO),g.unknown=function(p){return arguments.length?(h=p,g):h},function(p){return d=p,s=p(e),a=p(t),i=p(r),l=s===a?0:.5/(a-s),c=a===i?0:.5/(i-a),n=a<s?-1:1,g}}function SG(){var e=Mc(S_()(ks));return e.copy=function(){return Ic(e,SG())},ll.apply(e,arguments)}function jG(){var e=PO(S_()).domain([.1,1,10]);return e.copy=function(){return Ic(e,jG()).base(e.base())},ll.apply(e,arguments)}function kG(){var e=AO(S_());return e.copy=function(){return Ic(e,kG()).constant(e.constant())},ll.apply(e,arguments)}function zO(){var e=TO(S_());return e.copy=function(){return Ic(e,zO()).exponent(e.exponent())},ll.apply(e,arguments)}function QIe(){return zO.apply(null,arguments).exponent(.5)}const vD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ry,scaleDiverging:SG,scaleDivergingLog:jG,scaleDivergingPow:zO,scaleDivergingSqrt:QIe,scaleDivergingSymlog:kG,scaleIdentity:nG,scaleImplicit:W2,scaleLinear:aw,scaleLog:aG,scaleOrdinal:_O,scalePoint:rg,scalePow:OO,scaleQuantile:lG,scaleQuantize:cG,scaleRadial:oG,scaleSequential:xG,scaleSequentialLog:bG,scaleSequentialPow:UO,scaleSequentialQuantile:_G,scaleSequentialSqrt:XIe,scaleSequentialSymlog:wG,scaleSqrt:O4e,scaleSymlog:iG,scaleThreshold:uG,scaleTime:YIe,scaleUtc:JIe,tickFormat:rG},Symbol.toStringTag,{value:"Module"}));var ZIe=fp;function e3e(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],i=t(a);if(i!=null&&(l===void 0?i===i&&!ZIe(i):r(i,l)))var l=i,c=a}return c}var EG=e3e;function t3e(e,t){return e>t}var r3e=t3e,n3e=EG,s3e=r3e,a3e=bp;function i3e(e){return e&&e.length?n3e(e,a3e,s3e):void 0}var o3e=i3e;const Ql=jr(o3e);function l3e(e,t){return e<t}var c3e=l3e,u3e=EG,d3e=c3e,f3e=bp;function h3e(e){return e&&e.length?u3e(e,f3e,d3e):void 0}var p3e=h3e;const j_=jr(p3e);var m3e=eO,g3e=wp,y3e=MK,v3e=Qs;function x3e(e,t){var r=v3e(e)?m3e:y3e;return r(e,g3e(t))}var b3e=x3e,w3e=RK,_3e=b3e;function S3e(e,t){return w3e(_3e(e,t),1)}var j3e=S3e;const k3e=jr(j3e);var E3e=gO;function N3e(e,t){return E3e(e,t)}var C3e=N3e;const oy=jr(C3e);var Sp=1e9,P3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WO,Wr=!0,Ha="[DecimalError] ",Lu=Ha+"Invalid argument: ",qO=Ha+"Exponent out of range: ",jp=Math.floor,ru=Math.pow,A3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oa,In=1e7,Mr=7,NG=9007199254740991,cw=jp(NG/Mr),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Mr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};mt.dividedBy=mt.div=function(e){return Bo(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,r=t.constructor;return Sr(Bo(t,new r(e),0,1),r.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return xn(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(oa))throw Error(Ha+"NaN");if(r.s<1)throw Error(Ha+(r.s?"NaN":"-Infinity"));return r.eq(oa)?new n(0):(Wr=!1,t=Bo(ly(r,a),ly(e,a),a),Wr=!0,Sr(t,s))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AG(t,e):CG(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ha+"NaN");return r.s?(Wr=!1,t=Bo(r,e,0,1).times(e),Wr=!0,r.minus(t)):Sr(new n(r),s)};mt.naturalExponential=mt.exp=function(){return PG(this)};mt.naturalLogarithm=mt.ln=function(){return ly(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CG(t,e):AG(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lu+e);if(t=xn(s)+1,n=s.d.length-1,r=n*Mr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};mt.squareRoot=mt.sqrt=function(){var e,t,r,n,s,a,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ha+"NaN")}for(e=xn(l),Wr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ui(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=jp((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=i=r+3;;)if(a=n,n=a.plus(Bo(l,a,i+2)).times(.5),Ui(a.d).slice(0,i)===(t=Ui(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),s==i&&t=="4999"){if(Sr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;i+=4}return Wr=!0,Sr(n,r)};mt.times=mt.mul=function(e){var t,r,n,s,a,i,l,c,u,d=this,f=d.constructor,h=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=g.length,c<u&&(a=h,h=g,g=a,i=c,c=u,u=i),a=[],i=c+u,n=i;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+g[n]*h[s-n-1]+t,a[s--]=l%In|0,t=l/In|0;a[s]=(a[s]+t)%In|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Wr?Sr(e,f.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oo(e,0,Sp),t===void 0?t=n.rounding:oo(t,0,8),Sr(r,e+xn(r)+1,t))};mt.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=td(n,!0):(oo(e,0,Sp),t===void 0?t=s.rounding:oo(t,0,8),n=Sr(new s(n),e+1,t),r=td(n,!0,e+1)),r};mt.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?td(s):(oo(e,0,Sp),t===void 0?t=a.rounding:oo(t,0,8),n=Sr(new a(s),e+xn(s)+1,t),r=td(n.abs(),!1,e+xn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Sr(new t(e),xn(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,r,n,s,a,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(oa);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ha+"Infinity");return l}if(l.eq(oa))return l;if(n=c.precision,e.eq(oa))return Sr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,a=l.s,i){if((r=d<0?-d:d)<=NG){for(s=new c(oa),t=Math.ceil(n/Mr+4),Wr=!1;r%2&&(s=s.times(l),bD(s.d,t)),r=jp(r/2),r!==0;)l=l.times(l),bD(l.d,t);return Wr=!0,e.s<0?new c(oa).div(s):Sr(s,n)}}else if(a<0)throw Error(Ha+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Wr=!1,s=e.times(ly(l,n+u)),Wr=!0,s=PG(s),s.s=a,s};mt.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=xn(s),n=td(s,r<=a.toExpNeg||r>=a.toExpPos)):(oo(e,1,Sp),t===void 0?t=a.rounding:oo(t,0,8),s=Sr(new a(s),e,t),r=xn(s),n=td(s,e<=r||r<=a.toExpNeg,e)),n};mt.toSignificantDigits=mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oo(e,1,Sp),t===void 0?t=n.rounding:oo(t,0,8)),Sr(new n(r),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xn(e),r=e.constructor;return td(e,t<=r.toExpNeg||t>=r.toExpPos)};function CG(e,t){var r,n,s,a,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Wr?Sr(t,f):t;if(c=e.d,u=t.d,i=e.e,s=t.e,c=c.slice(),a=i-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=i,l=c.length),i=Math.ceil(f/Mr),l=i>l?i+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/In|0,c[a]%=In;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Wr?Sr(t,f):t}function oo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Lu+e)}function Ui(e){var t,r,n,s=e.length-1,a="",i=e[0];if(s>0){for(a+=i,t=1;t<s;t++)n=e[t]+"",r=Mr-n.length,r&&(a+=Rl(r)),a+=n;i=e[t],n=i+"",r=Mr-n.length,r&&(a+=Rl(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var Bo=function(){function e(n,s){var a,i=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+i,n[l]=a%In|0,i=a/In|0;return i&&n.unshift(i),n}function t(n,s,a,i){var l,c;if(a!=i)c=a>i?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var i=0;a--;)n[a]-=i,i=n[a]<s[a]?1:0,n[a]=i*In+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,i){var l,c,u,d,f,h,g,v,p,y,x,b,w,_,S,E,k,j,N=n.constructor,C=n.s==s.s?1:-1,P=n.d,O=s.d;if(!n.s)return new N(n);if(!s.s)throw Error(Ha+"Division by zero");for(c=n.e-s.e,k=O.length,S=P.length,g=new N(C),v=g.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,a==null?b=a=N.precision:i?b=a+(xn(n)-xn(s))+1:b=a,b<0)return new N(0);if(b=b/Mr+2|0,u=0,k==1)for(d=0,O=O[0],b++;(u<S||d)&&b--;u++)w=d*In+(P[u]||0),v[u]=w/O|0,d=w%O|0;else{for(d=In/(O[0]+1)|0,d>1&&(O=e(O,d),P=e(P,d),k=O.length,S=P.length),_=k,p=P.slice(0,k),y=p.length;y<k;)p[y++]=0;j=O.slice(),j.unshift(0),E=O[0],O[1]>=In/2&&++E;do d=0,l=t(O,p,k,y),l<0?(x=p[0],k!=y&&(x=x*In+(p[1]||0)),d=x/E|0,d>1?(d>=In&&(d=In-1),f=e(O,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,r(f,k<h?j:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),r(p,f,y),l==-1&&(y=p.length,l=t(O,p,k,y),l<1&&(d++,r(p,k<y?j:O,y))),y=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[y++]=P[_]||0:(p=[P[_]],y=1);while((_++<S||p[0]!==void 0)&&b--)}return v[0]||v.shift(),g.e=c,Sr(g,i?a+xn(g)+1:a)}}();function PG(e,t){var r,n,s,a,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(xn(e)>16)throw Error(qO+xn(e));if(!e.s)return new d(oa);for(t==null?(Wr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(ru(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(oa),d.precision=l;;){if(s=Sr(s.times(e),l),r=r.times(++c),i=a.plus(Bo(s,r,l)),Ui(i.d).slice(0,l)===Ui(a.d).slice(0,l)){for(;u--;)a=Sr(a.times(a),l);return d.precision=f,t==null?(Wr=!0,Sr(a,f)):a}a=i}}function xn(e){for(var t=e.e*Mr,r=e.d[0];r>=10;r/=10)t++;return t}function tk(e,t,r){if(t>e.LN10.sd())throw Wr=!0,r&&(e.precision=r),Error(Ha+"LN10 precision limit exceeded");return Sr(new e(e.LN10),t)}function Rl(e){for(var t="";e--;)t+="0";return t}function ly(e,t){var r,n,s,a,i,l,c,u,d,f=1,h=10,g=e,v=g.d,p=g.constructor,y=p.precision;if(g.s<1)throw Error(Ha+(g.s?"NaN":"-Infinity"));if(g.eq(oa))return new p(0);if(t==null?(Wr=!1,u=y):u=t,g.eq(10))return t==null&&(Wr=!0),tk(p,u);if(u+=h,p.precision=u,r=Ui(v),n=r.charAt(0),a=xn(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ui(g.d),n=r.charAt(0),f++;a=xn(g),n>1?(g=new p("0."+r),a++):g=new p(n+"."+r.slice(1))}else return c=tk(p,u+2,y).times(a+""),g=ly(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=y,t==null?(Wr=!0,Sr(g,y)):g;for(l=i=g=Bo(g.minus(oa),g.plus(oa),u),d=Sr(g.times(g),u),s=3;;){if(i=Sr(i.times(d),u),c=l.plus(Bo(i,new p(s),u)),Ui(c.d).slice(0,u)===Ui(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(tk(p,u+2,y).times(a+""))),l=Bo(l,new p(f),u),p.precision=y,t==null?(Wr=!0,Sr(l,y)):l;l=c,s+=2}}function xD(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=jp(r/Mr),e.d=[],n=(r+1)%Mr,r<0&&(n+=Mr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Mr;n<s;)e.d.push(+t.slice(n,n+=Mr));t=t.slice(n),n=Mr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Wr&&(e.e>cw||e.e<-cw))throw Error(qO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,t,r){var n,s,a,i,l,c,u,d,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=t-i,n<0)n+=Mr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Mr),a=f.length,d>=a)return e;for(u=a=f[d],i=1;a>=10;a/=10)i++;n%=Mr,s=n-Mr+i}if(r!==void 0&&(a=ru(10,i-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ru(10,i-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=xn(e),f.length=1,t=t-a-1,f[0]=ru(10,(Mr-t%Mr)%Mr),e.e=jp(-t/Mr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=ru(10,Mr-n),f[d]=s>0?(u/ru(10,i-s)%ru(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==In&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=In)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Wr&&(e.e>cw||e.e<-cw))throw Error(qO+xn(e));return e}function AG(e,t){var r,n,s,a,i,l,c,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Wr?Sr(t,g):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(g/Mr),l)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>i;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=In-1;--c[a],c[s]+=In}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Wr?Sr(t,g):t):new h(0)}function td(e,t,r){var n,s=xn(e),a=Ui(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+Rl(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+Rl(-s-1)+a,r&&(n=r-i)>0&&(a+=Rl(n))):s>=i?(a+=Rl(s+1-i),r&&(n=r-s-1)>0&&(a=a+"."+Rl(n))):((n=s+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(a+="."),a+=Rl(n))),e.s<0?"-"+a:a}function bD(e,t){if(e.length>t)return e.length=t,!0}function TG(e){var t,r,n;function s(a){var i=this;if(!(i instanceof s))return new s(a);if(i.constructor=s,a instanceof s){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Lu+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return xD(i,a.toString())}else if(typeof a!="string")throw Error(Lu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,A3e.test(a))xD(i,a);else throw Error(Lu+a)}if(s.prototype=mt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=TG,s.config=s.set=T3e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function T3e(e){if(!e||typeof e!="object")throw Error(Ha+"Object expected");var t,r,n,s=["precision",1,Sp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(jp(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Lu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Lu+r+": "+n);return this}var WO=TG(P3e);oa=new WO(1);const br=WO;function O3e(e){return I3e(e)||M3e(e)||$3e(e)||R3e()}function R3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(e,t){if(e){if(typeof e=="string")return G2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(e,t)}}function M3e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function I3e(e){if(Array.isArray(e))return G2(e)}function G2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L3e=function(t){return t},OG={"@@functional/placeholder":!0},RG=function(t){return t===OG},wD=function(t){return function r(){return arguments.length===0||arguments.length===1&&RG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},D3e=function e(t,r){return t===1?r:wD(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(function(l){return l!==OG}).length;return i>=t?r.apply(void 0,s):e(t-i,wD(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return RG(f)?c.shift():f});return r.apply(void 0,O3e(d).concat(c))}))})},k_=function(t){return D3e(t.length,t)},Y2=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},F3e=k_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),B3e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return L3e;var s=r.reverse(),a=s[0],i=s.slice(1);return function(){return i.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},J2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},$G=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function U3e(e){var t;return e===0?t=1:t=Math.floor(new br(e).abs().log(10).toNumber())+1,t}function z3e(e,t,r){for(var n=new br(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var q3e=k_(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),W3e=k_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),V3e=k_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const E_={rangeStep:z3e,getDigitCount:U3e,interpolateNumber:q3e,uninterpolateNumber:W3e,uninterpolateTruncation:V3e};function X2(e){return G3e(e)||K3e(e)||MG(e)||H3e()}function H3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function G3e(e){if(Array.isArray(e))return Q2(e)}function cy(e,t){return X3e(e)||J3e(e,t)||MG(e,t)||Y3e()}function Y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(e,t){if(e){if(typeof e=="string")return Q2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q2(e,t)}}function Q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J3e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw a}}return r}}function X3e(e){if(Array.isArray(e))return e}function IG(e){var t=cy(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function LG(e,t,r){if(e.lte(0))return new br(0);var n=E_.getDigitCount(e.toNumber()),s=new br(10).pow(n),a=e.div(s),i=n!==1?.05:.1,l=new br(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=l.mul(s);return t?c:new br(Math.ceil(c))}function Q3e(e,t,r){var n=1,s=new br(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new br(10).pow(E_.getDigitCount(e)-1),s=new br(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new br(Math.floor(e)))}else e===0?s=new br(Math.floor((t-1)/2)):r||(s=new br(Math.floor(e)));var i=Math.floor((t-1)/2),l=B3e(F3e(function(c){return s.add(new br(c-i).mul(n)).toNumber()}),Y2);return l(0,t)}function DG(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new br(0),tickMin:new br(0),tickMax:new br(0)};var a=LG(new br(t).sub(e).div(r-1),n,s),i;e<=0&&t>=0?i=new br(0):(i=new br(e).add(t).div(2),i=i.sub(new br(i).mod(a)));var l=Math.ceil(i.sub(e).div(a).toNumber()),c=Math.ceil(new br(t).sub(i).div(a).toNumber()),u=l+c+1;return u>r?DG(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:i.sub(new br(l).mul(a)),tickMax:i.add(new br(c).mul(a))})}function Z3e(e){var t=cy(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),l=IG([r,n]),c=cy(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(X2(Y2(0,s-1).map(function(){return 1/0}))):[].concat(X2(Y2(0,s-1).map(function(){return-1/0})),[d]);return r>n?J2(f):f}if(u===d)return Q3e(u,s,a);var h=DG(u,d,i,a),g=h.step,v=h.tickMin,p=h.tickMax,y=E_.rangeStep(v,p.add(new br(.1).mul(g)),g);return r>n?J2(y):y}function eLe(e,t){var r=cy(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=IG([n,s]),l=cy(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=LG(new br(u).sub(c).div(d-1),a,0),h=[].concat(X2(E_.rangeStep(new br(c),new br(u).sub(new br(.99).mul(f)),f)),[u]);return n>s?J2(h):h}var tLe=$G(Z3e),rLe=$G(eLe),nLe="Invariant failed";function rd(e,t){throw new Error(nLe)}var sLe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function aLe(e,t){return cLe(e)||lLe(e,t)||oLe(e,t)||iLe()}function iLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(e,t){if(e){if(typeof e=="string")return _D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _D(e,t)}}function _D(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function cLe(e){if(Array.isArray(e))return e}function uLe(e,t){if(e==null)return{};var r=dLe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UG(n.key),n)}}function pLe(e,t,r){return t&&hLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mLe(e,t,r){return t=dw(t),gLe(e,FG()?Reflect.construct(t,r||[],dw(e).constructor):t.apply(e,r))}function gLe(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yLe(e)}function yLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(e)}function vLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z2(e,t)}function Z2(e,t){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z2(e,t)}function BG(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=xLe(e,"string");return bh(t)=="symbol"?t:t+""}function xLe(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_=function(e){function t(){return fLe(this,t),mLe(this,t,arguments)}return vLe(t,e),pLe(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=uLe(n,sLe),g=Gt(h,!1);this.props.direction==="x"&&d.type!=="number"&&rd();var v=c.map(function(p){var y=u(p,l),x=y.x,b=y.y,w=y.value,_=y.errorVal;if(!_)return null;var S=[],E,k;if(Array.isArray(_)){var j=aLe(_,2);E=j[0],k=j[1]}else E=k=_;if(a==="vertical"){var N=d.scale,C=b+s,P=C+i,O=C-i,F=N(w-E),M=N(w+k);S.push({x1:M,y1:P,x2:M,y2:O}),S.push({x1:F,y1:C,x2:M,y2:C}),S.push({x1:F,y1:P,x2:F,y2:O})}else if(a==="horizontal"){var q=f.scale,B=x+s,I=B-i,A=B+i,z=q(w-E),re=q(w+k);S.push({x1:I,y1:re,x2:A,y2:re}),S.push({x1:B,y1:z,x2:B,y2:re}),S.push({x1:I,y1:z,x2:A,y2:z})}return R.createElement(Jr,uw({className:"recharts-errorBar",key:"bar-".concat(S.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},g),S.map(function(V){return R.createElement("line",uw({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return R.createElement(Jr,{className:"recharts-errorBars"},v)}}])}(R.Component);BG(N_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BG(N_,"displayName","ErrorBar");function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(n){bLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bLe(e,t,r){return t=wLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wLe(e){var t=_Le(e,"string");return uy(t)=="symbol"?t:t+""}function _Le(e,t){if(uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zG=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,i=sa(r,Tf);if(!i)return null;var l=Tf.defaultProps,c=l!==void 0?Gc(Gc({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return d.concat(v.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Gc(Gc({},h),f.props):{},v=g.dataKey,p=g.name,y=g.legendType,x=g.hide;return{inactive:x,dataKey:v,type:c.iconType||y||"square",color:VO(f),value:p||v,payload:g}}),Gc(Gc(Gc({},c),Tf.getWithHeight(i,s)),{},{payload:u,item:i})};function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function jD(e){return ELe(e)||kLe(e)||jLe(e)||SLe()}function SLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jLe(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function kLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ELe(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){Rf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rf(e,t,r){return t=NLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NLe(e){var t=CLe(e,"string");return dy(t)=="symbol"?t:t+""}function CLe(e,t){if(dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ma(e,t,r){return Jt(e)||Jt(t)?r:Tn(t)?Ba(e,t,r):Kt(t)?t(e):r}function ng(e,t,r,n){var s=k3e(e,function(l){return ma(l,t)});if(r==="number"){var a=s.filter(function(l){return tt(l)||parseFloat(l)});return a.length?[j_(a),Ql(a)]:[1/0,-1/0]}var i=n?s.filter(function(l){return!Jt(l)}):s;return i.map(function(l){return Tn(l)||l instanceof Date?l:""})}var PLe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,g=void 0;if(fi(f-d)!==fi(h-f)){var v=[];if(fi(h-f)===fi(c[1]-c[0])){g=h;var p=f+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{g=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){i=s[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){i=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},VO=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,i=a.stroke,l=a.fill,c;switch(s){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},ALe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var i={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var v=d[f[h]],p=v.items,y=v.cateAxisId,x=p.filter(function(k){return Do(k.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?sn(sn({},b),x[0].props):x[0].props,_=w.barSize,S=w[y];i[S]||(i[S]=[]);var E=Jt(_)?r:_;i[S].push({item:x[0],stackList:x.slice(1),barSize:Jt(E)?void 0:ed(E,n,0)})}}return i},TLe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,i=a===void 0?[]:a,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=ed(r,s,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,g=s/c,v=i.reduce(function(_,S){return _+S.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&g>0&&(h=!0,g*=.9,v=c*g);var p=(s-v)/2>>0,y={offset:p-u,size:0};d=i.reduce(function(_,S){var E={item:S.item,position:{offset:y.offset+y.size+u,size:h?g:S.barSize}},k=[].concat(jD(_),[E]);return y=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){k.push({item:j,position:y})}),k},f)}else{var x=ed(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var b=(s-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=i.reduce(function(_,S,E){var k=[].concat(jD(_),[{item:S.item,position:{offset:x+(b+u)*E+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(j){k.push({item:j,position:k[k.length-1].position})}),k},f)}return d},OLe=function(t,r,n,s){var a=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=zG({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,g=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&g!=="center"&&tt(t[g]))return sn(sn({},t),{},Rf({},g,t[g]+(f||0)));if((p==="horizontal"||p==="vertical"&&g==="center")&&v!=="middle"&&tt(t[v]))return sn(sn({},t),{},Rf({},v,t[v]+(h||0)))}return t},RLe=function(t,r,n){return Jt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},qG=function(t,r,n,s,a){var i=r.props.children,l=gi(i,N_).filter(function(u){return RLe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ma(d,n);if(Jt(f))return u;var h=Array.isArray(f)?[j_(f),Ql(f)]:[f,f],g=c.reduce(function(v,p){var y=ma(d,p,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},$Le=function(t,r,n,s,a){var i=r.map(function(l){return qG(t,l,n,a,s)}).filter(function(l){return!Jt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},WG=function(t,r,n,s,a){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&qG(t,c,u,s)||ng(t,u,n,a)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},VG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},gu=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?fi(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!yp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},rk=new WeakMap,R0=function(t,r){if(typeof r!="function")return t;rk.has(t)||rk.set(t,new WeakMap);var n=rk.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},MLe=function(t,r,n){var s=t.scale,a=t.type,i=t.layout,l=t.axisType;if(s==="auto")return i==="radial"&&l==="radiusAxis"?{scale:ry(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:aw(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rg(),realScaleType:"point"}:a==="category"?{scale:ry(),realScaleType:"band"}:{scale:aw(),realScaleType:"linear"};if(xv(s)){var c="scale".concat(u_(s));return{scale:(vD[c]||rg)(),realScaleType:vD[c]?c:"point"}}return Kt(s)?{scale:s}:{scale:rg(),realScaleType:"point"}},ED=1e-4,ILe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-ED,i=Math.max(s[0],s[1])+ED,l=t(r[0]),c=t(r[n-1]);(l<a||l>i||c<a||c>i)&&t.domain([r[0],r[n-1]])}},LLe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},DLe=function(t,r){if(!r||r.length!==2||!tt(r[0])||!tt(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!tt(t[0])||t[0]<n)&&(a[0]=n),(!tt(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},FLe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0,l=0;l<r;++l){var c=yp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},BLe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,i=0;i<r;++i){var l=yp(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=a,t[i][n][1]=a+l,a=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},ULe={sign:FLe,expand:tNe,none:fh,silhouette:rNe,wiggle:nNe,positive:BLe},zLe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=ULe[n],i=eNe().keys(s).value(function(l,c){return+ma(l,c,0)}).order(k2).offset(a);return i(t)},qLe=function(t,r,n,s,a,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,p=v.stackId,y=v.hide;if(y)return f;var x=v[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(Tn(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[bv("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return sn(sn({},f),{},Rf({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(p,y){var x=g.stackGroups[y];return sn(sn({},p),{},Rf({},y,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:zLe(t,x.items,a)}))},v)}return sn(sn({},f),{},Rf({},h,g))},d)},WLe=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=tLe(u,a,l);return t.domain([j_(d),Ql(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=rLe(f,a,l);return{niceTicks:h}}return null};function ND(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,a=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Jt(s[t.dataKey])){var l=Ib(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=ma(s,Jt(i)?t.dataKey:i);return Jt(c)?null:t.scale(c)}var CD=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ma(i,r.dataKey,r.domain[l]);return Jt(c)?null:r.scale(c)-a/2+s},VLe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},HLe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Tn(a)){var i=r[a];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},KLe=function(t){return t.reduce(function(r,n){return[j_(n.concat([r[0]]).filter(tt)),Ql(n.concat([r[1]]).filter(tt))]},[1/0,-1/0])},HG=function(t,r,n){return Object.keys(t).reduce(function(s,a){var i=t[a],l=i.stackedData,c=l.reduce(function(u,d){var f=KLe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},PD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tC=function(t,r,n){if(Kt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(tt(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(PD.test(t[0])){var a=+PD.exec(t[0])[1];s[0]=r[0]-a}else Kt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(tt(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(AD.test(t[1])){var i=+AD.exec(t[1])[1];s[1]=r[1]+i}else Kt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},fw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=vO(r,function(f){return f.coordinate}),i=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},TD=function(t,r,n){return!t||!t.length||oy(t,Ba(n,"type.defaultProps.domain"))?r:t},KG=function(t,r){var n=t.type.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return sn(sn({},Gt(t,!1)),{},{dataKey:s,unit:i,formatter:l,name:a||s,color:VO(t),value:ma(r,s),type:c,payload:r,chartType:u,hide:d})};function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){GLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GLe(e,t,r){return t=YLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YLe(e){var t=JLe(e,"string");return fy(t)=="symbol"?t:t+""}function JLe(e,t){if(fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hw=Math.PI/180,XLe=function(t){return t*180/Math.PI},Jn=function(t,r,n,s){return{x:t+Math.cos(-hw*s)*n,y:r+Math.sin(-hw*s)*n}},QLe=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-i,2))},ZLe=function(t,r){var n=t.x,s=t.y,a=r.cx,i=r.cy,l=QLe({x:n,y:s},{x:a,y:i});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>i&&(u=2*Math.PI-u),{radius:l,angle:XLe(u),angleInRadian:u}},e5e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(s,a);return{startAngle:r-i*360,endAngle:n-i*360}},t5e=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),l=Math.min(a,i);return t+l*360},$D=function(t,r){var n=t.x,s=t.y,a=ZLe({x:n,y:s},r),i=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=e5e(r),f=d.startAngle,h=d.endAngle,g=l,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?RD(RD({},r),{},{radius:i,angle:t5e(g,r)}):null};function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}var r5e=["offset"];function n5e(e){return o5e(e)||i5e(e)||a5e(e)||s5e()}function s5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5e(e,t){if(e){if(typeof e=="string")return rC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rC(e,t)}}function i5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o5e(e){if(Array.isArray(e))return rC(e)}function rC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l5e(e,t){if(e==null)return{};var r=c5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){u5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u5e(e,t,r){return t=d5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d5e(e){var t=f5e(e,"string");return hy(t)=="symbol"?t:t+""}function f5e(e,t){if(hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}var h5e=function(t){var r=t.value,n=t.formatter,s=Jt(t.children)?r:t.children;return Kt(n)?n(s):s},p5e=function(t,r){var n=fi(r-t),s=Math.min(Math.abs(r-t),360);return n*s},m5e=function(t,r,n){var s=t.position,a=t.viewBox,i=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,v=c.endAngle,p=c.clockWise,y=(f+h)/2,x=p5e(g,v),b=x>=0?1:-1,w,_;s==="insideStart"?(w=g+b*i,_=p):s==="insideEnd"?(w=v-b*i,_=!p):s==="end"&&(w=v+b*i,_=p),_=x<=0?_:!_;var S=Jn(u,d,y,w),E=Jn(u,d,y,w+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Jt(t.id)?bv("recharts-radial-line-"):t.id;return R.createElement("text",py({},n,{dominantBaseline:"central",className:er("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:j,d:k})),R.createElement("textPath",{xlinkHref:"#".concat(j)},r))},g5e=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,i=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var g=Jn(i,l,u+n,h),v=g.x,p=g.y;return{x:v,y:p,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Jn(i,l,y,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},y5e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*s,g=f>0?"end":"start",v=f>0?"start":"end",p=u>=0?1:-1,y=p*s,x=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:g};return bn(bn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return bn(bn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return bn(bn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(a==="right"){var E={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return bn(bn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return a==="insideLeft"?bn({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideRight"?bn({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?bn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},k):a==="insideBottom"?bn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},k):a==="insideTopLeft"?bn({x:l+y,y:c+h,textAnchor:b,verticalAnchor:v},k):a==="insideTopRight"?bn({x:l+u-y,y:c+h,textAnchor:x,verticalAnchor:v},k):a==="insideBottomLeft"?bn({x:l+y,y:c+d-h,textAnchor:b,verticalAnchor:g},k):a==="insideBottomRight"?bn({x:l+u-y,y:c+d-h,textAnchor:x,verticalAnchor:g},k):hp(a)&&(tt(a.x)||hu(a.x))&&(tt(a.y)||hu(a.y))?bn({x:l+ed(a.x,u),y:c+ed(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):bn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},v5e=function(t){return"cx"in t&&tt(t.cx)};function is(e){var t=e.offset,r=t===void 0?5:t,n=l5e(e,r5e),s=bn({offset:r},n),a=s.viewBox,i=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||Jt(l)&&Jt(c)&&!m.isValidElement(u)&&!Kt(u))return null;if(m.isValidElement(u))return m.cloneElement(u,s);var g;if(Kt(u)){if(g=m.createElement(u,s),m.isValidElement(g))return g}else g=h5e(s);var v=v5e(a),p=Gt(s,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return m5e(s,g,p);var y=v?g5e(s):y5e(s);return R.createElement(Qb,py({className:er("recharts-label",f)},p,y,{breakAll:h}),g)}is.displayName="Label";var GG=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,g=t.top,v=t.left,p=t.width,y=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(tt(p)&&tt(y)){if(tt(f)&&tt(h))return{x:f,y:h,width:p,height:y};if(tt(g)&&tt(v))return{x:g,y:v,width:p,height:y}}return tt(f)&&tt(h)?{x:f,y:h,width:0,height:0}:tt(r)&&tt(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:i||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},x5e=function(t,r){return t?t===!0?R.createElement(is,{key:"label-implicit",viewBox:r}):Tn(t)?R.createElement(is,{key:"label-implicit",viewBox:r,value:t}):m.isValidElement(t)?t.type===is?m.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(is,{key:"label-implicit",content:t,viewBox:r}):Kt(t)?R.createElement(is,{key:"label-implicit",content:t,viewBox:r}):hp(t)?R.createElement(is,py({viewBox:r},t,{key:"label-implicit"})):null:null},b5e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=GG(t),i=gi(s,is).map(function(c,u){return m.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return i;var l=x5e(t.label,r||a);return[l].concat(n5e(i))};is.parseViewBox=GG;is.renderCallByParent=b5e;function w5e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var _5e=w5e;const S5e=jr(_5e);function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}var j5e=["valueAccessor"],k5e=["data","dataKey","clockWise","id","textBreakAll"];function E5e(e){return A5e(e)||P5e(e)||C5e(e)||N5e()}function N5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5e(e,t){if(e){if(typeof e=="string")return nC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nC(e,t)}}function P5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A5e(e){if(Array.isArray(e))return nC(e)}function nC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){T5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T5e(e,t,r){return t=O5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O5e(e){var t=R5e(e,"string");return my(t)=="symbol"?t:t+""}function R5e(e,t){if(my(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DD(e,t){if(e==null)return{};var r=$5e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M5e=function(t){return Array.isArray(t.value)?S5e(t.value):t.value};function Ua(e){var t=e.valueAccessor,r=t===void 0?M5e:t,n=DD(e,j5e),s=n.data,a=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=DD(n,k5e);return!s||!s.length?null:R.createElement(Jr,{className:"recharts-label-list"},s.map(function(d,f){var h=Jt(a)?r(d,f):ma(d&&d.payload,a),g=Jt(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(is,pw({},Gt(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:is.parseViewBox(Jt(i)?d:LD(LD({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ua.displayName="LabelList";function I5e(e,t){return e?e===!0?R.createElement(Ua,{key:"labelList-implicit",data:t}):R.isValidElement(e)||Kt(e)?R.createElement(Ua,{key:"labelList-implicit",data:t,content:e}):hp(e)?R.createElement(Ua,pw({data:t},e,{key:"labelList-implicit"})):null:null}function L5e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=gi(n,Ua).map(function(i,l){return m.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=I5e(e.label,t);return[a].concat(E5e(s))}Ua.renderCallByParent=L5e;function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sC.apply(this,arguments)}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){D5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D5e(e,t,r){return t=F5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F5e(e){var t=B5e(e,"string");return gy(t)=="symbol"?t:t+""}function B5e(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U5e=function(t,r){var n=fi(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},$0=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/hw,h=u?a:a+i*f,g=Jn(r,n,d,h),v=Jn(r,n,s,h),p=u?a-i*f:a,y=Jn(r,n,d*Math.cos(f*hw),p);return{center:g,circleTangency:v,lineTangency:y,theta:f}},YG=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.startAngle,l=t.endAngle,c=U5e(i,l),u=i+c,d=Jn(r,n,a,i),f=Jn(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var g=Jn(r,n,s,i),v=Jn(r,n,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},z5e=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=fi(d-u),h=$0({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),g=h.circleTangency,v=h.lineTangency,p=h.theta,y=$0({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,w=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):YG({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var E=$0({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),k=E.circleTangency,j=E.lineTangency,N=E.theta,C=$0({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=C.circleTangency,O=C.lineTangency,F=C.theta,M=c?Math.abs(u-d):Math.abs(u-d)-N-F;if(M<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},q5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JG=function(t){var r=BD(BD({},q5e),t),n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<a||d===f)return null;var g=er("recharts-sector",h),v=i-a,p=ed(l,v,0,!0),y;return p>0&&Math.abs(d-f)<360?y=z5e({cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=YG({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),R.createElement("path",sC({},Gt(r,!0),{className:g,d:y,role:"img"}))};function yy(e){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yy(e)}function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aC.apply(this,arguments)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){W5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W5e(e,t,r){return t=V5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V5e(e){var t=H5e(e,"string");return yy(t)=="symbol"?t:t+""}function H5e(e,t){if(yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qD={curveBasisClosed:qEe,curveBasisOpen:WEe,curveBasis:zEe,curveBumpX:CEe,curveBumpY:PEe,curveLinearClosed:VEe,curveLinear:f_,curveMonotoneX:HEe,curveMonotoneY:KEe,curveNatural:GEe,curveStep:YEe,curveStepAfter:XEe,curveStepBefore:JEe},M0=function(t){return t.x===+t.x&&t.y===+t.y},im=function(t){return t.x},om=function(t){return t.y},K5e=function(t,r){if(Kt(t))return t;var n="curve".concat(u_(t));return(n==="curveMonotone"||n==="curveBump")&&r?qD["".concat(n).concat(r==="vertical"?"Y":"X")]:qD[n]||f_},G5e=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=K5e(n,l),f=u?a.filter(function(p){return M0(p)}):a,h;if(Array.isArray(i)){var g=u?i.filter(function(p){return M0(p)}):i,v=f.map(function(p,y){return zD(zD({},p),{},{base:g[y]})});return l==="vertical"?h=k0().y(om).x1(im).x0(function(p){return p.base.x}):h=k0().x(im).y1(om).y0(function(p){return p.base.y}),h.defined(M0).curve(d),h(v)}return l==="vertical"&&tt(i)?h=k0().y(om).x1(im).x0(i):tt(i)?h=k0().x(im).y1(om).y0(i):h=ZH().x(im).y(om),h.defined(M0).curve(d),h(f)},sg=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?G5e(t):s;return R.createElement("path",aC({},Gt(t,!1),Lb(t),{className:er("recharts-curve",r),d:i,ref:a}))},XG={exports:{}},Y5e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J5e=Y5e,X5e=J5e;function QG(){}function ZG(){}ZG.resetWarningCache=QG;var Q5e=function(){function e(n,s,a,i,l,c){if(c!==X5e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ZG,resetWarningCache:QG};return r.PropTypes=r,r};XG.exports=Q5e();var Z5e=XG.exports;const ur=jr(Z5e);var eDe=Object.getOwnPropertyNames,tDe=Object.getOwnPropertySymbols,rDe=Object.prototype.hasOwnProperty;function WD(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function I0(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,i=a.get(r),l=a.get(n);if(i&&l)return i===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function VD(e){return eDe(e).concat(tDe(e))}var nDe=Object.hasOwn||function(e,t){return rDe.call(e,t)};function md(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var sDe="__v",aDe="__o",iDe="_owner",HD=Object.getOwnPropertyDescriptor,KD=Object.keys;function oDe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function lDe(e,t){return md(e.getTime(),t.getTime())}function cDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uDe(e,t){return e===t}function GD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.entries(),i,l,c=0;(i=a.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=i.value,g=l.value;if(r.equals(h[0],g[0],c,f,e,t,r)&&r.equals(h[1],g[1],h[0],g[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var dDe=md;function fDe(e,t,r){var n=KD(e),s=n.length;if(KD(t).length!==s)return!1;for(;s-- >0;)if(!eY(e,t,r,n[s]))return!1;return!0}function lm(e,t,r){var n=VD(e),s=n.length;if(VD(t).length!==s)return!1;for(var a,i,l;s-- >0;)if(a=n[s],!eY(e,t,r,a)||(i=HD(e,a),l=HD(t,a),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function hDe(e,t){return md(e.valueOf(),t.valueOf())}function pDe(e,t){return e.source===t.source&&e.flags===t.flags}function YD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.values(),i,l;(i=a.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function mDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function gDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function eY(e,t,r,n){return(n===iDe||n===aDe||n===sDe)&&(e.$$typeof||t.$$typeof)?!0:nDe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var yDe="[object Arguments]",vDe="[object Boolean]",xDe="[object Date]",bDe="[object Error]",wDe="[object Map]",_De="[object Number]",SDe="[object Object]",jDe="[object RegExp]",kDe="[object Set]",EDe="[object String]",NDe="[object URL]",CDe=Array.isArray,JD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,XD=Object.assign,PDe=Object.prototype.toString.call.bind(Object.prototype.toString);function ADe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,p,y){if(v===p)return!0;if(v==null||p==null)return!1;var x=typeof v;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?i(v,p,y):x==="function"?s(v,p,y):!1;var b=v.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(v,p,y);if(CDe(v))return t(v,p,y);if(JD!=null&&JD(v))return f(v,p,y);if(b===Date)return r(v,p,y);if(b===RegExp)return u(v,p,y);if(b===Map)return a(v,p,y);if(b===Set)return d(v,p,y);var w=PDe(v);return w===xDe?r(v,p,y):w===jDe?u(v,p,y):w===wDe?a(v,p,y):w===kDe?d(v,p,y):w===SDe?typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,y):w===NDe?h(v,p,y):w===bDe?n(v,p,y):w===yDe?l(v,p,y):w===vDe||w===_De||w===EDe?c(v,p,y):!1}}function TDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?lm:oDe,areDatesEqual:lDe,areErrorsEqual:cDe,areFunctionsEqual:uDe,areMapsEqual:n?WD(GD,lm):GD,areNumbersEqual:dDe,areObjectsEqual:n?lm:fDe,arePrimitiveWrappersEqual:hDe,areRegExpsEqual:pDe,areSetsEqual:n?WD(YD,lm):YD,areTypedArraysEqual:n?lm:mDe,areUrlsEqual:gDe};if(r&&(s=XD({},s,r(s))),t){var a=I0(s.areArraysEqual),i=I0(s.areMapsEqual),l=I0(s.areObjectsEqual),c=I0(s.areSetsEqual);s=XD({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return s}function ODe(e){return function(t,r,n,s,a,i,l){return e(t,r,l)}}function RDe(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return r(c,u,{cache:h,equals:s,meta:g,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var i={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,i)}}var $De=Lc();Lc({strict:!0});Lc({circular:!0});Lc({circular:!0,strict:!0});Lc({createInternalComparator:function(){return md}});Lc({strict:!0,createInternalComparator:function(){return md}});Lc({circular:!0,createInternalComparator:function(){return md}});Lc({circular:!0,createInternalComparator:function(){return md},strict:!0});function Lc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,i=a===void 0?!1:a,l=TDe(e),c=ADe(l),u=n?n(c):ODe(c);return RDe({circular:r,comparator:c,createState:s,equals:u,strict:i})}function MDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function QD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):MDe(s)};requestAnimationFrame(n)}function iC(e){"@babel/helpers - typeof";return iC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iC(e)}function IDe(e){return BDe(e)||FDe(e)||DDe(e)||LDe()}function LDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DDe(e,t){if(e){if(typeof e=="string")return ZD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZD(e,t)}}function ZD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BDe(e){if(Array.isArray(e))return e}function UDe(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var i=a,l=IDe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){QD(s.bind(null,u),c);return}s(c),QD(s.bind(null,u));return}iC(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return t=zDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zDe(e){var t=qDe(e,"string");return vy(t)==="symbol"?t:String(t)}function qDe(e,t){if(vy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WDe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},VDe=function(t){return t},HDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ag=function(t,r){return Object.keys(r).reduce(function(n,s){return tF(tF({},n),{},tY({},s,t(s,r[s])))},{})},rF=function(t,r,n){return t.map(function(s){return"".concat(HDe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function KDe(e,t){return JDe(e)||YDe(e,t)||rY(e,t)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function JDe(e){if(Array.isArray(e))return e}function XDe(e){return eFe(e)||ZDe(e)||rY(e)||QDe()}function QDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rY(e,t){if(e){if(typeof e=="string")return oC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(e,t)}}function ZDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eFe(e){if(Array.isArray(e))return oC(e)}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mw=1e-4,nY=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},sY=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},nF=function(t,r){return function(n){var s=nY(t,r);return sY(s,n)}},tFe=function(t,r){return function(n){var s=nY(t,r),a=[].concat(XDe(s.map(function(i,l){return i*l}).slice(1)),[0]);return sY(a,n)}},sF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,i=1,l=1;break;case"ease":s=.25,a=.1,i=.25,l=1;break;case"ease-in":s=.42,a=0,i=1,l=1;break;case"ease-out":s=.42,a=0,i=.58,l=1;break;case"ease-in-out":s=0,a=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=KDe(u,4);s=d[0],a=d[1],i=d[2],l=d[3]}}}var f=nF(s,i),h=nF(a,l),g=tFe(s,i),v=function(x){return x>1?1:x<0?0:x},p=function(x){for(var b=x>1?1:x,w=b,_=0;_<8;++_){var S=f(w)-b,E=g(w);if(Math.abs(S-b)<mw||E<mw)return h(w);w=v(w-S/E)}return h(w)};return p.isStepper=!1,p},rFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var g=-(d-f)*n,v=h*a,p=h+(g-v)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<mw&&Math.abs(p)<mw?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},nFe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sF(s);case"spring":return rFe();default:if(s.split("(")[0]==="cubic-bezier")return sF(s)}return typeof s=="function"?s:null};function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function aF(e){return iFe(e)||aFe(e)||aY(e)||sFe()}function sFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iFe(e){if(Array.isArray(e))return cC(e)}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){lC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lC(e,t,r){return t=oFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oFe(e){var t=lFe(e,"string");return xy(t)==="symbol"?t:String(t)}function lFe(e,t){if(xy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cFe(e,t){return fFe(e)||dFe(e,t)||aY(e,t)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aY(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function fFe(e){if(Array.isArray(e))return e}var gw=function(t,r,n){return t+(r-t)*n},uC=function(t){var r=t.from,n=t.to;return r!==n},hFe=function e(t,r,n){var s=ag(function(a,i){if(uC(i)){var l=t(i.from,i.to,i.velocity),c=cFe(l,2),u=c[0],d=c[1];return qn(qn({},i),{},{from:u,velocity:d})}return i},r);return n<1?ag(function(a,i){return uC(i)?qn(qn({},i),{},{velocity:gw(i.velocity,s[a].velocity,n),from:gw(i.from,s[a].from,n)}):i},r):e(t,s,n-1)};const pFe=function(e,t,r,n,s){var a=WDe(e,t),i=a.reduce(function(y,x){return qn(qn({},y),{},lC({},x,[e[x],t[x]]))},{}),l=a.reduce(function(y,x){return qn(qn({},y),{},lC({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return ag(function(x,b){return b.from},l)},g=function(){return!Object.values(l).filter(uC).length},v=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=hFe(r,l,w),s(qn(qn(qn({},e),t),h())),u=x,g()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var b=(x-d)/n,w=ag(function(S,E){return gw.apply(void 0,aF(E).concat([r(b)]))},i);if(s(qn(qn(qn({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var _=ag(function(S,E){return gw.apply(void 0,aF(E).concat([r(1)]))},i);s(qn(qn(qn({},e),t),_))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}var mFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gFe(e,t){if(e==null)return{};var r=yFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function nk(e){return wFe(e)||bFe(e)||xFe(e)||vFe()}function vFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xFe(e,t){if(e){if(typeof e=="string")return dC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(e,t)}}function bFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wFe(e){if(Array.isArray(e))return dC(e)}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){Cm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cm(e,t,r){return t=iY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iY(n.key),n)}}function jFe(e,t,r){return t&&SFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iY(e){var t=kFe(e,"string");return wh(t)==="symbol"?t:String(t)}function kFe(e,t){if(wh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fC(e,t)}function NFe(e){var t=CFe();return function(){var n=yw(e),s;if(t){var a=yw(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return hC(this,s)}}function hC(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pC(e)}function pC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}var rl=function(e){EFe(r,e);var t=NFe(r);function r(n,s){var a;_Fe(this,r),a=t.call(this,n,s);var i=a.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,g=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(pC(a)),a.changeStyle=a.changeStyle.bind(pC(a)),!l||g<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),hC(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},hC(a);a.state={style:c?Cm({},c,u):u}}else a.state={style:{}};return a}return jFe(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,i=s.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,i=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!i){var g={style:c?Cm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!($De(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?f:s.to;if(this.state&&h){var y={style:c?Cm({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(Qa(Qa({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,i=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,g=pFe(i,l,nFe(u),c,this.changeStyle),v=function(){a.stopJSAnimation=g()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,i=s.steps,l=s.begin,c=s.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(p,y,x){if(x===0)return p;var b=y.duration,w=y.easing,_=w===void 0?"ease":w,S=y.style,E=y.properties,k=y.onAnimationEnd,j=x>0?i[x-1]:y,N=E||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(nk(p),[a.runJSAnimation.bind(a,{from:j.style,to:S,duration:b,easing:_}),b]);var C=rF(N,b,_),P=Qa(Qa(Qa({},j.style),S),{},{transition:C});return[].concat(nk(p),[P,b,k]).filter(VDe)};return this.manager.start([c].concat(nk(i.reduce(g,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=UDe());var a=s.begin,i=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,g=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?Cm({},l,c):c,y=rF(Object.keys(p),i,u);v.start([d,a,Qa(Qa({},p),{},{transition:y}),i,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=gFe(s,mFe),u=m.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||i<=0)return a;var f=function(g){var v=g.props,p=v.style,y=p===void 0?{}:p,x=v.className,b=m.cloneElement(g,Qa(Qa({},c),{},{style:Qa(Qa({},y),d),className:x}));return b};return u===1?f(m.Children.only(a)):R.createElement("div",null,m.Children.map(a,function(h){return f(h)}))}}]),r}(m.PureComponent);rl.displayName="Animate";rl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};rl.propTypes={from:ur.oneOfType([ur.object,ur.string]),to:ur.oneOfType([ur.object,ur.string]),attributeName:ur.string,duration:ur.number,begin:ur.number,easing:ur.oneOfType([ur.string,ur.func]),steps:ur.arrayOf(ur.shape({duration:ur.number.isRequired,style:ur.object.isRequired,easing:ur.oneOfType([ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ur.func]),properties:ur.arrayOf("string"),onAnimationEnd:ur.func})),children:ur.oneOfType([ur.node,ur.func]),isActive:ur.bool,canBegin:ur.bool,onAnimationEnd:ur.func,shouldReAnimate:ur.bool,onAnimationStart:ur.func,onAnimationReStart:ur.func};function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(this,arguments)}function PFe(e,t){return RFe(e)||OFe(e,t)||TFe(e,t)||AFe()}function AFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TFe(e,t){if(e){if(typeof e=="string")return lF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lF(e,t)}}function lF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function RFe(e){if(Array.isArray(e))return e}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){$Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Fe(e,t,r){return t=MFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MFe(e){var t=IFe(e,"string");return by(t)=="symbol"?t:t+""}function IFe(e,t){if(by(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF=function(t,r,n,s,a){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=a[h]>i?i:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var v=Math.min(i,a);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+s,`
            L `).concat(t+c*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},LFe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},DFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HO=function(t){var r=uF(uF({},DFe),t),n=m.useRef(),s=m.useState(-1),a=PFe(s,2),i=a[0],l=a[1];m.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,v=r.animationEasing,p=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=er("recharts-rectangle",g);return b?R.createElement(rl,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:b},function(_){var S=_.width,E=_.height,k=_.x,j=_.y;return R.createElement(rl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:x,easing:v},R.createElement("path",vw({},Gt(r,!0),{className:w,d:dF(k,j,S,E,h),ref:n})))}):R.createElement("path",vw({},Gt(r,!0),{className:w,d:dF(c,u,d,f,h)}))};function mC(){return mC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mC.apply(this,arguments)}var KO=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,i=er("recharts-dot",a);return r===+r&&n===+n&&s===+s?R.createElement("circle",mC({},Gt(t,!1),Lb(t),{className:i,cx:r,cy:n,r:s})):null};function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}var FFe=["x","y","top","left","width","height","className"];function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gC.apply(this,arguments)}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){UFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UFe(e,t,r){return t=zFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zFe(e){var t=qFe(e,"string");return wy(t)=="symbol"?t:t+""}function qFe(e,t){if(wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WFe(e,t){if(e==null)return{};var r=VFe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HFe=function(t,r,n,s,a,i){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},KFe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,g=h===void 0?0:h,v=t.className,p=WFe(t,FFe),y=BFe({x:n,y:a,top:l,left:u,width:f,height:g},p);return!tt(n)||!tt(a)||!tt(f)||!tt(g)||!tt(l)||!tt(u)?null:R.createElement("path",gC({},Gt(y,!0),{className:er("recharts-cross",v),d:HFe(n,a,f,g,l,u)}))},GFe=SK,YFe=GFe(Object.getPrototypeOf,Object),JFe=YFe,XFe=il,QFe=JFe,ZFe=ol,e6e="[object Object]",t6e=Function.prototype,r6e=Object.prototype,oY=t6e.toString,n6e=r6e.hasOwnProperty,s6e=oY.call(Object);function a6e(e){if(!ZFe(e)||XFe(e)!=e6e)return!1;var t=QFe(e);if(t===null)return!0;var r=n6e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&oY.call(r)==s6e}var i6e=a6e;const o6e=jr(i6e);var l6e=il,c6e=ol,u6e="[object Boolean]";function d6e(e){return e===!0||e===!1||c6e(e)&&l6e(e)==u6e}var f6e=d6e;const h6e=jr(f6e);function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(this,arguments)}function p6e(e,t){return v6e(e)||y6e(e,t)||g6e(e,t)||m6e()}function m6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g6e(e,t){if(e){if(typeof e=="string")return hF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hF(e,t)}}function hF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function v6e(e){if(Array.isArray(e))return e}function pF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(r),!0).forEach(function(n){x6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x6e(e,t,r){return t=b6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6e(e){var t=w6e(e,"string");return _y(t)=="symbol"?t:t+""}function w6e(e,t){if(_y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gF=function(t,r,n,s,a){var i=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+a),l+="L ".concat(t+n-i/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},_6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S6e=function(t){var r=mF(mF({},_6e),t),n=m.useRef(),s=m.useState(-1),a=p6e(s,2),i=a[0],l=a[1];m.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,v=r.animationEasing,p=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=er("recharts-trapezoid",g);return x?R.createElement(rl,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:x},function(w){var _=w.upperWidth,S=w.lowerWidth,E=w.height,k=w.x,j=w.y;return R.createElement(rl,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:v},R.createElement("path",xw({},Gt(r,!0),{className:b,d:gF(k,j,_,S,E),ref:n})))}):R.createElement("g",null,R.createElement("path",xw({},Gt(r,!0),{className:b,d:gF(c,u,d,f,h)})))},j6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function k6e(e,t){if(e==null)return{};var r=E6e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yF(Object(r),!0).forEach(function(n){N6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6e(e,t,r){return t=C6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C6e(e){var t=P6e(e,"string");return Sy(t)=="symbol"?t:t+""}function P6e(e,t){if(Sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A6e(e,t){return bw(bw({},t),e)}function T6e(e,t){return e==="symbols"}function vF(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(HO,r);case"trapezoid":return R.createElement(S6e,r);case"sector":return R.createElement(JG,r);case"symbols":if(T6e(t))return R.createElement(cO,r);break;default:return null}}function O6e(e){return m.isValidElement(e)?e.props:e}function R6e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?A6e:n,a=e.activeClassName,i=a===void 0?"recharts-active-shape":a,l=e.isActive,c=k6e(e,j6e),u;if(m.isValidElement(t))u=m.cloneElement(t,bw(bw({},c),O6e(t)));else if(Kt(t))u=t(c);else if(o6e(t)&&!h6e(t)){var d=s(t,c);u=R.createElement(vF,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(vF,{shapeType:r,elementProps:f})}return l?R.createElement(Jr,{className:i},u):u}function C_(e,t){return t!=null&&"trapezoids"in e.props}function P_(e,t){return t!=null&&"sectors"in e.props}function jy(e,t){return t!=null&&"points"in e.props}function $6e(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function M6e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function I6e(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function L6e(e,t){var r;return C_(e,t)?r=$6e:P_(e,t)?r=M6e:jy(e,t)&&(r=I6e),r}function D6e(e,t){var r;return C_(e,t)?r="trapezoids":P_(e,t)?r="sectors":jy(e,t)&&(r="points"),r}function F6e(e,t){if(C_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(P_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return jy(e,t)?t.payload:{}}function B6e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=D6e(r,t),a=F6e(r,t),i=n.filter(function(c,u){var d=oy(a,c),f=r.props[s].filter(function(v){var p=L6e(r,t);return p(v,t)}),h=r.props[s].indexOf(f[f.length-1]),g=u===h;return d&&g}),l=n.indexOf(i[i.length-1]);return l}var U6e=Math.ceil,z6e=Math.max;function q6e(e,t,r,n){for(var s=-1,a=z6e(U6e((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var W6e=q6e,V6e=UK,xF=1/0,H6e=17976931348623157e292;function K6e(e){if(!e)return e===0?e:0;if(e=V6e(e),e===xF||e===-xF){var t=e<0?-1:1;return t*H6e}return e===e?e:0}var G6e=K6e,Y6e=W6e,J6e=g_,sk=G6e;function X6e(e){return function(t,r,n){return n&&typeof n!="number"&&J6e(t,r,n)&&(r=n=void 0),t=sk(t),r===void 0?(r=t,t=0):r=sk(r),n=n===void 0?t<r?1:-1:sk(n),Y6e(t,r,n,e)}}var Q6e=X6e,Z6e=Q6e,e8e=Z6e(),t8e=e8e;const ww=jr(t8e);function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function bF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bF(Object(r),!0).forEach(function(n){lY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t,r){return t=r8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8e(e){var t=n8e(e,"string");return ky(t)=="symbol"?t:t+""}function n8e(e,t){if(ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8e=["Webkit","Moz","O","ms"],a8e=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=s8e.reduce(function(a,i){return wF(wF({},a),{},lY({},i+n,r))},{});return s[t]=r,s};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}function _F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(r),!0).forEach(function(n){ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uY(n.key),n)}}function o8e(e,t,r){return t&&SF(e.prototype,t),r&&SF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l8e(e,t,r){return t=Sw(t),c8e(e,cY()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function c8e(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u8e(e)}function u8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cY=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function d8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yC(e,t)}function ea(e,t,r){return t=uY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=f8e(e,"string");return _h(t)=="symbol"?t:t+""}function f8e(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h8e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=rg().domain(ww(0,c)).range([a,a+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},jF=function(t){return t.changedTouches&&!!t.changedTouches.length},Sh=function(e){function t(r){var n;return i8e(this,t),n=l8e(this,t,[r]),ea(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),ea(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),ea(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,i=s.onDragEnd,l=s.startIndex;i==null||i({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),ea(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ea(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ea(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ea(n,"handleSlideDragStart",function(s){var a=jF(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return d8e(t,e),o8e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),g=t.getIndexInRange(i,f),v=t.getIndexInRange(i,h);return{startIndex:g-g%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,i=s.tickFormatter,l=s.dataKey,c=ma(a[n],l,n);return Kt(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,i=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,v=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-f-l,u+d-f-i):p<0&&(p=Math.max(p,u-i,u-l));var y=this.getIndex({startX:i+p,endX:l+p});(y.startIndex!==h||y.endIndex!==g)&&v&&v(y),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=jF(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,i=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,v=d.onChange,p=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+h-g-u):b<0&&(b=Math.max(b,f-u)),x[i]=u+b;var w=this.getIndex(x),_=w.startIndex,S=w.endIndex,E=function(){var j=y.length-1;return i==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===j||i==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===j};this.setState(ea(ea({},i,u+b),"brushMoveStartX",n.pageX),function(){v&&E()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var g=l[h];s==="startX"&&g>=u||s==="endX"&&g<=c||this.setState(ea({},s,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=m.Children.only(u);return f?R.cloneElement(f,{x:s,y:a,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,v=c.data,p=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),b=ak(ak({},Gt(this.props,!1)),{},{x,y:u,width:d,height:f}),w=g||"Min value: ".concat((a=v[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=v[y])===null||i===void 0?void 0:i.name);return R.createElement(Jr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var a=this.props,i=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,v={pointerEvents:"none",fill:u};return R.createElement(Jr,{className:"recharts-brush-texts"},R.createElement(Qb,_w({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:i+l/2},v),this.getTextOfTick(s)),R.createElement(Qb,_w({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:i+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,v=h.endX,p=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!tt(l)||!tt(c)||!tt(u)||!tt(d)||u<=0||d<=0)return null;var w=er("recharts-brush",a),_=R.Children.count(i)===1,S=a8e("userSelect","none");return R.createElement(Jr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(p||y||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:s,y:a,width:i,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:s+1,y1:u,x2:s+i-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:s+1,y1:u+2,x2:s+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return R.isValidElement(n)?a=R.cloneElement(n,s):Kt(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return ak({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},a&&a.length?h8e({data:a,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+i-c]);var h=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,i=0,l=a-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>s?l=c:i=c}return s>=n[l]?l:i}}])}(m.PureComponent);ea(Sh,"displayName","Brush");ea(Sh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var p8e=yO;function m8e(e,t){var r;return p8e(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var g8e=m8e,y8e=mK,v8e=wp,x8e=g8e,b8e=Qs,w8e=g_;function _8e(e,t,r){var n=b8e(e)?y8e:x8e;return r&&w8e(e,t,r)&&(t=void 0),n(e,v8e(t))}var S8e=_8e;const j8e=jr(S8e);var ro=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},kF=IK;function k8e(e,t,r){t=="__proto__"&&kF?kF(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var E8e=k8e,N8e=E8e,C8e=$K,P8e=wp;function A8e(e,t){var r={};return t=P8e(t),C8e(e,function(n,s,a){N8e(r,s,t(n,s,a))}),r}var T8e=A8e;const O8e=jr(T8e);function R8e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var $8e=R8e,M8e=yO;function I8e(e,t){var r=!0;return M8e(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var L8e=I8e,D8e=$8e,F8e=L8e,B8e=wp,U8e=Qs,z8e=g_;function q8e(e,t,r){var n=U8e(e)?D8e:F8e;return r&&z8e(e,t,r)&&(t=void 0),n(e,B8e(t))}var W8e=q8e;const V8e=jr(W8e);var H8e=["x","y"];function Ey(e){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(e)}function vC(){return vC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vC.apply(this,arguments)}function EF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EF(Object(r),!0).forEach(function(n){K8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K8e(e,t,r){return t=G8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8e(e){var t=Y8e(e,"string");return Ey(t)=="symbol"?t:t+""}function Y8e(e,t){if(Ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J8e(e,t){if(e==null)return{};var r=X8e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q8e(e,t){var r=e.x,n=e.y,s=J8e(e,H8e),a="".concat(r),i=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return cm(cm(cm(cm(cm({},t),s),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function NF(e){return R.createElement(R6e,vC({shapeType:"rectangle",propTransformer:Q8e,activeClassName:"recharts-active-bar"},e))}var Z8e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,s):(a||rd(),r)}},eBe=["value","background"],dY;function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function tBe(e,t){if(e==null)return{};var r=rBe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(this,arguments)}function CF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CF(Object(r),!0).forEach(function(n){Zl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hY(n.key),n)}}function sBe(e,t,r){return t&&PF(e.prototype,t),r&&PF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aBe(e,t,r){return t=kw(t),iBe(e,fY()?Reflect.construct(t,r||[],kw(e).constructor):t.apply(e,r))}function iBe(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oBe(e)}function oBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fY=function(){return!!e})()}function kw(e){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(e)}function lBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},xC(e,t)}function Zl(e,t,r){return t=hY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=cBe(e,"string");return jh(t)=="symbol"?t:t+""}function cBe(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dc=function(e){function t(){var r;nBe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=aBe(this,t,[].concat(s)),Zl(r,"state",{isAnimationFinished:!1}),Zl(r,"id",bv("recharts-bar-")),Zl(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),Zl(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return lBe(t,e),sBe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,i=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Gt(this.props,!1);return n&&n.map(function(f,h){var g=h===c,v=g?u:i,p=pn(pn(pn({},d),f),{},{isActive:g,option:v,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return R.createElement(Jr,jw({className:"recharts-bar-rectangle"},Db(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),R.createElement(NF,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,i=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return R.createElement(rl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,p=a.map(function(y,x){var b=h&&h[x];if(b){var w=Aa(b.x,y.x),_=Aa(b.y,y.y),S=Aa(b.width,y.width),E=Aa(b.height,y.height);return pn(pn({},y),{},{x:w(v),y:_(v),width:S(v),height:E(v)})}if(i==="horizontal"){var k=Aa(0,y.height),j=k(v);return pn(pn({},y),{},{y:y.y+y.height-j,height:j})}var N=Aa(0,y.width),C=N(v);return pn(pn({},y),{},{width:C})});return R.createElement(Jr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,i=this.state.prevData;return a&&s&&s.length&&(!i||!oy(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,i=s.dataKey,l=s.activeIndex,c=Gt(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=tBe(u,eBe);if(!f)return null;var g=pn(pn(pn(pn(pn({},h),{},{fill:"#eee"},f),c),Db(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(NF,jw({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=gi(d,N_);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,g=function(y,x){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:ma(y,x)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(Jr,v,f.map(function(p){return R.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,v=n.background,p=n.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=er("recharts-bar",i),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,S=Jt(p)?this.id:p;return R.createElement(Jr,{className:x},b||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,R.createElement(Jr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!g||y)&&Ua.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(m.PureComponent);dY=Dc;Zl(Dc,"displayName","Bar");Zl(Dc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zl(Dc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,g=LLe(n,r);if(!g)return null;var v=t.layout,p=r.type.defaultProps,y=p!==void 0?pn(pn({},p),r.props):r.props,x=y.dataKey,b=y.children,w=y.minPointSize,_=v==="horizontal"?i:a,S=u?_.scale.domain():null,E=VLe({numericAxis:_}),k=gi(b,y_),j=f.map(function(N,C){var P,O,F,M,q,B;u?P=DLe(u[d+C],S):(P=ma(N,x),Array.isArray(P)||(P=[E,P]));var I=Z8e(w,dY.defaultProps.minPointSize)(P[1],C);if(v==="horizontal"){var A,z=[i.scale(P[0]),i.scale(P[1])],re=z[0],V=z[1];O=CD({axis:a,ticks:l,bandSize:s,offset:g.offset,entry:N,index:C}),F=(A=V??re)!==null&&A!==void 0?A:void 0,M=g.size;var te=re-V;if(q=Number.isNaN(te)?0:te,B={x:O,y:i.y,width:M,height:i.height},Math.abs(I)>0&&Math.abs(q)<Math.abs(I)){var X=fi(q||I)*(Math.abs(I)-Math.abs(q));F-=X,q+=X}}else{var ye=[a.scale(P[0]),a.scale(P[1])],oe=ye[0],me=ye[1];if(O=oe,F=CD({axis:i,ticks:c,bandSize:s,offset:g.offset,entry:N,index:C}),M=me-oe,q=g.size,B={x:a.x,y:F,width:a.width,height:q},Math.abs(I)>0&&Math.abs(M)<Math.abs(I)){var D=fi(M||I)*(Math.abs(I)-Math.abs(M));M+=D}}return pn(pn(pn({},N),{},{x:O,y:F,width:M,height:q,value:u?P:P[1],payload:N,background:B},k&&k[C]&&k[C].props),{},{tooltipPayload:[KG(r,N)],tooltipPosition:{x:O+M/2,y:F+q/2}})});return pn({data:j,layout:v},h)});function Ny(e){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ny(e)}function uBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pY(n.key),n)}}function dBe(e,t,r){return t&&AF(e.prototype,t),r&&AF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TF(Object(r),!0).forEach(function(n){A_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A_(e,t,r){return t=pY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=fBe(e,"string");return Ny(t)=="symbol"?t:t+""}function fBe(e,t){if(Ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mY=function(t,r,n,s,a){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!sa(u,Dc);return d.reduce(function(g,v){var p=r[v],y=p.orientation,x=p.domain,b=p.padding,w=b===void 0?{}:b,_=p.mirror,S=p.reversed,E="".concat(y).concat(_?"Mirror":""),k,j,N,C,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=x[1]-x[0],F=1/0,M=p.categoricalDomain.sort();if(M.forEach(function(ye,oe){oe>0&&(F=Math.min((ye||0)-(M[oe-1]||0),F))}),Number.isFinite(F)){var q=F/O,B=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(k=q*B/2),p.padding==="no-gap"){var I=ed(t.barCategoryGap,q*B),A=q*B/2;k=A-I-(A-I)/B*I}}}s==="xAxis"?j=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:s==="yAxis"?j=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:j=p.range,S&&(j=[j[1],j[0]]);var z=MLe(p,a,h),re=z.scale,V=z.realScaleType;re.domain(x).range(j),ILe(re);var te=WLe(re,oi(oi({},p),{},{realScaleType:V}));s==="xAxis"?(P=y==="top"&&!_||y==="bottom"&&_,N=n.left,C=f[E]-P*p.height):s==="yAxis"&&(P=y==="left"&&!_||y==="right"&&_,N=f[E]-P*p.width,C=n.top);var X=oi(oi(oi({},p),te),{},{realScaleType:V,x:N,y:C,scale:re,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return X.bandSize=fw(X,te),!p.hide&&s==="xAxis"?f[E]+=(P?-1:1)*X.height:p.hide||(f[E]+=(P?-1:1)*X.width),oi(oi({},g),{},A_({},v,X))},{})},gY=function(t,r){var n=t.x,s=t.y,a=r.x,i=r.y;return{x:Math.min(n,a),y:Math.min(s,i),width:Math.abs(a-n),height:Math.abs(i-s)}},hBe=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return gY({x:r,y:n},{x:s,y:a})},yY=function(){function e(t){uBe(this,e),this.scale=t}return dBe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();A_(yY,"EPS",1e-4);var GO=function(t){var r=Object.keys(t).reduce(function(n,s){return oi(oi({},n),{},A_({},s,yY.create(t[s])))},{});return oi(oi({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,l=a.position;return O8e(s,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(s){return V8e(s,function(a,i){return r[i].isInRange(a)})}})};function pBe(e){return(e%180+180)%180}var mBe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pBe(s),i=a*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},gBe=bje(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vY=m.createContext(void 0),xY=m.createContext(void 0),bY=m.createContext(void 0),yBe=m.createContext({}),wY=m.createContext(void 0),_Y=m.createContext(0),SY=m.createContext(0),OF=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=gBe(a);return R.createElement(vY.Provider,{value:n},R.createElement(xY.Provider,{value:s},R.createElement(yBe.Provider,{value:a},R.createElement(bY.Provider,{value:d},R.createElement(wY.Provider,{value:i},R.createElement(_Y.Provider,{value:u},R.createElement(SY.Provider,{value:c},l)))))))},vBe=function(){return m.useContext(wY)},jY=function(t){var r=m.useContext(vY);r==null&&rd();var n=r[t];return n==null&&rd(),n},kY=function(t){var r=m.useContext(xY);r==null&&rd();var n=r[t];return n==null&&rd(),n},xBe=function(){var t=m.useContext(bY);return t},EY=function(){return m.useContext(SY)},NY=function(){return m.useContext(_Y)};function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function bBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PY(n.key),n)}}function _Be(e,t,r){return t&&wBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SBe(e,t,r){return t=Ew(t),jBe(e,CY()?Reflect.construct(t,r||[],Ew(e).constructor):t.apply(e,r))}function jBe(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kBe(e)}function kBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CY=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function EBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bC(e,t)}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bC(e,t)}function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(n){YO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YO(e,t,r){return t=PY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PY(e){var t=NBe(e,"string");return kh(t)=="symbol"?t:t+""}function NBe(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CBe(e,t){return OBe(e)||TBe(e,t)||ABe(e,t)||PBe()}function PBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ABe(e,t){if(e){if(typeof e=="string")return MF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MF(e,t)}}function MF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function OBe(e){if(Array.isArray(e))return e}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(this,arguments)}var RBe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):Kt(t)?n=t(r):n=R.createElement("line",wC({},r,{className:"recharts-reference-line-line"})),n},$Be=function(t,r,n,s,a,i,l,c,u){var d=a.x,f=a.y,h=a.width,g=a.height;if(n){var v=u.y,p=t.y.apply(v,{position:i});if(ro(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(r){var x=u.x,b=t.x.apply(x,{position:i});if(ro(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+g},{x:b,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,S=_.map(function(E){return t.apply(E,{position:i})});return ro(u,"discard")&&j8e(S,function(E){return!t.isInRange(E)})?null:S}return null};function MBe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=vBe(),d=jY(s),f=kY(a),h=xBe();if(!u||!h)return null;Mu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=GO({x:d.scale,y:f.scale}),v=Tn(t),p=Tn(r),y=n&&n.length===2,x=$Be(g,v,p,y,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=CBe(x,2),w=b[0],_=w.x,S=w.y,E=b[1],k=E.x,j=E.y,N=ro(e,"hidden")?"url(#".concat(u,")"):void 0,C=$F($F({clipPath:N},Gt(e,!0)),{},{x1:_,y1:S,x2:k,y2:j});return R.createElement(Jr,{className:er("recharts-reference-line",l)},RBe(i,C),is.renderCallByParent(e,hBe({x1:_,y1:S,x2:k,y2:j})))}var JO=function(e){function t(){return bBe(this,t),SBe(this,t,arguments)}return EBe(t,e),_Be(t,[{key:"render",value:function(){return R.createElement(MBe,this.props)}}])}(R.Component);YO(JO,"displayName","ReferenceLine");YO(JO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _C(){return _C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_C.apply(this,arguments)}function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(n){T_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TY(n.key),n)}}function DBe(e,t,r){return t&&LBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FBe(e,t,r){return t=Nw(t),BBe(e,AY()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function BBe(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UBe(e)}function UBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AY=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function zBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SC(e,t)}function SC(e,t){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SC(e,t)}function T_(e,t,r){return t=TY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=qBe(e,"string");return Eh(t)=="symbol"?t:t+""}function qBe(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WBe=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,i=GO({x:s.scale,y:a.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return ro(t,"discard")&&!i.isInRange(l)?null:l},O_=function(e){function t(){return IBe(this,t),FBe(this,t,arguments)}return zBe(t,e),DBe(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=Tn(s),d=Tn(a);if(Mu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=WBe(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,p=v.shape,y=v.className,x=ro(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=LF(LF({clipPath:x},Gt(this.props,!0)),{},{cx:h,cy:g});return R.createElement(Jr,{className:er("recharts-reference-dot",y)},t.renderDot(p,b),is.renderCallByParent(this.props,{x:h-i,y:g-i,width:2*i,height:2*i}))}}])}(R.Component);T_(O_,"displayName","ReferenceDot");T_(O_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});T_(O_,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Kt(e)?r=e(t):r=R.createElement(KO,_C({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(this,arguments)}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function DF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DF(Object(r),!0).forEach(function(n){R_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RY(n.key),n)}}function KBe(e,t,r){return t&&HBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GBe(e,t,r){return t=Cw(t),YBe(e,OY()?Reflect.construct(t,r||[],Cw(e).constructor):t.apply(e,r))}function YBe(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JBe(e)}function JBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OY=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cw(e)}function XBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kC(e,t)}function R_(e,t,r){return t=RY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=QBe(e,"string");return Nh(t)=="symbol"?t:t+""}function QBe(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZBe=function(t,r,n,s,a){var i=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=GO({x:d.scale,y:f.scale}),g={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ro(a,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:gY(g,v)},$_=function(e){function t(){return VBe(this,t),GBe(this,t,arguments)}return XBe(t,e),KBe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Mu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tn(s),h=Tn(a),g=Tn(i),v=Tn(l),p=this.props.shape;if(!f&&!h&&!g&&!v&&!p)return null;var y=ZBe(f,h,g,v,this.props);if(!y&&!p)return null;var x=ro(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(Jr,{className:er("recharts-reference-area",c)},t.renderRect(p,FF(FF({clipPath:x},Gt(this.props,!0)),y)),is.renderCallByParent(this.props,y))}}])}(R.Component);R_($_,"displayName","ReferenceArea");R_($_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});R_($_,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Kt(e)?r=e(t):r=R.createElement(HO,jC({},t,{className:"recharts-reference-area-rect"})),r});function $Y(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function eUe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mBe(n,r)}function tUe(e,t,r){var n=r==="width",s=e.x,a=e.y,i=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+i:a+l}:{start:n?s+i:a+l,end:n?s:a}}function Pw(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function rUe(e,t){return $Y(e,t+1)}function nUe(e,t,r,n,s){for(var a=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:$Y(n,u)};var p=c,y,x=function(){return y===void 0&&(y=r(v,p)),y},b=v.coordinate,w=c===0||Pw(e,b,x,d,l);w||(c=0,d=i,u+=1),w&&(d=b+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(n){sUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sUe(e,t,r){return t=aUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aUe(e){var t=iUe(e,"string");return Cy(t)=="symbol"?t:t+""}function iUe(e,t){if(Cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oUe(e,t,r,n,s){for(var a=(n||[]).slice(),i=a.length,l=t.start,c=t.end,u=function(h){var g=a[h],v,p=function(){return v===void 0&&(v=r(g,h)),v};if(h===i-1){var y=e*(g.coordinate+e*p()/2-c);a[h]=g=ss(ss({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else a[h]=g=ss(ss({},g),{},{tickCoord:g.coordinate});var x=Pw(e,g.tickCoord,p,l,c);x&&(c=g.tickCoord-e*(p()/2+s),a[h]=ss(ss({},g),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return a}function lUe(e,t,r,n,s,a){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=ss(ss({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var g=Pw(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+s),i[l-1]=ss(ss({},d),{},{isShow:!0}))}for(var v=a?l-1:l,p=function(b){var w=i[b],_,S=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var E=e*(w.coordinate-e*S()/2-c);i[b]=w=ss(ss({},w),{},{tickCoord:E<0?w.coordinate-E*e:w.coordinate})}else i[b]=w=ss(ss({},w),{},{tickCoord:w.coordinate});var k=Pw(e,w.tickCoord,S,c,u);k&&(c=w.tickCoord+e*(S()/2+s),i[b]=ss(ss({},w),{},{isShow:!0}))},y=0;y<v;y++)p(y);return i}function cUe(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(tt(c)||Fo.isSsr)return rUe(s,typeof c=="number"&&tt(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?tg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var S=Kt(u)?u(w.value,_):w.value;return g==="width"?eUe(tg(S,{fontSize:t,letterSpacing:r}),v,f):tg(S,{fontSize:t,letterSpacing:r})[g]},y=s.length>=2?fi(s[1].coordinate-s[0].coordinate):1,x=tUe(a,y,g);return c==="equidistantPreserveStart"?nUe(y,x,p,s,i):(c==="preserveStart"||c==="preserveStartEnd"?h=lUe(y,x,p,s,i,c==="preserveStartEnd"):h=oUe(y,x,p,s,i),h.filter(function(b){return b.isShow}))}var uUe=["viewBox"],dUe=["viewBox"],fUe=["ticks"];function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){XO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ik(e,t){if(e==null)return{};var r=hUe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IY(n.key),n)}}function mUe(e,t,r){return t&&zF(e.prototype,t),r&&zF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gUe(e,t,r){return t=Aw(t),yUe(e,MY()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function yUe(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vUe(e)}function vUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MY=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function xUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EC(e,t)}function XO(e,t,r){return t=IY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=bUe(e,"string");return Ch(t)=="symbol"?t:t+""}function bUe(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M_=function(e){function t(r){var n;return pUe(this,t),n=gUe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return xUe(t,e),mUe(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,i=ik(n,uUe),l=this.props,c=l.viewBox,u=ik(l,dUe);return!Af(a,c)||!Af(i,u)||!Af(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,i=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,g,v,p,y,x,b,w=f?-1:1,_=n.tickSize||d,S=tt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=v=n.coordinate,y=i+ +!f*c,p=y-w*_,b=p-w*h,x=S;break;case"left":p=y=n.coordinate,v=a+ +!f*l,g=v-w*_,x=g-w*h,b=S;break;case"right":p=y=n.coordinate,v=a+ +f*l,g=v+w*_,x=g+w*h,b=S;break;default:g=v=n.coordinate,y=i+ +f*c,p=y+w*_,b=p+w*h,x=S;break}return{line:{x1:g,y1:p,x2:v,y2:y},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i;switch(s){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ms(ms(ms({},Gt(this.props,!1)),Gt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ms(ms({},f),{},{x1:s,y1:a+h*l,x2:s+i,y2:a+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=ms(ms({},f),{},{x1:s+g*i,y1:a,x2:s+g*i,y2:a+l})}return R.createElement("line",ff({},f,{className:er("recharts-cartesian-axis-line",Ba(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,g=cUe(ms(ms({},this.props),{},{ticks:n}),s,a),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=Gt(this.props,!1),x=Gt(d,!1),b=ms(ms({},y),{},{fill:"none"},Gt(c,!1)),w=g.map(function(_,S){var E=i.getTickLineCoord(_),k=E.line,j=E.tick,N=ms(ms(ms(ms({textAnchor:v,verticalAnchor:p},y),{},{stroke:"none",fill:u},x),j),{},{index:S,payload:_,visibleTicksCount:g.length,tickFormatter:f});return R.createElement(Jr,ff({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Db(i.props,_,S)),c&&R.createElement("line",ff({},b,k,{className:er("recharts-cartesian-axis-tick-line",Ba(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Kt(f)?f(_.value,S):_.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,i=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,g=ik(f,fUe),v=h;return Kt(c)&&(v=h&&h.length>0?c(this.props):c(g)),i<=0||l<=0||!v||!v.length?null:R.createElement(Jr,{className:er("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),is.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var i;return R.isValidElement(n)?i=R.cloneElement(n,s):Kt(n)?i=n(s):i=R.createElement(Qb,ff({},s,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(m.Component);XO(M_,"displayName","CartesianAxis");XO(M_,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wUe=["layout","type","stroke","connectNulls","isRange","ref"],_Ue=["key"],LY;function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function DY(e,t){if(e==null)return{};var r=SUe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function qF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(r),!0).forEach(function(n){zi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BY(n.key),n)}}function kUe(e,t,r){return t&&WF(e.prototype,t),r&&WF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EUe(e,t,r){return t=Tw(t),NUe(e,FY()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function NUe(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CUe(e)}function CUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FY=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function PUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NC(e,t)}function zi(e,t,r){return t=BY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=AUe(e,"string");return Ph(t)=="symbol"?t:t+""}function AUe(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cl=function(e){function t(){var r;jUe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=EUe(this,t,[].concat(s)),zi(r,"state",{isAnimationFinished:!0}),zi(r,"id",bv("recharts-area-")),zi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Kt(i)&&i()}),zi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Kt(i)&&i()}),r}return PUe(t,e),kUe(t,[{key:"renderDots",value:function(n,s,a){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Gt(this.props,!1),g=Gt(u,!0),v=d.map(function(y,x){var b=kl(kl(kl({key:"dot-".concat(x),r:3},h),g),{},{index:x,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,b)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return R.createElement(Jr,yu({className:"recharts-area-dots"},p),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,a=s.baseLine,i=s.points,l=s.strokeWidth,c=i[0].x,u=i[i.length-1].x,d=n*Math.abs(c-u),f=Ql(i.map(function(h){return h.y||0}));return tt(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ql(a.map(function(h){return h.y||0})),f)),tt(f)?R.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,a=s.baseLine,i=s.points,l=s.strokeWidth,c=i[0].y,u=i[i.length-1].y,d=n*Math.abs(c-u),f=Ql(i.map(function(h){return h.x||0}));return tt(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ql(a.map(function(h){return h.x||0})),f)),tt(f)?R.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,a,i){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var g=DY(l,wUe);return R.createElement(Jr,{clipPath:a?"url(#clipPath-".concat(i,")"):null},R.createElement(sg,yu({},Gt(g,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&R.createElement(sg,yu({},Gt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&R.createElement(sg,yu({},Gt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var a=this,i=this.props,l=i.points,c=i.baseLine,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,g=i.animationId,v=this.state,p=v.prevPoints,y=v.prevBaseLine;return R.createElement(rl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(p){var w=p.length/l.length,_=l.map(function(j,N){var C=Math.floor(N*w);if(p[C]){var P=p[C],O=Aa(P.x,j.x),F=Aa(P.y,j.y);return kl(kl({},j),{},{x:O(b),y:F(b)})}return j}),S;if(tt(c)&&typeof c=="number"){var E=Aa(y,c);S=E(b)}else if(Jt(c)||yp(c)){var k=Aa(y,0);S=k(b)}else S=c.map(function(j,N){var C=Math.floor(N*w);if(y[C]){var P=y[C],O=Aa(P.x,j.x),F=Aa(P.y,j.y);return kl(kl({},j),{},{x:O(b),y:F(b)})}return j});return a.renderAreaStatically(_,S,n,s)}return R.createElement(Jr,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(b))),R.createElement(Jr,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var a=this.props,i=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&i&&i.length&&(!d&&h>0||!oy(d,i)||!oy(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(i,l,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,i=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,g=s.width,v=s.height,p=s.isAnimationActive,y=s.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=er("recharts-area",c),_=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,E=_||S,k=Jt(y)?this.id:y,j=(n=Gt(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=j.r,C=N===void 0?3:N,P=j.strokeWidth,O=P===void 0?2:P,F=kke(i)?i:{},M=F.clipDot,q=M===void 0?!0:M,B=C*2+O;return R.createElement(Jr,{className:w},_||S?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(k)},R.createElement("rect",{x:_?d:d-g/2,y:S?u:u-v/2,width:_?g:g*2,height:S?v:v*2})),!q&&R.createElement("clipPath",{id:"clipPath-dots-".concat(k)},R.createElement("rect",{x:d-B/2,y:u-B/2,width:g+B,height:v+B}))):null,b?null:this.renderArea(E,k),(i||b)&&this.renderDots(E,q,k),(!p||x)&&Ua.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(m.PureComponent);LY=cl;zi(cl,"displayName","Area");zi(cl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zi(cl,"getBaseValue",function(e,t,r,n){var s=e.layout,a=e.baseValue,i=t.props.baseValue,l=i??a;if(tt(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});zi(cl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,g=t.layout,v=u&&u.length,p=LY.getBaseValue(t,r,n,s),y=g==="horizontal",x=!1,b=f.map(function(_,S){var E;v?E=u[d+S]:(E=ma(_,c),Array.isArray(E)?x=!0:E=[p,E]);var k=E[1]==null||v&&ma(_,c)==null;return y?{x:ND({axis:n,ticks:a,bandSize:l,entry:_,index:S}),y:k?null:s.scale(E[1]),value:E,payload:_}:{x:k?null:n.scale(E[1]),y:ND({axis:s,ticks:i,bandSize:l,entry:_,index:S}),value:E,payload:_}}),w;return v||x?w=b.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:S!=null&&_.y!=null?s.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):w=y?s.scale(p):n.scale(p),kl({points:b,baseLine:w,layout:g,isRange:x},h)});zi(cl,"renderDotItem",function(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(Kt(e))r=e(t);else{var n=er("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,a=DY(t,_Ue);r=R.createElement(KO,yu({},a,{key:s,className:n}))}return r});function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function TUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qY(n.key),n)}}function RUe(e,t,r){return t&&OUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ue(e,t,r){return t=Ow(t),MUe(e,UY()?Reflect.construct(t,r||[],Ow(e).constructor):t.apply(e,r))}function MUe(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IUe(e)}function IUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UY=function(){return!!e})()}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(e)}function LUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CC(e,t)}function zY(e,t,r){return t=qY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=DUe(e,"string");return Ah(t)=="symbol"?t:t+""}function DUe(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PC.apply(this,arguments)}function FUe(e){var t=e.xAxisId,r=EY(),n=NY(),s=jY(t);return s==null?null:R.createElement(M_,PC({},s,{className:er("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return gu(i,!0)}}))}var gd=function(e){function t(){return TUe(this,t),$Ue(this,t,arguments)}return LUe(t,e),RUe(t,[{key:"render",value:function(){return R.createElement(FUe,this.props)}}])}(R.Component);zY(gd,"displayName","XAxis");zY(gd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function BUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HY(n.key),n)}}function zUe(e,t,r){return t&&UUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qUe(e,t,r){return t=Rw(t),WUe(e,WY()?Reflect.construct(t,r||[],Rw(e).constructor):t.apply(e,r))}function WUe(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(e)}function VUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WY=function(){return!!e})()}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(e)}function HUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AC(e,t)}function AC(e,t){return AC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},AC(e,t)}function VY(e,t,r){return t=HY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HY(e){var t=KUe(e,"string");return Th(t)=="symbol"?t:t+""}function KUe(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TC.apply(this,arguments)}var GUe=function(t){var r=t.yAxisId,n=EY(),s=NY(),a=kY(r);return a==null?null:R.createElement(M_,TC({},a,{className:er("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return gu(l,!0)}}))},kp=function(e){function t(){return BUe(this,t),qUe(this,t,arguments)}return HUe(t,e),zUe(t,[{key:"render",value:function(){return R.createElement(GUe,this.props)}}])}(R.Component);VY(kp,"displayName","YAxis");VY(kp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VF(e){return QUe(e)||XUe(e)||JUe(e)||YUe()}function YUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JUe(e,t){if(e){if(typeof e=="string")return OC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(e,t)}}function XUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QUe(e){if(Array.isArray(e))return OC(e)}function OC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RC=function(t,r,n,s,a){var i=gi(t,JO),l=gi(t,O_),c=[].concat(VF(i),VF(l)),u=gi(t,$_),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===n&&ro(y.props,"extendDomain")&&tt(y.props[f])){var x=y.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===n&&ro(y.props,"extendDomain")&&tt(y.props[g])&&tt(y.props[v])){var x=y.props[g],b=y.props[v];return[Math.min(p[0],x,b),Math.max(p[1],x,b)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,y){return tt(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},KY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,g,v){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,g),!0;case 6:return y.fn.call(y.context,d,f,h,g,v),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var _=y.length,S;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return i(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,g);else{for(var p=0,y=[],x=v.length;p<x;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&y.push(v[p]);y.length?this._events[g]=y.length===1?y[0]:y:i(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(KY);var ZUe=KY.exports;const e7e=jr(ZUe);var ok=new e7e,lk="recharts.syncMouseEvents";function Py(e){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(e)}function t7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GY(n.key),n)}}function n7e(e,t,r){return t&&r7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ck(e,t,r){return t=GY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=s7e(e,"string");return Py(t)=="symbol"?t:t+""}function s7e(e,t){if(Py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a7e=function(){function e(){t7e(this,e),ck(this,"activeIndex",0),ck(this,"coordinateList",[]),ck(this,"layout","horizontal")}return n7e(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,i=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function i7e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&tt(n)&&tt(s))return!0}return!1}function o7e(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function YY(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,i=Jn(t,r,n,s),l=Jn(t,r,n,a);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function l7e(e,t,r){var n,s,a,i;if(e==="horizontal")n=t.x,a=n,s=r.top,i=r.top+r.height;else if(e==="vertical")s=t.y,i=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Jn(l,c,u,f),g=Jn(l,c,d,f);n=h.x,s=h.y,a=g.x,i=g.y}else return YY(t);return[{x:n,y:s},{x:a,y:i}]}function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}function HF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(r),!0).forEach(function(n){c7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c7e(e,t,r){return t=u7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7e(e){var t=d7e(e,"string");return Ay(t)=="symbol"?t:t+""}function d7e(e,t){if(Ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f7e(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!i||h!=="ScatterChart"&&s!=="axis")return null;var v,p=sg;if(h==="ScatterChart")v=i,p=KFe;else if(h==="BarChart")v=o7e(f,i,c,d),p=HO;else if(f==="radial"){var y=YY(i),x=y.cx,b=y.cy,w=y.radius,_=y.startAngle,S=y.endAngle;v={cx:x,cy:b,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},p=JG}else v={points:l7e(f,i,c)},p=sg;var E=L0(L0(L0(L0({stroke:"#ccc",pointerEvents:"none"},c),v),Gt(g,!1)),{},{payload:l,payloadIndex:u,className:er("recharts-tooltip-cursor",g.className)});return m.isValidElement(g)?m.cloneElement(g,E):m.createElement(p,E)}var h7e=["item"],p7e=["children","className","width","height","style","compact","title","desc"];function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function KF(e,t){return y7e(e)||g7e(e,t)||XY(e,t)||m7e()}function m7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function y7e(e){if(Array.isArray(e))return e}function GF(e,t){if(e==null)return{};var r=v7e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QY(n.key),n)}}function w7e(e,t,r){return t&&b7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _7e(e,t,r){return t=$w(t),S7e(e,JY()?Reflect.construct(t,r||[],$w(e).constructor):t.apply(e,r))}function S7e(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j7e(e)}function j7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JY=function(){return!!e})()}function $w(e){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$w(e)}function k7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$C(e,t)}function Rh(e){return C7e(e)||N7e(e)||XY(e)||E7e()}function E7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function N7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C7e(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(n){At(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function At(e,t,r){return t=QY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=P7e(e,"string");return Oh(t)=="symbol"?t:t+""}function P7e(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A7e={xAxis:["bottom","top"],yAxis:["left","right"]},T7e={width:"100%",height:"100%"},ZY={x:0,y:0};function D0(e){return e}var O7e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},R7e=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var i=a.coordinate,l=s.radius;return Ne(Ne(Ne({},s),Jn(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,u=s.angle;return Ne(Ne(Ne({},s),Jn(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return ZY},I_=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Rh(l),Rh(u)):l},[]);return i.length>0?i:t&&t.length&&tt(s)&&tt(a)?t.slice(s,a+1):[]};function eJ(e){return e==="number"?[0,"auto"]:void 0}var IC=function(t,r,n,s){var a=t.graphicalItems,i=t.tooltipAxis,l=I_(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var g=f===void 0?l:f;h=Ib(g,i.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Rh(c),[KG(u,h)]):c},[])},JF=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},i=O7e(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=PLe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=IC(t,r,d,f),g=R7e(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},$7e=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,g=VG(d,a);return n.reduce(function(v,p){var y,x=p.type.defaultProps!==void 0?Ne(Ne({},p.type.defaultProps),p.props):p.props,b=x.type,w=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,k=x.ticks,j=x.includeHidden,N=x[i];if(v[N])return v;var C=I_(t.data,{graphicalItems:s.filter(function(te){var X,ye=i in te.props?te.props[i]:(X=te.type.defaultProps)===null||X===void 0?void 0:X[i];return ye===N}),dataStartIndex:c,dataEndIndex:u}),P=C.length,O,F,M;i7e(x.domain,_,b)&&(O=tC(x.domain,null,_),g&&(b==="number"||E!=="auto")&&(M=ng(C,w,"category")));var q=eJ(b);if(!O||O.length===0){var B,I=(B=x.domain)!==null&&B!==void 0?B:q;if(w){if(O=ng(C,w,b),b==="category"&&g){var A=gke(O);S&&A?(F=O,O=ww(0,P)):S||(O=TD(I,O,p).reduce(function(te,X){return te.indexOf(X)>=0?te:[].concat(Rh(te),[X])},[]))}else if(b==="category")S?O=O.filter(function(te){return te!==""&&!Jt(te)}):O=TD(I,O,p).reduce(function(te,X){return te.indexOf(X)>=0||X===""||Jt(X)?te:[].concat(Rh(te),[X])},[]);else if(b==="number"){var z=$Le(C,s.filter(function(te){var X,ye,oe=i in te.props?te.props[i]:(X=te.type.defaultProps)===null||X===void 0?void 0:X[i],me="hide"in te.props?te.props.hide:(ye=te.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return oe===N&&(j||!me)}),w,a,d);z&&(O=z)}g&&(b==="number"||E!=="auto")&&(M=ng(C,w,"category"))}else g?O=ww(0,P):l&&l[N]&&l[N].hasStack&&b==="number"?O=h==="expand"?[0,1]:HG(l[N].stackGroups,c,u):O=WG(C,s.filter(function(te){var X=i in te.props?te.props[i]:te.type.defaultProps[i],ye="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return X===N&&(j||!ye)}),b,d,!0);if(b==="number")O=RC(f,O,N,a,k),I&&(O=tC(I,O,_));else if(b==="category"&&I){var re=I,V=O.every(function(te){return re.indexOf(te)>=0});V&&(O=re)}}return Ne(Ne({},v),{},At({},N,Ne(Ne({},x),{},{axisType:a,domain:O,categoricalDomain:M,duplicateDomain:F,originalDomain:(y=x.domain)!==null&&y!==void 0?y:q,isCategorical:g,layout:d})))},{})},M7e=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=I_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,v=VG(d,a),p=-1;return n.reduce(function(y,x){var b=x.type.defaultProps!==void 0?Ne(Ne({},x.type.defaultProps),x.props):x.props,w=b[i],_=eJ("number");if(!y[w]){p++;var S;return v?S=ww(0,g):l&&l[w]&&l[w].hasStack?(S=HG(l[w].stackGroups,c,u),S=RC(f,S,w,a)):(S=tC(_,WG(h,n.filter(function(E){var k,j,N=i in E.props?E.props[i]:(k=E.type.defaultProps)===null||k===void 0?void 0:k[i],C="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return N===w&&!C}),"number",d),s.defaultProps.allowDataOverflow),S=RC(f,S,w,a)),Ne(Ne({},y),{},At({},w,Ne(Ne({axisType:a},s.defaultProps),{},{hide:!0,orientation:Ba(A7e,"".concat(a,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:v,layout:d})))}return y},{})},I7e=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=gi(d,a),g={};return h&&h.length?g=$7e(t,{axes:h,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(g=M7e(t,{Axis:a,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},L7e=function(t){var r=Vd(t),n=gu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vO(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:fw(r,n)}},XF=function(t){var r=t.children,n=t.defaultShowTooltip,s=sa(r,Sh),a=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},D7e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Do(r&&r.type);return n&&n.indexOf("Bar")>=0})},QF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},F7e=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,i=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=sa(f,Sh),v=sa(f,Tf),p=Object.keys(c).reduce(function(S,E){var k=c[E],j=k.orientation;return!k.mirror&&!k.hide?Ne(Ne({},S),{},At({},j,S[j]+k.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(i).reduce(function(S,E){var k=i[E],j=k.orientation;return!k.mirror&&!k.hide?Ne(Ne({},S),{},At({},j,Ba(S,"".concat(j))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=Ne(Ne({},y),p),b=x.bottom;g&&(x.bottom+=g.props.height||Sh.defaultProps.height),v&&r&&(x=OLe(x,s,n,r));var w=u-x.left-x.right,_=d-x.top-x.bottom;return Ne(Ne({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},B7e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},tJ=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,x){var b=x.graphicalItems,w=x.stackGroups,_=x.offset,S=x.updateId,E=x.dataStartIndex,k=x.dataEndIndex,j=y.barSize,N=y.layout,C=y.barGap,P=y.barCategoryGap,O=y.maxBarSize,F=QF(N),M=F.numericAxisName,q=F.cateAxisName,B=D7e(b),I=[];return b.forEach(function(A,z){var re=I_(y.data,{graphicalItems:[A],dataStartIndex:E,dataEndIndex:k}),V=A.type.defaultProps!==void 0?Ne(Ne({},A.type.defaultProps),A.props):A.props,te=V.dataKey,X=V.maxBarSize,ye=V["".concat(M,"Id")],oe=V["".concat(q,"Id")],me={},D=c.reduce(function(Ee,ue){var ge=x["".concat(ue.axisType,"Map")],U=V["".concat(ue.axisType,"Id")];ge&&ge[U]||ue.axisType==="zAxis"||rd();var ee=ge[U];return Ne(Ne({},Ee),{},At(At({},ue.axisType,ee),"".concat(ue.axisType,"Ticks"),gu(ee)))},me),$=D[q],H=D["".concat(q,"Ticks")],G=w&&w[ye]&&w[ye].hasStack&&HLe(A,w[ye].stackGroups),le=Do(A.type).indexOf("Bar")>=0,J=fw($,H),Z=[],K=B&&ALe({barSize:j,stackGroups:w,totalSize:B7e(D,q)});if(le){var de,ae,xe=Jt(X)?O:X,ke=(de=(ae=fw($,H,!0))!==null&&ae!==void 0?ae:xe)!==null&&de!==void 0?de:0;Z=TLe({barGap:C,barCategoryGap:P,bandSize:ke!==J?ke:J,sizeList:K[oe],maxBarSize:xe}),ke!==J&&(Z=Z.map(function(Ee){return Ne(Ne({},Ee),{},{position:Ne(Ne({},Ee.position),{},{offset:Ee.position.offset-ke/2})})}))}var Me=A&&A.type&&A.type.getComposedData;Me&&I.push({props:Ne(Ne({},Me(Ne(Ne({},D),{},{displayedData:re,props:y,dataKey:te,item:A,bandSize:J,barPosition:Z,offset:_,stackedData:G,layout:N,dataStartIndex:E,dataEndIndex:k}))),{},At(At(At({key:A.key||"item-".concat(z)},M,D[M]),q,D[q]),"animationId",S)),childIndex:Cke(A,y.children),item:A})}),I},g=function(y,x){var b=y.props,w=y.dataStartIndex,_=y.dataEndIndex,S=y.updateId;if(!jL({props:b}))return null;var E=b.children,k=b.layout,j=b.stackOffset,N=b.data,C=b.reverseStackOrder,P=QF(k),O=P.numericAxisName,F=P.cateAxisName,M=gi(E,n),q=qLe(N,M,"".concat(O,"Id"),"".concat(F,"Id"),j,C),B=c.reduce(function(V,te){var X="".concat(te.axisType,"Map");return Ne(Ne({},V),{},At({},X,I7e(b,Ne(Ne({},te),{},{graphicalItems:M,stackGroups:te.axisType===O&&q,dataStartIndex:w,dataEndIndex:_}))))},{}),I=F7e(Ne(Ne({},B),{},{props:b,graphicalItems:M}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(V){B[V]=d(b,B[V],I,V.replace("Map",""),r)});var A=B["".concat(F,"Map")],z=L7e(A),re=h(b,Ne(Ne({},B),{},{dataStartIndex:w,dataEndIndex:_,updateId:S,graphicalItems:M,stackGroups:q,offset:I}));return Ne(Ne({formattedGraphicalItems:re,graphicalItems:M,offset:I,stackGroups:q},z),B)},v=function(p){function y(x){var b,w,_;return x7e(this,y),_=_7e(this,y,[x]),At(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(_,"accessibilityManager",new a7e),At(_,"handleLegendBBoxUpdate",function(S){if(S){var E=_.state,k=E.dataStartIndex,j=E.dataEndIndex,N=E.updateId;_.setState(Ne({legendBBox:S},g({props:_.props,dataStartIndex:k,dataEndIndex:j,updateId:N},Ne(Ne({},_.state),{},{legendBBox:S}))))}}),At(_,"handleReceiveSyncEvent",function(S,E,k){if(_.props.syncId===S){if(k===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),At(_,"handleBrushChange",function(S){var E=S.startIndex,k=S.endIndex;if(E!==_.state.dataStartIndex||k!==_.state.dataEndIndex){var j=_.state.updateId;_.setState(function(){return Ne({dataStartIndex:E,dataEndIndex:k},g({props:_.props,dataStartIndex:E,dataEndIndex:k,updateId:j},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:k})}}),At(_,"handleMouseEnter",function(S){var E=_.getMouseInfo(S);if(E){var k=Ne(Ne({},E),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var j=_.props.onMouseEnter;Kt(j)&&j(k,S)}}),At(_,"triggeredAfterMouseMove",function(S){var E=_.getMouseInfo(S),k=E?Ne(Ne({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var j=_.props.onMouseMove;Kt(j)&&j(k,S)}),At(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),At(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),At(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),At(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var k=_.props.onMouseLeave;Kt(k)&&k(E,S)}),At(_,"handleOuterEvent",function(S){var E=Nke(S),k=Ba(_.props,"".concat(E));if(E&&Kt(k)){var j,N;/.*touch.*/i.test(E)?N=_.getMouseInfo(S.changedTouches[0]):N=_.getMouseInfo(S),k((j=N)!==null&&j!==void 0?j:{},S)}}),At(_,"handleClick",function(S){var E=_.getMouseInfo(S);if(E){var k=Ne(Ne({},E),{},{isTooltipActive:!0});_.setState(k),_.triggerSyncEvent(k);var j=_.props.onClick;Kt(j)&&j(k,S)}}),At(_,"handleMouseDown",function(S){var E=_.props.onMouseDown;if(Kt(E)){var k=_.getMouseInfo(S);E(k,S)}}),At(_,"handleMouseUp",function(S){var E=_.props.onMouseUp;if(Kt(E)){var k=_.getMouseInfo(S);E(k,S)}}),At(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),At(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),At(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),At(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&ok.emit(lk,_.props.syncId,S,_.eventEmitterSymbol)}),At(_,"applySyncEvent",function(S){var E=_.props,k=E.layout,j=E.syncMethod,N=_.state.updateId,C=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(Ne({dataStartIndex:C,dataEndIndex:P},g({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:N},_.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,F=S.chartY,M=S.activeTooltipIndex,q=_.state,B=q.offset,I=q.tooltipTicks;if(!B)return;if(typeof j=="function")M=j(I,S);else if(j==="value"){M=-1;for(var A=0;A<I.length;A++)if(I[A].value===S.activeLabel){M=A;break}}var z=Ne(Ne({},B),{},{x:B.left,y:B.top}),re=Math.min(O,z.x+z.width),V=Math.min(F,z.y+z.height),te=I[M]&&I[M].value,X=IC(_.state,_.props.data,M),ye=I[M]?{x:k==="horizontal"?I[M].coordinate:re,y:k==="horizontal"?V:I[M].coordinate}:ZY;_.setState(Ne(Ne({},S),{},{activeLabel:te,activeCoordinate:ye,activePayload:X,activeTooltipIndex:M}))}else _.setState(S)}),At(_,"renderCursor",function(S){var E,k=_.state,j=k.isTooltipActive,N=k.activeCoordinate,C=k.activePayload,P=k.offset,O=k.activeTooltipIndex,F=k.tooltipAxisBandSize,M=_.getTooltipEventType(),q=(E=S.props.active)!==null&&E!==void 0?E:j,B=_.props.layout,I=S.key||"_recharts-cursor";return R.createElement(f7e,{key:I,activeCoordinate:N,activePayload:C,activeTooltipIndex:O,chartName:r,element:S,isActive:q,layout:B,offset:P,tooltipAxisBandSize:F,tooltipEventType:M})}),At(_,"renderPolarAxis",function(S,E,k){var j=Ba(S,"type.axisType"),N=Ba(_.state,"".concat(j,"Map")),C=S.type.defaultProps,P=C!==void 0?Ne(Ne({},C),S.props):S.props,O=N&&N[P["".concat(j,"Id")]];return m.cloneElement(S,Ne(Ne({},O),{},{className:er(j,O.className),key:S.key||"".concat(E,"-").concat(k),ticks:gu(O,!0)}))}),At(_,"renderPolarGrid",function(S){var E=S.props,k=E.radialLines,j=E.polarAngles,N=E.polarRadius,C=_.state,P=C.radiusAxisMap,O=C.angleAxisMap,F=Vd(P),M=Vd(O),q=M.cx,B=M.cy,I=M.innerRadius,A=M.outerRadius;return m.cloneElement(S,{polarAngles:Array.isArray(j)?j:gu(M,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(N)?N:gu(F,!0).map(function(z){return z.coordinate}),cx:q,cy:B,innerRadius:I,outerRadius:A,key:S.key||"polar-grid",radialLines:k})}),At(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,E=_.props,k=E.children,j=E.width,N=E.height,C=_.props.margin||{},P=j-(C.left||0)-(C.right||0),O=zG({children:k,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!O)return null;var F=O.item,M=GF(O,h7e);return m.cloneElement(F,Ne(Ne({},M),{},{chartWidth:j,chartHeight:N,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),At(_,"renderTooltip",function(){var S,E=_.props,k=E.children,j=E.accessibilityLayer,N=sa(k,Na);if(!N)return null;var C=_.state,P=C.isTooltipActive,O=C.activeCoordinate,F=C.activePayload,M=C.activeLabel,q=C.offset,B=(S=N.props.active)!==null&&S!==void 0?S:P;return m.cloneElement(N,{viewBox:Ne(Ne({},q),{},{x:q.left,y:q.top}),active:B,label:M,payload:B?F:[],coordinate:O,accessibilityLayer:j})}),At(_,"renderBrush",function(S){var E=_.props,k=E.margin,j=E.data,N=_.state,C=N.offset,P=N.dataStartIndex,O=N.dataEndIndex,F=N.updateId;return m.cloneElement(S,{key:S.key||"_recharts-brush",onChange:R0(_.handleBrushChange,S.props.onChange),data:j,x:tt(S.props.x)?S.props.x:C.left,y:tt(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:tt(S.props.width)?S.props.width:C.width,startIndex:P,endIndex:O,updateId:"brush-".concat(F)})}),At(_,"renderReferenceElement",function(S,E,k){if(!S)return null;var j=_,N=j.clipPathId,C=_.state,P=C.xAxisMap,O=C.yAxisMap,F=C.offset,M=S.type.defaultProps||{},q=S.props,B=q.xAxisId,I=B===void 0?M.xAxisId:B,A=q.yAxisId,z=A===void 0?M.yAxisId:A;return m.cloneElement(S,{key:S.key||"".concat(E,"-").concat(k),xAxis:P[I],yAxis:O[z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),At(_,"renderActivePoints",function(S){var E=S.item,k=S.activePoint,j=S.basePoint,N=S.childIndex,C=S.isRange,P=[],O=E.props.key,F=E.item.type.defaultProps!==void 0?Ne(Ne({},E.item.type.defaultProps),E.item.props):E.item.props,M=F.activeDot,q=F.dataKey,B=Ne(Ne({index:N,dataKey:q,cx:k.x,cy:k.y,r:4,fill:VO(E.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Gt(M,!1)),Lb(M));return P.push(y.renderActiveDot(M,B,"".concat(O,"-activePoint-").concat(N))),j?P.push(y.renderActiveDot(M,Ne(Ne({},B),{},{cx:j.x,cy:j.y}),"".concat(O,"-basePoint-").concat(N))):C&&P.push(null),P}),At(_,"renderGraphicChild",function(S,E,k){var j=_.filterFormatItem(S,E,k);if(!j)return null;var N=_.getTooltipEventType(),C=_.state,P=C.isTooltipActive,O=C.tooltipAxis,F=C.activeTooltipIndex,M=C.activeLabel,q=_.props.children,B=sa(q,Na),I=j.props,A=I.points,z=I.isRange,re=I.baseLine,V=j.item.type.defaultProps!==void 0?Ne(Ne({},j.item.type.defaultProps),j.item.props):j.item.props,te=V.activeDot,X=V.hide,ye=V.activeBar,oe=V.activeShape,me=!!(!X&&P&&B&&(te||ye||oe)),D={};N!=="axis"&&B&&B.props.trigger==="click"?D={onClick:R0(_.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(D={onMouseLeave:R0(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:R0(_.handleItemMouseEnter,S.props.onMouseEnter)});var $=m.cloneElement(S,Ne(Ne({},j.props),D));function H(ue){return typeof O.dataKey=="function"?O.dataKey(ue.payload):null}if(me)if(F>=0){var G,le;if(O.dataKey&&!O.allowDuplicatedCategory){var J=typeof O.dataKey=="function"?H:"payload.".concat(O.dataKey.toString());G=Ib(A,J,M),le=z&&re&&Ib(re,J,M)}else G=A==null?void 0:A[F],le=z&&re&&re[F];if(oe||ye){var Z=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[m.cloneElement(S,Ne(Ne(Ne({},j.props),D),{},{activeIndex:Z})),null,null]}if(!Jt(G))return[$].concat(Rh(_.renderActivePoints({item:j,activePoint:G,basePoint:le,childIndex:F,isRange:z})))}else{var K,de=(K=_.getItemByXY(_.state.activeCoordinate))!==null&&K!==void 0?K:{graphicalItem:$},ae=de.graphicalItem,xe=ae.item,ke=xe===void 0?S:xe,Me=ae.childIndex,Ee=Ne(Ne(Ne({},j.props),D),{},{activeIndex:Me});return[m.cloneElement(ke,Ee),null,null]}return z?[$,null,null]:[$,null]}),At(_,"renderCustomized",function(S,E,k){return m.cloneElement(S,Ne(Ne({key:"recharts-customized-".concat(k)},_.props),_.state))}),At(_,"renderMap",{CartesianGrid:{handler:D0,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:D0},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:D0},YAxis:{handler:D0},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:bv("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=zK(_.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),_.state={},_}return k7e(y,p),w7e(y,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,_=b.data,S=b.height,E=b.layout,k=sa(w,Na);if(k){var j=k.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,C=IC(this.state,_,j,N),P=this.state.tooltipTicks[j].coordinate,O=(this.state.offset.top+S)/2,F=E==="horizontal",M=F?{x:P,y:O}:{y:P,x:O},q=this.state.formattedGraphicalItems.find(function(I){var A=I.item;return A.type.name==="Scatter"});q&&(M=Ne(Ne({},M),q.props.points[j].tooltipPosition),C=q.props.points[j].tooltipPayload);var B={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:N,activePayload:C,activeCoordinate:M};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){g2([sa(b.children,Na)],[sa(this.props.children,Na)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=sa(this.props.children,Na);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),S=tMe(_),E={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},k=_.width/w.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,k);if(!j)return null;var N=this.state,C=N.xAxisMap,P=N.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&C&&P){var F=Vd(C).scale,M=Vd(P).scale,q=F&&F.invert?F.invert(E.chartX):null,B=M&&M.invert?M.invert(E.chartY):null;return Ne(Ne({},E),{},{xValue:q,yValue:B})}var I=JF(this.state,this.props.data,this.props.layout,j);return I?Ne(Ne({},E),I):null}},{key:"inRange",value:function(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=b/_,k=w/_;if(S==="horizontal"||S==="vertical"){var j=this.state.offset,N=E>=j.left&&E<=j.left+j.width&&k>=j.top&&k<=j.top+j.height;return N?{x:E,y:k}:null}var C=this.state,P=C.angleAxisMap,O=C.radiusAxisMap;if(P&&O){var F=Vd(P);return $D({x:E,y:k},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),_=sa(b,Na),S={};_&&w==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=Lb(this.props,this.handleOuterEvent);return Ne(Ne({},E),S)}},{key:"addListener",value:function(){ok.on(lk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ok.removeListener(lk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,_){for(var S=this.state.formattedGraphicalItems,E=0,k=S.length;E<k;E++){var j=S[E];if(j.item===b||j.props.key===b.key||w===Do(j.item.type)&&_===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,_=w.left,S=w.top,E=w.height,k=w.width;return R.createElement("defs",null,R.createElement("clipPath",{id:b},R.createElement("rect",{x:_,y:S,height:E,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,_){var S=KF(_,2),E=S[0],k=S[1];return Ne(Ne({},w),{},At({},E,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,_){var S=KF(_,2),E=S[0],k=S[1];return Ne(Ne({},w),{},At({},E,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,_=w.formattedGraphicalItems,S=w.activeItem;if(_&&_.length)for(var E=0,k=_.length;E<k;E++){var j=_[E],N=j.props,C=j.item,P=C.type.defaultProps!==void 0?Ne(Ne({},C.type.defaultProps),C.props):C.props,O=Do(C.type);if(O==="Bar"){var F=(N.data||[]).find(function(I){return LFe(b,I)});if(F)return{graphicalItem:j,payload:F}}else if(O==="RadialBar"){var M=(N.data||[]).find(function(I){return $D(b,I)});if(M)return{graphicalItem:j,payload:M}}else if(C_(j,S)||P_(j,S)||jy(j,S)){var q=B6e({graphicalItem:j,activeTooltipItem:S,itemData:P.data}),B=P.activeIndex===void 0?q:P.activeIndex;return{graphicalItem:Ne(Ne({},j),{},{childIndex:B}),payload:jy(j,S)?P.data[q]:j.props.data[q]}}}return null}},{key:"render",value:function(){var b=this;if(!jL(this))return null;var w=this.props,_=w.children,S=w.className,E=w.width,k=w.height,j=w.style,N=w.compact,C=w.title,P=w.desc,O=GF(w,p7e),F=Gt(O,!1);if(N)return R.createElement(OF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(v2,ig({},F,{width:E,height:k,title:C,desc:P}),this.renderClipPath(),EL(_,this.renderMap)));if(this.props.accessibilityLayer){var M,q;F.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,F.role=(q=this.props.role)!==null&&q!==void 0?q:"application",F.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},F.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return R.createElement(OF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",ig({className:er("recharts-wrapper",S),style:Ne({position:"relative",cursor:"default",width:E,height:k},j)},B,{ref:function(A){b.container=A}}),R.createElement(v2,ig({},F,{width:E,height:k,title:C,desc:P,style:T7e}),this.renderClipPath(),EL(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(m.Component);return At(v,"displayName",r),At(v,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(v,"getDerivedStateFromProps",function(p,y){var x=p.dataKey,b=p.data,w=p.children,_=p.width,S=p.height,E=p.layout,k=p.stackOffset,j=p.margin,N=y.dataStartIndex,C=y.dataEndIndex;if(y.updateId===void 0){var P=XF(p);return Ne(Ne(Ne({},P),{},{updateId:0},g(Ne(Ne({props:p},P),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:k,prevMargin:j,prevChildren:w})}if(x!==y.prevDataKey||b!==y.prevData||_!==y.prevWidth||S!==y.prevHeight||E!==y.prevLayout||k!==y.prevStackOffset||!Af(j,y.prevMargin)){var O=XF(p),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},M=Ne(Ne({},JF(y,b,E)),{},{updateId:y.updateId+1}),q=Ne(Ne(Ne({},O),F),M);return Ne(Ne(Ne({},q),g(Ne({props:p},q),y)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:k,prevMargin:j,prevChildren:w})}if(!g2(w,y.prevChildren)){var B,I,A,z,re=sa(w,Sh),V=re&&(B=(I=re.props)===null||I===void 0?void 0:I.startIndex)!==null&&B!==void 0?B:N,te=re&&(A=(z=re.props)===null||z===void 0?void 0:z.endIndex)!==null&&A!==void 0?A:C,X=V!==N||te!==C,ye=!Jt(b),oe=ye&&!X?y.updateId:y.updateId+1;return Ne(Ne({updateId:oe},g(Ne(Ne({props:p},y),{},{updateId:oe,dataStartIndex:V,dataEndIndex:te}),y)),{},{prevChildren:w,dataStartIndex:V,dataEndIndex:te})}return null}),At(v,"renderActiveDot",function(p,y,x){var b;return m.isValidElement(p)?b=m.cloneElement(p,y):Kt(p)?b=p(y):b=R.createElement(KO,y),R.createElement(Jr,{className:"recharts-active-dot",key:x},b)}),function(y){return R.createElement(v,y)}},rJ=tJ({chartName:"BarChart",GraphicalChild:Dc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gd},{axisType:"yAxis",AxisComp:kp}],formatAxisMap:mY}),nJ=tJ({chartName:"AreaChart",GraphicalChild:cl,axisComponents:[{axisType:"xAxis",AxisComp:gd},{axisType:"yAxis",AxisComp:kp}],formatAxisMap:mY});const U7e={light:"",dark:".dark"},sJ=m.createContext(null);function aJ(){const e=m.useContext(sJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const QO=m.forwardRef(({id:e,className:t,children:r,config:n,...s},a)=>{const i=m.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(sJ.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:a,className:ce("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...s,children:[o.jsx(z7e,{id:l,config:n}),o.jsx(bO,{children:r})]})})});QO.displayName="Chart";const z7e=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,s])=>s.theme||s.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(U7e).map(([n,s])=>`
${s} [data-chart=${e}] {
${r.map(([a,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},iJ=Na,q7e=m.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},g)=>{const{config:v}=aJ(),p=m.useMemo(()=>{var S;if(s||!(t!=null&&t.length))return null;const[x]=t,b=`${h||x.dataKey||x.name||"value"}`,w=LC(v,x,b),_=!h&&typeof i=="string"?((S=v[i])==null?void 0:S.label)||i:w==null?void 0:w.label;return l?o.jsx("div",{className:ce("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:ce("font-medium",c),children:_}):null},[i,l,t,s,c,v,h]);if(!e||!(t!=null&&t.length))return null;const y=t.length===1&&n!=="dot";return o.jsxs("div",{ref:g,className:ce("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[y?null:p,o.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${f||x.name||x.dataKey||"value"}`,_=LC(v,x,w),S=d||x.payload.fill||x.color;return o.jsx("div",{className:ce("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!a&&o.jsx("div",{className:ce("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":y&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:ce("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[y?p:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});q7e.displayName="ChartTooltip";const W7e=m.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:i}=aJ();return r!=null&&r.length?o.jsx("div",{ref:a,className:ce("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=LC(i,l,c);return o.jsxs("div",{className:ce("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});W7e.displayName="ChartLegend";function LC(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let s=r;return r in t&&typeof t[r]=="string"?s=t[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in e?e[s]:e[r]}const $h=ZA,V7e=eT,H7e=m.forwardRef(({className:e,...t},r)=>o.jsx(rp,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));H7e.displayName=rp.displayName;const K7e=Zy("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-150 data-[state=open]:duration-200",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",rightProfile:"inset-y-0 right-0 h-full w-full md:w-[30%] border-l md:rounded-l-[24px] data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 md:data-[state=closed]:slide-out-to-right md:data-[state=open]:slide-in-from-right"}},defaultVariants:{side:"right"}}),nd=m.forwardRef(({side:e="right",className:t,children:r,overlayClassName:n,...s},a)=>o.jsxs(V7e,{children:[o.jsx(rp,{className:ce("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n??"bg-black/80")}),o.jsx(ov,{ref:a,className:ce(K7e({side:e}),t),...s,children:r})]}));nd.displayName=ov.displayName;const sd=({className:e,...t})=>o.jsx("div",{className:ce("flex flex-row items-center justify-between gap-3 min-h-[2.5rem] text-left shrink-0 border-b border-gray-200 dark:border-gray-700",e),...t});sd.displayName="SheetHeader";const ad=m.forwardRef(({className:e,...t},r)=>o.jsx(lv,{ref:r,className:ce("text-lg font-semibold text-foreground",e),...t}));ad.displayName=lv.displayName;const G7e=m.forwardRef(({className:e,...t},r)=>o.jsx(cv,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));G7e.displayName=cv.displayName;const Ty=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ty.displayName="Textarea";function Y7e(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,J7e(s,...t)]}function J7e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var ZO="Progress",eR=100,[X7e,NJe]=Y7e(ZO),[Q7e,Z7e]=X7e(ZO),oJ=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=e9e,...i}=e;(s||s===0)&&!ZF(s)&&console.error(t9e(`${s}`,"Progress"));const l=ZF(s)?s:eR;n!==null&&!e6(n,l)&&console.error(r9e(`${n}`,"Progress"));const c=e6(n,l)?n:null,u=Mw(c)?a(c,l):void 0;return o.jsx(Q7e,{scope:r,value:c,max:l,children:o.jsx(rt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Mw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":uJ(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});oJ.displayName=ZO;var lJ="ProgressIndicator",cJ=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Z7e(lJ,r);return o.jsx(rt.div,{"data-state":uJ(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});cJ.displayName=lJ;function e9e(e,t){return`${Math.round(e/t*100)}%`}function uJ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Mw(e){return typeof e=="number"}function ZF(e){return Mw(e)&&!isNaN(e)&&e>0}function e6(e,t){return Mw(e)&&!isNaN(e)&&e<=t&&e>=0}function t9e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${eR}\`.`}function r9e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${eR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dJ=oJ,n9e=cJ;const tR=m.forwardRef(({className:e,value:t,...r},n)=>o.jsx(dJ,{ref:n,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(n9e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tR.displayName=dJ.displayName;const s9e=async({phoneNumber:e,code:t,sender:r="Breneo"})=>{throw new Error("SMS API key is not configured.")},a9e="breneo:phoneVerified",um=typeof window<"u",i9e=e=>e?e.toLowerCase():"user",o9e=(e,t,r)=>{const n=i9e(r);return`${a9e}:${n}:${t??e??"unknown"}`},fJ=e=>{const{phoneNumber:t,ownerId:r,role:n,initiallyVerified:s,sender:a="Breneo",resendDelaySeconds:i=60}=e,l=m.useMemo(()=>o9e(t??void 0,r,n),[r,t,n]),[c,u]=m.useState(()=>s?!0:um?localStorage.getItem(l)==="true":!1),[d,f]=m.useState(null),[h,g]=m.useState(!1),[v,p]=m.useState(""),[y,x]=m.useState(!1),[b,w]=m.useState(!1),[_,S]=m.useState(0);m.useEffect(()=>{typeof s=="boolean"&&s&&(u(!0),um&&localStorage.setItem(l,"true"))},[s,l]),m.useEffect(()=>{if(!t){u(!1),f(null),g(!1),p("");return}if(!s&&um){const C=localStorage.getItem(l);u(C==="true")}},[s,t,l]),m.useEffect(()=>{if(_<=0)return;const C=window.setInterval(()=>{S(P=>{const O=P-1;return O>=0?O:0})},1e3);return()=>window.clearInterval(C)},[_]);const E=()=>Math.floor(1e5+Math.random()*9e5).toString(),k=m.useCallback(async()=>{if(!t)throw new Error("Phone number is missing. Please add it before verifying.");if(_>0)throw new Error(`Please wait ${_} second${_===1?"":"s"} before requesting a new code.`);x(!0);try{const C=E();await s9e({phoneNumber:t,code:C,sender:a}),f(C),g(!0),S(i)}finally{x(!1)}},[t,_,i,a]),j=m.useCallback(async()=>{if(!h||!d)throw new Error("No verification code has been sent yet.");const C=v.replace(/\D/g,"");if(C.length!==6)throw new Error("Please enter the 6-digit verification code.");w(!0);try{if(C!==d)throw new Error("The verification code you entered is incorrect.");return u(!0),g(!1),f(null),p(""),um&&localStorage.setItem(l,"true"),!0}finally{w(!1)}},[v,h,d,l]),N=m.useCallback(()=>{u(!1),f(null),g(!1),p(""),S(0),um&&localStorage.removeItem(l)},[l]);return{isPhoneVerified:c,isSendingCode:y,isVerifyingCode:b,codeSent:h,codeInput:v,resendCooldown:_,sendCode:k,verifyCode:j,setCodeInput:p,resetVerification:N}};function l9e({open:e,onOpenChange:t,initial:r,onSave:n}){var B,I,A,z,re;const[s,a]=m.useState(r.first_name??""),[i,l]=m.useState(r.last_name??""),[c,u]=m.useState(r.email??""),[d,f]=m.useState(r.phone_number??""),[h,g]=m.useState(r.country_region??""),[v,p]=m.useState(r.city??""),[y,x]=m.useState(((B=r.social_links)==null?void 0:B.github)??""),[b,w]=m.useState(((I=r.social_links)==null?void 0:I.linkedin)??""),[_,S]=m.useState(((A=r.social_links)==null?void 0:A.facebook)??""),[E,k]=m.useState(((z=r.social_links)==null?void 0:z.instagram)??""),[j,N]=m.useState(((re=r.social_links)==null?void 0:re.dribbble)??""),[C,P]=m.useState(!1),[O,F]=m.useState(null),M=V=>V.trim().startsWith("http")?V.trim():`https://${V.trim()}`;m.useEffect(()=>{var V,te,X,ye,oe;e&&(a(r.first_name??""),l(r.last_name??""),u(r.email??""),f(r.phone_number??""),g(r.country_region??""),p(r.city??""),x(((V=r.social_links)==null?void 0:V.github)??""),w(((te=r.social_links)==null?void 0:te.linkedin)??""),S(((X=r.social_links)==null?void 0:X.facebook)??""),k(((ye=r.social_links)==null?void 0:ye.instagram)??""),N(((oe=r.social_links)==null?void 0:oe.dribbble)??""),F(null))},[e,r]);const q=async V=>{V.preventDefault(),F(null),P(!0);try{const te={};y.trim()&&(te.github=M(y)),b.trim()&&(te.linkedin=M(b)),_.trim()&&(te.facebook=M(_)),E.trim()&&(te.instagram=M(E)),j.trim()&&(te.dribbble=M(j)),await n({first_name:s.trim()||void 0,last_name:i.trim()||void 0,email:c.trim()||void 0,phone_number:d.trim()||void 0,country_region:h.trim()||void 0,city:v.trim()||void 0,social_links:Object.keys(te).length?te:void 0}),t(!1)}catch(te){const X=te&&typeof te=="object"&&"message"in te?String(te.message):"Could not save";F(X)}finally{P(!1)}};return o.jsx($h,{open:e,onOpenChange:t,children:o.jsxs(nd,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(sd,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(ad,{className:"flex-1 min-w-0",children:"Edit personal information"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(se,{type:"submit",form:"edit-personal-info-form",size:"sm",disabled:C,children:C?o.jsxs(o.Fragment,{children:[o.jsx(Yn,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(se,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:C,"aria-label":"Cancel",children:o.jsx(Cr,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-personal-info-form",onSubmit:q,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[O&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:O}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"first_name",children:"First name"}),o.jsx(it,{id:"first_name",value:s,onChange:V=>a(V.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"last_name",children:"Last name"}),o.jsx(it,{id:"last_name",value:i,onChange:V=>l(V.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"email",children:"Email"}),o.jsx(it,{id:"email",type:"email",value:c,onChange:V=>u(V.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"phone_number",children:"Phone number"}),o.jsx(it,{id:"phone_number",value:d,onChange:V=>f(V.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"country_region",children:"Country / Region"}),o.jsx(it,{id:"country_region",value:h,onChange:V=>g(V.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"city",children:"City"}),o.jsx(it,{id:"city",value:v,onChange:V=>p(V.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Social links (optional)"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Be,{htmlFor:"github",children:"GitHub"}),o.jsx(it,{id:"github",type:"url",placeholder:"https://github.com/username",value:y,onChange:V=>x(V.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Be,{htmlFor:"linkedin",children:"LinkedIn"}),o.jsx(it,{id:"linkedin",type:"url",placeholder:"https://linkedin.com/in/username",value:b,onChange:V=>w(V.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Be,{htmlFor:"facebook",children:"Facebook"}),o.jsx(it,{id:"facebook",type:"url",placeholder:"https://facebook.com/username",value:_,onChange:V=>S(V.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Be,{htmlFor:"instagram",children:"Instagram"}),o.jsx(it,{id:"instagram",type:"url",placeholder:"https://instagram.com/username",value:E,onChange:V=>k(V.target.value)})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx(Be,{htmlFor:"dribbble",children:"Dribbble"}),o.jsx(it,{id:"dribbble",type:"url",placeholder:"https://dribbble.com/username",value:j,onChange:V=>N(V.target.value)})]})]})]})]})})]})})}function L_(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rR="Checkbox",[c9e,CJe]=Js(rR),[u9e,d9e]=c9e(rR),hJ=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=m.useState(null),v=xt(t,_=>g(_)),p=m.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=Va({prop:s,defaultProp:a,onChange:u}),w=m.useRef(x);return m.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>b(w.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,b]),o.jsxs(u9e,{scope:r,state:x,disabled:l,children:[o.jsx(rt.button,{type:"button",role:"checkbox","aria-checked":vc(x)?"mixed":x,"aria-required":i,"data-state":gJ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:Ue(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Ue(e.onClick,_=>{b(S=>vc(S)?!0:!S),y&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),y&&o.jsx(f9e,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:vc(a)?!1:a})]})});hJ.displayName=rR;var pJ="CheckboxIndicator",mJ=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=d9e(pJ,r);return o.jsx(Zn,{present:n||vc(a.state)||a.state===!0,children:o.jsx(rt.span,{"data-state":gJ(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});mJ.displayName=pJ;var f9e=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,i=m.useRef(null),l=L_(r),c=p1(t);m.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const v=new Event("click",{bubbles:n});d.indeterminate=vc(r),g.call(d,vc(r)?!1:r),d.dispatchEvent(v)}},[l,r,n]);const u=m.useRef(vc(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vc(e){return e==="indeterminate"}function gJ(e){return vc(e)?"indeterminate":e?"checked":"unchecked"}var yJ=hJ,h9e=mJ;const Kn=m.forwardRef(({className:e,...t},r)=>o.jsx(yJ,{ref:r,className:ce("peer h-4 w-4 shrink-0 rounded-[2px] border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary dark:data-[state=checked]:bg-primary dark:data-[state=checked]:border-primary",e),...t,children:o.jsx(h9e,{className:ce("flex items-center justify-center text-white"),children:o.jsx(WA,{className:"h-4 w-4 text-white"})})}));Kn.displayName=yJ.displayName;function p9e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var m9e="DismissableLayer",DC="dismissableLayer.update",g9e="dismissableLayer.pointerDownOutside",y9e="dismissableLayer.focusOutside",t6,vJ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xJ=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(vJ),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=b9e(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=w9e(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return p9e(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(t6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),r6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=t6)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),r6())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(DC,k),()=>document.removeEventListener(DC,k)},[]),o.jsx(rt.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,S.onPointerDownCapture)})});xJ.displayName=m9e;var v9e="DismissableLayerBranch",x9e=m.forwardRef((e,t)=>{const r=m.useContext(vJ),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(rt.div,{...e,ref:s})});x9e.displayName=v9e;function b9e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){bJ(g9e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function w9e(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&bJ(y9e,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function r6(){const e=new CustomEvent(DC);document.dispatchEvent(e)}function bJ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qh(s,a):s.dispatchEvent(a)}var uk=0;function D_(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??n6()),document.body.insertAdjacentElement("beforeend",e[1]??n6()),uk++,()=>{uk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uk--}},[])}function n6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dk="focusScope.autoFocusOnMount",fk="focusScope.autoFocusOnUnmount",s6={bubbles:!1,cancelable:!0},_9e="FocusScope",wJ=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Ut(s),d=Ut(a),f=m.useRef(null),h=xt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:El(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||El(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&El(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){i6.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(dk,s6);l.addEventListener(dk,u),l.dispatchEvent(x),x.defaultPrevented||(S9e(C9e(_J(l)),{select:!0}),document.activeElement===p&&El(l))}return()=>{l.removeEventListener(dk,u),setTimeout(()=>{const x=new CustomEvent(fk,s6);l.addEventListener(fk,d),l.dispatchEvent(x),x.defaultPrevented||El(p??document.body,{select:!0}),l.removeEventListener(fk,d),i6.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=j9e(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&El(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&El(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(rt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});wJ.displayName=_9e;function S9e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(El(n,{select:t}),document.activeElement!==r)return}function j9e(e){const t=_J(e),r=a6(t,e),n=a6(t.reverse(),e);return[r,n]}function _J(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function a6(e,t){for(const r of e)if(!k9e(r,{upTo:t}))return r}function k9e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function E9e(e){return e instanceof HTMLInputElement&&"select"in e}function El(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&E9e(e)&&t&&e.select()}}var i6=N9e();function N9e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=o6(e,t),e.unshift(t)},remove(t){var r;e=o6(e,t),(r=e[0])==null||r.resume()}}}function o6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function C9e(e){return e.filter(t=>t.tagName!=="A")}var P9e="Portal",SJ=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);an(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bh.createPortal(o.jsx(rt.div,{...n,ref:t}),i):null});SJ.displayName=P9e;var jJ=nv(),hk=function(){},F_=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:hk,onWheelCapture:hk,onTouchMoveCapture:hk}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=ep(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=rv([r,t]),E=Zt(Zt({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:jJ,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),Zt(Zt({},E),{ref:S})):m.createElement(x,Zt({},E,{className:c,ref:S}),l))});F_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};F_.classNames={fullWidth:mc,zeroRight:pc};var FC=!1;if(typeof window<"u")try{var F0=Object.defineProperty({},"passive",{get:function(){return FC=!0,!0}});window.addEventListener("test",F0,F0),window.removeEventListener("test",F0,F0)}catch{FC=!1}var Rd=FC?{passive:!1}:!1,A9e=function(e){return e.tagName==="TEXTAREA"},kJ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!A9e(e)&&r[t]==="visible")},T9e=function(e){return kJ(e,"overflowY")},O9e=function(e){return kJ(e,"overflowX")},l6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=EJ(e,n);if(s){var a=NJ(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},R9e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$9e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},EJ=function(e,t){return e==="v"?T9e(t):O9e(t)},NJ=function(e,t){return e==="v"?R9e(t):$9e(t)},M9e=function(e,t){return e==="h"&&t==="rtl"?-1:1},I9e=function(e,t,r,n,s){var a=M9e(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=NJ(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&EJ(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},B0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},c6=function(e){return[e.deltaX,e.deltaY]},u6=function(e){return e&&"current"in e?e.current:e},L9e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},D9e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},F9e=0,$d=[];function B9e(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(F9e++)[0],a=m.useState(tp)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=tv([e.lockRef.current],(e.shards||[]).map(u6),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=B0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=l6(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=l6(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return I9e(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!$d.length||$d[$d.length-1]!==a)){var x="deltaY"in y?c6(y):B0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&L9e(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(u6).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:U9e(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=B0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,c6(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,B0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return $d.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Rd),document.addEventListener("touchmove",c,Rd),document.addEventListener("touchstart",d,Rd),function(){$d=$d.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Rd),document.removeEventListener("touchmove",c,Rd),document.removeEventListener("touchstart",d,Rd)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:D9e(s)}):null,g?m.createElement(av,{gapMode:e.gapMode}):null)}function U9e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const z9e=sv(jJ,B9e);var CJ=m.forwardRef(function(e,t){return m.createElement(F_,Zt({},e,{ref:t,sideCar:z9e}))});CJ.classNames=F_.classNames;var nR="Popover",[PJ,PJe]=Js(nR,[Ac]),kv=Ac(),[q9e,Fc]=PJ(nR),AJ=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=kv(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=Va({prop:n,defaultProp:s,onChange:a});return o.jsx(kA,{...l,children:o.jsx(q9e,{scope:t,contentId:Da(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:r})})};AJ.displayName=nR;var TJ="PopoverAnchor",W9e=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Fc(TJ,r),a=kv(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(Gy,{...a,...n,ref:t})});W9e.displayName=TJ;var OJ="PopoverTrigger",RJ=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Fc(OJ,r),a=kv(r),i=xt(t,s.triggerRef),l=o.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":DJ(s.open),...n,ref:i,onClick:Ue(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Gy,{asChild:!0,...a,children:l})});RJ.displayName=OJ;var sR="PopoverPortal",[V9e,H9e]=PJ(sR,{forceMount:void 0}),$J=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=Fc(sR,t);return o.jsx(V9e,{scope:t,forceMount:r,children:o.jsx(Zn,{present:r||a.open,children:o.jsx(SJ,{asChild:!0,container:s,children:n})})})};$J.displayName=sR;var Mh="PopoverContent",MJ=m.forwardRef((e,t)=>{const r=H9e(Mh,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=Fc(Mh,e.__scopePopover);return o.jsx(Zn,{present:n||a.open,children:a.modal?o.jsx(K9e,{...s,ref:t}):o.jsx(G9e,{...s,ref:t})})});MJ.displayName=Mh;var K9e=m.forwardRef((e,t)=>{const r=Fc(Mh,e.__scopePopover),n=m.useRef(null),s=xt(t,n),a=m.useRef(!1);return m.useEffect(()=>{const i=n.current;if(i)return iv(i)},[]),o.jsx(CJ,{as:Ho,allowPinchZoom:!0,children:o.jsx(IJ,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),G9e=m.forwardRef((e,t)=>{const r=Fc(Mh,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(IJ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),IJ=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Fc(Mh,r),g=kv(r);return D_(),o.jsx(wJ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(xJ,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(m1,{"data-state":DJ(h.open),role:"dialog",id:h.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LJ="PopoverClose",Y9e=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Fc(LJ,r);return o.jsx(rt.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,()=>s.onOpenChange(!1))})});Y9e.displayName=LJ;var J9e="PopoverArrow",X9e=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=kv(r);return o.jsx(g1,{...s,...n,ref:t})});X9e.displayName=J9e;function DJ(e){return e?"open":"closed"}var Q9e=AJ,Z9e=RJ,eze=$J,FJ=MJ;const tze=Q9e,rze=Z9e,BJ=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(eze,{children:o.jsx(FJ,{ref:s,align:t,sideOffset:r,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));BJ.displayName=FJ.displayName;const UJ=[{label:"Jan",value:"01"},{label:"Feb",value:"02"},{label:"Mar",value:"03"},{label:"Apr",value:"04"},{label:"May",value:"05"},{label:"Jun",value:"06"},{label:"Jul",value:"07"},{label:"Aug",value:"08"},{label:"Sep",value:"09"},{label:"Oct",value:"10"},{label:"Nov",value:"11"},{label:"Dec",value:"12"}],nze=1950;function zJ(e){const[t,r]=e.split("-"),n=Number(t);return!Number.isFinite(n)||!r||r.length!==2?null:{year:n,month:r}}function sze(e){const t=zJ(e);if(!t)return e;const r=UJ.find(n=>n.value===t.month);return r?`${r.label} ${t.year}`:e}function Iw({value:e,onChange:t,disabled:r=!1,placeholder:n="Select month and year"}){const s=new Date().getFullYear(),a=zJ(e),[i,l]=m.useState(!1),[c,u]=m.useState((a==null?void 0:a.year)??s),[d,f]=m.useState("month"),h=m.useMemo(()=>{const v=s+10,p=[];for(let y=v;y>=nze;y-=1)p.push(y);return p},[s]),g=e?sze(e):n;return o.jsxs(tze,{open:i,onOpenChange:v=>{r||(v&&(a!=null&&a.year&&u(a.year),f("month")),l(v))},children:[o.jsx(rze,{asChild:!0,children:o.jsxs("button",{type:"button",disabled:r,className:ce("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-left text-base md:text-sm","focus:outline-none focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",!e&&"text-muted-foreground"),children:[o.jsx("span",{className:"truncate",children:g}),o.jsx(zfe,{className:"h-4 w-4 shrink-0 opacity-60"})]})}),o.jsxs(BJ,{align:"start",className:"z-[120] w-[18rem] space-y-3 p-3 pointer-events-auto",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx(se,{type:"button",variant:d==="month"?"default":"outline",size:"sm",className:"h-9 flex-1",onClick:()=>f("month"),children:"Month"}),o.jsx(se,{type:"button",variant:d==="year"?"default":"outline",size:"sm",className:"h-9 flex-1",onClick:()=>f("year"),children:c})]}),d==="month"?o.jsx("div",{className:"grid grid-cols-3 gap-2",children:UJ.map(v=>{const p=`${c}-${v.value}`,y=e===p;return o.jsx(se,{type:"button",variant:y?"default":"outline",size:"sm",className:"h-9 cursor-pointer px-0 text-xs",onMouseDown:x=>{x.preventDefault(),x.stopPropagation(),t(p),l(!1)},children:v.label},v.value)})}):o.jsx(Sb,{className:"h-56 w-full rounded-md",onWheel:v=>v.stopPropagation(),children:o.jsx("div",{className:"grid grid-cols-3 gap-2 pr-3 touch-pan-y",children:h.map(v=>o.jsx(se,{type:"button",variant:v===c?"default":"outline",size:"sm",className:"h-9 cursor-pointer px-0 text-xs",onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),u(v),f("month")},children:v},v))})})]})]})}const d6=[{value:"High School",label:"High School"},{value:"Diploma / Certificate",label:"Diploma / Certificate"},{value:"Associate",label:"Associate"},{value:"Bachelor's",label:"Bachelor's"},{value:"Master's",label:"Master's"},{value:"MBA",label:"MBA"},{value:"Doctorate (PhD)",label:"Doctorate (PhD)"},{value:"Bootcamp / Short Program",label:"Bootcamp / Short Program"},{value:"Other",label:"Other"}];function aze({value:e,onChange:t}){var i;const[r,n]=m.useState(!1),s=m.useRef(null);m.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=(i=d6.find(l=>l.value===e))==null?void 0:i.label;return o.jsxs("div",{ref:s,className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>n(!r),className:ce("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm","focus:outline-none focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",!a&&"text-muted-foreground"),children:[o.jsx("span",{className:"truncate",children:a||"Select degree type"}),o.jsx(Yo,{className:"h-4 w-4 shrink-0 opacity-50"})]}),r&&o.jsx("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-y-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:d6.map(l=>o.jsx("li",{role:"option","aria-selected":e===l.value,className:ce("cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm","hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",e===l.value&&"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100"),onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t(l.value),n(!1)},children:l.label},l.value))})]})}function f6(e){return e?e.slice(0,7):""}function ize(e){return e?`${e}-01`:""}function oze(e){if(!e)return"";const[t,r]=e.split("-"),n=Number(t),s=Number(r);if(!Number.isFinite(n)||!Number.isFinite(s)||s<1||s>12)return"";const a=new Date(n,s,0).getDate();return`${e}-${String(a).padStart(2,"0")}`}function lze(e){return{id:e.id,school_name:e.school_name??"",major:e.major??"",degree_type:e.degree_type??"",gpa:e.gpa??"",start_date:f6(e.start_date),end_date:e.is_current?"":f6(e.end_date),is_current:e.is_current??!1}}function cze({open:e,onOpenChange:t,entries:r,onSave:n}){const[s,a]=m.useState([]),[i,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{e&&(a(r.length?r.map(lze):[]),u(null))},[e,r]);const d=()=>{s.length>=10||a(p=>[...p,{id:null,school_name:"",major:"",degree_type:"",gpa:"",start_date:"",end_date:"",is_current:!1}])},f=(p,y,x)=>{a(b=>{const w=[...b];return w[p][y]=x,y==="is_current"&&x===!0&&(w[p].end_date=""),w})},h=p=>{a(y=>y.filter((x,b)=>b!==p))},g=()=>{for(let p=0;p<s.length;p++){const y=s[p];if(!y.school_name.trim())return"School name is required for all entries.";if(!y.start_date.trim())return"Start date is required for all entries.";if(!y.is_current&&y.end_date&&y.start_date>y.end_date)return"Start date must be before or equal to end date."}return null},v=async p=>{p.preventDefault();const y=g();if(y){u(y);return}u(null),l(!0);try{const x=[],b=[],w=[];for(const S of s){const E={school_name:S.school_name.trim(),major:S.major.trim()||void 0,degree_type:S.degree_type.trim()||void 0,gpa:S.gpa.trim()||void 0,start_date:ize(S.start_date.trim()),end_date:S.is_current?void 0:oze(S.end_date.trim())||void 0,is_current:S.is_current};S.id==null?x.push(E):b.push({id:S.id,payload:E})}const _=new Set(r.map(S=>S.id));for(const S of r)s.some(E=>E.id===S.id)||w.push(S.id);await n(x,b,w),t(!1)}catch(x){const b=x&&typeof x=="object"&&"message"in x?String(x.message):"Could not save";u(b)}finally{l(!1)}};return o.jsx($h,{open:e,onOpenChange:t,children:o.jsxs(nd,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(sd,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(ad,{className:"flex-1 min-w-0",children:"Edit education"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(se,{type:"submit",form:"edit-education-form",size:"sm",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(Yn,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(se,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:i,"aria-label":"Cancel",children:o.jsx(Cr,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-education-form",onSubmit:v,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[c&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:c}),o.jsx("div",{className:"space-y-4",children:s.map((p,y)=>o.jsxs("div",{className:"p-4 rounded-lg space-y-3 bg-gray-100 dark:bg-[#242424]",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Education ",y+1]}),o.jsx(se,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(y),"aria-label":`Remove education ${y+1}`,children:o.jsx(Tu,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"School name"}),o.jsx(it,{value:p.school_name,onChange:x=>f(y,"school_name",x.target.value),placeholder:"University or school name"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Major"}),o.jsx(it,{value:p.major,onChange:x=>f(y,"major",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Degree type"}),o.jsx(aze,{value:p.degree_type,onChange:x=>f(y,"degree_type",x)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"GPA (optional)"}),o.jsx(it,{value:p.gpa,onChange:x=>f(y,"gpa",x.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Start date"}),o.jsx(Iw,{value:p.start_date,onChange:x=>f(y,"start_date",x)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"End date"}),o.jsx(Iw,{value:p.end_date,onChange:x=>f(y,"end_date",x),disabled:p.is_current})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kn,{id:`current-${y}`,checked:p.is_current,onCheckedChange:x=>f(y,"is_current",x===!0)}),o.jsx(Be,{htmlFor:`current-${y}`,className:"cursor-pointer",children:"Currently studying here"})]})]},p.id??`new-${y}`))}),s.length<10&&o.jsxs(se,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[o.jsx(E1,{className:"h-4 w-4 mr-2"}),"Add education"]})]})})]})})}const h6=[{value:"Full time",label:"Full time"},{value:"Part time",label:"Part time"},{value:"Contract",label:"Contract"},{value:"Internship",label:"Internship"}];function uze({value:e,onChange:t}){var i;const[r,n]=m.useState(!1),s=m.useRef(null);m.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=(i=h6.find(l=>l.value===e))==null?void 0:i.label;return o.jsxs("div",{ref:s,className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>n(!r),className:ce("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-base md:text-sm","focus:outline-none focus:ring-0 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600",!a&&"text-muted-foreground"),children:[o.jsx("span",{className:"truncate",children:a||"Select job type"}),o.jsx(Yo,{className:"h-4 w-4 shrink-0 opacity-50"})]}),r&&o.jsx("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-y-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:h6.map(l=>o.jsx("li",{role:"option","aria-selected":e===l.value,className:ce("cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm","hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",e===l.value&&"bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100"),onMouseDown:c=>{c.preventDefault(),c.stopPropagation(),t(l.value),n(!1)},children:l.label},l.value))})]})}const dze="https://nominatim.openstreetmap.org/search",fze=400,pk=3;function hze(e){const t=e.address;if(!t)return e.display_name||"";const r=t.city||t.town||t.village||t.state||"",n=t.country||"";return r&&n?`${r}, ${n}`:n||e.display_name||""}function pze({value:e,onChange:t,placeholder:r}){const[n,s]=m.useState([]),[a,i]=m.useState(!1),[l,c]=m.useState(!1),u=m.useRef(null),d=m.useRef(null),f=m.useCallback(async h=>{if(h.length<pk){s([]);return}i(!0);try{const g=new URLSearchParams({q:h,format:"json",addressdetails:"1",limit:"8"}),y=(await(await fetch(`${dze}?${g}`,{headers:{Accept:"application/json","User-Agent":"BreneoApp/1.0 (Work Experience Location)"}})).json()).map(x=>hze(x));s(y),c(!0)}catch{s([])}finally{i(!1)}},[]);return m.useEffect(()=>{u.current&&clearTimeout(u.current);const h=e.trim();if(h.length<pk){s([]),c(!1);return}return u.current=setTimeout(()=>f(h),fze),()=>{u.current&&clearTimeout(u.current)}},[e,f]),m.useEffect(()=>{const h=g=>{const v=g.target;d.current&&!d.current.contains(v)&&c(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),o.jsxs("div",{ref:d,className:"relative",children:[o.jsxs("div",{className:ce("flex h-[3.2rem] w-full items-center rounded-md border border-input bg-background px-3 py-2","focus-within:outline-none focus-within:ring-0",l&&"bg-gray-100 border-gray-300 dark:bg-gray-700 dark:border-gray-600"),children:[o.jsx("input",{value:e,onChange:h=>t(h.target.value),onFocus:()=>e.trim().length>=pk&&c(!0),placeholder:r,className:"flex-1 min-w-0 bg-transparent text-base md:text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-0"}),o.jsx(Yo,{className:"h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),l&&(n.length>0||a)&&o.jsxs("ul",{className:"absolute z-50 mt-1 w-full space-y-1 rounded-lg border border-gray-200 bg-white p-2 shadow-lg max-h-48 overflow-auto dark:border-gray-700 dark:bg-[#242424]",role:"listbox",children:[a&&o.jsxs("li",{className:"flex items-center gap-2 rounded-md px-3 py-2.5 text-base md:text-sm text-muted-foreground",children:[o.jsx(Yn,{className:"h-4 w-4 animate-spin"}),"Searching..."]}),!a&&n.map((h,g)=>o.jsx("li",{role:"option",className:"cursor-pointer select-none rounded-md px-3 py-2.5 text-base md:text-sm hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-gray-100",onMouseDown:v=>{v.preventDefault(),v.stopPropagation(),t(h),c(!1)},children:h},`${h}-${g}`))]})]})}function p6(e){return e?e.slice(0,7):""}function mze(e){return e?`${e}-01`:""}function gze(e){if(!e)return"";const[t,r]=e.split("-"),n=Number(t),s=Number(r);if(!Number.isFinite(n)||!Number.isFinite(s)||s<1||s>12)return"";const a=new Date(n,s,0).getDate();return`${e}-${String(a).padStart(2,"0")}`}function yze(e){return{id:e.id,job_title:e.job_title??"",company:e.company??"",job_type:e.job_type??"",location:e.location??"",start_date:p6(e.start_date),end_date:e.is_current?"":p6(e.end_date),is_current:e.is_current??!1}}function vze({open:e,onOpenChange:t,entries:r,onSave:n}){const[s,a]=m.useState([]),[i,l]=m.useState(!1),[c,u]=m.useState(null);m.useEffect(()=>{e&&(a(r.length?r.map(yze):[]),u(null))},[e,r]);const d=()=>{s.length>=10||a(p=>[...p,{id:null,job_title:"",company:"",job_type:"",location:"",start_date:"",end_date:"",is_current:!1}])},f=(p,y,x)=>{a(b=>{const w=[...b];return w[p][y]=x,y==="is_current"&&x===!0&&(w[p].end_date=""),w})},h=p=>{a(y=>y.filter((x,b)=>b!==p))},g=()=>{for(const p of s){if(!p.job_title.trim())return"Job title is required for all entries.";if(!p.company.trim())return"Company is required for all entries.";if(!p.job_type.trim())return"Job type is required for all entries.";if(!p.location.trim())return"Location is required for all entries.";if(!p.start_date.trim())return"Start date is required for all entries.";if(!p.is_current&&p.end_date&&p.start_date>p.end_date)return"Start date must be before or equal to end date."}return null},v=async p=>{p.preventDefault();const y=g();if(y){u(y);return}u(null),l(!0);try{const x=[],b=[],w=[];for(const _ of s){const S={job_title:_.job_title.trim(),company:_.company.trim(),job_type:_.job_type.trim()||null,location:_.location.trim()||null,start_date:mze(_.start_date.trim()),end_date:_.is_current?void 0:gze(_.end_date.trim())||void 0,is_current:_.is_current};_.id==null?x.push(S):b.push({id:_.id,payload:S})}for(const _ of r)s.some(S=>S.id===_.id)||w.push(_.id);await n(x,b,w),t(!1)}catch(x){const b=x&&typeof x=="object"&&"message"in x?String(x.message):"Could not save";u(b)}finally{l(!1)}};return o.jsx($h,{open:e,onOpenChange:t,children:o.jsxs(nd,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(sd,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(ad,{className:"flex-1 min-w-0",children:"Edit work experience"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(se,{type:"submit",form:"edit-work-experience-form",size:"sm",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(Yn,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save"}),o.jsx(se,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),disabled:i,"aria-label":"Cancel",children:o.jsx(Cr,{className:"h-4 w-4"})})]})]}),o.jsx("form",{id:"edit-work-experience-form",onSubmit:v,className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[c&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:c}),o.jsx("div",{className:"space-y-4",children:s.map((p,y)=>o.jsxs("div",{className:"p-4 rounded-lg space-y-3 bg-gray-100 dark:bg-[#242424]",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Work experience ",y+1]}),o.jsx(se,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(y),"aria-label":`Remove work experience ${y+1}`,children:o.jsx(Tu,{className:"h-4 w-4 text-red-600 dark:text-red-400"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Job title"}),o.jsx(it,{value:p.job_title,onChange:x=>f(y,"job_title",x.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Company"}),o.jsx(it,{value:p.company,onChange:x=>f(y,"company",x.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Job type"}),o.jsx(uze,{value:p.job_type,onChange:x=>f(y,"job_type",x)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Location"}),o.jsx(pze,{value:p.location,onChange:x=>f(y,"location",x),placeholder:"e.g. Tbilisi, Georgia"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Start date"}),o.jsx(Iw,{value:p.start_date,onChange:x=>f(y,"start_date",x)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"End date"}),o.jsx(Iw,{value:p.end_date,onChange:x=>f(y,"end_date",x),disabled:p.is_current})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kn,{id:`current-we-${y}`,checked:p.is_current,onCheckedChange:x=>f(y,"is_current",x===!0)}),o.jsx(Be,{htmlFor:`current-we-${y}`,className:"cursor-pointer",children:"I currently work here"})]})]},p.id??`new-${y}`))}),s.length<10&&o.jsxs(se,{type:"button",variant:"outline",onClick:d,className:"w-full",children:[o.jsx(E1,{className:"h-4 w-4 mr-2"}),"Add work experience"]})]})})]})})}const m6=3,xze=250;function bze({open:e,onOpenChange:t,skills:r,onAddSkill:n,onRemoveSkill:s,onRefresh:a}){const[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(null),[h,g]=m.useState(null),[v,p]=m.useState([]),[y,x]=m.useState(!1),b=m.useRef(null),w=new Set(r.map(N=>N.skill_name.toLowerCase())),_=m.useCallback(async N=>{const C=(N??i.trim()).trim();if(C){g(null),u(!0),p([]);try{await n(C),l(""),a()}catch{g("Could not add skill")}finally{u(!1)}}},[i,n,a]),S=N=>{N.key==="Enter"&&(N.preventDefault(),_())},E=m.useCallback(async N=>{await _(N.name)},[_]),k=m.useCallback(async N=>{g(null),f(N);try{await s(N),a()}catch{g("Could not remove skill")}finally{f(null)}},[s,a]);m.useEffect(()=>{const N=i.trim();if(N.length<m6){p([]),b.current&&(clearTimeout(b.current),b.current=null);return}return b.current&&clearTimeout(b.current),b.current=setTimeout(async()=>{b.current=null,x(!0);try{const C=await Rr.searchSkills(N);p(C)}catch{p([])}finally{x(!1)}},xze),()=>{b.current&&clearTimeout(b.current)}},[i]);const j=v.filter(N=>!w.has(N.name.toLowerCase()));return o.jsx($h,{open:e,onOpenChange:t,children:o.jsxs(nd,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(sd,{className:"bg-white dark:bg-[#181818] pb-3 border-b border-gray-200 dark:border-gray-700",children:[o.jsx(ad,{className:"flex-1 min-w-0",children:"Edit skills"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(se,{type:"button",size:"sm",onClick:()=>t(!1),children:"Done"}),o.jsx(se,{type:"button",variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>t(!1),"aria-label":"Close",children:o.jsx(Cr,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:[h&&o.jsx("p",{className:"text-sm text-destructive font-medium",children:h}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(it,{placeholder:"Search or type a skill (e.g. React, Figma)",value:i,onChange:N=>l(N.target.value),onKeyDown:S,disabled:c}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Press Enter to add a skill."}),i.trim().length>=m6&&o.jsx("div",{className:"relative",children:y?o.jsxs("div",{className:"flex items-center gap-2 py-2 text-sm text-muted-foreground",children:[o.jsx(Yn,{className:"h-4 w-4 animate-spin"}),"Loading suggestions"]}):j.length>0?o.jsx("ul",{className:"absolute z-10 mt-1 w-full max-h-48 overflow-y-auto rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-lg py-1",children:j.map(N=>o.jsx("li",{children:o.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-800 focus:bg-gray-100 dark:focus:bg-gray-800 outline-none",onClick:()=>E(N),children:N.name})},N.id))}):null})]}),o.jsx("div",{className:"flex flex-wrap gap-2 min-h-[2rem]",children:r.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet. Type above and press Enter to add one."}):r.map(N=>o.jsxs(Ct,{variant:"outline",className:"inline-flex items-center gap-1 capitalize px-3 py-1.5 text-xs rounded-[10px] bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",children:[N.skill_name,o.jsx("button",{type:"button",className:"ml-1 rounded-full p-0.5 hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",onClick:()=>k(N.skill_id),disabled:d===N.skill_id,"aria-label":`Remove ${N.skill_name}`,children:d===N.skill_id?o.jsx(Yn,{className:"h-3 w-3 animate-spin"}):o.jsx(Cr,{className:"h-3 w-3"})})]},N.id))})]})})]})})}const wze=[{keywords:["ui/ux designer","ui ux designer","ux designer","ui designer","ux/ui","product designer","graphic designer","web designer","designer"],industries:["design"]},{keywords:["software engineer","software developer","developer","frontend","front-end","backend","back-end","fullstack","full stack","engineer","programmer","devops","sre"],industries:["technology"]},{keywords:["data scientist","data analyst","analytics","machine learning","ml engineer","ai engineer"],industries:["technology"]},{keywords:["product manager","pm ","product owner","product lead"],industries:["technology"]},{keywords:["financial analyst","finance manager","banker","investment","risk analyst","compliance","accountant","cfo"],industries:["fintech","banking"]},{keywords:["payment","payments specialist"],industries:["payments","fintech"]},{keywords:["marketing manager","marketing specialist","digital marketing","growth lead","brand manager"],industries:["marketing"]},{keywords:["sales manager","sales representative","business development","bd "],industries:["sales"]},{keywords:["hr manager","hr specialist","recruiter","talent","people operations"],industries:["hr"]},{keywords:["customer success","customer support","support specialist","account manager"],industries:["customer service"]},{keywords:["nurse","doctor","physician","clinical","healthcare"],industries:["healthcare"]},{keywords:["e-commerce","ecommerce","retail manager","merchandising"],industries:["e-commerce","retail"]},{keywords:["consultant","consulting"],industries:["consulting"]},{keywords:["content writer","copywriter","content manager","editor"],industries:["content"]},{keywords:["qa engineer","quality assurance","test engineer","sdet"],industries:["technology"]}];function _ze(e){return e==null||typeof e!="string"?"":e.trim().toLowerCase().replace(/\s+/g," ")}function Sze(e){const t=_ze(e);if(!t)return[];const r=new Set;for(const{keywords:n,industries:s}of wze)n.some(i=>t.includes(i)||t.includes(i.replace(/\s+/g," ")))&&s.forEach(i=>r.add(i));return[...r]}const jze=10;function g6(e){if(e==null||typeof e!="string"||!e.trim())return null;const t=Date.parse(e.trim());return Number.isNaN(t)?null:t}function kze(e,t,r){const n=g6(e);if(n==null)return 0;let s;if(t!=null&&String(t).trim()?s=g6(t)??Date.now():s=Date.now(),s<n)return 0;const a=(s-n)/(365.25*24*60*60*1e3);return Math.min(jze,Math.max(0,a))}function Eze(e,t){const r={};for(const n of t){const s=n.jobTitle??"",a=Sze(s);if(a.length===0)continue;const i=kze(n.startDate,n.endDate,n.is_current);if(!(i<=0))for(const l of a)r[l]=(r[l]??0)+i}return{userId:e,industryYearsJson:r,updatedAt:new Date().toISOString()}}function Nze(e){return{jobTitle:e.job_title,company:e.company??e.company_name,startDate:e.start_date,endDate:e.end_date,is_current:e.is_current}}async function y6(e,t){var a;const r=t.map(Nze),n=Eze("",r),s={industry_years_json:n.industryYearsJson,updated_at:n.updatedAt};try{await Ce.put(Qe.ME.INDUSTRY_PROFILE,s)}catch(i){if((i&&typeof i=="object"&&"response"in i?(a=i.response)==null?void 0:a.status:void 0)===405)await Ce.patch(Qe.ME.INDUSTRY_PROFILE,s);else throw i}}const Cze="c760d8ad32msh31255f978474631p17d8c9jsnff75cb5fa2fb",Pze="resume-parsing-api2.p.rapidapi.com",Aze="https://resume-parsing-api2.p.rapidapi.com/processDocument";function Tze(e){return e.replace(/\s+/g," ").trim()}function Oze(e){const t=new Set,r=[];for(const n of e){const s=Tze(n);if(!s)continue;const a=s.toLowerCase();t.has(a)||(t.add(a),r.push(s))}return r}function vu(e){return e&&typeof e=="object"?e:null}function qJ(e,t){for(const r of t){const n=e[r];if(Array.isArray(n))return n}return[]}function ia(e,t){for(const r of t){const n=e[r];if(typeof n=="string"&&n.trim())return n.trim()}return""}function Lw(e,t=!1){if(!e)return null;const r=e.trim();if(!r||/present|current|now/i.test(r))return null;if(/^\d{4}-\d{2}-\d{2}$/.test(r))return r;if(/^\d{4}-\d{2}$/.test(r)){if(!t)return`${r}-01`;const[l,c]=r.split("-"),u=Number(l),d=Number(c),f=new Date(u,d,0).getDate();return`${r}-${String(f).padStart(2,"0")}`}if(/^\d{4}$/.test(r))return t?`${r}-12-31`:`${r}-01-01`;const n=new Date(`1 ${r}`);if(Number.isNaN(n.getTime()))return null;const s=n.getFullYear(),a=n.getMonth()+1;if(!t)return`${s}-${String(a).padStart(2,"0")}-01`;const i=new Date(s,a,0).getDate();return`${s}-${String(a).padStart(2,"0")}-${String(i).padStart(2,"0")}`}function U0(e){if(Array.isArray(e)){const t=[];for(const r of e){if(typeof r=="string"){t.push(r);continue}const n=vu(r);if(!n)continue;const s=n.name||n.skill||n.title||n.value;typeof s=="string"&&t.push(s)}return t}return typeof e=="string"?e.split(/[\n,;|]/).map(t=>t.trim()).filter(Boolean):[]}function Rze(e){const t=qJ(e,["work_experience","workExperience","experience","experiences","employment_history"]),r=[];for(const n of t){const s=vu(n);if(!s)continue;const a=ia(s,["job_title","title","position","role"]),i=ia(s,["company","company_name","employer"]),l=ia(s,["start_date","startDate","from","date_from"]),c=ia(s,["end_date","endDate","to","date_to"]),u=Lw(l,!1),d=Lw(c,!0),f=!c||/present|current|now/i.test(c);!a||!i||!u||r.push({job_title:a,company:i,location:ia(s,["location","city","country"])||void 0,job_type:ia(s,["job_type","employment_type","type"])||void 0,start_date:u,end_date:f?void 0:d??void 0,is_current:f})}return r}function $ze(e){const t=qJ(e,["education","educations","academic_background","academic"]),r=[];for(const n of t){const s=vu(n);if(!s)continue;const a=ia(s,["school_name","school","institute","institution","university","college"]),i=ia(s,["start_date","startDate","from","date_from"]),l=ia(s,["end_date","endDate","to","date_to"]),c=Lw(i,!1),u=Lw(l,!0),d=!l||/present|current|now/i.test(l);!a||!c||r.push({school_name:a,major:ia(s,["major","field_of_study","title"])||void 0,degree_type:ia(s,["degree_type","degree","qualification"])||void 0,start_date:c,end_date:d?void 0:u??void 0,is_current:d})}return r}function Mze(e){const t=vu(e.data)||vu(e.result)||vu(e.response)||vu(e.parsed_data)||e,r=ia(t,["summary","professional_summary","profile_summary","objective","about_me"])||ia(e,["summary","professional_summary","profile_summary","objective","about_me"]),n=Oze([...U0(t.skills),...U0(t.technical_skills),...U0(t.soft_skills),...U0(e.skills)]);return{aboutMe:r||void 0,educations:$ze(t),workExperiences:Rze(t),skills:n}}async function Ize(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(String(n.result||"")),n.onerror=()=>r(new Error("Failed to read CV file.")),n.readAsDataURL(e)})}function Lze(){return{name:"Resume - Extraction",language:"English",fields:[{key:"personal_info",description:"personal information of the person",type:"object",properties:[{key:"name",description:"name of the person",example:"Alex Smith",type:"string"},{key:"email",description:"email of the person",example:"alex.smith@gmail.com",type:"string"},{key:"phone",description:"phone of the person",example:"0712 123 123",type:"string"},{key:"address",description:"address of the person",example:"Bucharest, Romania",type:"string"}]},{key:"work_experience",description:"work experience of the person",type:"array",items:{type:"object",properties:[{key:"title",description:"title of the job",example:"Software Engineer",type:"string"},{key:"start_date",description:"start date of the job",example:"2022",type:"string"},{key:"end_date",description:"end date of the job",example:"2023",type:"string"},{key:"company",description:"company of the job",example:"Fastapp Development",type:"string"},{key:"location",description:"location of the job",example:"Bucharest, Romania",type:"string"},{key:"description",description:"description of the job",example:"Designing and implementing server-side logic.",type:"string"}]}},{key:"education",description:"school education of the person",type:"array",items:{type:"object",properties:[{key:"title",description:"title of the education",example:"Master of Science in Computer Science",type:"string"},{key:"start_date",description:"start date of the education",example:"2022",type:"string"},{key:"end_date",description:"end date of the education",example:"2023",type:"string"},{key:"institute",description:"institute of the education",example:"Bucharest Academy of Economic Studies",type:"string"},{key:"location",description:"location of the education",example:"Bucharest, Romania",type:"string"},{key:"description",description:"description of the education",example:"Advanced academic degree focusing on computer technology.",type:"string"}]}},{key:"languages",description:"languages spoken by the person",type:"array",items:{type:"string",example:"English"}},{key:"skills",description:"skills of the person",type:"array",items:{type:"string",example:"NodeJS"}},{key:"certificates",description:"certificates of the person",type:"array",items:{type:"string",example:"AWS Certified Developer - Associate"}}]}}async function Dze(e,t){t==null||t(5);const r=await Ize(e);t==null||t(15);const n={extractionDetails:Lze(),file:r},s=JSON.stringify(n);return await new Promise((i,l)=>{const c=new XMLHttpRequest;c.withCredentials=!0,c.upload.onprogress=u=>{if(!u.lengthComputable||u.total<=0)return;const f=15+u.loaded/u.total*70;t==null||t(Math.max(15,Math.min(85,Math.round(f))))},c.onreadystatechange=()=>{if(c.readyState===XMLHttpRequest.DONE){if(c.status<200||c.status>=300){l(new Error(`Resume parser failed (${c.status}): ${c.responseText||"unknown error"}`));return}try{t==null||t(95),i(JSON.parse(c.responseText))}catch{l(new Error("Resume parser returned invalid JSON."))}}},c.onerror=()=>l(new Error("Resume parser request failed.")),c.ontimeout=()=>l(new Error("Resume parser request timed out.")),c.open("POST",Aze),c.setRequestHeader("x-rapidapi-key",Cze),c.setRequestHeader("x-rapidapi-host",Pze),c.setRequestHeader("Content-Type","application/json"),c.send(s)})}async function Fze(e,t){const r=await Dze(e,t);return Mze(r)}const v6=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",Bze=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),Uze=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),zze=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),qze=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),Wze=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),Vze=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),Hze=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(Bze,{...r});case"linkedin":return o.jsx(Uze,{...r});case"facebook":return o.jsx(zze,{...r});case"instagram":return o.jsx(qze,{...r});case"dribbble":return o.jsx(Wze,{...r});case"behance":return o.jsx(Vze,{...r});default:return o.jsx(KA,{className:t})}},Kze=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},x6=e=>e.replace(/\s+/g," ").trim(),Gze=()=>{var Bt,tr;const{user:e,loading:t,logout:r}=ir(),n=va(),s=ar(),a=Xs(),i=Ys(),l=ji(),{subscriptionInfo:c,loading:u}=k1(),[d,f]=m.useState(null),[h,g]=m.useState(!1),[v,p]=m.useState(null),[y,x]=m.useState(!1),[b,w]=m.useState(null),[_,S]=m.useState(null),[E,k]=m.useState("profile"),[j,N]=m.useState("courses"),[C,P]=m.useState(!1),[O,F]=m.useState(!1),[M,q]=m.useState(0),[B,I]=m.useState(Date.now());m.useEffect(()=>{const Q=a.hash;Q==="#saved"||Q==="#savedjobs"||Q==="#savedcourses"?(k("saved"),N(Q==="#savedjobs"?"jobs":"courses")):k("profile")},[a.hash]),m.useEffect(()=>{e!=null&&e.profile_image&&S(e.profile_image)},[e==null?void 0:e.profile_image]);const[A,z]=m.useState(!1),[re,V]=m.useState(""),[te,X]=m.useState(!1),[ye,oe]=m.useState(!1),[me,D]=m.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[$,H]=m.useState([]),[G,le]=m.useState([]),[J,Z]=m.useState([]),[K,de]=m.useState(!1),[ae,xe]=m.useState(!1),[ke,Me]=m.useState(!1),[Ee,ue]=m.useState(!1),[ge,U]=m.useState(!1),[ee,_e]=m.useState(!1),[Le,et]=m.useState(!1),Xe=m.useRef(!1),ot=m.useRef(null),Se=m.useRef(null),{data:Ie=[]}=Wt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var Q;if(!(e!=null&&e.id))return[];try{return(((Q=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:Q.saved_courses)||[]).map(We=>String(We))}catch(Pe){return console.error("Error fetching saved course IDs:",Pe),[]}},enabled:!!(e!=null&&e.id)}),{data:Y=[],isLoading:W}=Wt({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const Q=await Ce.get(Qe.AUTH.PROFILE);let Pe=[];if(Q.data&&typeof Q.data=="object"){const je=Q.data;if(Array.isArray(je.saved_courses))Pe=je.saved_courses.map(He=>String(He));else if(je.profile&&typeof je.profile=="object"){const He=je.profile;Array.isArray(He.saved_courses)&&(Pe=He.saved_courses.map(Je=>String(Je)))}else if(je.user&&typeof je.user=="object"){const He=je.user;Array.isArray(He.saved_courses)&&(Pe=He.saved_courses.map(Je=>String(Je)))}}if(!Pe||Pe.length===0)return[];const $e=Pe,{data:We,error:ct}=await Qt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",$e);if(ct)return console.error("Error fetching course details from Supabase:",ct),[];const ut=[...new Set((We==null?void 0:We.map(je=>je.academy_id).filter(je=>!!je))||[])],gt=new Map;return ut.length>0&&await Promise.all(ut.map(async je=>{try{const He=await Ce.get(`${Qe.ACADEMY.DETAIL}${je}/`);if(He.data){const Je=He.data,ft=Je.profile_data||Je,qe=(wt,Xt=ft)=>{const Rt=Xt[wt];return typeof Rt=="string"?Rt:void 0},_t=qe("logo_url",ft)||qe("logoUrl",ft)||qe("logo",ft)||qe("logo_url",Je)||qe("logoUrl",Je)||null;gt.set(je,_t)}}catch{console.debug(`Could not fetch academy profile for ${je}`),gt.set(je,null)}})),(We||[]).map(je=>{const He=je.academy_id&&gt.has(je.academy_id)&&gt.get(je.academy_id)||null;return{id:je.id,title:je.title||"",provider:je.provider||"",category:je.category||"",level:je.level||"",duration:je.duration||"",image:v6(je.image),description:je.description||"",academy_id:je.academy_id||null,academy_logo:He?v6(He):null}})}catch(Q){return console.error("Error fetching saved courses from API profile:",Q),[]}},enabled:!!(e!=null&&e.id)}),ie=pa({mutationFn:async Q=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ce.post(`/api/save-course/${Q}/`)},onMutate:async Q=>{await i.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const Pe=i.getQueryData(["savedCourses",e==null?void 0:e.id]);return i.setQueryData(["savedCourses",e==null?void 0:e.id],$e=>{if(!$e)return $e;const We=String(Q);return $e.includes(We)?$e.filter(ct=>ct!==We):[...$e,We]}),{previousSavedCourses:Pe}},onError:(Q,Pe,$e)=>{$e!=null&&$e.previousSavedCourses&&(e!=null&&e.id)&&i.setQueryData(["savedCourses",e==null?void 0:e.id],$e.previousSavedCourses),console.error("Error updating saved courses:",Q),fe.error("Failed to update saved courses. Please try again.")},onSuccess:(Q,Pe)=>{i.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["profile"]});const $e=i.getQueryData(["savedCourses",e==null?void 0:e.id]),We=$e==null?void 0:$e.includes(String(Pe));fe.success(We?"Removed from saved courses.":"Course saved to your profile.")}}),{data:Oe=[]}=Wt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var Q;if(!(e!=null&&e.id))return[];try{const $e=((Q=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:Q.saved_jobs)||[];return Array.isArray($e)?$e.map(We=>{if(typeof We=="string"||typeof We=="number")return String(We);if(We&&typeof We=="object"){const ct=We;if(ct.id)return String(ct.id);if(ct.job_id)return String(ct.job_id)}return null}).filter(We=>We!==null):[]}catch(Pe){return console.error("Error fetching saved job IDs:",Pe),[]}},enabled:!!(e!=null&&e.id)}),{data:Ke=[],isLoading:Te}=Wt({queryKey:["savedJobs",e==null?void 0:e.id,d],queryFn:async()=>{var Q;if(!(e!=null&&e.id))return[];try{const $e=((Q=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:Q.saved_jobs)||[];if(!Array.isArray($e)||$e.length===0)return[];const ct=$e.map(gt=>{if(typeof gt=="string"||typeof gt=="number")return String(gt);if(gt&&typeof gt=="object"){const je=gt;if(je.id)return String(je.id);if(je.job_id)return String(je.job_id)}return null}).filter(gt=>gt!==null).map(async gt=>{try{const je=await M1(gt);if(!je)return null;const He=je.title||je.job_title||je.position||"Untitled Position",Je=je.company_name||je.employer_name||(typeof je.company=="string"?je.company:null)||"Unknown Company",ft=je.job_city||je.city||"",qe=je.job_state||je.state||"",_t=je.job_country||je.country||"",wt=je.job_location||je.location||[ft,qe,_t].filter(Boolean).join(", ")||"Location not specified",Xt=je.employer_logo||je.company_logo||je.companyLogo||je.logo_url||(typeof je.company=="object"&&je.company?je.company.logo||je.company.company_logo:void 0);let Rt="By agreement";const lr=je.job_min_salary||je.min_salary,fs=je.job_max_salary||je.max_salary,Tt=je.job_salary_currency||je.salary_currency||"$",Rn=je.job_salary_period||je.salary_period||"yearly";if(lr&&fs&&typeof lr=="number"&&typeof fs=="number"){const Ur=Rn==="monthly"?"Monthly":"",zn=lr.toLocaleString(),xa=fs.toLocaleString();["$","","","","",""].some(ho=>Tt.includes(ho))?Rt=`${Tt}${zn} - ${Tt}${xa}${Ur?`/${Ur}`:""}`:Rt=`${zn} - ${xa} ${Tt}${Ur?`/${Ur}`:""}`}else if(lr&&typeof lr=="number"){const Ur=lr.toLocaleString();Rt=["$","","","","",""].some(hl=>Tt.includes(hl))?`${Tt}${Ur}+`:`${Ur}+ ${Tt}`}else je.salary&&typeof je.salary=="string"&&(Rt=je.salary);const Ci=je.job_employment_type||je.employment_type||je.type||"FULLTIME",fl={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[Ci]||Ci||"Full time";let on="On-site";je.job_is_remote||je.is_remote||je.remote===!0?on="Remote":He!=null&&He.toLowerCase().includes("hybrid")&&(on="Hybrid");let $n=0;if(d!=null&&d.skills_json){const Ur=d.skills_json.tech||{},zn=d.skills_json.soft||{},xa=[...Object.keys(Ur),...Object.keys(zn)],hl=Kze(je);$n=Ive(xa,hl,He)}return{id:gt,title:He,company:Je,location:typeof wt=="string"?wt:"Location not specified",url:je.url||"",company_logo:Xt,salary:Rt,employment_type:fl,work_arrangement:on,matchPercentage:$n}}catch(je){return console.error(`Error fetching job detail for ID ${gt}:`,je),null}});return(await Promise.all(ct)).filter(gt=>gt!==null&&gt.title!==`Job ${gt.id}`)}catch(Pe){return console.error("Error fetching saved jobs:",Pe),[]}},enabled:!!(e!=null&&e.id)}),pe=pa({mutationFn:async Q=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Ce.post(`${Qe.JOBS.SAVE_JOB}${Q}/`)},onMutate:async Q=>{await i.cancelQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),await i.cancelQueries({queryKey:["savedJobs",e==null?void 0:e.id]});const Pe=i.getQueryData(["savedJobIds",e==null?void 0:e.id]);return i.setQueryData(["savedJobIds",e==null?void 0:e.id],$e=>{if(!$e)return $e;const We=String(Q);return $e.includes(We)?$e.filter(ct=>ct!==We):[...$e,We]}),{previousSavedJobIds:Pe}},onError:(Q,Pe,$e)=>{$e!=null&&$e.previousSavedJobIds&&(e!=null&&e.id)&&i.setQueryData(["savedJobIds",e==null?void 0:e.id],$e.previousSavedJobIds),console.error("Error updating saved jobs:",Q),fe.error("Failed to update saved jobs. Please try again.")},onSuccess:(Q,Pe)=>{i.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),i.invalidateQueries({queryKey:["profile"]});const $e=i.getQueryData(["savedJobIds",e==null?void 0:e.id]),We=$e==null?void 0:$e.includes(String(Pe));fe.success(We?"Removed from saved jobs.":"Job saved to your profile.")}}),Ae=R.useMemo(()=>{const Q=(We,ct)=>{if(We&&typeof We=="object")return We[ct]},Pe=v;return[Q(Pe,"phone_verified"),Q(Pe,"is_phone_verified"),Q(Q(Pe,"profile"),"phone_verified"),Q(Q(Pe,"profile"),"is_phone_verified"),Q(Q(Pe,"user"),"phone_verified"),Q(Q(Pe,"user"),"is_phone_verified"),Q(e,"phone_verified"),Q(e,"is_phone_verified")].some(We=>We===!0||We==="true")},[v,e]);m.useEffect(()=>{(async()=>{if(e){g(!0);try{const Pe=await Ce.get(`/api/skilltest/results/?user=${e.id}`);Array.isArray(Pe.data)&&Pe.data.length>0?f(Pe.data[0]):Pe.data&&typeof Pe.data=="object"&&f(Pe.data)}catch{f(null)}finally{g(!1)}}})()},[e]),m.useEffect(()=>{},[d]),m.useEffect(()=>{(async()=>{var $e,We,ct,ut,gt,je,He,Je,ft,qe,_t,wt,Xt,Rt,lr,fs,Tt,Rn,Ci,xd,fl;if(!e)return;x(!0);const Pe=localStorage.getItem("authToken");try{const on=Pe?{Authorization:`Bearer ${Pe}`}:{},tn=await Ce.get(Qe.AUTH.PROFILE,{headers:on});if(!tn.data){console.warn(" No data in response"),p(null),w(null),S(null);return}p(tn.data),($e=tn.data)!=null&&$e.profile,(We=tn.data)!=null&&We.user;const $n=((ct=tn.data)==null?void 0:ct.about_me)||((gt=(ut=tn.data)==null?void 0:ut.profile)==null?void 0:gt.about_me)||((He=(je=tn.data)==null?void 0:je.user)==null?void 0:He.about_me)||null;w($n),V($n||"");const Ur=((Je=tn.data)==null?void 0:Je.profile_image)||((qe=(ft=tn.data)==null?void 0:ft.profile)==null?void 0:qe.profile_image)||((wt=(_t=tn.data)==null?void 0:_t.user)==null?void 0:wt.profile_image)||null;S(Ur);const zn=((Xt=tn.data)==null?void 0:Xt.social_links)||((lr=(Rt=tn.data)==null?void 0:Rt.profile)==null?void 0:lr.social_links)||((Tt=(fs=tn.data)==null?void 0:fs.user)==null?void 0:Tt.social_links)||((Rn=tn.data)==null?void 0:Rn.social_networks)||((xd=(Ci=tn.data)==null?void 0:Ci.profile)==null?void 0:xd.social_networks)||null;zn&&typeof zn=="object"&&D({github:zn.github||"",linkedin:zn.linkedin||"",facebook:zn.facebook||"",instagram:zn.instagram||"",dribbble:zn.dribbble||"",behance:zn.behance||""}),Object.entries(tn.data||{}).forEach(([xa,hl])=>{xa!=="profile"&&xa!=="user"&&console.log(`  - ${xa}:`,hl)})}catch(on){(on&&typeof on=="object"&&"response"in on?(fl=on.response)==null?void 0:fl.status:void 0)===401?console.warn("Profile request unauthorized (401). Session may have expired."):console.error("Error fetching profile data:",on),p(null),w(null),S(null)}finally{x(!1)}})()},[e]);const Fe=async()=>{if(e!=null&&e.id){de(!0);try{const Q=await Rr.getEducations();H(Array.isArray(Q)?Q:[])}catch{H([])}finally{de(!1)}}},Ge=async()=>{if(e!=null&&e.id){xe(!0);try{const Q=await Rr.getWorkExperiences();le(Array.isArray(Q)?Q:[])}catch{le([])}finally{xe(!1)}}},he=async()=>{if(e!=null&&e.id){Me(!0);try{const Q=await Rr.getMySkills();Z(Array.isArray(Q)?Q:[])}catch{Z([])}finally{Me(!1)}}};m.useEffect(()=>{e!=null&&e.id&&(Fe(),Ge(),he())},[e==null?void 0:e.id]),m.useEffect(()=>{var Pe,$e,We;if(!e||Xe.current)return;const Q=v?JSON.stringify({social_links:v.social_links,profile_social_links:v.profile&&typeof v.profile=="object"&&"social_links"in v.profile?v.profile.social_links:void 0,user_social_links:v.user&&typeof v.user=="object"&&"social_links"in v.user?v.user.social_links:void 0}):null;if(Se.current!==Q){Se.current=Q;try{if(v){const ct=(v==null?void 0:v.social_links)||((Pe=v.profile)==null?void 0:Pe.social_links)||(($e=v.user)==null?void 0:$e.social_links)||(v==null?void 0:v.social_networks)||((We=v.profile)==null?void 0:We.social_networks)||null;if(ct&&typeof ct=="object"){const ut={github:ct.github||"",linkedin:ct.linkedin||"",facebook:ct.facebook||"",instagram:ct.instagram||"",dribbble:ct.dribbble||"",behance:ct.behance||""};console.log(" Setting social links to:",ut),D(gt=>Object.keys(ut).some(He=>gt[He]!==ut[He])?ut:gt)}else console.log(" No social links found in profile data"),D(ut=>Object.values(ut).some(je=>je&&je.trim()!=="")?(console.log(" Keeping existing social links:",ut),ut):{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}else console.log(" Profile data not loaded yet"),D(ct=>Object.values(ct).some(gt=>gt&&gt.trim()!=="")?ct:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(ct){console.error(" Error extracting social links from profile:",ct),D(ut=>Object.values(ut).some(je=>je&&je.trim()!=="")?ut:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}}},[e==null?void 0:e.id,v]),m.useEffect(()=>{const Q=ot;return()=>{Q.current&&clearTimeout(Q.current)}},[]);const{first_name:ze,last_name:yt,email:Et,phone_number:or}=e||{};if(fJ({phoneNumber:or||"",ownerId:e==null?void 0:e.id,role:e==null?void 0:e.user_type,initiallyVerified:Ae}),t)return o.jsx(It,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Loading profile..."})})});if(!e)return o.jsx(It,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Could not load user data. Please try logging in again."})})});const en=async Q=>{var $e,We,ct,ut,gt,je;const Pe=($e=Q.target.files)==null?void 0:$e[0];if(Pe){if(!Pe.type.startsWith("image/")){alert("Please select an image file");return}if(Pe.size>5*1024*1024){alert("Image size should be less than 5MB");return}P(!0),S(null);try{const He=new FormData;He.append("profile_image",Pe);const Je=localStorage.getItem("authToken"),ft=await Ce.patch("/api/profile/",He,{headers:{Authorization:Je?`Bearer ${Je}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",ft.data);const qe=((We=ft.data)==null?void 0:We.profile_image)||((ut=(ct=ft.data)==null?void 0:ct.profile)==null?void 0:ut.profile_image)||((je=(gt=ft.data)==null?void 0:gt.user)==null?void 0:je.profile_image)||null;S(qe),I(Date.now()),fe.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(He){console.error(" Error uploading profile image:",He),alert("Failed to upload profile image. Please try again.")}finally{P(!1)}}},Pt=()=>{oe(!0)},Ar=()=>{var Q;(Q=document.getElementById("profile-image-input"))==null||Q.click(),oe(!1)},T=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){oe(!1);return}P(!0),oe(!1);try{const Q=localStorage.getItem("authToken"),Pe=await Ce.patch("/api/profile/",{profile_image:null},{headers:{Authorization:Q?`Bearer ${Q}`:void 0}});console.log(" Image removal response:",Pe.data),S(null),I(Date.now());const $e=await Ce.get("/api/profile/",{headers:{Authorization:Q?`Bearer ${Q}`:void 0}});p($e.data),fe.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(Q){console.error(" Error removing profile image:",Q),fe.error("Failed to remove profile image. Please try again.")}finally{P(!1)}}},L=()=>{V(b||""),z(!0)},we=async Q=>{await Rr.updateProfile(Q);const $e=(await Ce.get(Qe.AUTH.PROFILE)).data,We=$e==null?void 0:$e.profile,ct=$e==null?void 0:$e.user;if(p($e),w(($e==null?void 0:$e.about_me)??(We==null?void 0:We.about_me)??(ct==null?void 0:ct.about_me)),S(($e==null?void 0:$e.profile_image)??(We==null?void 0:We.profile_image)??(ct==null?void 0:ct.profile_image)),$e!=null&&$e.social_links&&typeof $e.social_links=="object"){const ut=$e.social_links;D({github:ut.github??"",linkedin:ut.linkedin??"",facebook:ut.facebook??"",instagram:ut.instagram??"",dribbble:ut.dribbble??"",behance:ut.behance??""})}fe.success("Profile updated.")},Ye=async(Q,Pe,$e)=>{for(const We of Q)await Rr.createEducation(We);for(const{id:We,payload:ct}of Pe)await Rr.updateEducation(We,ct);for(const We of $e)await Rr.deleteEducation(We);await Fe(),fe.success("Education updated.")},Lt=async(Q,Pe,$e)=>{var ct;for(const ut of Q)await Rr.createWorkExperience(ut);for(const{id:ut,payload:gt}of Pe)await Rr.updateWorkExperience(ut,gt);for(const ut of $e)await Rr.deleteWorkExperience(ut);const We=await Rr.getWorkExperiences().catch(()=>[]);if(le(Array.isArray(We)?We:[]),e!=null&&e.id)try{await y6(String(e.id),Array.isArray(We)?We:[])}catch(ut){const gt=ut&&typeof ut=="object"&&"response"in ut?(ct=ut.response)==null?void 0:ct.status:void 0;console.error("[Industry profile] refresh failed:",gt,ut),gt===404?console.warn("[Industry profile] 404  is PUT /api/me/industry-profile/ registered in Django?"):gt===401&&console.warn("[Industry profile] 401  auth token may be missing or invalid.")}fe.success("Work experience updated.")},hr=async()=>{if(e){X(!0);try{const Q=localStorage.getItem("authToken"),Pe=await Ce.patch("/api/profile/",{about_me:re},{headers:{Authorization:Q?`Bearer ${Q}`:void 0}});console.log(" About Me updated:",Pe.data),w(re);const $e=await Ce.get("/api/profile/",{headers:{Authorization:Q?`Bearer ${Q}`:void 0}});p($e.data),z(!1),fe.success("About Me has been updated successfully.")}catch(Q){console.error(" Error updating about me:",Q),fe.error("Failed to update About Me. Please try again.")}finally{X(!1)}}},xr=Q=>[(Q.school_name||"").trim().toLowerCase(),(Q.major||"").trim().toLowerCase(),(Q.start_date||"").trim(),(Q.end_date||"").trim()].join("|"),Ht=Q=>[(Q.company||"").trim().toLowerCase(),(Q.job_title||"").trim().toLowerCase(),(Q.start_date||"").trim(),(Q.end_date||"").trim()].join("|"),Br=async Q=>{var We,ct;const Pe=(We=Q.target.files)==null?void 0:We[0];if(Q.target.value="",!Pe)return;if((c==null?void 0:c.is_active)!==!0){s({pathname:a.pathname,search:"?upgrade=true"});return}if(!(Pe.type==="application/pdf"||Pe.name.toLowerCase().endsWith(".pdf"))){fe.error("Please upload a PDF CV file.");return}if(Pe.size>10*1024*1024){fe.error("CV file size must be 10MB or less.");return}F(!0),q(3);try{const ut=await Fze(Pe,Rt=>{q(lr=>Math.max(lr,Rt))});q(Rt=>Math.max(Rt,92));let gt=0,je=0,He=0,Je=!1;(ct=ut.aboutMe)!=null&&ct.trim()&&(await Rr.updateProfile({about_me:ut.aboutMe.trim()}),w(ut.aboutMe.trim()),V(ut.aboutMe.trim()),Je=!0);const ft=new Set($.map(Rt=>xr(Rt)));for(const Rt of ut.educations){const lr=xr(Rt);ft.has(lr)||(await Rr.createEducation(Rt),ft.add(lr),gt+=1)}const qe=new Set(G.map(Rt=>Ht(Rt)));for(const Rt of ut.workExperiences){const lr=Ht(Rt);qe.has(lr)||(await Rr.createWorkExperience(Rt),qe.add(lr),je+=1)}const _t=new Set(J.map(Rt=>x6(Rt.skill_name).toLowerCase()));for(const Rt of ut.skills){const lr=x6(Rt).toLowerCase();!lr||_t.has(lr)||(await Rr.addSkill(Rt),_t.add(lr),He+=1)}await Fe();const wt=await Rr.getWorkExperiences().catch(()=>[]);if(le(Array.isArray(wt)?wt:[]),await he(),e!=null&&e.id)try{await y6(String(e.id),Array.isArray(wt)?wt:[])}catch(Rt){console.error("[Industry profile] refresh after CV import failed:",Rt)}!(gt+je+He)&&!Je?fe.info("CV parsed, but no new profile data was found to import."):fe.success(`CV imported: ${gt} education, ${je} work experience, ${He} skills${Je?", about me updated":""}.`),q(100)}catch(ut){const gt=ut instanceof Error?ut.message:"Failed to parse and import CV.";fe.error(gt)}finally{setTimeout(()=>{F(!1),q(0)},600)}},ds=()=>{var Pe;if(u)return;if(!((c==null?void 0:c.is_active)===!0)){s({pathname:a.pathname,search:"?upgrade=true"});return}(Pe=document.getElementById("cv-upload-input"))==null||Pe.click()},vt=_||(e==null?void 0:e.profile_image),St=()=>{var ct,ut;if(!(d!=null&&d.skills_json))return console.log(" No skills_json in results"),[];const Q=((ct=d==null?void 0:d.skills_json)==null?void 0:ct.tech)||{},Pe=((ut=d==null?void 0:d.skills_json)==null?void 0:ut.soft)||{};return[...Object.entries(Q).map(([gt,je])=>({name:gt,percentage:parseFloat(String(je).replace("%","")),type:"tech"})),...Object.entries(Pe).map(([gt,je])=>({name:gt,percentage:parseFloat(String(je).replace("%","")),type:"soft"}))].filter(gt=>gt.percentage>0).sort((gt,je)=>je.percentage-gt.percentage).slice(0,5)},Nt=(Q,Pe)=>{if(!Q||typeof Q!="object"||Array.isArray(Q))return null;const $e="#19B5FE",We=Object.entries(Q).filter(([je,He])=>parseFloat(String(He).replace("%",""))>0).map(([je,He],Je)=>{const ft=parseFloat(String(He).replace("%",""));let qe;ft>=40?qe=1:qe=.3+ft/40*.7;const _t=String(je).replace(/\s+/g,"-").slice(0,30),wt=`skill-${Je}-${_t}`,Xt=`gradient-primary-${wt}`;return{id:wt,skill:je,percentage:ft,displayPct:He,fill:$e,opacity:qe,gradientId:Xt}}).sort((je,He)=>He.percentage-je.percentage);if(We.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const ct={percentage:{label:"Percentage"}},ut=je=>{const{x:He,y:Je,width:ft,height:qe,payload:_t,value:wt}=je;let Xt="";typeof wt=="string"?Xt=wt:wt&&typeof wt=="object"&&"name"in wt?Xt=String(wt.name||""):_t!=null&&_t.skill&&(Xt=_t.skill);const Rt=typeof He=="number"?He:typeof He=="string"?parseFloat(He):0,lr=typeof Je=="number"?Je:typeof Je=="string"?parseFloat(Je):0,fs=typeof ft=="number"?ft:typeof ft=="string"?parseFloat(ft):0,Tt=typeof qe=="number"?qe:typeof qe=="string"?parseFloat(qe):0;if(!Rt||!lr||!fs||!Tt||!Xt)return null;const Rn=Rt+fs/2,fl=250-80+25,on=Math.max(8,Math.floor(fs/6)),tn=Xt.split(" "),$n=[];let Ur="";for(const hs of tn)if(hs.length>on){Ur&&($n.push(Ur),Ur="");for(let ho=0;ho<hs.length;ho+=on)$n.push(hs.slice(ho,ho+on))}else(Ur+" "+hs).length<=on?Ur=Ur?Ur+" "+hs:hs:(Ur&&$n.push(Ur),Ur=hs);if(Ur&&$n.push(Ur),$n.length===0||$n.length===1&&$n[0].length>on*1.5){$n.length=0;for(let hs=0;hs<Xt.length;hs+=on)$n.push(Xt.slice(hs,hs+on))}const zn=$n.slice(0,2),xa=14,hl=fl-(zn.length-1)*(xa/2);return o.jsx("text",{x:Rn,y:hl,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:zn.map((hs,ho)=>o.jsx("tspan",{x:Rn,dy:ho===0?0:xa,children:hs},ho))})},gt=je=>{const{x:He,y:Je,width:ft,height:qe,value:_t,payload:wt}=je;let Xt=0;typeof _t=="number"?Xt=_t:_t&&typeof _t=="object"&&"name"in _t&&(Xt=0);const Rt=(wt==null?void 0:wt.skill)||"",lr=typeof He=="number"?He:typeof He=="string"&&parseFloat(He)||0,fs=typeof Je=="number"?Je:typeof Je=="string"&&parseFloat(Je)||0,Tt=typeof ft=="number"?ft:typeof ft=="string"&&parseFloat(ft)||0,Rn=typeof qe=="number"?qe:typeof qe=="string"&&parseFloat(qe)||0;if(!lr||!fs||!Tt||!Rn)return null;const Ci=lr+Tt/2,xd=250,fl=80,on=Math.max(8,Math.floor(Tt/6)),tn=Rt.length>on*1.2,$n=xd-fl+(tn?70:60);return o.jsx("text",{x:Ci,y:$n,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${Xt.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(QO,{config:ct,className:"h-[250px] w-full",children:o.jsxs(rJ,{data:We,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:We.map(je=>o.jsxs("linearGradient",{id:je.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:je.fill,stopOpacity:je.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:je.opacity})]},je.gradientId))}),o.jsx(gd,{dataKey:"skill",hide:!0}),o.jsx(kp,{type:"number",domain:[0,100],hide:!0}),o.jsx(iJ,{content:({active:je,payload:He})=>{if(je&&He&&He.length){const Je=He[0].payload;return o.jsx("div",{className:"rounded-3xl border-0 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:Je.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:$e,opacity:Je.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:$e,opacity:Je.opacity},children:[Je.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Dc,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[We.map(je=>o.jsx(y_,{fill:`url(#${je.gradientId})`,style:{transition:"all 0.3s ease"}},je.id)),o.jsx(Ua,{content:ut,dataKey:"skill"}),o.jsx(Ua,{content:gt,dataKey:"percentage"})]},`bar-${We.map(je=>je.id).join("-")}`)]})})})};return o.jsxs(It,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(jn.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(jn.button,{layout:!0,onClick:()=>s("#"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${E==="profile"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[E==="profile"&&o.jsx(jn.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Profile"})]}),o.jsx(Twe,{mode:"popLayout",initial:!1,children:E==="profile"?o.jsx(jn.button,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s("#savedcourses"),className:"relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200 whitespace-nowrap outline-none",children:o.jsx("span",{className:"relative z-10",children:"Saved"})},"saved-summary"):o.jsxs(jn.div,{layout:!0,className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsxs(jn.button,{layout:!0,onClick:()=>s("#savedcourses"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${j==="courses"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[j==="courses"&&o.jsx(jn.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Courses"})]},"saved-courses"),o.jsxs(jn.button,{layout:!0,onClick:()=>s("#savedjobs"),className:`relative px-4 py-2.5 md:px-6 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${j==="jobs"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[j==="jobs"&&o.jsx(jn.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Saved Jobs"})]},"saved-jobs")]},"saved-tabs")})]})}),E==="profile"?o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-32 md:pb-6 px-2 sm:px-6 lg:px-8 space-y-4 md:space-y-6",children:[o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal information"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(se,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>s("/settings"),"aria-label":"Settings",children:o.jsx(N1,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),o.jsx(se,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>ue(!0),"aria-label":"Edit personal information",children:o.jsx(Po,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]})]}),o.jsxs(De,{className:"px-6 pb-6",children:[o.jsx("input",{id:"cv-upload-input",type:"file",accept:"application/pdf,.pdf",className:"hidden",onChange:Br,disabled:O}),o.jsxs("div",{className:"flex flex-row items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[o.jsxs("div",{className:"relative group cursor-pointer rounded-full overflow-hidden w-12 h-12 sm:w-14 sm:h-14",onClick:Pt,children:[o.jsx($g,{src:vt||void 0,alt:"Profile photo",fallback:ze?ze.charAt(0).toUpperCase():"U",size:"lg",loading:"eager",className:"h-12 w-12 sm:h-14 sm:w-14 rounded-full"},`avatar-${B}`),C?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:o.jsx(Jz,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:en,className:"hidden",disabled:C})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[ze," ",yt]}),(e==null?void 0:e.job_title)&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:e.job_title})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[v!=null&&v.country_region||v!=null&&v.city?o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(Qu,{className:"h-4 w-4 text-gray-500"}),[v==null?void 0:v.country_region,v==null?void 0:v.city].filter(Boolean).join(", ")||"Location not set"]}):null,Et&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(Xu,{className:"h-4 w-4 text-gray-500"}),Et]}),or&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100",children:[o.jsx(Fg,{className:"h-4 w-4 text-gray-500"}),or]}),Object.entries(me).filter(([Q,Pe])=>Pe==null?void 0:Pe.trim()).map(([Q,Pe])=>o.jsxs("a",{href:Pe,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-gray-100 hover:underline",children:[Hze(Q,"h-4 w-4 text-gray-500"),Pe.length>35?`${Pe.slice(0,32)}...`:Pe.replace(/^https?:\/\/(www\.)?/,"")]},Q))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 w-full",children:[o.jsx(Re,{className:"bg-white transition-all w-full rounded-3xl border-0 hover:shadow-soft transition-shadow cursor-pointer",children:o.jsx(De,{className:"p-3 md:p-4",children:h?o.jsx("div",{className:"flex items-center justify-center min-h-[96px] md:min-h-[120px]",children:o.jsx(Yn,{className:"h-5 w-5 animate-spin text-gray-500"})}):d!=null&&d.final_role||St().length>0?o.jsx(Lr,{to:"/skill-path",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-base md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[2.4rem] md:min-h-[3rem]",children:l.home.skillPathTitle}),o.jsx("p",{className:"hidden md:block text-sm text-gray-900",children:l.home.skillPathSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-16 h-16 md:w-28 md:h-28 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/checklisto.png",alt:"Checklist",className:"w-14 h-14 md:w-24 md:h-24 object-contain"})})]})}):o.jsx(Lr,{to:"/skill-test",className:"block cursor-pointer group",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-base md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[2.4rem] md:min-h-[3rem]",children:l.home.skillTestTitle}),o.jsx("p",{className:"hidden md:block text-sm text-gray-900",children:l.home.skillTestSubtitle})]}),o.jsx("div",{className:"flex-shrink-0 w-16 h-16 md:w-28 md:h-28 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test",className:"w-14 h-14 md:w-full md:h-full object-contain"})})]})})})}),o.jsx(Re,{className:"bg-white transition-all w-full rounded-3xl border-0 hover:shadow-soft transition-shadow cursor-pointer",children:o.jsx(De,{className:"p-3 md:p-4",children:o.jsx("button",{type:"button",onClick:ds,disabled:O||u,className:"w-full text-left group disabled:opacity-70",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[o.jsx("h3",{className:"font-bold text-base md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[2.4rem] md:min-h-[3rem]",children:O?"Importing Resume...":"Import Resume"}),o.jsx("p",{className:"text-xs font-semibold text-breneo-blue",children:"Premium feature"}),o.jsx("p",{className:"hidden md:block text-sm text-gray-900",children:"Upload a PDF CV and auto-fill profile, education, work experience, and skills."}),O&&o.jsxs("div",{className:"mt-1.5 space-y-1",children:[o.jsx(tR,{value:M,className:"h-2 bg-blue-100"}),o.jsxs("p",{className:"text-xs text-gray-600",children:[M,"%"]})]})]}),o.jsx("div",{className:"flex-shrink-0 w-16 h-16 md:w-28 md:h-28 flex items-center justify-center",children:O?o.jsx(Yn,{className:"h-10 w-10 animate-spin text-breneo-blue"}):o.jsx("img",{src:"/lovable-uploads/document-uploado.png",alt:"Document upload",className:"w-14 h-14 md:w-24 md:h-24 object-contain"})})]})})})})]}),o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"About Me"}),o.jsx(se,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:L,"aria-label":"Edit about me",children:o.jsx(Po,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(De,{className:"px-6 py-4",children:y?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):b?o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:b.length>200?`${b.substring(0,200)}...`:b}),b.length>200&&o.jsx(se,{variant:"link",className:"text-breneo-blue p-0 h-auto mt-2 font-normal text-sm hover:underline",onClick:L,children:"View More"})]}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No information available. Add some details about yourself!"})})]}),o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Education"}),o.jsx(se,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>U(!0),"aria-label":"Edit education",children:o.jsx(Po,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(De,{className:"px-6 pb-6",children:K?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):$.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No education added yet."}):o.jsx("div",{className:"relative",children:$.map((Q,Pe)=>o.jsxs("div",{className:"flex gap-4 pb-6 last:pb-0",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-[#36B0E3] shrink-0"}),Pe<$.length-1&&o.jsx("div",{className:"w-px flex-1 min-h-[2rem] bg-[#36B0E3]/30 mt-1"})]}),o.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:[Q.start_date,Q.is_current?"  Present":Q.end_date?`  ${Q.end_date}`:""]}),o.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:Q.school_name}),(Q.degree_type||Q.major)&&o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Q.degree_type,Q.major].filter(Boolean).join(" in ")})]})]},Q.id))})})]}),o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Work experience"}),o.jsx(se,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>_e(!0),"aria-label":"Edit work experience",children:o.jsx(Po,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(De,{className:"px-6 pb-6",children:ae?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):G.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No work experience added yet."}):o.jsx("div",{className:"relative",children:G.map((Q,Pe)=>o.jsxs("div",{className:"flex gap-4 pb-6 last:pb-0",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-[#36B0E3] shrink-0"}),Pe<G.length-1&&o.jsx("div",{className:"w-px flex-1 min-h-[2rem] bg-[#36B0E3]/30 mt-1"})]}),o.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:[Q.start_date,Q.is_current?"  Present":Q.end_date?`  ${Q.end_date}`:""]}),o.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:Q.company}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:Q.job_title})]})]},Q.id))})})]}),o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b-0",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Skills"}),o.jsx(se,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",onClick:()=>et(!0),"aria-label":"Edit skills",children:o.jsx(Po,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})]}),o.jsx(De,{className:"px-6 pb-6",children:ke?o.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."}):J.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No skills added yet."}):o.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(Q=>o.jsx(Ct,{variant:"outline",className:"capitalize px-3 py-1.5 text-xs rounded-[10px] bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700",children:Q.skill_name},Q.id))})})]}),o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsx(bt,{className:"p-4 pb-3 border-b-0",children:o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal Skills"})}),o.jsx(De,{className:"px-6 py-4",children:h?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading skill results..."}):d&&(d!=null&&d.final_role||St().length>0)?o.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.final_role)&&o.jsxs("div",{className:"bg-gradient-to-r from-breneo-blue/10 to-breneo-blue/5 dark:from-breneo-blue/20 dark:to-breneo-blue/10 p-4 rounded-3xl border-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(fc,{className:"h-5 w-5 text-breneo-blue"})}),o.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Recommended Role"})]}),o.jsx(Ct,{className:"text-sm px-3 py-1.5 bg-breneo-blue hover:bg-breneo-blue/90 text-white border-0",children:d==null?void 0:d.final_role})]}),(d==null?void 0:d.skills_json)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-4",children:"Top Skills"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[((Bt=d==null?void 0:d.skills_json)==null?void 0:Bt.tech)&&Object.keys(d.skills_json.tech).length>0&&o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsx(bt,{className:"pb-2",children:o.jsx(Ot,{className:"flex items-center gap-2 text-sm",children:"Technical Skills"})}),o.jsx(De,{className:"p-2 pt-0 pb-4",children:Nt(d.skills_json.tech)})]}),((tr=d==null?void 0:d.skills_json)==null?void 0:tr.soft)&&Object.keys(d.skills_json.soft).length>0&&o.jsxs(Re,{className:"border-0 rounded-3xl",children:[o.jsx(bt,{className:"pb-2",children:o.jsx(Ot,{className:"flex items-center gap-2 text-sm",children:"Soft Skills"})}),o.jsx(De,{className:"p-2 pt-0 pb-4",children:Nt(d.skills_json.soft)})]})]})]}),St().length===0&&!h&&o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})]}):o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})})]}),o.jsxs("p",{className:"pt-1 text-center text-xs text-gray-500",children:["Version ","0.10.0"]})]}):o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-32 md:pb-6 px-2 sm:px-6 lg:px-8",children:[j==="courses"&&o.jsxs("div",{className:"rounded-3xl bg-white dark:bg-[#242424] overflow-hidden",children:[o.jsx("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Saved Courses"})}),W?o.jsxs("div",{className:"flex flex-col justify-center items-center py-20 bg-white/50 dark:bg-[#242424]/50",children:[o.jsx(Yn,{className:"h-8 w-8 animate-spin text-gray-400 mb-4"}),o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Loading..."})]}):Y.length===0?o.jsxs("div",{className:"p-12 text-center bg-card/50",children:[o.jsx(hc,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(se,{onClick:()=>s("/courses"),variant:"default",children:"Browse Courses"})]}):o.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Y.map(Q=>{const Pe=Ie.includes(String(Q.id));return o.jsx("div",{className:"group cursor-pointer transition-colors hover:bg-gray-50/50 dark:hover:bg-gray-800/30",onClick:()=>s(`/course/${Q.id}`),children:o.jsx("div",{className:n?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:Q.image?o.jsx("img",{src:Q.image,alt:Q.title,className:"w-10 h-10 rounded-md object-cover",loading:"lazy",onError:$e=>{$e.target.src="/placeholder.svg"}}):o.jsx("div",{className:"w-10 h-10 rounded-md bg-breneo-blue/10 flex items-center justify-center",children:o.jsx(hc,{className:"h-5 w-5 text-breneo-blue"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate text-gray-900 dark:text-gray-100",children:Q.provider}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:Q.level||"Level not specified"})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:$e=>{$e.stopPropagation(),ie.mutate(String(Q.id))},"aria-label":Pe?"Unsave course":"Save course",className:ce("flex-shrink-0 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Pe?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",Pe?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem] text-gray-900 dark:text-gray-100",children:Q.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[Q.duration&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 border-0",children:Q.duration}),Q.category&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600 border-0",children:Q.category})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0 relative w-12 h-12",children:Q.image?o.jsx("img",{src:Q.image,alt:Q.title,className:"w-12 h-12 rounded-md object-cover",loading:"lazy",onError:$e=>{$e.target.src="/placeholder.svg"}}):o.jsx("div",{className:"w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center",children:o.jsx(hc,{className:"h-6 w-6 text-breneo-blue"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:Q.provider}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3 text-gray-900 dark:text-gray-100",children:Q.title})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[Q.level&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(fc,{className:"h-4 w-4"}),o.jsx("span",{children:Q.level})]}),Q.duration&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Yu,{className:"h-4 w-4"}),o.jsx("span",{children:Q.duration})]}),Q.category&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(rhe,{className:"h-4 w-4"}),o.jsx("span",{children:Q.category})]})]})]})]})}),o.jsx("div",{className:"flex-shrink-0 py-4 pl-4 pr-6 relative flex flex-col items-center justify-center",children:o.jsx(se,{variant:"secondary",size:"icon",onClick:$e=>{$e.stopPropagation(),ie.mutate(String(Q.id))},"aria-label":Pe?"Unsave course":"Save course",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Pe?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",Pe?"text-red-500 fill-red-500":"text-black dark:text-white")})})})]})})},Q.id)})})]}),j==="jobs"&&o.jsxs("div",{className:"rounded-3xl bg-white dark:bg-[#242424] overflow-hidden",children:[o.jsx("div",{className:"p-4 md:p-6 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Saved Jobs"})}),Te?o.jsxs("div",{className:"flex flex-col justify-center items-center py-20 bg-white/50 dark:bg-[#242424]/50",children:[o.jsx(Yn,{className:"h-8 w-8 animate-spin text-gray-400 mb-4"}),o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Loading..."})]}):Ke.length===0?o.jsxs("div",{className:"p-12 text-center bg-card/50",children:[o.jsx(Xr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(se,{onClick:()=>s("/jobs"),variant:"default",children:"Browse Jobs"})]}):o.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Ke.map(Q=>{const Pe=Oe.includes(String(Q.id));return o.jsx("div",{className:"group cursor-pointer transition-colors hover:bg-gray-50/50 dark:hover:bg-gray-800/30",onClick:()=>{Q.url?window.open(Q.url,"_blank"):s(`/jobs/${encodeURIComponent(Q.id)}`)},children:o.jsx("div",{className:n?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[Q.company_logo?o.jsx("img",{src:Q.company_logo,alt:`${Q.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",onError:$e=>{const We=$e.target;We.style.display="none";const ct=We.nextElementSibling;ct&&(ct.style.display="flex")}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${Q.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Xr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate text-gray-900 dark:text-gray-100",children:Q.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:Q.location})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:$e=>{$e.stopPropagation(),pe.mutate(Q.id)},"aria-label":Pe?"Unsave job":"Save job",className:ce("flex-shrink-0 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Pe?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",Pe?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem] text-gray-900 dark:text-gray-100",children:Q.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Q.employment_type&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:Q.employment_type}),Q.work_arrangement&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 border-0",children:Q.work_arrangement})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(ua,{value:Q.matchPercentage??0,size:40,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue flex-shrink-0"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100 whitespace-nowrap",children:Ou(Q.matchPercentage)})]})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[Q.company_logo?o.jsx("img",{src:Q.company_logo,alt:Q.company,className:"w-12 h-12 rounded-md object-cover absolute inset-0 z-10",loading:"lazy",onError:$e=>{var ut;const We=$e.target;We.style.display="none";const ct=(ut=We.parentElement)==null?void 0:ut.querySelector(".logo-fallback");ct&&(ct.style.display="flex",ct.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center logo-fallback absolute inset-0 ${Q.company_logo?"z-0":"z-10"}`,style:{display:Q.company_logo?"none":"flex"},children:o.jsx(Xr,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:Q.company}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3 text-gray-900 dark:text-gray-100",children:Q.title})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Qu,{className:"h-4 w-4"}),o.jsx("span",{children:Q.location})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Yu,{className:"h-4 w-4"}),o.jsx("span",{children:Q.employment_type})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Xr,{className:"h-4 w-4"}),o.jsx("span",{children:Q.work_arrangement})]})]})})]})]})}),o.jsxs("div",{className:"flex-shrink-0 py-4 pl-4 pr-14 relative w-24 min-h-[88px] flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 px-2 transition-opacity duration-200 group-hover:opacity-0 group-hover:pointer-events-none",children:[o.jsx(ua,{value:Q.matchPercentage??0,size:48,strokeWidth:4,showLabel:!1,percentageTextSize:"md",className:"flex-shrink-0 text-gray-400 dark:text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 whitespace-nowrap text-center",children:Ou(Q.matchPercentage)})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:$e=>{$e.stopPropagation(),pe.mutate(Q.id)},"aria-label":Pe?"Unsave job":"Save job",className:ce("absolute top-4 right-4 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity duration-200 z-10 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",Pe?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",Pe?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})})},Q.id)})})]})]}),o.jsx(l9e,{open:Ee,onOpenChange:ue,initial:{first_name:ze??(e==null?void 0:e.first_name),last_name:yt??(e==null?void 0:e.last_name),email:Et??"",phone_number:or??"",country_region:v==null?void 0:v.country_region,city:v==null?void 0:v.city,about_me:b,social_links:{...me}},onSave:we}),o.jsx(cze,{open:ge,onOpenChange:U,entries:$,onSave:Ye}),o.jsx(vze,{open:ee,onOpenChange:_e,entries:G,onSave:Lt}),o.jsx(bze,{open:Le,onOpenChange:et,skills:J,onAddSkill:async Q=>{await Rr.addSkill(Q)},onRemoveSkill:Q=>Rr.removeSkill(Q),onRefresh:he}),o.jsx($h,{open:A,onOpenChange:z,children:o.jsxs(nd,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(sd,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(ad,{className:"flex-1 min-w-0",children:"Edit About Me"}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:[o.jsx(se,{size:"sm",onClick:hr,disabled:te,children:te?"Saving...":"Save Changes"}),o.jsx(se,{variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>z(!1),disabled:te,"aria-label":"Cancel",children:o.jsx(Cr,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-4",children:o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"about-me",children:"Tell us about yourself"}),o.jsx(Ty,{id:"about-me",placeholder:"Share something about yourself...",value:re,onChange:Q=>V(Q.target.value),className:"mt-2 min-h-[200px]",disabled:te})]})})]})}),o.jsx($h,{open:ye,onOpenChange:oe,children:o.jsxs(nd,{side:"rightProfile",overlayClassName:"backdrop-blur-sm bg-black/20 dark:bg-black/40",className:"flex flex-col h-full overflow-hidden px-4 py-6 md:p-8 bg-white dark:bg-[#181818]",children:[o.jsxs(sd,{className:"bg-white dark:bg-[#181818] pb-3",children:[o.jsx(ad,{className:"flex-1 min-w-0",children:"Profile Photo"}),o.jsx("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:o.jsx(se,{variant:"secondary",size:"sm",className:"h-10 w-10 p-0 shrink-0",onClick:()=>oe(!1),"aria-label":"Cancel",children:o.jsx(Cr,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-2",children:[o.jsxs(se,{onClick:Ar,className:"w-full justify-start gap-3",variant:"ghost",disabled:C,children:[o.jsx(CN,{className:"h-5 w-5"}),vt?"Update Photo":"Upload Photo"]}),vt&&o.jsxs(se,{onClick:T,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:C,children:[o.jsx(Tu,{className:"h-5 w-5"}),"Remove Photo"]})]})]})})]})},b6=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",Yze=()=>{const{user:e}=ir(),t=ar(),r=Ys(),[n,s]=m.useState("courses"),{data:a=[]}=Wt({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var g;if(!(e!=null&&e.id))return[];try{return(((g=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:g.saved_courses)||[]).map(y=>String(y))}catch(v){return console.error("Error fetching saved course IDs:",v),[]}},enabled:!!(e!=null&&e.id)}),{data:i=[],isLoading:l}=Wt({queryKey:["savedCoursesDetails",e==null?void 0:e.id,a],queryFn:async()=>{if(!(e!=null&&e.id)||!a||a.length===0)return[];try{const{data:g,error:v}=await Qt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",a);if(v)return console.error("Error fetching saved course details:",v),[];const p=[...new Set((g==null?void 0:g.map(x=>x.academy_id).filter(x=>!!x))||[])],y=new Map;return p.length>0&&await Promise.all(p.map(async x=>{try{const b=await Ce.get(`${Qe.ACADEMY.DETAIL}${x}/`);if(b.data){const w=b.data,_=w.profile_data||w,S=(k,j=_)=>{const N=j[k];return typeof N=="string"?N:void 0},E=S("logo_url",_)||S("logoUrl",_)||S("logo",_)||S("logo_url",w)||S("logoUrl",w)||null;y.set(x,E)}}catch{console.debug(`Could not fetch academy profile for ${x}`),y.set(x,null)}})),(g||[]).map(x=>{const b=x.academy_id&&y.has(x.academy_id)&&y.get(x.academy_id)||null;return{id:x.id,title:x.title||"",provider:x.provider||"",category:x.category||"",level:x.level||"",duration:x.duration||"",image:b6(x.image),description:x.description||"",academy_id:x.academy_id||null,academy_logo:b?b6(b):null}})}catch(g){return console.error("Error fetching saved courses:",g),[]}},enabled:!!e&&a.length>0}),{data:c=[]}=Wt({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var g;if(!(e!=null&&e.id))return[];try{const p=((g=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:g.saved_jobs)||[];return Array.isArray(p)?p.map(y=>{if(typeof y=="string"||typeof y=="number")return String(y);if(y&&typeof y=="object"){const x=y;if(x.id)return String(x.id);if(x.job_id)return String(x.job_id);if(x.jobId)return String(x.jobId)}return null}).filter(y=>y!==null):[]}catch(v){return console.error("Error fetching saved job IDs:",v),[]}},enabled:!!(e!=null&&e.id)}),{data:u=[],isLoading:d}=Wt({queryKey:["savedJobsDetails",e==null?void 0:e.id,c],queryFn:async()=>{if(!(e!=null&&e.id)||!c||c.length===0)return[];try{const g=c.map(async p=>{try{const y=await M1(p);if(!y)return null;const x=y.title||y.job_title||y.position||"Untitled Position",b=y.company_name||y.employer_name||(typeof y.company=="string"?y.company:null)||"Unknown Company",w=y.job_city||y.city||"",_=y.job_state||y.state||"",S=y.job_country||y.country||"",E=y.job_location||y.location||[w,_,S].filter(Boolean).join(", ")||"Location not specified",k=y.employer_logo||y.company_logo||y.logo_url||(typeof y.company=="object"&&y.company?y.company.logo||y.company.company_logo:void 0);let j="By agreement";const N=y.job_min_salary||y.min_salary,C=y.job_max_salary||y.max_salary,P=y.job_salary_currency||y.salary_currency||"$",O=y.job_salary_period||y.salary_period||"yearly";if(N&&C&&typeof N=="number"&&typeof C=="number"){const A=O==="monthly"?"Monthly":"",z=N.toLocaleString(),re=C.toLocaleString();["$","","","","",""].some(X=>P.includes(X))?j=`${P}${z} - ${P}${re}${A?`/${A}`:""}`:j=`${z} - ${re} ${P}${A?`/${A}`:""}`}else if(N&&typeof N=="number"){const A=N.toLocaleString();j=["$","","","","",""].some(V=>P.includes(V))?`${P}${A}+`:`${A}+ ${P}`}else y.salary&&typeof y.salary=="string"&&(j=y.salary);const F=y.job_employment_type||y.employment_type||y.type||"FULLTIME",q={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[F]||F||"Full time";let B="On-site";return y.job_is_remote||y.is_remote||y.remote===!0?B="Remote":x!=null&&x.toLowerCase().includes("hybrid")&&(B="Hybrid"),{id:p,title:x,company:b,location:typeof E=="string"?E:"Location not specified",url:y.url||"",company_logo:k,salary:j,employment_type:q,work_arrangement:B}}catch(y){return console.error(`Error fetching job ${p}:`,y),null}});return(await Promise.all(g)).filter(p=>p!==null)}catch(g){return console.error("Error fetching saved jobs:",g),[]}},enabled:!!e&&c.length>0}),f=pa({mutationFn:async g=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Ce.post(`/api/save-course/${g}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedCourseIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedCoursesDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success("Course removed from saved")},onError:g=>{console.error("Error updating saved courses:",g),fe.error("Failed to update saved courses. Please try again.")}}),h=pa({mutationFn:async g=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Ce.post(`${Qe.JOBS.SAVE_JOB}${g}/`)},onSuccess:()=>{r.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["savedJobsDetails",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success("Job removed from saved")},onError:g=>{console.error("Error updating saved jobs:",g),fe.error("Failed to update saved jobs. Please try again.")}});return e?o.jsxs(It,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs("div",{className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl rounded-full p-1 shadow-[0_8px_32px_rgba(0,0,0,0.06)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.2)]",children:[o.jsx("button",{onClick:()=>t("/profile"),className:"relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200",children:"Profile"}),o.jsx("button",{onClick:()=>s("courses"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="courses"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Courses"}),o.jsx("button",{onClick:()=>s("jobs"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${n==="jobs"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:"Jobs"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[n==="courses"&&o.jsx("div",{className:"space-y-6",children:l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((g,v)=>o.jsx(Re,{children:o.jsxs(De,{className:"p-0",children:[o.jsx(wr,{className:"h-40 w-full rounded-t-3xl"}),o.jsxs("div",{className:"p-4",children:[o.jsx(wr,{className:"h-5 w-3/4 mb-2"}),o.jsx(wr,{className:"h-4 w-1/2 mb-3"}),o.jsx(wr,{className:"h-3 w-full"})]})]})},v))}):i.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"p-12 text-center",children:[o.jsx(hc,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved courses"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving courses to view them here!"}),o.jsx(se,{onClick:()=>t("/courses"),variant:"default",children:"Browse Courses"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.map(g=>{const v=a.includes(String(g.id));return o.jsx(Lr,{to:`/course/${g.id}`,className:"block",children:o.jsx(Re,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col h-full hover:shadow-soft",children:o.jsxs(De,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:g.image||"/placeholder.svg",alt:g.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:p=>{p.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:g.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:g.provider}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.duration&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.duration}),g.level&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.level})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:p=>{p.preventDefault(),p.stopPropagation(),f.mutate(String(g.id))},disabled:f.isPending,"aria-label":"Unsave course",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",v?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:f.isPending?o.jsx(Yn,{className:"h-4 w-4 animate-spin"}):o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",v?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})]})})},g.id)})})}),n==="jobs"&&o.jsx("div",{className:"space-y-6",children:d?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((g,v)=>o.jsx(Re,{children:o.jsxs(De,{className:"p-4",children:[o.jsx(wr,{className:"h-4 w-20 mb-2"}),o.jsx(wr,{className:"h-6 w-3/4 mb-4"}),o.jsx(wr,{className:"h-4 w-1/2"})]})},v))}):u.length===0?o.jsx(Re,{children:o.jsxs(De,{className:"p-12 text-center",children:[o.jsx(Xr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved jobs"}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Start saving jobs to view them here!"}),o.jsx(se,{onClick:()=>t("/jobs"),variant:"default",children:"Browse Jobs"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:u.map(g=>{const v=c.includes(String(g.id));return o.jsx(Re,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl hover:shadow-soft",children:o.jsxs(De,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[g.company_logo?o.jsx("img",{src:g.company_logo,alt:`${g.company} logo`,className:"w-12 h-12 rounded-3xl object-cover flex-shrink-0",onError:p=>{p.target.style.display="none"}}):o.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-blue/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Xr,{className:"h-6 w-6 text-breneo-blue"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm text-gray-600 dark:text-gray-400 mb-1 line-clamp-1",children:g.company}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:g.title})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[g.location&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[o.jsx(Qu,{className:"h-3 w-3 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-1",children:g.location})]}),g.salary&&o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:g.salary}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.employment_type&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.employment_type}),g.work_arrangement&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:g.work_arrangement})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[o.jsxs(se,{variant:"secondary",size:"sm",className:"flex-1",onClick:p=>{p.stopPropagation(),g.url?window.open(g.url,"_blank"):t(`/jobs/${encodeURIComponent(g.id)}`)},children:["View Job",o.jsx(Lg,{className:"h-3 w-3 ml-2"})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:p=>{p.stopPropagation(),h.mutate(g.id)},disabled:h.isPending,"aria-label":"Unsave job",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-9 w-9",v?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:h.isPending?o.jsx(Yn,{className:"h-4 w-4 animate-spin"}):o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",v?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]})},g.id)})})})]})]}):o.jsx(It,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Please log in to view saved items."})})})};var Jze="Separator",w6="horizontal",Xze=["horizontal","vertical"],WJ=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=w6,...s}=e,a=Qze(n)?n:w6,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(rt.div,{"data-orientation":a,...l,...s,ref:t})});WJ.displayName=Jze;function Qze(e){return Xze.includes(e)}var VJ=WJ;const $f=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(VJ,{ref:s,decorative:r,orientation:t,className:ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));$f.displayName=VJ.displayName;var aR="Switch",[Zze,AJe]=Js(aR),[eqe,tqe]=Zze(aR),HJ=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=m.useState(null),v=xt(t,w=>g(w)),p=m.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,b]=Va({prop:s,defaultProp:a,onChange:u});return o.jsxs(eqe,{scope:r,checked:x,disabled:l,children:[o.jsx(rt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":YJ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:Ue(e.onClick,w=>{b(_=>!_),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&o.jsx(rqe,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});HJ.displayName=aR;var KJ="SwitchThumb",GJ=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=tqe(KJ,r);return o.jsx(rt.span,{"data-state":YJ(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});GJ.displayName=KJ;var rqe=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=m.useRef(null),i=L_(r),l=p1(t);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function YJ(e){return e?"checked":"unchecked"}var JJ=HJ,nqe=GJ;const bs=m.forwardRef(({className:e,...t},r)=>o.jsx(JJ,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(nqe,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));bs.displayName=JJ.displayName;function sqe(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,aqe(s,...t)]}function aqe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ev(e){const t=e+"CollectionProvider",[r,n]=sqe(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:p}=g,y=R.useRef(null),x=R.useRef(new Map).current;return o.jsx(s,{scope:v,itemMap:x,collectionRef:y,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=R.forwardRef((g,v)=>{const{scope:p,children:y}=g,x=a(l,p),b=xt(v,x.collectionRef);return o.jsx(Ho,{ref:b,children:y})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=R.forwardRef((g,v)=>{const{scope:p,children:y,...x}=g,b=R.useRef(null),w=xt(v,b),_=a(u,p);return R.useEffect(()=>(_.itemMap.set(b,{ref:b,...x}),()=>void _.itemMap.delete(b))),o.jsx(Ho,{[d]:"",ref:w,children:y})});f.displayName=u;function h(g){const v=a(e+"CollectionConsumer",g);return R.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function iqe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var oqe="DismissableLayer",BC="dismissableLayer.update",lqe="dismissableLayer.pointerDownOutside",cqe="dismissableLayer.focusOutside",_6,XJ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QJ=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(XJ),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=fqe(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=hqe(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return iqe(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),S6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_6)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),S6())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(BC,k),()=>document.removeEventListener(BC,k)},[]),o.jsx(rt.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,S.onPointerDownCapture)})});QJ.displayName=oqe;var uqe="DismissableLayerBranch",dqe=m.forwardRef((e,t)=>{const r=m.useContext(XJ),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(rt.div,{...e,ref:s})});dqe.displayName=uqe;function fqe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){ZJ(lqe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hqe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&ZJ(cqe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function S6(){const e=new CustomEvent(BC);document.dispatchEvent(e)}function ZJ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qh(s,a):s.dispatchEvent(a)}var mk="focusScope.autoFocusOnMount",gk="focusScope.autoFocusOnUnmount",j6={bubbles:!1,cancelable:!0},pqe="FocusScope",eX=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Ut(s),d=Ut(a),f=m.useRef(null),h=xt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Nl(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Nl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Nl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){E6.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(mk,j6);l.addEventListener(mk,u),l.dispatchEvent(x),x.defaultPrevented||(mqe(bqe(tX(l)),{select:!0}),document.activeElement===p&&Nl(l))}return()=>{l.removeEventListener(mk,u),setTimeout(()=>{const x=new CustomEvent(gk,j6);l.addEventListener(gk,d),l.dispatchEvent(x),x.defaultPrevented||Nl(p??document.body,{select:!0}),l.removeEventListener(gk,d),E6.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=gqe(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&Nl(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Nl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(rt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});eX.displayName=pqe;function mqe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Nl(n,{select:t}),document.activeElement!==r)return}function gqe(e){const t=tX(e),r=k6(t,e),n=k6(t.reverse(),e);return[r,n]}function tX(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function k6(e,t){for(const r of e)if(!yqe(r,{upTo:t}))return r}function yqe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vqe(e){return e instanceof HTMLInputElement&&"select"in e}function Nl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&vqe(e)&&t&&e.select()}}var E6=xqe();function xqe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=N6(e,t),e.unshift(t)},remove(t){var r;e=N6(e,t),(r=e[0])==null||r.resume()}}}function N6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function bqe(e){return e.filter(t=>t.tagName!=="A")}var wqe="Portal",rX=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);an(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bh.createPortal(o.jsx(rt.div,{...n,ref:t}),i):null});rX.displayName=wqe;var nX=nv(),yk=function(){},B_=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:yk,onWheelCapture:yk,onTouchMoveCapture:yk}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=ep(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=rv([r,t]),E=Zt(Zt({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:nX,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),Zt(Zt({},E),{ref:S})):m.createElement(x,Zt({},E,{className:c,ref:S}),l))});B_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};B_.classNames={fullWidth:mc,zeroRight:pc};var UC=!1;if(typeof window<"u")try{var z0=Object.defineProperty({},"passive",{get:function(){return UC=!0,!0}});window.addEventListener("test",z0,z0),window.removeEventListener("test",z0,z0)}catch{UC=!1}var Md=UC?{passive:!1}:!1,_qe=function(e){return e.tagName==="TEXTAREA"},sX=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_qe(e)&&r[t]==="visible")},Sqe=function(e){return sX(e,"overflowY")},jqe=function(e){return sX(e,"overflowX")},C6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=aX(e,n);if(s){var a=iX(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},kqe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Eqe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aX=function(e,t){return e==="v"?Sqe(t):jqe(t)},iX=function(e,t){return e==="v"?kqe(t):Eqe(t)},Nqe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Cqe=function(e,t,r,n,s){var a=Nqe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=iX(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&aX(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},q0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P6=function(e){return[e.deltaX,e.deltaY]},A6=function(e){return e&&"current"in e?e.current:e},Pqe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Aqe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Tqe=0,Id=[];function Oqe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(Tqe++)[0],a=m.useState(tp)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=tv([e.lockRef.current],(e.shards||[]).map(A6),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=q0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=C6(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=C6(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Cqe(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!Id.length||Id[Id.length-1]!==a)){var x="deltaY"in y?P6(y):q0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&Pqe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(A6).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:Rqe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=q0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,P6(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,q0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Id.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Md),document.addEventListener("touchmove",c,Md),document.addEventListener("touchstart",d,Md),function(){Id=Id.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Md),document.removeEventListener("touchmove",c,Md),document.removeEventListener("touchstart",d,Md)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:Aqe(s)}):null,g?m.createElement(av,{gapMode:e.gapMode}):null)}function Rqe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $qe=sv(nX,Oqe);var oX=m.forwardRef(function(e,t){return m.createElement(B_,Zt({},e,{ref:t,sideCar:$qe}))});oX.classNames=B_.classNames;var Mqe=[" ","Enter","ArrowUp","ArrowDown"],Iqe=[" ","Enter"],Nv="Select",[U_,z_,Lqe]=Ev(Nv),[Ep,TJe]=Js(Nv,[Lqe,Ac]),q_=Ac(),[Dqe,Bc]=Ep(Nv),[Fqe,Bqe]=Ep(Nv),lX=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:v}=e,p=q_(t),[y,x]=m.useState(null),[b,w]=m.useState(null),[_,S]=m.useState(!1),E=sp(u),[k=!1,j]=Va({prop:n,defaultProp:s,onChange:a}),[N,C]=Va({prop:i,defaultProp:l,onChange:c}),P=m.useRef(null),O=y?v||!!y.closest("form"):!0,[F,M]=m.useState(new Set),q=Array.from(F).map(B=>B.props.value).join(";");return o.jsx(kA,{...p,children:o.jsxs(Dqe,{required:g,scope:t,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Da(),value:N,onValueChange:C,open:k,onOpenChange:j,dir:E,triggerPointerDownPosRef:P,disabled:h,children:[o.jsx(U_.Provider,{scope:t,children:o.jsx(Fqe,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{M(I=>new Set(I).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{M(I=>{const A=new Set(I);return A.delete(B),A})},[]),children:r})}),O?o.jsxs(RX,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>C(B.target.value),disabled:h,form:v,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},q):null]})})};lX.displayName=Nv;var cX="SelectTrigger",uX=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=q_(r),i=Bc(cX,r),l=i.disabled||n,c=xt(t,i.onTriggerChange),u=z_(r),d=m.useRef("touch"),[f,h,g]=$X(p=>{const y=u().filter(w=>!w.disabled),x=y.find(w=>w.value===i.value),b=MX(y,p,x);b!==void 0&&i.onValueChange(b.value)}),v=p=>{l||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(Gy,{asChild:!0,...a,children:o.jsx(rt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":OX(i.value)?"":void 0,...s,ref:c,onClick:Ue(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:Ue(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ue(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&Mqe.includes(p.key)&&(v(),p.preventDefault())})})})});uX.displayName=cX;var dX="SelectValue",fX=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=Bc(dX,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=xt(t,c.onValueNodeChange);return an(()=>{u(d)},[u,d]),o.jsx(rt.span,{...l,ref:f,style:{pointerEvents:"none"},children:OX(c.value)?o.jsx(o.Fragment,{children:i}):a})});fX.displayName=dX;var Uqe="SelectIcon",hX=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(rt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});hX.displayName=Uqe;var zqe="SelectPortal",pX=e=>o.jsx(rX,{asChild:!0,...e});pX.displayName=zqe;var id="SelectContent",mX=m.forwardRef((e,t)=>{const r=Bc(id,e.__scopeSelect),[n,s]=m.useState();if(an(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?ud.createPortal(o.jsx(gX,{scope:e.__scopeSelect,children:o.jsx(U_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(yX,{...e,ref:t})});mX.displayName=id;var ri=10,[gX,Uc]=Ep(id),qqe="SelectContentImpl",yX=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:y,...x}=e,b=Bc(id,r),[w,_]=m.useState(null),[S,E]=m.useState(null),k=xt(t,D=>_(D)),[j,N]=m.useState(null),[C,P]=m.useState(null),O=z_(r),[F,M]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(w)return iv(w)},[w]),D_();const B=m.useCallback(D=>{const[$,...H]=O().map(J=>J.ref.current),[G]=H.slice(-1),le=document.activeElement;for(const J of D)if(J===le||(J==null||J.scrollIntoView({block:"nearest"}),J===$&&S&&(S.scrollTop=0),J===G&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==le))return},[O,S]),I=m.useCallback(()=>B([j,w]),[B,j,w]);m.useEffect(()=>{F&&I()},[F,I]);const{onOpenChange:A,triggerPointerDownPosRef:z}=b;m.useEffect(()=>{if(w){let D={x:0,y:0};const $=G=>{var le,J;D={x:Math.abs(Math.round(G.pageX)-(((le=z.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(G.pageY)-(((J=z.current)==null?void 0:J.y)??0))}},H=G=>{D.x<=10&&D.y<=10?G.preventDefault():w.contains(G.target)||A(!1),document.removeEventListener("pointermove",$),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",$),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",H,{capture:!0})}}},[w,A,z]),m.useEffect(()=>{const D=()=>A(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[A]);const[re,V]=$X(D=>{const $=O().filter(le=>!le.disabled),H=$.find(le=>le.ref.current===document.activeElement),G=MX($,D,H);G&&setTimeout(()=>G.ref.current.focus())}),te=m.useCallback((D,$,H)=>{const G=!q.current&&!H;(b.value!==void 0&&b.value===$||G)&&(N(D),G&&(q.current=!0))},[b.value]),X=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ye=m.useCallback((D,$,H)=>{const G=!q.current&&!H;(b.value!==void 0&&b.value===$||G)&&P(D)},[b.value]),oe=n==="popper"?zC:vX,me=oe===zC?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:y}:{};return o.jsx(gX,{scope:r,content:w,viewport:S,onViewportChange:E,itemRefCallback:te,selectedItem:j,onItemLeave:X,itemTextRefCallback:ye,focusSelectedItem:I,selectedItemText:C,position:n,isPositioned:F,searchRef:re,children:o.jsx(oX,{as:Ho,allowPinchZoom:!0,children:o.jsx(eX,{asChild:!0,trapped:b.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:Ue(s,D=>{var $;($=b.trigger)==null||$.focus({preventScroll:!0}),D.preventDefault()}),children:o.jsx(QJ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(oe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:D=>D.preventDefault(),...x,...me,onPlaced:()=>M(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ue(x.onKeyDown,D=>{const $=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!$&&D.key.length===1&&V(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let G=O().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(D.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const le=D.target,J=G.indexOf(le);G=G.slice(J+1)}setTimeout(()=>B(G)),D.preventDefault()}})})})})})})});yX.displayName=qqe;var Wqe="SelectItemAlignedPosition",vX=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Bc(id,r),i=Uc(id,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=xt(t,k=>d(k)),h=z_(r),g=m.useRef(!1),v=m.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=i,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&y&&x){const k=a.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(a.dir!=="rtl"){const le=C.left-j.left,J=N.left-le,Z=k.left-J,K=k.width+Z,de=Math.max(K,j.width),ae=window.innerWidth-ri,xe=Ug(J,[ri,Math.max(ri,ae-de)]);l.style.minWidth=K+"px",l.style.left=xe+"px"}else{const le=j.right-C.right,J=window.innerWidth-N.right-le,Z=window.innerWidth-k.right-J,K=k.width+Z,de=Math.max(K,j.width),ae=window.innerWidth-ri,xe=Ug(J,[ri,Math.max(ri,ae-de)]);l.style.minWidth=K+"px",l.style.right=xe+"px"}const P=h(),O=window.innerHeight-ri*2,F=p.scrollHeight,M=window.getComputedStyle(u),q=parseInt(M.borderTopWidth,10),B=parseInt(M.paddingTop,10),I=parseInt(M.borderBottomWidth,10),A=parseInt(M.paddingBottom,10),z=q+B+F+A+I,re=Math.min(y.offsetHeight*5,z),V=window.getComputedStyle(p),te=parseInt(V.paddingTop,10),X=parseInt(V.paddingBottom,10),ye=k.top+k.height/2-ri,oe=O-ye,me=y.offsetHeight/2,D=y.offsetTop+me,$=q+B+D,H=z-$;if($<=ye){const le=P.length>0&&y===P[P.length-1].ref.current;l.style.bottom="0px";const J=u.clientHeight-p.offsetTop-p.offsetHeight,Z=Math.max(oe,me+(le?X:0)+J+I),K=$+Z;l.style.height=K+"px"}else{const le=P.length>0&&y===P[0].ref.current;l.style.top="0px";const Z=Math.max(ye,q+p.offsetTop+(le?te:0)+me)+H;l.style.height=Z+"px",p.scrollTop=$-ye+p.offsetTop}l.style.margin=`${ri}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,y,x,a.dir,n]);an(()=>w(),[w]);const[_,S]=m.useState();an(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(k=>{k&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return o.jsx(Hqe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(rt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vX.displayName=Wqe;var Vqe="SelectPopperPosition",zC=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ri,...a}=e,i=q_(r);return o.jsx(m1,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zC.displayName=Vqe;var[Hqe,iR]=Ep(id,{}),qC="SelectViewport",xX=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Uc(qC,r),i=iR(qC,r),l=xt(t,a.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(U_.Slot,{scope:r,children:o.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ue(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-ri*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(p,y);if(x<v){const b=x+g,w=Math.min(v,b),_=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xX.displayName=qC;var bX="SelectGroup",[Kqe,Gqe]=Ep(bX),Yqe=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Da();return o.jsx(Kqe,{scope:r,id:s,children:o.jsx(rt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Yqe.displayName=bX;var wX="SelectLabel",_X=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Gqe(wX,r);return o.jsx(rt.div,{id:s.id,...n,ref:t})});_X.displayName=wX;var Dw="SelectItem",[Jqe,SX]=Ep(Dw),jX=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=Bc(Dw,r),c=Uc(Dw,r),u=l.value===n,[d,f]=m.useState(a??""),[h,g]=m.useState(!1),v=xt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,s)}),p=Da(),y=m.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Jqe,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:m.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(U_.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(rt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Ue(i.onFocus,()=>g(!0)),onBlur:Ue(i.onBlur,()=>g(!1)),onClick:Ue(i.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:Ue(i.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:Ue(i.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:Ue(i.onPointerMove,b=>{var w;y.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ue(i.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(Iqe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});jX.displayName=Dw;var Pm="SelectItemText",kX=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=Bc(Pm,r),l=Uc(Pm,r),c=SX(Pm,r),u=Bqe(Pm,r),[d,f]=m.useState(null),h=xt(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return an(()=>(p(v),()=>y(v)),[p,y,v]),o.jsxs(o.Fragment,{children:[o.jsx(rt.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ud.createPortal(a.children,i.valueNode):null]})});kX.displayName=Pm;var EX="SelectItemIndicator",NX=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return SX(EX,r).isSelected?o.jsx(rt.span,{"aria-hidden":!0,...n,ref:t}):null});NX.displayName=EX;var WC="SelectScrollUpButton",CX=m.forwardRef((e,t)=>{const r=Uc(WC,e.__scopeSelect),n=iR(WC,e.__scopeSelect),[s,a]=m.useState(!1),i=xt(t,n.onScrollButtonChange);return an(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(AX,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});CX.displayName=WC;var VC="SelectScrollDownButton",PX=m.forwardRef((e,t)=>{const r=Uc(VC,e.__scopeSelect),n=iR(VC,e.__scopeSelect),[s,a]=m.useState(!1),i=xt(t,n.onScrollButtonChange);return an(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(AX,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});PX.displayName=VC;var AX=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Uc("SelectScrollButton",r),i=m.useRef(null),l=z_(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),an(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(rt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ue(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ue(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ue(s.onPointerLeave,()=>{c()})})}),Xqe="SelectSeparator",TX=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(rt.div,{"aria-hidden":!0,...n,ref:t})});TX.displayName=Xqe;var HC="SelectArrow",Qqe=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=q_(r),a=Bc(HC,r),i=Uc(HC,r);return a.open&&i.position==="popper"?o.jsx(g1,{...s,...n,ref:t}):null});Qqe.displayName=HC;function OX(e){return e===""||e===void 0}var RX=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),a=xt(t,s),i=L_(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),o.jsx(EA,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});RX.displayName="BubbleSelect";function $X(e){const t=Ut(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function MX(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Zqe(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Zqe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var eWe=lX,IX=uX,tWe=fX,rWe=hX,nWe=pX,LX=mX,sWe=xX,DX=_X,FX=jX,aWe=kX,iWe=NX,BX=CX,UX=PX,zX=TX;const $o=eWe,Mo=tWe,qi=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(IX,{ref:n,className:ce("flex h-[3.2rem] w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-0 hover:ring-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(rWe,{asChild:!0,children:o.jsx(Yo,{className:"h-4 w-4 opacity-50"})})]}));qi.displayName=IX.displayName;const qX=m.forwardRef(({className:e,...t},r)=>o.jsx(BX,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(qfe,{className:"h-4 w-4"})}));qX.displayName=BX.displayName;const WX=m.forwardRef(({className:e,...t},r)=>o.jsx(UX,{ref:r,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Yo,{className:"h-4 w-4"})}));WX.displayName=UX.displayName;const Wi=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(nWe,{children:o.jsxs(LX,{ref:s,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(qX,{}),o.jsx(sWe,{className:ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(WX,{})]})}));Wi.displayName=LX.displayName;const oWe=m.forwardRef(({className:e,...t},r)=>o.jsx(DX,{ref:r,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));oWe.displayName=DX.displayName;const _r=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(FX,{ref:n,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(iWe,{children:o.jsx(WA,{className:"h-4 w-4"})})}),o.jsx(aWe,{children:t})]}));_r.displayName=FX.displayName;const lWe=m.forwardRef(({className:e,...t},r)=>o.jsx(zX,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));lWe.displayName=zX.displayName;const KC=({compact:e=!1})=>{sl();const[t,r]=m.useState(!1),[n,s]=m.useState(null),[a,i]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(!1);m.useEffect(()=>{r(!0)},[]),m.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.navigator.standalone===!0){i(!0);return}const g=localStorage.getItem("pwa-install-card-dismissed");if(g){const x=parseInt(g,10);if((Date.now()-x)/(1e3*60*60*24)<30){c(!0);return}}const v=x=>{x.preventDefault(),s(x)};window.addEventListener("beforeinstallprompt",v);const p=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready}}catch(x){console.log("Service worker check:",x)}},y=setTimeout(()=>{p()},1e3);return()=>{window.removeEventListener("beforeinstallprompt",v),clearTimeout(y)}},[]);const f=async()=>{if(d(!0),n){try{await n.prompt();const{outcome:x}=await n.userChoice;x==="accepted"?(i(!0),s(null),fe.success("App installation started!")):fe.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),fe.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}let g=!1;const p=await new Promise(x=>{const b=w=>{w.preventDefault(),g=!0;const _=w;s(_),x(_)};window.addEventListener("beforeinstallprompt",b,{once:!0}),setTimeout(()=>{g||(window.removeEventListener("beforeinstallprompt",b),x(null))},2e3)});if(p){try{await p.prompt();const{outcome:x}=await p.userChoice;x==="accepted"?(i(!0),s(null),fe.success("App installation started!")):fe.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),fe.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){fe.info("Tap the Share button (square with arrow), then select 'Add to Home Screen'",{duration:4e3}),d(!1);return}try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready;fe.info("Install prompt not available. Please check your browser's menu for 'Install' or 'Add to Home Screen' option.",{duration:4e3})}}catch(x){console.error("Service worker check failed:",x)}d(!1)};if(a||l||!t)return null;const h=()=>o.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Install App Illustration",className:ce("w-full h-auto object-contain",e?"max-h-24":"max-h-40"),onError:g=>{console.error("Image failed to load:",g)}});return o.jsxs(Re,{className:ce(e&&"p-0"),children:[o.jsxs(bt,{className:ce(e&&"pb-3 px-4 pt-4"),children:[o.jsx(Ot,{className:"text-lg",children:"Install App"}),o.jsx(ln,{children:"Download our app for a better experience"})]}),o.jsxs(De,{className:ce("space-y-4",e&&"space-y-3 px-4 pb-4"),children:[o.jsx(h,{}),o.jsxs("div",{className:ce("space-y-2",e&&"space-y-1.5"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(mi,{className:ce("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Works offline"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(mi,{className:ce("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Faster loading"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(mi,{className:ce("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),o.jsx("span",{children:"Home screen access"})]})]}),o.jsxs(se,{onClick:f,disabled:u,className:ce("w-full",e&&"h-9"),children:[o.jsx(EN,{className:ce("mr-2 h-4 w-4",e&&"h-3.5 w-3.5")}),u?"Preparing...":n?"Download & Install Now":"Download App"]})]})]})},vk=[{id:"account",label:"Account Settings"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy & Security"},{id:"subscription",label:"Subscription & Billing"},{id:"learning",label:"Learning Preferences"},{id:"accessibility",label:"Theme & Accessibility"}];function cWe(){const{user:e,logout:t,refreshUser:r}=ir(),{theme:n,setTheme:s}=sl(),{fontSize:a,setFontSize:i}=Cfe(),{language:l,setLanguage:c}=Si(),u=va(),[d,f]=Xh();ar(),Ys();const[h,g]=m.useState(!1),v=m.useRef(null),p=m.useRef(null),y=()=>{const he=["account","notifications","privacy","subscription","learning","accessibility"];try{const ze=d.get("section");if(ze&&he.includes(ze))return ze}catch(ze){console.error("Error getting initial section:",ze)}return"account"},[x,b]=m.useState(()=>y()),[w,_]=m.useState(!1);m.useEffect(()=>{const he=d.get("payment");he==="success"?(fe.success("Payment successful! Your subscription has been activated."),f(ze=>(ze.delete("payment"),ze))):he==="failed"&&(fe.error("Payment failed. Please try again."),f(ze=>(ze.delete("payment"),ze)))},[d,f]),m.useEffect(()=>{if(!u||!v.current)return;const he=setTimeout(()=>{const ze=v.current;if(!ze)return;const yt=ze.querySelector(`[data-section="${x}"]`);if(!yt)return;const Et=ze.getBoundingClientRect(),or=yt.getBoundingClientRect(),en=ze.scrollLeft,Pt=or.left-Et.left+en,Ar=or.width,T=Et.width,L=Pt-T/2+Ar/2;ze.scrollTo({left:Math.max(0,L),behavior:"smooth"})},50);return()=>clearTimeout(he)},[x,u]);const[S,E]=m.useState(""),[k,j]=m.useState("");m.useState(!1);const N=m.useRef(!1),[C,P]=m.useState(1),[O,F]=m.useState(""),[M,q]=m.useState(""),[B,I]=m.useState(""),[A,z]=m.useState(!1),[re,V]=m.useState(!0),[te,X]=m.useState(!0),[ye,oe]=m.useState(!0),[me,D]=m.useState(!0),[$,H]=m.useState(!0),[G,le]=m.useState(!1),[J,Z]=m.useState(!1),{subscriptionInfo:K,loading:de}=k1(),[ae,xe]=m.useState([]),[ke,Me]=m.useState(!1),[Ee,ue]=m.useState(!0),[ge,U]=m.useState(!0),[ee,_e]=m.useState(!0),[Le,et]=m.useState("weekly"),[Xe,ot]=m.useState(a),[Se,Ie]=m.useState(l),Y=he=>{b(he)};m.useEffect(()=>{e&&!N.current&&(E(e.first_name||""),j(e.last_name||""))},[e==null?void 0:e.id,e==null?void 0:e.first_name,e==null?void 0:e.last_name]),m.useEffect(()=>{ot(a)},[a]),m.useEffect(()=>{Ie(l)},[l]),m.useEffect(()=>{g(!0);const he=(or,en)=>{try{const Pt=localStorage.getItem(or);if(Pt!==null)return JSON.parse(Pt)}catch(Pt){console.error(`Error loading preference ${or}:`,Pt),localStorage.removeItem(or)}return en};V(he("notif_email_job_matches",!0)),X(he("notif_email_new_courses",!0)),oe(he("notif_email_skill_updates",!0)),D(he("notif_in_app_messages",!0)),H(he("notif_in_app_progress",!0)),le(he("notif_newsletter",!1)),Z(he("notif_push",!1)),ue(he("privacy_show_skills",!0)),U(he("privacy_show_test_results",!0)),_e(he("privacy_show_completed_courses",!0)),et(he("ai_recommendation_frequency","weekly"));const ze=he("breneo-font-size",a),yt=ze==="large"?"big":ze;["small","medium","big"].includes(yt)&&(ot(yt),i(yt));const Et=he("accessibility_language","en");Ie(Et==="en"||Et==="ka"?Et:"en")},[]),m.useEffect(()=>{if(!h||x!=="subscription")return;(async()=>{try{Me(!0);const ze=await Wm.fetchPaymentHistory();xe(ze)}catch(ze){console.error("Failed to fetch payment history:",ze)}finally{Me(!1)}})()},[h,x]),m.useEffect(()=>{h&&f({section:x},{replace:!1})},[x,h,f]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_job_matches",JSON.stringify(re))},[re,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_new_courses",JSON.stringify(te))},[te,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_email_skill_updates",JSON.stringify(ye))},[ye,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_in_app_messages",JSON.stringify(me))},[me,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_in_app_progress",JSON.stringify($))},[$,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_newsletter",JSON.stringify(G))},[G,h]),m.useEffect(()=>{h&&localStorage.setItem("notif_push",JSON.stringify(J))},[J,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_skills",JSON.stringify(Ee))},[Ee,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_test_results",JSON.stringify(ge))},[ge,h]),m.useEffect(()=>{h&&localStorage.setItem("privacy_show_completed_courses",JSON.stringify(ee))},[ee,h]),m.useEffect(()=>{h&&localStorage.setItem("ai_recommendation_frequency",JSON.stringify(Le))},[Le,h]);const W=he=>{ot(he),i(he)},ie=he=>{Ie(he),c(he),localStorage.setItem("accessibility_language",JSON.stringify(he))},Oe=he=>{s(he),localStorage.setItem("theme",he)};m.useEffect(()=>{h&&localStorage.setItem("accessibility_language",JSON.stringify(Se))},[Se,h]);const Ke=async he=>{var ze,yt;if(he.preventDefault(),z(!0),!(e!=null&&e.email)){fe.error("Email not found. Please log in again."),z(!1);return}try{const Et=await Ce.post(Qe.AUTH.PASSWORD_RESET,{email:e.email});fe.success(Et.data.message||"Code sent to your email!"),P(2)}catch(Et){nr.isAxiosError(Et)?fe.error(((yt=(ze=Et.response)==null?void 0:ze.data)==null?void 0:yt.error)||"Error sending code"):fe.error("Error sending code")}finally{z(!1)}},Te=async he=>{var ze,yt;he.preventDefault(),z(!0);try{const Et=await Ce.post(Qe.AUTH.PASSWORD_RESET_VERIFY,{email:e==null?void 0:e.email,code:O});fe.success(Et.data.message||"Code verified!"),P(3)}catch(Et){nr.isAxiosError(Et)?fe.error(((yt=(ze=Et.response)==null?void 0:ze.data)==null?void 0:yt.error)||"Invalid code"):fe.error("Invalid code")}finally{z(!1)}},pe=async he=>{var ze,yt;if(he.preventDefault(),M!==B){fe.error("Passwords do not match");return}if(M.length<6){fe.error("Password must be at least 6 characters long");return}z(!0);try{const Et=await Ce.post(Qe.AUTH.PASSWORD_RESET_CONFIRM,{email:e==null?void 0:e.email,code:O,new_password:M,confirm_password:B});fe.success(Et.data.message||"Password updated successfully!"),P(1),F(""),q(""),I("")}catch(Et){nr.isAxiosError(Et)?fe.error(((yt=(ze=Et.response)==null?void 0:ze.data)==null?void 0:yt.error)||"Error setting new password"):fe.error("Error setting new password")}finally{z(!1)}},Ae=async()=>{fe.info("Preparing your data export..."),setTimeout(()=>{fe.success("Data export ready! Check your email for the download link.")},2e3)},Fe=n==="dark"?"ON":n==="system"?"AUTO":"OFF",Ge=()=>{switch(x){case"account":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Account Settings"}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Email & Password"}),o.jsx(ln,{children:"Manage your login credentials and security"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Email Address"}),o.jsx(it,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"h-[3.2rem] bg-muted/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be edited. Contact support if you need to update it."})]}),o.jsx($f,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Be,{children:"Change Password"}),C===1&&o.jsx("form",{onSubmit:Ke,className:"space-y-4",children:o.jsx(se,{type:"submit",disabled:A,children:A?"Sending...":"Send Verification Code"})}),C===2&&o.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[o.jsx(it,{placeholder:"Enter 6-digit code",value:O,onChange:he=>F(he.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(se,{type:"submit",disabled:A,children:A?"Verifying...":"Verify Code"}),o.jsx(se,{type:"button",variant:"outline",onClick:()=>P(1),children:"Back"})]})]}),C===3&&o.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[o.jsx(it,{type:"password",placeholder:"New password",value:M,onChange:he=>q(he.target.value),className:"h-[3.2rem]"}),o.jsx(it,{type:"password",placeholder:"Confirm new password",value:B,onChange:he=>I(he.target.value),className:"h-[3.2rem]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(se,{type:"submit",disabled:A,children:A?"Updating...":"Update Password"}),o.jsx(se,{type:"button",variant:"outline",onClick:()=>P(2),children:"Back"})]})]})]})]})]}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Log out"}),o.jsx(ln,{children:"Sign out of your account on this device"})]}),o.jsx(De,{children:o.jsxs(se,{variant:"outline",className:"text-red-600 border-red-200 hover:border-red-300 dark:border-red-900/50 dark:text-red-600 dark:hover:border-red-800 hover:bg-red-300/20 dark:hover:bg-red-900/20",onClick:()=>_(!0),children:[o.jsx(Qz,{className:"h-4 w-4 mr-2"}),"Log out"]})})]})]});case"notifications":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Notifications"}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Email Notifications"}),o.jsx(ln,{children:"Control how and when you receive email updates"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Job Matches"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new jobs match your profile"})]}),o.jsx(bs,{checked:re,onCheckedChange:V})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"New Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new courses in your interests"})]}),o.jsx(bs,{checked:te,onCheckedChange:X})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Skill Updates"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about skill recommendations and updates"})]}),o.jsx(bs,{checked:ye,onCheckedChange:oe})]}),o.jsx($f,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Newsletter"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to our weekly newsletter"})]}),o.jsx(bs,{checked:G,onCheckedChange:le})]})]})]}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"In-App Notifications"}),o.jsx(ln,{children:"Manage notifications within the application"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Messages"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify me about new messages"})]}),o.jsx(bs,{checked:me,onCheckedChange:D})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Progress Reminders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about your learning progress"})]}),o.jsx(bs,{checked:$,onCheckedChange:H})]})]})]}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Push Notifications"}),o.jsx(ln,{children:"Receive notifications even when you're not on the site"})]}),o.jsx(De,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Enable Push Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow Breneo to send you push notifications"})]}),o.jsx(bs,{checked:J,onCheckedChange:Z})]})})]})]});case"privacy":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Privacy & Security"}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Data Visibility"}),o.jsx(ln,{children:"Manage what information is visible on your profile"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Show Skills"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skills on your profile"})]}),o.jsx(bs,{checked:Ee,onCheckedChange:ue})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Show Test Results"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skill test results"})]}),o.jsx(bs,{checked:ge,onCheckedChange:U})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Show Completed Courses"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Display courses you've completed"})]}),o.jsx(bs,{checked:ee,onCheckedChange:_e})]})]})]}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Data Management"}),o.jsx(ln,{children:"Download or export your data (GDPR compliance)"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs(se,{onClick:Ae,variant:"outline",children:[o.jsx(EN,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Request a copy of all your data. You'll receive an email with a download link."})]})]})]});case"subscription":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Subscription & Billing"}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Current Plan"}),o.jsx(ln,{children:"Your current subscription plan"})]}),o.jsx(De,{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 md:gap-0 p-6 rounded-3xl relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"text-2xl font-bold",children:de?"...":(K==null?void 0:K.plan_name)||"Free Plan"}),(K==null?void 0:K.is_active)&&o.jsx(Ct,{className:"bg-green-500 text-white border-0 text-[10px] h-5 uppercase px-2 font-bold tracking-tight",children:"Active Now"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:K!=null&&K.is_active?`Next automatic renewal: ${K.next_payment_date||"Monthly"}`:"Basic access with limited features"})]}),K!=null&&K.is_active?o.jsx(se,{variant:"default",size:"sm",className:"relative z-10 shadow-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white dark:text-white border-0 h-8 text-xs px-3 font-semibold",onClick:()=>{f({section:"subscription",upgrade:"true"},{replace:!0})},children:"Change Plan"}):!de&&o.jsx(se,{className:"relative z-10 shadow-lg shadow-primary/20",onClick:()=>{f({section:"subscription",upgrade:"true"},{replace:!0})},children:"Unlock Pro Features"})]})})]}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Payment Methods"}),o.jsx(ln,{children:"Manage your payment methods"})]}),o.jsx(De,{children:o.jsx("div",{className:"space-y-3",children:de?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading payment methods..."}):K!=null&&K.card_mask?o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-full",children:o.jsx(Yfe,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:(()=>{const he=K.card_mask,ze=K.card_type||"Card";if(he&&he!=="N/A"){const yt=he.length>4?he.slice(-4):he;return`${ze}  ${yt}`}return`${ze} `})()}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Saved via Bank of Georgia"})]})]}),o.jsx(Ct,{variant:"outline",className:"text-[10px] uppercase",children:"Default"})]}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment methods saved. Subscribe to a plan to save your card."})})})]}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Ot,{children:"Billing History"}),o.jsx(ln,{children:"View and manage your recent transactions"})]}),o.jsx(Ct,{variant:"secondary",className:"text-[10px] uppercase font-bold tracking-wider px-2.5",children:"BOG Checkout"})]})}),o.jsx(De,{children:ke?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching transaction history..."})]}):ae.length>0?o.jsx("div",{className:"w-full rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Description"})]})}),o.jsx("tbody",{className:"divide-y",children:ae.map(he=>o.jsxs("tr",{className:"transition-colors",children:[o.jsx("td",{className:"px-4 py-3 text-muted-foreground tabular-nums whitespace-nowrap",children:new Date(he.date).toLocaleDateString()}),o.jsx("td",{className:"px-4 py-3 font-medium",children:he.description||"Subscription Payment"})]},he.id))})]})})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center border-2 border-dashed rounded-3xl",children:[o.jsx("div",{className:"p-3 rounded-full mb-3",children:o.jsx(EN,{className:"h-6 w-6 text-muted-foreground/50"})}),o.jsx(Ot,{className:"text-base mb-1",children:"No transaction history found"}),o.jsx(ln,{className:"max-w-[250px]",children:"When you start subscribing to plans, your payment history will appear here."})]})})]})]});case"learning":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Learning Preferences"}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"AI Recommendations"}),o.jsx(ln,{children:"How often would you like AI recommendations?"})]}),o.jsx(De,{children:o.jsxs($o,{value:Le,onValueChange:he=>et(he),children:[o.jsx(qi,{children:o.jsx(Mo,{})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"daily",children:"Daily"}),o.jsx(_r,{value:"weekly",children:"Weekly"}),o.jsx(_r,{value:"monthly",children:"Monthly"})]})]})})]}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Interests & Career Paths"}),o.jsx(ln,{children:"Manage your interests and preferred career paths"})]}),o.jsx(De,{children:o.jsx(Lr,{to:"/interests",children:o.jsx(se,{variant:"outline",children:"Manage Interests"})})})]})]});case"accessibility":return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-bold",children:"Theme & Accessibility"}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Appearance"}),o.jsx(ln,{children:"Customize the look and feel of the application"})]}),o.jsx(De,{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{children:"Theme"}),o.jsxs($o,{value:n||"light",onValueChange:he=>Oe(he),children:[o.jsx(qi,{className:"w-32",children:o.jsx(Mo,{children:Fe})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"light",children:"Light"}),o.jsx(_r,{value:"dark",children:"Dark"}),o.jsx(_r,{value:"system",children:"Auto"})]})]})]})})]}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Accessibility"}),o.jsx(ln,{children:"Adjust settings for better accessibility"})]}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Font Size"}),o.jsxs($o,{value:Xe,onValueChange:W,children:[o.jsx(qi,{children:o.jsx(Mo,{})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"small",children:"Small"}),o.jsx(_r,{value:"medium",children:"Medium"}),o.jsx(_r,{value:"big",children:"Big"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{children:"Language"}),o.jsxs($o,{value:Se,onValueChange:ie,children:[o.jsx(qi,{children:o.jsx(Mo,{})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"en",children:"English"}),o.jsx(_r,{value:"ka",children:"Georgian ()"})]})]})]})]})]})]});default:return o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Section not found"})]})}};return o.jsxs(It,{children:[u&&o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:hidden",style:{width:"380px"},children:o.jsxs("div",{className:"relative rounded-full overflow-hidden",children:[o.jsx("div",{ref:v,className:"overflow-x-auto scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:o.jsx(jn.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/90 dark:bg-[#242424]/90 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-full p-1 shadow-sm min-w-max",children:vk.map((he,ze)=>{const yt=ze===0,Et=ze===vk.length-1,or=x===he.id;return o.jsxs(jn.button,{layout:!0,type:"button","data-section":he.id,ref:x===he.id?p:null,onClick:en=>{en.preventDefault(),en.stopPropagation(),Y(he.id)},onTouchStart:en=>{en.stopPropagation()},className:`relative px-6 py-2.5 text-sm transition-colors duration-200 whitespace-nowrap outline-none touch-manipulation ${yt?"rounded-l-full":""} ${Et?"rounded-r-full":""} ${!yt&&!Et?"rounded-none":""} ${or?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[or&&o.jsx(jn.div,{layoutId:"active-settings-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-full",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:he.label})]},he.id)})})}),o.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 pointer-events-none bg-gradient-to-l from-gray-100/90 dark:from-[#242424]/90 to-transparent rounded-r-full"})]})}),o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:ce(u&&"min-h-screen pb-32"),children:[Ge(),u&&o.jsx("div",{className:"mt-8",children:o.jsx(KC,{compact:!0})})]}),!u&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx(Ot,{className:"text-lg",children:"Settings"})}),o.jsx(De,{className:"p-3",children:o.jsx("div",{className:"relative rounded-full p-1",children:vk.map(he=>{const ze=x===he.id;return o.jsxs(jn.button,{layout:!0,type:"button",onClick:yt=>{yt.preventDefault(),yt.stopPropagation(),Y(he.id)},className:ce("relative w-full px-4 py-2.5 text-sm text-left transition-colors duration-200 rounded-full outline-none",ze?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"),children:[ze&&o.jsx(jn.div,{layoutId:"active-settings-pill-desktop",className:"absolute inset-0 bg-gray-200 dark:bg-gray-800 rounded-full",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:he.label})]},he.id)})})})]}),o.jsx(KC,{})]})]})}),o.jsx(Ds,{open:w,onOpenChange:_,children:o.jsxs(_s,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Log out"}),o.jsx(Nf,{children:"Are you sure you want to log out?"})]}),o.jsxs(ui,{children:[o.jsx(se,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),o.jsx(se,{className:"bg-red-500 text-white hover:bg-red-600",onClick:()=>{_(!1),t()},children:"Log out"})]})]})})]})}var VX=["PageUp","PageDown"],HX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KX={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Np="Slider",[GC,uWe,dWe]=Ev(Np),[GX,OJe]=Js(Np,[dWe]),[fWe,W_]=GX(Np),YX=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:v,...p}=e,y=m.useRef(new Set),x=m.useRef(0),w=i==="horizontal"?hWe:pWe,[_=[],S]=Va({prop:d,defaultProp:u,onChange:P=>{var F;(F=[...y.current][x.current])==null||F.focus(),f(P)}}),E=m.useRef(_);function k(P){const O=xWe(_,P);C(P,O)}function j(P){C(P,x.current)}function N(){const P=E.current[x.current];_[x.current]!==P&&h(_)}function C(P,O,{commit:F}={commit:!1}){const M=SWe(a),q=jWe(Math.round((P-n)/a)*a+n,M),B=Ug(q,[n,s]);S((I=[])=>{const A=yWe(I,B,O);if(_We(A,c*a)){x.current=A.indexOf(B);const z=String(A)!==String(I);return z&&F&&h(A),z?A:I}else return I})}return o.jsx(fWe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:_,orientation:i,form:v,children:o.jsx(GC.Provider,{scope:e.__scopeSlider,children:o.jsx(GC.Slot,{scope:e.__scopeSlider,children:o.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Ue(p.onPointerDown,()=>{l||(E.current=_)}),min:n,max:s,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&C(n,0,{commit:!0}),onEndKeyDown:()=>!l&&C(s,_.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:O})=>{if(!l){const q=VX.includes(P.key)||P.shiftKey&&HX.includes(P.key)?10:1,B=x.current,I=_[B],A=a*q*O;C(I+A,B,{commit:!0})}}})})})})});YX.displayName=Np;var[JX,XX]=GX(Np,{startEdge:"left",endEdge:"right",size:"width",direction:1}),hWe=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=m.useState(null),g=xt(t,w=>h(w)),v=m.useRef(),p=sp(s),y=p==="ltr",x=y&&!a||!y&&a;function b(w){const _=v.current||f.getBoundingClientRect(),S=[0,_.width],k=oR(S,x?[r,n]:[n,r]);return v.current=_,k(w-_.left)}return o.jsx(JX,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:o.jsx(QX,{dir:p,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=b(w.clientX);i==null||i(_)},onSlideMove:w=>{const _=b(w.clientX);l==null||l(_)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const S=KX[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),pWe=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=m.useRef(null),f=xt(t,d),h=m.useRef(),g=!s;function v(p){const y=h.current||d.current.getBoundingClientRect(),x=[0,y.height],w=oR(x,g?[n,r]:[r,n]);return h.current=y,w(p-y.top)}return o.jsx(JX,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:o.jsx(QX,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const y=v(p.clientY);a==null||a(y)},onSlideMove:p=>{const y=v(p.clientY);i==null||i(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const x=KX[g?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:x?-1:1})}})})}),QX=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=W_(Np,r);return o.jsx(rt.span,{...u,ref:t,onKeyDown:Ue(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):VX.concat(HX).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ue(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Ue(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Ue(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),ZX="SliderTrack",eQ=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=W_(ZX,r);return o.jsx(rt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});eQ.displayName=ZX;var YC="SliderRange",tQ=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=W_(YC,r),a=XX(YC,r),i=m.useRef(null),l=xt(t,i),c=s.values.length,u=s.values.map(h=>nQ(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(rt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});tQ.displayName=YC;var JC="SliderThumb",rQ=m.forwardRef((e,t)=>{const r=uWe(e.__scopeSlider),[n,s]=m.useState(null),a=xt(t,l=>s(l)),i=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(mWe,{...e,ref:a,index:i})}),mWe=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,i=W_(JC,r),l=XX(JC,r),[c,u]=m.useState(null),d=xt(t,b=>u(b)),f=c?i.form||!!c.closest("form"):!0,h=p1(c),g=i.values[n],v=g===void 0?0:nQ(g,i.min,i.max),p=vWe(n,i.values.length),y=h==null?void 0:h[l.size],x=y?bWe(y,v,l.direction):0;return m.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[o.jsx(GC.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(rt.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:Ue(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(gWe,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},n)]})});rQ.displayName=JC;var gWe=e=>{const{value:t,...r}=e,n=m.useRef(null),s=L_(t);return m.useEffect(()=>{const a=n.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),o.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function yWe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function nQ(e,t,r){const a=100/(r-t)*(e-t);return Ug(a,[0,100])}function vWe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function xWe(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function bWe(e,t,r){const n=e/2,a=oR([0,50],[0,n]);return(n-a(t)*r)*r}function wWe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function _We(e,t){if(t>0){const r=wWe(e);return Math.min(...r)>=t}return!0}function oR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function SWe(e){return(String(e).split(".")[1]||"").length}function jWe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var sQ=YX,kWe=eQ,EWe=tQ,NWe=rQ;const aQ=m.forwardRef(({className:e,...t},r)=>{const n=t.value||t.defaultValue||[0],s=Array.isArray(n)?n.length:1;return o.jsxs(sQ,{ref:r,className:ce("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(kWe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",children:o.jsx(EWe,{className:"absolute h-full bg-breneo-blue dark:bg-breneo-blue"})}),Array.from({length:s}).map((a,i)=>o.jsx(NWe,{className:"block h-5 w-5 rounded-full border-2 border-breneo-blue dark:border-breneo-blue bg-white dark:bg-gray-800 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-breneo-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},i))]})});aQ.displayName=sQ.displayName;const CWe=(e,t,r=20)=>{const n=[];for(let s=0;s<r;s++){const a=Math.exp(-s*.15)*100;n.push(Math.max(5,Math.min(100,a)))}return n},T6=({minSalary:e,maxSalary:t,salaryMin:r=e,salaryMax:n=t,salaryByAgreement:s=!1,onSalaryChange:a})=>{const{t:i}=Si(),[l,c]=m.useState(r??e),[u,d]=m.useState(n??t),[f,h]=m.useState(s),g=CWe(e,t,20),v=Math.max(...g);m.useEffect(()=>{c(r??e),d(n??t),h(s??!1)},[r,n,s,e,t]);const p=w=>{const[_,S]=w;c(_),d(S),a(_===e?void 0:_,S===t?void 0:S,f)},y=w=>{const _=parseInt(w.target.value)||e,S=Math.max(e,Math.min(_,u));c(S),a(S===e?void 0:S,u===t?void 0:u,f)},x=w=>{const _=parseInt(w.target.value)||t,S=Math.min(t,Math.max(_,l));d(S),a(l===e?void 0:l,S===t?void 0:S,f)},b=w=>{h(w),a(l===e?void 0:l,u===t?void 0:u,w)};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-base font-medium text-left text-gray-900 dark:text-gray-100",children:i.jobs.salaryRange}),o.jsx("div",{className:"relative h-16 flex items-end justify-between gap-0.5 px-1",children:g.map((w,_)=>{const S=w/v*100,E=e+_*(t-e)/g.length,k=e+(_+1)*(t-e)/g.length,j=E>=l&&k<=u;return o.jsx("div",{className:"flex-1 bg-gray-900 dark:bg-gray-200 transition-opacity rounded-md",style:{height:`${S}%`,minHeight:"4px",opacity:j?1:.3}},_)})}),o.jsx("div",{className:"px-2",children:o.jsx(aQ,{value:[l,u],onValueChange:p,min:e,max:t,step:100,className:"w-full"})}),o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Be,{htmlFor:"salary-min",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.minimum}),o.jsx(it,{id:"salary-min",type:"number",value:l,onChange:y,min:e,max:u,className:"h-10"})]}),o.jsx("div",{className:"pb-2.5",children:o.jsx("span",{className:"text-gray-400 dark:text-gray-400",children:"-"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Be,{htmlFor:"salary-max",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:i.jobs.maximum}),o.jsx(it,{id:"salary-max",type:"number",value:u,onChange:x,min:l,max:t,className:"h-10"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[o.jsx(Kn,{id:"salary-by-agreement",checked:f,onCheckedChange:b}),o.jsx(Be,{htmlFor:"salary-by-agreement",className:"text-sm font-normal cursor-pointer text-gray-900 dark:text-gray-100",children:i.jobs.byAgreement})]})]})};function PWe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function AWe(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})};u.displayName=a+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,TWe(s,...t)]}function TWe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Oy=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},OWe=Lh[" useInsertionEffect ".trim().toString()]||Oy;function RWe({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=$We({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=MWe(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function $We({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return OWe(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function MWe(e){return typeof e=="function"}function O6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iQ(...e){return t=>{let r=!1;const n=e.map(s=>{const a=O6(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():O6(e[s],null)}}}}function oQ(...e){return m.useCallback(iQ(...e),e)}function IWe(e){const t=LWe(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(FWe);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function LWe(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=UWe(s),l=BWe(a,s.props);return s.type!==m.Fragment&&(l.ref=n?iQ(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DWe=Symbol("radix.slottable");function FWe(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DWe}function BWe(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function UWe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zWe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lR=zWe.reduce((e,t)=>{const r=IWe(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function qWe(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var lQ=e=>{const{present:t,children:r}=e,n=WWe(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=oQ(n.ref,VWe(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};lQ.displayName="Presence";function WWe(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=qWe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=W0(n.current);a.current=l==="mounted"?u:"none"},[l]),Oy(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,g=W0(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Oy(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=W0(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=g=>{g.target===t&&(a.current=W0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function W0(e){return(e==null?void 0:e.animationName)||"none"}function VWe(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var HWe=Lh[" useId ".trim().toString()]||(()=>{}),KWe=0;function GWe(e){const[t,r]=m.useState(HWe());return Oy(()=>{e||r(n=>n??String(KWe++))},[e]),e||(t?`radix-${t}`:"")}var V_="Collapsible",[YWe,RJe]=AWe(V_),[JWe,cR]=YWe(V_),cQ=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,u]=RWe({prop:n,defaultProp:s??!1,onChange:i,caller:V_});return o.jsx(JWe,{scope:r,disabled:a,contentId:GWe(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(lR.div,{"data-state":dR(c),"data-disabled":a?"":void 0,...l,ref:t})})});cQ.displayName=V_;var uQ="CollapsibleTrigger",dQ=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=cR(uQ,r);return o.jsx(lR.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":dR(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:PWe(e.onClick,s.onOpenToggle)})});dQ.displayName=uQ;var uR="CollapsibleContent",fQ=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=cR(uR,e.__scopeCollapsible);return o.jsx(lQ,{present:r||s.open,children:({present:a})=>o.jsx(XWe,{...n,ref:t,present:a})})});fQ.displayName=uR;var XWe=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=cR(uR,r),[l,c]=m.useState(n),u=m.useRef(null),d=oQ(t,u),f=m.useRef(0),h=f.current,g=m.useRef(0),v=g.current,p=i.open||l,y=m.useRef(p),x=m.useRef(void 0);return m.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),Oy(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,g.current=w.width,y.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(lR.div,{"data-state":dR(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&s})});function dR(e){return e?"open":"closed"}var QWe=cQ;const XC=QWe,QC=dQ,ZC=fQ,R6=["FULLTIME","PARTTIME","CONTRACTOR","INTERN"],ZWe="",$6={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},M6=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=Si(),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[g,v]=m.useState(""),p=l&&i!==void 0?i:g,y=N=>{l?l(N):v(N)},x=R.useMemo(()=>{if(!p.trim())return dn;const N=p.toLowerCase();return dn.filter(C=>C.name.toLowerCase().includes(N)||C.code.toLowerCase().includes(N))},[p]);m.useEffect(()=>{r&&s!=="country"&&(l?l(""):v("")),!r&&!f&&(l?l(""):v(""))},[s,f,r,l]);const b=N=>{const C=e.jobTypes.includes(N)?e.jobTypes.filter(P=>P!==N):[...e.jobTypes,N];t({...e,jobTypes:C,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[]})},w=N=>{const C=e.countries.includes(N)?e.countries.filter(P=>P!==N):[...e.countries,N];t({...e,countries:C,datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},_=N=>{t({...e,isRemote:N,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},S=N=>{const C=e.skills.includes(N)?e.skills.filter(P=>P!==N):[...e.skills,N];t({...e,skills:C,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},E=()=>{if(n.length===0)return;const N=n.every(C=>e.skills.includes(C));t(N?{...e,skills:[],countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement}:{...e,skills:n,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},k=n.length>0&&n.every(N=>e.skills.includes(N)),j=(N,C,P)=>{t({...e,salaryMin:N,salaryMax:C,salaryByAgreement:P})};return r?s==="workType"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:o.jsxs("div",{className:"space-y-3",children:[R6.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:$6[N]||N}),o.jsx(Kn,{checked:C,onCheckedChange:()=>b(N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N)}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:"Remote Jobs Only"}),o.jsx(Kn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]})]})})}):s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:x.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:N.name}),o.jsx(Kn,{checked:C,onCheckedChange:()=>w(N.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(T6,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("workType"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.workType}),o.jsx(Ta,{className:"h-4 w-4 text-gray-400"})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(Ta,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:k?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:N},N)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"space-y-3",children:o.jsx(T6,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:j})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{className:"text-base font-medium dark:text-gray-100",children:c.jobs.interests}),o.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:k?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const C=e.skills.includes(N);return o.jsx("button",{type:"button",onClick:()=>S(N),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${C?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:N},N)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(XC,{open:u,onOpenChange:d,children:[o.jsxs(QC,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Be,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.workType}),o.jsx(Yo,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(ZC,{className:"mt-0",children:o.jsx("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:R6.map(N=>{const C=e.jobTypes.includes(N);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Kn,{checked:C,onCheckedChange:()=>b(N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:$6[N]||N})]},N)})}),o.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Kn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Remote Jobs Only"})]})]})})})]})}),o.jsx("div",{className:"space-y-3",children:o.jsxs(XC,{open:f,onOpenChange:N=>{h(N),N||y("")},children:[o.jsxs(QC,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${f?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Be,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Yo,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${f?"transform rotate-180":""}`})]}),o.jsx(ZC,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(it,{type:"text",placeholder:"Search countries...",value:p,onChange:N=>y(N.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):x.map(N=>{const C=e.countries.includes(N.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Kn,{checked:C,onCheckedChange:()=>w(N.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:N.name})]},N.code)})})})]})})]})})]})},hQ=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=Si(),c=va(),[u,d]=m.useState("main"),[f,h]=m.useState(!1),[g,v]=m.useState(!1),[p,y]=m.useState(""),[x,b]=m.useState("");return R.useMemo(()=>{if(!p.trim())return dn;const w=p.toLowerCase();return dn.filter(_=>_.name.toLowerCase().includes(w)||_.code.toLowerCase().includes(w))},[p]),m.useEffect(()=>{e||(h(!1),v(!1),d("main"),b(""))},[e]),c?o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(Ji,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Xi,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(Qi,{className:"text-xl font-bold",children:u==="workType"?l.jobs.workType:u==="country"?l.jobs.country:ZWe})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(it,{type:"text",placeholder:"Search countries...",value:x,onChange:w=>b(w.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(M6,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:x,onCountrySearchChange:b})}),u==="main"&&o.jsx(Xo,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(se,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:l.common.clear}),o.jsx(se,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:l.common.apply})]})}),(u==="workType"||u==="country")&&o.jsx(Xo,{className:"border-t border-gray-200",children:o.jsx(se,{onClick:()=>{b(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(Ds,{open:e,onOpenChange:t,children:o.jsxs(_s,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Fs,{className:"flex-shrink-0",children:o.jsx(Bs,{children:"Filter Jobs"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(M6,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i})}),o.jsx(ui,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(se,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:l.common.clear}),o.jsx(se,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:l.common.apply})]})})]})})},xl=[{id:"FULLTIME",label:"Full Time"},{id:"PARTTIME",label:"Part Time"},{id:"CONTRACTOR",label:"Contractor"},{id:"INTERN",label:"Intern"}],pQ=({selectedWorkTypes:e,onWorkTypesChange:t,placeholder:r="Work types",isRemote:n=!1,onRemoteChange:s})=>{var _;const[a,i]=m.useState(!1),[l,c]=m.useState(e),[u,d]=m.useState(n),f=m.useRef(null);m.useEffect(()=>{a&&(c(e),d(n))},[a,e,n]),m.useEffect(()=>{const S=k=>{f.current&&!f.current.contains(k.target)&&(i(!1),c(e),d(n))},E=k=>{k.key==="Escape"&&(i(!1),c(e),d(n))};return a&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",E)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",E)}},[a,e,n]);const h=S=>{l.includes(S)?c(l.filter(E=>E!==S)):c([...l,S])},g=()=>{l.length===xl.length?c([]):c(xl.map(S=>S.id))},v=()=>{t(l),s&&s(u),i(!1)},p=l.length===xl.length,y=e.length===0?r:e.length===1?((_=xl.find(S=>S.id===e[0]))==null?void 0:_.label)||r:e.length===xl.length?"All work types":e.map(S=>{var E;return((E=xl.find(k=>k.id===S))==null?void 0:E.label)||S}).join(", "),x=e.length===0,b=(S,E)=>{S.stopPropagation();const k=e.filter(j=>j!==E);t(k)},w=S=>{S.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:f,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>i(!a),className:ce("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",x?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(Qfe,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:y})]}),e.length>0&&o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),e.length===1?b(S,e[0]):w(S)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove work type":"Remove all work types",children:o.jsx(Cr,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),a&&o.jsxs("div",{className:ce("absolute top-full left-0 mt-2 w-[calc(100vw-2rem)] md:w-[320px] rounded-lg shadow-lg border z-[9999] max-h-[400px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[280px]"),children:[o.jsxs("div",{className:ce("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:ce("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Work Types"}),o.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),i(!1)},className:ce("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(Cr,{className:ce("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[o.jsxs("div",{className:ce("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:S=>{S.stopPropagation(),g()},children:[o.jsx(Kn,{checked:p,onCheckedChange:S=>{c(S?xl.map(E=>E.id):[])},className:"mr-3"}),o.jsx("span",{className:ce("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),xl.map(S=>{const E=l.includes(S.id);return o.jsxs("div",{className:ce("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:k=>{k.stopPropagation(),h(S.id)},children:[o.jsx(Kn,{checked:E,onCheckedChange:k=>{c(k?[...l,S.id]:l.filter(j=>j!==S.id))},className:"mr-3"}),o.jsx("span",{className:ce("text-sm","text-gray-900 dark:text-gray-100"),children:S.label})]},S.id)}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:ce("border-t","border-gray-100 dark:border-gray-700")}),o.jsxs("div",{className:ce("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),d(!u)},children:[o.jsx(Kn,{checked:u,onCheckedChange:S=>{d(!!S)},className:"mr-3"}),o.jsx("span",{className:ce("text-sm","text-gray-900 dark:text-gray-100"),children:"Remote Jobs Only"})]})]})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(se,{onClick:S=>{S.stopPropagation(),v()},className:"w-full",children:"Save"})})]})]})},yo={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},eVe=async(e=1)=>{try{console.log(` fetchInternshipJobs called - fetching internship jobs page ${e}`);const t=await bi.fetchActiveJobs({query:"intern intern internship",filters:{country:void 0,countries:[],jobTypes:["INTERN"],isRemote:void 0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(!t||!Array.isArray(t.jobs))return console.warn("Invalid response format from job service:",t),{jobs:[],hasMore:!1,total:0};const r=t.jobs.filter(n=>{const s=String(n.id||"");return s&&s.trim()!==""});return{jobs:r,hasMore:t.hasMore??!1,total:t.total||r.length}}catch(t){return console.error("Error fetching internship jobs:",t),{jobs:[],hasMore:!1,total:0}}},tVe=async(e=1,t=[])=>{var r,n;try{console.log(` fetchRemoteJobs called - fetching remote jobs page ${e} with skills:`,t);const s=await bi.fetchActiveJobs({query:"remote",filters:{country:void 0,countries:[],jobTypes:[],isRemote:!0,datePosted:"week",skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(console.log(" fetchRemoteJobs response:",{totalJobs:((r=s.jobs)==null?void 0:r.length)||0,hasMore:s.hasMore,sampleJob:((n=s.jobs)==null?void 0:n[0])||null}),!s||!Array.isArray(s.jobs))return console.warn("Invalid response format from job service:",s),{jobs:[],hasMore:!1,total:0};const a=s.jobs.filter(i=>{const l=String(i.id||"");return l&&l.trim()!==""});return console.log(` fetchRemoteJobs: ${a.length} valid remote jobs found`),{jobs:a,hasMore:s.hasMore??!1,total:s.total||a.length}}catch(s){return console.error(" Error fetching remote jobs:",s),{jobs:[],hasMore:!1,total:0}}},I6="jobsFilters",mQ="jobsPage_latestJobs",gQ=30*60*1e3,rVe=()=>{try{const e=sessionStorage.getItem(mQ);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.jobs)||Date.now()-t.timestamp>gQ?null:{jobs:t.jobs,hasMore:t.hasMore??!1,total:t.total??t.jobs.length}}catch{return null}},nVe=e=>{try{sessionStorage.setItem(mQ,JSON.stringify({...e,timestamp:Date.now()}))}catch{}},sVe=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},aVe=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},iVe=()=>{const{user:e}=ir(),t=Ys(),r=va(),n=ar(),[s,a]=Xh(),[i,l]=m.useState(!1),[c,u]=m.useState([]),[d,f]=m.useState(!0),h=R.useRef(!1),{data:g=[]}=Wt({queryKey:["profileSkills",e==null?void 0:e.id],queryFn:()=>Rr.getMySkills(),enabled:!!e}),v=m.useMemo(()=>{const T=(g||[]).map(we=>qr(we.skill_name)),L=(c||[]).map(we=>qr(we));return[...new Set([...T,...L])]},[g,c]),[p,y]=m.useState(1),[x,b]=m.useState([]),[w,_]=m.useState(!1),[S,E]=m.useState(!1),[k,j]=m.useState(1),[N,C]=m.useState([]),[P,O]=m.useState(!1),[F,M]=m.useState(!1),[q,B]=m.useState(1),[I,A]=m.useState([]),[z,re]=m.useState(!1),[V,te]=m.useState(!1);m.useCallback((T,L,we)=>{const Ye=new URLSearchParams;L&&Ye.set("search",L),T.countries.length>0&&Ye.set("countries",T.countries.join(",")),T.skills.length>0&&Ye.set("skills",T.skills.join(",")),T.jobTypes.length>0&&Ye.set("jobTypes",T.jobTypes.join(",")),T.isRemote&&Ye.set("isRemote","true"),T.datePosted&&T.datePosted!=="all"&&Ye.set("datePosted",T.datePosted),we>1&&Ye.set("page",String(we)),a(Ye,{replace:!0}),sVe(I6,T,L)},[a]);const[X,ye]=m.useState(()=>({country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1})),[oe,me]=m.useState(()=>{const T=s.get("search");if(T)return T;const L=aVe(I6);return L&&L.search?L.search:""}),[D,$]=m.useState(X),H=T=>{let L=0;return T.countries.length>0&&(L+=T.countries.length),T.jobTypes.length>0&&(L+=T.jobTypes.length),T.isRemote&&(L+=1),T.datePosted&&(L+=1),T.skills.length>0&&(L+=T.skills.length),(T.salaryMin!==void 0||T.salaryMax!==void 0)&&(L+=1),T.salaryByAgreement&&(L+=1),L};m.useEffect(()=>{i&&$(X)},[i,X]),m.useEffect(()=>{if(s.get("search")||s.get("countries")||s.get("country")||s.get("skills")||s.get("jobTypes")||s.get("isRemote")||s.get("datePosted")||s.get("page")||s.get("salaryMin")||s.get("salaryMax")||s.get("salaryByAgreement")){const L=new URLSearchParams(s);!L.get("page")&&L.toString()&&L.set("page","1"),n(`/jobs/search?${L.toString()}`,{replace:!0})}},[]),m.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{f(!0);try{const we=await Ce.get(`/api/skilltest/results/?user=${e.id}`);if(we.data&&Array.isArray(we.data)&&we.data.length>0){const Lt=we.data[0].skills_json,hr=Object.keys(Lt.tech||{});u(hr),f(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const L=await op(String(e.id));if(L&&L.length>0){const we=lp(L),Lt=q1(we,20).map(xr=>xr.skill),hr=qg(Lt);u(hr)}}catch(L){console.error("Error fetching user skills:",L),u([])}finally{f(!1)}})()},[e]),m.useEffect(()=>{h.current=!1},[e==null?void 0:e.id]),m.useEffect(()=>{!d&&c.length>0&&!h.current&&(ye(T=>({...T,skills:[...c]})),$(T=>({...T,skills:[...c]})),h.current=!0)},[d,c,e==null?void 0:e.id]);const{data:G=[]}=Wt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var T;if(!e)return[];try{return(((T=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:T.saved_jobs)||[]).map(Ye=>String(Ye))}catch(L){return console.error("Error fetching saved jobs from profile API:",L),[]}},enabled:!!e});m.useMemo(()=>qg(X.skills||[]),[X.skills]),m.useMemo(()=>JSON.stringify({countries:X.countries.sort(),skills:X.skills.sort(),jobTypes:X.jobTypes.sort(),isRemote:X.isRemote,datePosted:X.datePosted,salaryMin:X.salaryMin,salaryMax:X.salaryMax,salaryByAgreement:X.salaryByAgreement}),[X]);const{data:le={jobs:[],hasMore:!1,total:0},isLoading:J,error:Z}=Wt({queryKey:["latestJobs"],queryFn:async()=>{try{const T=rVe();if(T&&T.jobs.length>0)return T;const L=await bi.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(!L||!Array.isArray(L.jobs))return{jobs:[],hasMore:!1,total:0};const we=L.jobs.filter(Lt=>{const hr=String(Lt.id||Lt.job_id||"");return hr&&hr.trim()!==""}),Ye={jobs:we,hasMore:L.hasMore??!1,total:we.length};return nVe(Ye),Ye}catch(T){throw console.error(" Error fetching jobs:",T),T}},refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:gQ,gcTime:60*60*1e3,retry:2,retryDelay:1e3,enabled:!0}),{data:K={jobs:[],hasMore:!1,total:0},isLoading:de,error:ae}=Wt({queryKey:["internshipJobs",k],queryFn:()=>eVe(k),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:xe={jobs:[],hasMore:!1,total:0},isLoading:ke,error:Me}=Wt({queryKey:["remoteJobs",q],queryFn:()=>tVe(q,[]),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0});m.useEffect(()=>{le.jobs&&le.jobs.length>0?(b(le.jobs),_(le.hasMore),E(!1)):(b([]),_(!1))},[le]),m.useEffect(()=>{K.jobs&&K.jobs.length>0?(C(k===1?K.jobs:T=>{const L=new Set(T.map(Ye=>Ye.id||Ye.job_id)),we=K.jobs.filter(Ye=>!L.has(Ye.id||Ye.job_id));return[...T,...we]}),O(K.hasMore),M(!1)):k===1&&(C([]),O(!1))},[K,k]),m.useEffect(()=>{xe.jobs&&xe.jobs.length>0?(A(q===1?xe.jobs:T=>{const L=new Set(T.map(Ye=>Ye.id||Ye.job_id)),we=xe.jobs.filter(Ye=>!L.has(Ye.id||Ye.job_id));return[...T,...we]}),re(xe.hasMore),te(!1)):q===1&&(A([]),re(!1))},[xe,q]);const Ee=x,ue=N;m.useCallback(()=>{E(!0),y(T=>T+1)},[]),m.useCallback(()=>{M(!0),j(T=>T+1)},[]),m.useCallback(()=>{te(!0),B(T=>T+1)},[]);const ge=m.useCallback(()=>{const T=new URLSearchParams;oe.trim()&&T.set("search",oe.trim()),X.countries.length>0&&T.set("countries",X.countries.join(",")),X.skills.length>0&&T.set("skills",X.skills.join(",")),X.jobTypes.length>0&&T.set("jobTypes",X.jobTypes.join(",")),X.isRemote&&T.set("isRemote","true"),X.datePosted&&T.set("datePosted",X.datePosted),X.salaryMin!==void 0&&T.set("salaryMin",String(X.salaryMin)),X.salaryMax!==void 0&&T.set("salaryMax",String(X.salaryMax)),X.salaryByAgreement&&T.set("salaryByAgreement","true"),n(`/jobs/search?${T.toString()}`)},[oe,X,n]),U=T=>{me(T)},ee=T=>{T.key==="Enter"&&ge()},_e=pa({mutationFn:async T=>{if(!e)throw new Error("User not logged in");if(!T.id)throw new Error("Job ID is required");const L=String(T.id);T.is_saved;try{const we=`${Qe.JOBS.SAVE_JOB}${L}/`;await Ce.post(we)}catch(we){const Ye=we instanceof Error?we.message:"Failed to save job. Please try again.";throw new Error(Ye)}},onSuccess:(T,L)=>{t.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["profile"]}),fe.success(L.is_saved?"Job Unsaved":"Job Saved")},onError:T=>{console.error("Error saving job:",T);const L=T instanceof Error?T.message:"Failed to save job";fe.error(L)}}),Le=R.useCallback(T=>{if(!T||T.length===0)return[];try{return(T||[]).map(L=>{const we=L.company&&typeof L.company=="object"?L.company:null,Ye=String(L.id||L.job_id||"");if(!Ye||Ye.trim()==="")return console.warn("Skipping job without valid ID:",L),null;const Lt=String(L.title||L.job_title||L.position||"Untitled Position"),hr=String(L.company_name||(we!=null&&we.company_name&&typeof we.company_name=="string"?we.company_name:null)||(we!=null&&we.name&&typeof we.name=="string"?we.name:null)||(L.companyName&&typeof L.companyName=="string"?L.companyName:null)||(L.employer_name&&typeof L.employer_name=="string"?L.employer_name:null)||(typeof L.company=="string"?L.company:null)||"Unknown Company"),xr=L.job_city||L.city||(we==null?void 0:we.city)||"",Ht=L.job_state||L.state||(we==null?void 0:we.state)||"",Br=L.job_country||L.country||(we==null?void 0:we.country)||"",vt=String(((qe,_t)=>{if(qe!=null&&qe.job_is_remote||qe!=null&&qe.is_remote||(qe==null?void 0:qe.remote)===!0)return"Remote";const wt=Tt=>Tt&&typeof Tt=="string"&&Tt.trim()?Tt.trim():null,Xt=Tt=>{if(!Tt||typeof Tt!="object")return null;if(wt(Tt.display_name))return Tt.display_name;if(wt(Tt.name))return Tt.name;if(wt(Tt.location))return Tt.location;if(wt(Tt.address))return Tt.address;const Rn=[Tt.city||Tt.town||Tt.region||Tt.state,Tt.country].filter(Boolean).map(Ci=>String(Ci));return Rn.length?Rn.join(", "):null};if(Array.isArray(qe.locations)&&qe.locations.length>0)for(const Tt of qe.locations){const Rn=wt(Tt)||Xt(Tt);if(Rn)return Rn}const Rt=[qe.jobLocation,qe.location,qe.location_name,qe.job_location,qe.work_location,qe.address];for(const Tt of Rt){const Rn=wt(Tt);if(Rn)return Rn}const lr=Xt(qe.location)||Xt(qe.locationData)||Xt(qe.job_location)||null;if(lr)return lr;if(_t){const Tt=wt(_t.location)||wt(_t.address)||Xt(_t.location)||null;if(Tt)return Tt}const fs=[xr,Ht,Br].filter(Boolean).map(Tt=>String(Tt)).join(", ");return fs||"Location not specified"})(L,we)),St=L.apply_url||L.job_apply_link||L.apply_link||L.url||L.applyUrl||L.jobUrl||L.company_url||(we==null?void 0:we.url)||"";let Nt;!Nt&&typeof L.company_logo=="string"&&L.company_logo.trim()&&(Nt=L.company_logo.trim());const Bt=qe=>{if(!qe)return!1;if(Array.isArray(qe)){for(const wt of qe)if(Bt(wt))return!0;return!1}if(typeof qe=="object"){const wt=qe,Xt=[wt.url,wt.src,wt.href,wt.logo,wt.image,wt.path,wt.file,wt.thumbnail];for(const Rt of Xt)if(Bt(Rt))return!0;return!1}const _t=String(qe).trim();return _t?_t.startsWith("data:")||_t.startsWith("blob:")?(Nt=_t,!0):_t.startsWith("//")?(Nt=`https:${_t}`,!0):_t.startsWith("http://")||_t.startsWith("https://")||_t.startsWith("/")||_t.startsWith("./")||_t.startsWith("../")?(Nt=_t,!0):!1:!1},tr=L;if(!Nt&&tr.company_logo&&Bt(tr.company_logo),!Nt&&L.company_logo&&Bt(L.company_logo),!Nt&&tr.companyLogo&&Bt(tr.companyLogo),!Nt&&L.companyLogo&&Bt(L.companyLogo),!Nt&&tr.employer_logo&&Bt(tr.employer_logo),!Nt&&L.employer_logo&&Bt(L.employer_logo),!Nt&&tr.logo&&Bt(tr.logo),!Nt&&L.logo&&Bt(L.logo),!Nt&&tr.logo_url&&Bt(tr.logo_url),!Nt&&L.logo_url&&Bt(L.logo_url),!Nt&&tr.employerLogo&&Bt(tr.employerLogo),!Nt&&tr.companyLogoUrl&&Bt(tr.companyLogoUrl),!Nt&&tr.logoUrl&&Bt(tr.logoUrl),!Nt&&we&&(we.logo&&Bt(we.logo),!Nt&&we.logo_url&&Bt(we.logo_url),!Nt&&we.company_logo&&Bt(we.company_logo),!Nt&&we.employer_logo&&Bt(we.employer_logo)),!Nt&&L.employer&&typeof L.employer=="object"){const qe=L.employer;qe.logo&&Bt(qe.logo),!Nt&&qe.logo_url&&Bt(qe.logo_url),!Nt&&qe.company_logo&&Bt(qe.company_logo),!Nt&&qe.employer_logo&&Bt(qe.employer_logo)}let Q="By agreement";const Pe=L.job_min_salary||L.min_salary,$e=L.job_max_salary||L.max_salary,We=L.job_salary_currency||L.salary_currency||"$",ct=L.job_salary_period||L.salary_period||"yearly";if(Pe&&$e&&typeof Pe=="number"&&typeof $e=="number"){const qe=ct==="monthly"?"Monthly":"",_t=Pe.toLocaleString(),wt=$e.toLocaleString();["$","","","","",""].some(lr=>We.includes(lr))?Q=`${We}${_t} - ${We}${wt}${qe?`/${qe}`:""}`:Q=`${_t} - ${wt} ${We}${qe?`/${qe}`:""}`}else if(Pe&&typeof Pe=="number"){const qe=Pe.toLocaleString();Q=["$","","","","",""].some(Xt=>We.includes(Xt))?`${We}${qe}+`:`${qe}+ ${We}`}else L.salary&&typeof L.salary=="string"&&(Q=L.salary);const ut=L.job_employment_type||L.employment_type||L.type||"FULLTIME",gt=ut.toUpperCase(),je=yo[gt]||yo[ut]||ut||"Full time";let He="On-site";L.job_is_remote||L.is_remote||L.remote===!0?He="Remote":Lt!=null&&Lt.toLowerCase().includes("hybrid")&&(He="Hybrid");const ft=e&&v.length>=0?Ru(L,gc(v)).overallPercent:void 0;return{id:Ye,title:Lt,company:hr,company_name:L.company_name||L.employer_name||(typeof L.company=="string"?L.company:void 0),location:vt,url:St,company_logo:Nt,is_saved:G==null?void 0:G.includes(String(Ye)),salary:Q,employment_type:je,work_arrangement:He,matchPercentage:ft}}).filter(L=>L!==null)}catch(L){return console.error("Error transforming jobs:",L),[]}},[G,e,v]),et=R.useMemo(()=>Le(Ee||[]),[Ee,Le]),Xe=m.useCallback((T,L,we)=>{if(L||(L=x.find(Ye=>(Ye.id||Ye.job_id)===T.id)),we.skills.length>0){const Ye=pT(L||T),Lt=(T.title||"").toLowerCase();if(we.skills.some(xr=>{const Ht=xr.toLowerCase();return Lt.includes(Ht)?!0:Ye.some(Br=>Br.toLowerCase().includes(Ht)||Ht.includes(Br.toLowerCase()))}))return!0}if(we.countries.length>0){const Ye=(T.location||"").toLowerCase(),Lt=((L==null?void 0:L.job_country)||(L==null?void 0:L.country)||"").toString().toLowerCase(),hr=((L==null?void 0:L.job_city)||(L==null?void 0:L.city)||"").toString().toLowerCase();if(we.countries.some(Ht=>{const Br=dn.find(vt=>vt.code===Ht),ds=((Br==null?void 0:Br.name)||Ht).toLowerCase();return Ye.includes(ds)||Lt.includes(ds)||Ye.includes(Ht.toLowerCase())||hr.includes(ds)}))return!0}if(we.jobTypes.length>0){const Ye=(T.employment_type||"").toUpperCase().replace(/[-\s]/g,"");if(we.jobTypes.some(hr=>{const Ht=(yo[hr]||hr).toUpperCase().replace(/[-\s]/g,"");return Ye.includes(Ht)||Ht.includes(Ye)}))return!0}if(we.isRemote&&(T.work_arrangement==="Remote"||L!=null&&L.job_is_remote||L!=null&&L.is_remote||L!=null&&L.remote))return!0;if(we.datePosted&&we.datePosted!=="all"){const Ye=(L==null?void 0:L.posted_at)||(L==null?void 0:L.date_posted)||(L==null?void 0:L.fetched_at)||"";if(Ye){const Lt=new Date(Ye).getTime(),hr=Date.now(),xr=7*24*60*60*1e3,Ht=30*24*60*60*1e3;if(we.datePosted==="week"&&hr-Lt<=xr||we.datePosted==="month"&&hr-Lt<=Ht)return!0}}if(we.salaryMin!==void 0||we.salaryMax!==void 0||we.salaryByAgreement){const Ye=(L==null?void 0:L.job_min_salary)??(L==null?void 0:L.min_salary),Lt=(L==null?void 0:L.job_max_salary)??(L==null?void 0:L.max_salary);if(we.salaryByAgreement&&Ye==null&&Lt==null)return!0;if(Ye!=null||Lt!=null)return!(we.salaryMin!==void 0&&Lt!=null&&Lt<we.salaryMin||we.salaryMax!==void 0&&Ye!=null&&Ye>we.salaryMax)}return!1},[x]),ot=m.useMemo(()=>{const T=X.skills.length>0||X.countries.length>0||X.jobTypes.length>0||X.isRemote||X.datePosted&&X.datePosted!=="all"||X.salaryMin!==void 0||X.salaryMax!==void 0||X.salaryByAgreement,L=Lt=>[...Lt].sort((hr,xr)=>{const Ht=x.find(St=>(St.id||St.job_id)===hr.id),Br=x.find(St=>(St.id||St.job_id)===xr.id),ds=(Ht==null?void 0:Ht.posted_at)||(Ht==null?void 0:Ht.fetched_at)||(Ht==null?void 0:Ht.date_posted)||"",vt=(Br==null?void 0:Br.posted_at)||(Br==null?void 0:Br.fetched_at)||(Br==null?void 0:Br.date_posted)||"";if(ds&&vt)try{return new Date(vt).getTime()-new Date(ds).getTime()}catch{return 0}return!ds&&vt?1:ds&&!vt?-1:0});if(!T)return L(et).slice(0,9);const we=new Set;et.forEach(Lt=>{Xe(Lt,void 0,X)&&we.add(Lt.id)});const Ye=et.filter(Lt=>we.has(Lt.id));return L(Ye)},[et,x,X,Xe]),Se=m.useMemo(()=>[...et].sort((L,we)=>(we.matchPercentage??0)-(L.matchPercentage??0)).slice(0,9),[et]),Ie=R.useMemo(()=>{if(!ue||ue.length===0)return[];try{return(ue||[]).map(T=>{const L=T.company&&typeof T.company=="object"?T.company:null,we=String(T.id||"");if(!we||we.trim()==="")return console.warn("Skipping internship job without valid ID:",T),null;const Ye=T.title||T.job_title||T.position||"Untitled Position",Lt=T.company_name||(L==null?void 0:L.company_name)||(L==null?void 0:L.name)||T.companyName||T.employer_name||(typeof T.company=="string"?T.company:null)||"Unknown Company",hr=T.job_city||T.city||(L==null?void 0:L.city)||"",xr=T.job_state||T.state||(L==null?void 0:L.state)||"",Ht=T.job_country||T.country||(L==null?void 0:L.country)||"",Br=String((T.jobLocation&&typeof T.jobLocation=="string"?T.jobLocation:null)||(T.location&&typeof T.location=="string"?T.location:null)||(L!=null&&L.location&&typeof L.location=="string"?L.location:null)||[hr,xr,Ht].filter(Boolean).map(Je=>String(Je)).join(", ")||"Location not specified"),ds=T.applyUrl||T.jobUrl||T.job_apply_link||T.apply_link||T.url||T.apply_url||T.company_url||(L==null?void 0:L.url)||"";let vt;!vt&&typeof T.company_logo=="string"&&T.company_logo.trim()&&(vt=T.company_logo.trim()),!vt&&typeof T.company_logo=="string"&&T.company_logo.trim()&&(vt=T.company_logo.trim());const St=Je=>{if(!Je)return!1;if(Array.isArray(Je)){for(const qe of Je)if(St(qe))return!0;return!1}if(typeof Je=="object"){const qe=Je,_t=[qe.url,qe.src,qe.href,qe.logo,qe.image,qe.path,qe.file,qe.thumbnail];for(const wt of _t)if(St(wt))return!0;return!1}const ft=String(Je).trim();return ft?ft.startsWith("data:")||ft.startsWith("blob:")?(vt=ft,!0):ft.startsWith("//")?(vt=`https:${ft}`,!0):ft.startsWith("http://")||ft.startsWith("https://")||ft.startsWith("/")||ft.startsWith("./")||ft.startsWith("../")?(vt=ft,!0):!1:!1};!vt&&T.companyLogo&&St(T.companyLogo),!vt&&T.employer_logo&&St(T.employer_logo),!vt&&T.company_logo&&St(T.company_logo),!vt&&T.logo&&St(T.logo),!vt&&T.logo_url&&St(T.logo_url);const Nt=T;if(!vt&&Nt.companyLogo&&St(Nt.companyLogo),!vt&&Nt.employerLogo&&St(Nt.employerLogo),!vt&&Nt.companyLogoUrl&&St(Nt.companyLogoUrl),!vt&&Nt.logoUrl&&St(Nt.logoUrl),!vt&&L&&(L.logo&&St(L.logo),!vt&&L.logo_url&&St(L.logo_url),!vt&&L.company_logo&&St(L.company_logo),!vt&&L.employer_logo&&St(L.employer_logo)),!vt&&T.employer&&typeof T.employer=="object"){const Je=T.employer;Je.logo&&St(Je.logo),!vt&&Je.logo_url&&St(Je.logo_url),!vt&&Je.company_logo&&St(Je.company_logo),!vt&&Je.employer_logo&&St(Je.employer_logo)}let Bt="By agreement";const tr=T.job_min_salary||T.min_salary,Q=T.job_max_salary||T.max_salary,Pe=T.job_salary_currency||T.salary_currency||"$",$e=T.job_salary_period||T.salary_period||"yearly";if(tr&&Q&&typeof tr=="number"&&typeof Q=="number"){const Je=$e==="monthly"?"Monthly":"",ft=tr.toLocaleString(),qe=Q.toLocaleString();["$","","","","",""].some(Xt=>Pe.includes(Xt))?Bt=`${Pe}${ft} - ${Pe}${qe}${Je?`/${Je}`:""}`:Bt=`${ft} - ${qe} ${Pe}${Je?`/${Je}`:""}`}else if(tr&&typeof tr=="number"){const Je=tr.toLocaleString();Bt=["$","","","","",""].some(_t=>Pe.includes(_t))?`${Pe}${Je}+`:`${Je}+ ${Pe}`}else T.salary&&typeof T.salary=="string"&&(Bt=T.salary);const We=T.job_employment_type||T.employment_type||T.type||"INTERN",ct=We.toUpperCase(),ut=yo[ct]||yo[We]||We||"Intern";let gt="On-site";T.job_is_remote||T.is_remote||T.remote===!0?gt="Remote":Ye!=null&&Ye.toLowerCase().includes("hybrid")&&(gt="Hybrid");const He=e&&v.length>=0?Ru(T,gc(v)).overallPercent:void 0;return{id:we,title:Ye,company:Lt,company_name:T.company_name||T.employer_name||(typeof T.company=="string"?T.company:void 0),location:Br,url:ds,company_logo:vt,is_saved:G==null?void 0:G.includes(String(we)),salary:Bt,employment_type:ut,work_arrangement:gt,matchPercentage:He}}).filter(T=>T!==null)}catch(T){return console.error("Error transforming internship jobs:",T),[]}},[ue,G,e,v]),Y=m.useMemo(()=>Ie,[Ie]),W=R.useMemo(()=>{if(!I||I.length===0)return[];try{return(I||[]).map(T=>{const L=T.company&&typeof T.company=="object"?T.company:null,we=String(T.id||"");if(!we||we.trim()==="")return console.warn("Skipping remote job without valid ID:",T),null;const Ye=T.title||T.job_title||T.position||"Untitled Position",Lt=T.company_name||(L==null?void 0:L.company_name)||(L==null?void 0:L.name)||T.companyName||T.employer_name||(typeof T.company=="string"?T.company:null)||"Unknown Company",hr=T.job_city||T.city||(L==null?void 0:L.city)||"",xr=T.job_state||T.state||(L==null?void 0:L.state)||"",Ht=T.job_country||T.country||(L==null?void 0:L.country)||"",Br=String((T.jobLocation&&typeof T.jobLocation=="string"?T.jobLocation:null)||(T.location&&typeof T.location=="string"?T.location:null)||(L!=null&&L.location&&typeof L.location=="string"?L.location:null)||[hr,xr,Ht].filter(Boolean).map(He=>String(He)).join(", ")||"Remote"),ds=T.applyUrl||T.jobUrl||T.job_apply_link||T.apply_link||T.url||T.apply_url||T.company_url||(L==null?void 0:L.url)||"";let vt;const St=He=>{if(!He)return!1;if(Array.isArray(He)){for(const ft of He)if(St(ft))return!0;return!1}if(typeof He=="object"){const ft=He,qe=[ft.url,ft.src,ft.href,ft.logo,ft.image,ft.path,ft.file,ft.thumbnail];for(const _t of qe)if(St(_t))return!0;return!1}const Je=String(He).trim();return Je?Je.startsWith("data:")||Je.startsWith("blob:")?(vt=Je,!0):Je.startsWith("//")?(vt=`https:${Je}`,!0):Je.startsWith("http://")||Je.startsWith("https://")||Je.startsWith("/")||Je.startsWith("./")||Je.startsWith("../")?(vt=Je,!0):!1:!1};!vt&&T.companyLogo&&St(T.companyLogo),!vt&&T.employer_logo&&St(T.employer_logo),!vt&&T.company_logo&&St(T.company_logo),!vt&&T.logo&&St(T.logo),!vt&&T.logo_url&&St(T.logo_url);const Nt=T;if(!vt&&Nt.companyLogo&&St(Nt.companyLogo),!vt&&Nt.employerLogo&&St(Nt.employerLogo),!vt&&Nt.companyLogoUrl&&St(Nt.companyLogoUrl),!vt&&Nt.logoUrl&&St(Nt.logoUrl),!vt&&L&&(L.logo&&St(L.logo),!vt&&L.logo_url&&St(L.logo_url),!vt&&L.company_logo&&St(L.company_logo),!vt&&L.employer_logo&&St(L.employer_logo)),!vt&&T.employer&&typeof T.employer=="object"){const He=T.employer;He.logo&&St(He.logo),!vt&&He.logo_url&&St(He.logo_url),!vt&&He.company_logo&&St(He.company_logo),!vt&&He.employer_logo&&St(He.employer_logo)}let Bt="By agreement";const tr=T.job_min_salary||T.min_salary,Q=T.job_max_salary||T.max_salary,Pe=T.job_salary_currency||T.salary_currency||"$",$e=T.job_salary_period||T.salary_period||"yearly";if(tr&&Q&&typeof tr=="number"&&typeof Q=="number"){const He=$e==="monthly"?"Monthly":"",Je=tr.toLocaleString(),ft=Q.toLocaleString();["$","","","","",""].some(wt=>Pe.includes(wt))?Bt=`${Pe}${Je} - ${Pe}${ft}${He?`/${He}`:""}`:Bt=`${Je} - ${ft} ${Pe}${He?`/${He}`:""}`}else if(tr&&typeof tr=="number"){const He=tr.toLocaleString();Bt=["$","","","","",""].some(qe=>Pe.includes(qe))?`${Pe}${He}+`:`${He}+ ${Pe}`}else T.salary&&typeof T.salary=="string"&&(Bt=T.salary);const We=T.job_employment_type||T.employment_type||T.type||"FULLTIME",ct=We.toUpperCase(),ut=yo[ct]||yo[We]||We||"Full time",gt="Remote",je=e&&v.length>=0?Ru(T,gc(v)).overallPercent:void 0;return{id:we,title:Ye,company:Lt,company_name:T.company_name||T.employer_name||(typeof T.company=="string"?T.company:void 0),location:Br,url:ds,company_logo:vt,is_saved:G==null?void 0:G.includes(String(we)),salary:Bt,employment_type:ut,work_arrangement:gt,matchPercentage:je}}).filter(T=>T!==null)}catch(T){return console.error("Error transforming remote jobs:",T),[]}},[I,G,e,v]),ie=m.useMemo(()=>W,[W]),[Oe,Ke]=m.useState({});m.useEffect(()=>{(async()=>{const we=[...et,...Se,...Ie,...W].filter(xr=>!xr.company_logo&&xr.company_name);if(we.length===0)return;const Ye=we.map(async xr=>{const Ht=await gT(xr.company_name||"",void 0);return{jobId:xr.id,logo:Ht}}),Lt=await Promise.all(Ye),hr={};Lt.forEach(({jobId:xr,logo:Ht})=>{Ht&&(hr[xr]=Ht)}),Object.keys(hr).length>0&&Ke(xr=>({...xr,...hr}))})()},[et,Se,Ie,W]);const Te=ot.map(T=>({...T,company_logo:T.company_logo||Oe[T.id]||void 0})),pe=Se.map(T=>({...T,company_logo:T.company_logo||Oe[T.id]||void 0}));Y.map(T=>({...T,company_logo:T.company_logo||Oe[T.id]||void 0}));const Ae=ie.map(T=>({...T,company_logo:T.company_logo||Oe[T.id]||void 0}));m.useEffect(()=>{console.log(" Job API Endpoint: https://breneo-job-aggregator.up.railway.app/api/search"),console.log(" JobsPage State:",{isLoading:J,isLoadingInternships:de,isLoadingRemote:ke,error:Z==null?void 0:Z.message,internshipError:ae==null?void 0:ae.message,remoteError:Me==null?void 0:Me.message,jobsCount:Ee.length,internshipJobsRawCount:ue.length,transformedJobsCount:et.length,transformedInternshipJobsCount:Ie.length,transformedRemoteJobsCount:W.length,regularJobsCount:ot.length,internJobsCount:Y.length,remoteJobsCount:ie.length,regularJobsPage:p,internshipJobsPage:k,remoteJobsPage:q,hasMoreRegularJobs:w,hasMoreInternshipJobs:P,hasMoreRemoteJobs:z,isLoadingMoreRegular:S,isLoadingMoreInternship:F,isLoadingMoreRemote:V})},[J,de,ke,Z,ae,Me,Ee.length,ue.length,et.length,Ie.length,W.length,ot.length,Y.length,ie.length,p,k,q,w,P,z,S,F,V]);const Fe=m.useCallback((T,L)=>{const we=new URLSearchParams;L&&we.set("search",L),T.countries.length>0&&we.set("countries",T.countries.join(",")),T.skills.length>0&&we.set("skills",T.skills.join(",")),T.jobTypes.length>0&&we.set("jobTypes",T.jobTypes.join(",")),T.isRemote&&we.set("isRemote","true"),T.datePosted&&we.set("datePosted",T.datePosted),n(`/jobs/search?${we.toString()}`)},[n]),Ge=T=>{const L={...X,jobTypes:T};ye(L),$(L)},he=T=>{const L={...X,isRemote:T};ye(L),$(L)},ze=T=>{const L={...X,skills:X.skills.filter(we=>we!==T)};ye(L),$(L),Fe(L,oe)},yt=T=>{const L={...X,countries:X.countries.filter(we=>we!==T)};ye(L),$(L),Fe(L,oe)},Et=T=>{const L=X.jobTypes.filter(Ye=>Ye!==T),we={...X,jobTypes:L};ye(we),$(we),Fe(we,oe)},or=()=>{const T={...X,isRemote:!1};ye(T),$(T),Fe(T,oe)},en=()=>{console.log(" Applying filters:",D),ye(D),l(!1),Fe(D,oe)},Pt=()=>{const T={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1};$(T),ye(T),l(!1)},Ar=async T=>{try{return(await bi.fetchActiveJobs({query:T,filters:{country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:[T]},page:1,pageSize:50})).jobs.length}catch(L){return console.error(`Error fetching job count for skill ${T}:`,L),0}};return Wt({queryKey:["skillJobCounts",c.join(",")],queryFn:async()=>{const T={};return await Promise.all(c.map(async L=>{T[L]=await Ar(L)})),T},enabled:c.length>0&&!d,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),o.jsxs(It,{children:[o.jsx(mT,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-3xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-2.5 md:py-3 overflow-visible min-h-[3rem]",children:[o.jsx(Xr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(it,{placeholder:"",value:oe,onChange:T=>U(T.target.value),onKeyDown:ee,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(pQ,{selectedWorkTypes:X.jobTypes,onWorkTypesChange:Ge,isRemote:X.isRemote,onRemoteChange:he,placeholder:" "})})]}),(()=>{const T=H(X);return o.jsxs(se,{variant:"outline",size:"icon",onClick:()=>l(!0),className:"h-10 w-10 flex-shrink-0 bg-gray-100 dark:bg-gray-700 border-0 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ml-2 relative","aria-label":"Filter jobs",children:[o.jsx(YA,{className:"h-4 w-4",strokeWidth:2}),T>0&&o.jsx(Ct,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:T})]})})(),o.jsx(se,{variant:"default",size:"icon",onClick:ge,className:"h-10 w-10 flex-shrink-0 bg-breneo-blue hover:bg-breneo-blue/90 rounded-md ml-2","aria-label":"Search",children:o.jsx(Jo,{className:"h-5 w-5 text-white"})})]})}),X.skills.length>0||X.countries.length>0||X.jobTypes.length>0||X.isRemote||X.datePosted||X.salaryMin!==void 0||X.salaryMax!==void 0||X.salaryByAgreement?o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[X.skills.map(L=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:String(L)}),o.jsx("button",{onClick:()=>ze(L),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${L} filter`,children:o.jsx(Cr,{className:"h-4 w-4"})})]},`skill-${L}`)),X.countries.map(L=>{const we=dn.find(Lt=>Lt.code===L),Ye=we!=null&&we.name?String(we.name):String(L);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Ye}),o.jsx("button",{onClick:()=>yt(L),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${Ye} filter`,children:o.jsx(Cr,{className:"h-4 w-4"})})]},`country-${L}`)}),X.jobTypes.map(L=>{const we=yo[L]?String(yo[L]):String(L);return o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:we}),o.jsx("button",{onClick:()=>Et(L),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${we} filter`,children:o.jsx(Cr,{className:"h-4 w-4"})})]},`jobType-${L}`)}),X.isRemote&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Remote"}),o.jsx("button",{onClick:or,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Remote filter",children:o.jsx(Cr,{className:"h-4 w-4"})})]}),X.datePosted&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:X.datePosted==="today"?"Posted Today":X.datePosted==="week"?"Posted This Week":X.datePosted==="month"?"Posted This Month":`Posted: ${X.datePosted}`}),o.jsx("button",{onClick:()=>{const L={...X,datePosted:void 0};ye(L),$(L),Fe(L,oe)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Date Posted filter",children:o.jsx(Cr,{className:"h-4 w-4"})})]}),(X.salaryMin!==void 0||X.salaryMax!==void 0)&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:X.salaryMin!==void 0&&X.salaryMax!==void 0?`$${X.salaryMin} - $${X.salaryMax}`:X.salaryMin!==void 0?`Min: $${X.salaryMin}`:`Max: $${X.salaryMax}`}),o.jsx("button",{onClick:()=>{const L={...X,salaryMin:void 0,salaryMax:void 0};ye(L),$(L),Fe(L,oe)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary filter",children:o.jsx(Cr,{className:"h-4 w-4"})})]}),X.salaryByAgreement&&o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Salary By Agreement"}),o.jsx("button",{onClick:()=>{const L={...X,salaryByAgreement:!1};ye(L),$(L),Fe(L,oe)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary By Agreement filter",children:o.jsx(Cr,{className:"h-4 w-4"})})]})]})]}):null,(ae||Me||Z)&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(Ig,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",(Z==null?void 0:Z.message)||(ae==null?void 0:ae.message)||(Me==null?void 0:Me.message)]})]}),!J&&Se.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(eq,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Top Matched Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pe.map(T=>o.jsx(Re,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!T.id||String(T.id).trim()==="")return;const L=encodeURIComponent(String(T.id));n(`/jobs/${L}`)},children:o.jsxs(De,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[T.company_logo?o.jsx("img",{src:T.company_logo,alt:`${T.company_name||T.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0",loading:"lazy",referrerPolicy:"no-referrer",onError:L=>{const we=L.target;we.style.display="none";const Ye=we.nextElementSibling;Ye&&(Ye.style.display="flex")}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${T.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Xr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:T.company_name||T.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:T.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:T.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.employment_type&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.employment_type}),T.work_arrangement&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ua,{value:T.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:Ou(T.matchPercentage)})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:L=>{L.stopPropagation(),_e.mutate(T)},"aria-label":T.is_saved?"Unsave job":"Save job",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",T.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",T.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},T.id))})]}),!J&&ot.length>0&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Yu,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Te.map(T=>o.jsx(Re,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!T.id||String(T.id).trim()==="")return;const L=encodeURIComponent(String(T.id));n(`/jobs/${L}`)},children:o.jsxs(De,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[T.company_logo?o.jsx("img",{src:T.company_logo,alt:`${T.company_name||T.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0",loading:"lazy",referrerPolicy:"no-referrer",onError:L=>{const we=L.target;console.warn(" Logo failed to load:",T.company_logo,we.src),we.style.display="none";const Ye=we.nextElementSibling;Ye&&(Ye.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${T.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Xr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:T.company_name||T.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:T.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:T.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.employment_type&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.employment_type}),T.work_arrangement&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ua,{value:T.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:Ou(T.matchPercentage)})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:L=>{L.stopPropagation(),_e.mutate(T)},"aria-label":T.is_saved?"Unsave job":"Save job",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",T.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",T.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},T.id))})]}),J&&o.jsxs("section",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Yu,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((T,L)=>o.jsx(Re,{children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},L))})]}),!ke&&ie.length>0&&o.jsxs("section",{className:"mt-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(jc,{className:"h-6 w-6 text-breneo-blue"}),o.jsx("h2",{className:"text-lg font-bold",children:"Remote Jobs"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ae.map(T=>o.jsx(Re,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl cursor-pointer hover:shadow-soft",onClick:()=>{if(!T.id||String(T.id).trim()==="")return;const L=encodeURIComponent(String(T.id));n(`/jobs/${L}`)},children:o.jsxs(De,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[T.company_logo?o.jsx("img",{src:T.company_logo,alt:`${T.company_name||T.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:L=>{const we=L.target;console.warn(" Logo failed to load:",T.company_logo,we.src),we.style.display="none";const Ye=we.nextElementSibling;Ye&&(Ye.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${T.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Xr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:T.company_name||T.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:T.location})]})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:T.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[T.employment_type&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.employment_type}),T.work_arrangement&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:T.work_arrangement})]}),o.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ua,{value:T.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700",children:Ou(T.matchPercentage)})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:L=>{L.stopPropagation(),_e.mutate(T)},"aria-label":T.is_saved?"Unsave job":"Save job",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",T.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",T.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},T.id))})]})]}),o.jsx(hQ,{isOpen:i,onClose:()=>l(!1),filters:D,onFiltersChange:$,onApply:en,onClear:Pt,userTopSkills:c})]})},yQ=({selectedLocations:e,onLocationsChange:t,placeholder:r="Location"})=>{const[n,s]=m.useState(!1),[a,i]=m.useState(""),[l,c]=m.useState(e),u=m.useRef(null);m.useEffect(()=>{n&&c(e)},[n,e]),m.useEffect(()=>{const w=S=>{u.current&&!u.current.contains(S.target)&&(s(!1),c(e))},_=S=>{S.key==="Escape"&&(s(!1),c(e))};return n&&(document.addEventListener("mousedown",w),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("keydown",_)}},[n,e]);const d=m.useMemo(()=>{if(!a.trim())return dn;const w=a.toLowerCase();return dn.filter(_=>_.name.toLowerCase().includes(w)||_.code.toLowerCase().includes(w))},[a]),f=w=>{l.includes(w)?c(l.filter(_=>_!==w)):c([...l,w])},h=()=>{l.length===d.length?c([]):c(d.map(w=>w.code))},g=()=>{t(l),s(!1)},v=d.length>0&&d.every(w=>l.includes(w.code)),p=m.useMemo(()=>{var _;return e.length===0?r:e.length===1?((_=dn.find(S=>S.code===e[0]))==null?void 0:_.name)||r:e.length>3?`${e.length} countries selected`:e.slice(0,3).map(S=>{var E;return((E=dn.find(k=>k.code===S))==null?void 0:E.name)||S}).join(", ")},[e,r]),y=e.length===0,x=(w,_)=>{w.stopPropagation(),t(e.filter(S=>S!==_))},b=w=>{w.stopPropagation(),t([])};return o.jsxs("div",{className:"relative w-full max-w-full",ref:u,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[o.jsxs("button",{type:"button",onClick:()=>s(!n),className:ce("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",y?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[o.jsx(Qu,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2"}),e.length===0?o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):o.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:p})]}),e.length>0&&o.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),e.length===1?x(w,e[0]):b(w)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove location":"Remove all locations",children:o.jsx(Cr,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),n&&o.jsxs("div",{className:ce("absolute top-full mt-2 w-[calc(100vw-2rem)] md:w-[400px] rounded-lg shadow-lg border z-[9999] max-h-[500px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[320px]","left-0 md:right-0 md:left-auto"),children:[o.jsxs("div",{className:ce("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[o.jsx("h3",{className:ce("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Countries"}),o.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),s(!1),i("")},className:ce("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:o.jsx(Cr,{className:ce("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),o.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(it,{type:"text",placeholder:"Search countries...",value:a,onChange:w=>i(w.target.value),onClick:w=>w.stopPropagation(),className:ce("pl-9 pr-3 h-9 text-sm","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700","focus-visible:outline-none focus-visible:ring-0")})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[d.length>0&&o.jsxs("div",{className:ce("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:w=>{w.stopPropagation(),h()},children:[o.jsx(Kn,{checked:v,onCheckedChange:w=>{if(w)c(d.map(_=>_.code));else{const _=d.map(S=>S.code);c(l.filter(S=>!_.includes(S)))}},className:"mr-3"}),o.jsx("span",{className:ce("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),d.length===0?o.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):d.map(w=>{const _=l.includes(w.code);return o.jsxs("div",{className:ce("flex items-center px-4 py-2.5 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),f(w.code)},children:[o.jsx(Kn,{checked:_,onCheckedChange:S=>{c(S?[...l,w.code]:l.filter(E=>E!==w.code))},className:"mr-3"}),o.jsx("span",{className:ce("text-sm flex-1","text-gray-900 dark:text-gray-100"),children:w.name})]},w.code)})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:o.jsx(se,{onClick:w=>{w.stopPropagation(),g()},className:"w-full",children:"Save"})})]})]})},xk={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},L6=20,oVe=()=>{const{user:e}=ir(),t=ar(),r=Ys(),[n,s]=Xh(),a=va(),[i,l]=m.useState(!1),[c,u]=m.useState([]),[d,f]=m.useState("desc"),h=ji(),{data:g=[]}=Wt({queryKey:["profileSkills",e==null?void 0:e.id],queryFn:()=>Rr.getMySkills(),enabled:!!e}),v=m.useMemo(()=>{const U=(g||[]).map(_e=>qr(_e.skill_name)),ee=(c||[]).map(_e=>qr(_e));return[...new Set([...U,...ee])]},[g,c]),p=n.get("search")||"",y=parseInt(n.get("page")||"1",10),[x,b]=m.useState(()=>{const U=n.get("countries"),ee=n.get("skills"),_e=n.get("jobTypes"),Le=n.get("isRemote"),et=n.get("datePosted"),Xe=n.get("salaryMin"),ot=n.get("salaryMax"),Se=n.get("salaryByAgreement");return{country:"Georgia",countries:U?U.split(",").filter(Boolean):[],jobTypes:_e?_e.split(",").filter(Boolean):[],isRemote:Le==="true",datePosted:et||void 0,skills:ee?ee.split(",").filter(Boolean):[],salaryMin:Xe?parseInt(Xe,10):void 0,salaryMax:ot?parseInt(ot,10):void 0,salaryByAgreement:Se==="true"}});m.useEffect(()=>{console.log(" JobSearchResultsPage loaded:",{searchTerm:p,page:y,searchParams:n.toString(),activeFilters:x,userTopSkills:c}),console.log(" Job API Endpoint: https://breneo-job-aggregator.up.railway.app/api/")},[p,y,n,x,c]),m.useEffect(()=>{const U=n.get("countries"),ee=n.get("skills"),_e=n.get("jobTypes"),Le=n.get("isRemote"),et=n.get("datePosted"),Xe=n.get("salaryMin"),ot=n.get("salaryMax"),Se=n.get("salaryByAgreement");b({country:"Georgia",countries:U?U.split(",").filter(Boolean):[],jobTypes:_e?_e.split(",").filter(Boolean):[],isRemote:Le==="true",datePosted:et||void 0,skills:ee?ee.split(",").filter(Boolean):[],salaryMin:Xe?parseInt(Xe,10):void 0,salaryMax:ot?parseInt(ot,10):void 0,salaryByAgreement:Se==="true"})},[n]);const[w,_]=m.useState(x),S=U=>{let ee=0;return U.countries.length>0&&(ee+=U.countries.length),U.jobTypes.length>0&&(ee+=U.jobTypes.length),U.isRemote&&(ee+=1),U.datePosted&&(ee+=1),U.skills.length>0&&(ee+=U.skills.length),(U.salaryMin!==void 0||U.salaryMax!==void 0)&&(ee+=1),U.salaryByAgreement&&(ee+=1),ee},{data:E=[]}=Wt({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var U;if(!e)return[];try{return(((U=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:U.saved_jobs)||[]).map(Le=>String(Le))}catch(ee){return console.error("Error fetching saved jobs:",ee),[]}},enabled:!!e});m.useEffect(()=>{(async()=>{if(e)try{try{const _e=await Ce.get(`/api/skilltest/results/?user=${e.id}`);if(_e.data&&Array.isArray(_e.data)&&_e.data.length>0){const et=_e.data[0].skills_json,Xe=Object.keys(et.tech||{});u(Xe);return}}catch{console.log("API endpoint not available, trying Supabase...")}const ee=await op(String(e.id));if(ee&&ee.length>0){const _e=lp(ee),et=q1(_e,20).map(ot=>ot.skill),Xe=qg(et);u(Xe)}}catch(ee){console.error("Error fetching user skills:",ee)}})()},[e]);const k=async(U,ee,_e,Le)=>{try{const et=Le.length>0&&ee.skills.length>0&&Le.every(Y=>ee.skills.includes(Y))&&ee.skills.length===Le.length,Xe={...ee,skills:et?[]:ee.skills},Se=await bi.fetchActiveJobs({query:U||"",filters:Xe,page:_e,pageSize:20});if(!Se||!Array.isArray(Se.jobs))return{jobs:[],hasMore:!1,total:0};let Ie=Se.jobs.filter(Y=>{const W=String(Y.id||"");return W&&W.trim()!==""});return(ee.salaryMin!==void 0||ee.salaryMax!==void 0||ee.salaryByAgreement)&&(Ie=Ie.filter(Y=>{const W=Y.job_min_salary||Y.min_salary,ie=Y.job_max_salary||Y.max_salary;return ee.salaryByAgreement&&!W&&!ie?!0:!W&&!ie&&!ee.salaryByAgreement?!(ee.salaryMin!==void 0||ee.salaryMax!==void 0):!(ee.salaryMin!==void 0&&ie&&ie<ee.salaryMin||ee.salaryMax!==void 0&&W&&W>ee.salaryMax)})),{jobs:Ie,hasMore:Se.hasMore??!1,total:Se.total??Ie.length}}catch(et){throw console.error("Error fetching jobs:",et),et}},j=m.useMemo(()=>JSON.stringify({countries:x.countries.sort(),skills:x.skills.sort(),jobTypes:x.jobTypes.sort(),isRemote:x.isRemote,datePosted:x.datePosted,salaryMin:x.salaryMin,salaryMax:x.salaryMax,salaryByAgreement:x.salaryByAgreement}),[x]),{data:N={jobs:[],hasMore:!1,total:0},isLoading:C,error:P}=Wt({queryKey:["job-search",p,j,y,c.join(",")],queryFn:()=>k(p,x,y,c),enabled:!!e,staleTime:5*60*1e3,retry:1}),O=m.useMemo(()=>N.jobs||[],[N.jobs]),F=N.hasMore||!1,M=N.total||O.length,q=m.useMemo(()=>!O||O.length===0?[]:O.map(U=>{const ee=String(U.id||"");if(!ee||ee.trim()==="")return null;const _e=U.title||U.job_title||U.position||"Untitled Position",Le=U.company_name||U.employer_name||(typeof U.company=="string"?U.company:null)||"Unknown Company",et=U.job_city||U.city||"",Xe=U.job_state||U.state||"",ot=U.job_country||U.country||"",Se=U.job_location||U.location||[et,Xe,ot].filter(Boolean).join(", ")||"Location not specified",Ie=U.apply_url||U.job_apply_link||U.apply_link||U.url||"";let Y;const W=Pt=>{if(!Pt)return!1;const Ar=String(Pt).trim();if(!Ar)return!1;try{if(new URL(Ar).protocol.startsWith("http"))return Y=Ar,!0}catch{}return!1},ie=U;if(!Y&&ie.company_logo&&W(ie.company_logo),!Y&&U.company_logo&&W(U.company_logo),!Y&&ie.companyLogo&&W(ie.companyLogo),!Y&&U.companyLogo&&W(U.companyLogo),!Y&&ie.employer_logo&&W(ie.employer_logo),!Y&&U.employer_logo&&W(U.employer_logo),!Y&&ie.logo&&W(ie.logo),!Y&&U.logo&&W(U.logo),!Y&&ie.logo_url&&W(ie.logo_url),!Y&&U.logo_url&&W(U.logo_url),!Y&&ie.employerLogo&&W(ie.employerLogo),!Y&&ie.companyLogoUrl&&W(ie.companyLogoUrl),!Y&&ie.logoUrl&&W(ie.logoUrl),!Y&&U.company&&typeof U.company=="object"){const Pt=U.company;Pt.logo&&W(Pt.logo),!Y&&Pt.logo_url&&W(Pt.logo_url),!Y&&Pt.company_logo&&W(Pt.company_logo),!Y&&Pt.employer_logo&&W(Pt.employer_logo)}if(!Y&&U.employer&&typeof U.employer=="object"){const Pt=U.employer;Pt.logo&&W(Pt.logo),!Y&&Pt.logo_url&&W(Pt.logo_url),!Y&&Pt.company_logo&&W(Pt.company_logo),!Y&&Pt.employer_logo&&W(Pt.employer_logo)}let Oe="By agreement";const Ke=U.job_min_salary||U.min_salary,Te=U.job_max_salary||U.max_salary,pe=U.job_salary_currency||U.salary_currency||"$",Ae=U.job_salary_period||U.salary_period||"yearly";if(Ke&&Te&&typeof Ke=="number"&&typeof Te=="number"){const Pt=Ae==="monthly"?"Monthly":"",Ar=Ke.toLocaleString(),T=Te.toLocaleString();["$","","","","",""].some(Ye=>pe.includes(Ye))?Oe=`${pe}${Ar} - ${pe}${T}${Pt?`/${Pt}`:""}`:Oe=`${Ar} - ${T} ${pe}${Pt?`/${Pt}`:""}`}else if(Ke&&typeof Ke=="number"){const Pt=Ke.toLocaleString();Oe=["$","","","","",""].some(L=>pe.includes(L))?`${pe}${Pt}+`:`${Pt}+ ${pe}`}else U.salary&&typeof U.salary=="string"&&(Oe=U.salary);const Fe=U.job_employment_type||U.employment_type||U.type||"FULLTIME",Ge=xk[Fe]||Fe||"Full time";let he="On-site";U.job_is_remote||U.is_remote||U.remote===!0?he="Remote":_e!=null&&_e.toLowerCase().includes("hybrid")&&(he="Hybrid");const yt=pT(U),Et=e&&v.length>=0?Ru(U,gc(v)).overallPercent:void 0,or=U,en=U.posted_at||U.fetched_at||U.date_posted||U.posted_date||U.job_posted_at_datetime_utc||U.postedAt||U.job_posted_at||or.job_publish_timestamp||or.publish_time||U.created_at||U.published_at||void 0;return{id:ee,title:_e,company:Le,company_name:U.company_name||U.employer_name||(typeof U.company=="string"?U.company:void 0),location:String(Se),url:Ie,company_logo:Y,is_saved:E==null?void 0:E.includes(String(ee)),salary:Oe,employment_type:Ge,work_arrangement:he,matchPercentage:Et,datePosted:en,jobSkills:yt}}).filter(U=>U!==null),[O,E,e,v]),B=m.useMemo(()=>[...q].sort((ee,_e)=>{if(!ee.datePosted&&!_e.datePosted)return 0;if(!ee.datePosted)return 1;if(!_e.datePosted)return-1;const Le=new Date(ee.datePosted).getTime(),et=new Date(_e.datePosted).getTime();return d==="desc"?et-Le:Le-et}),[q,d]),[I,A]=m.useState({});m.useEffect(()=>{(async()=>{const ee=B.filter(Xe=>!Xe.company_logo&&Xe.company_name);if(ee.length===0)return;const _e=ee.map(async Xe=>{const ot=await gT(Xe.company_name||"",void 0);return{jobId:Xe.id,logo:ot}}),Le=await Promise.all(_e),et={};Le.forEach(({jobId:Xe,logo:ot})=>{ot&&(et[Xe]=ot)}),Object.keys(et).length>0&&A(Xe=>({...Xe,...et}))})()},[B]);const z=B.map(U=>({...U,company_logo:U.company_logo||I[U.id]||void 0})),re=pa({mutationFn:async U=>{if(!e)throw new Error("User not logged in");if(!U.id)throw new Error("Job ID is required");const ee=String(U.id);U.is_saved;try{const _e=`${Qe.JOBS.SAVE_JOB}${ee}/`;await Ce.post(_e)}catch(_e){const Le=_e instanceof Error?_e.message:"Failed to save job. Please try again.";throw new Error(Le)}},onSuccess:(U,ee)=>{r.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success(ee.is_saved?"Job Unsaved":"Job Saved")},onError:U=>{console.error("Error saving job:",U);const ee=U instanceof Error?U.message:"Failed to save job";fe.error(ee)}}),V=m.useCallback((U,ee,_e)=>{const Le=new URLSearchParams;ee&&Le.set("search",ee),Le.set("page",String(_e)),U.countries.length>0&&Le.set("countries",U.countries.join(",")),U.skills.length>0&&Le.set("skills",U.skills.join(",")),U.jobTypes.length>0&&Le.set("jobTypes",U.jobTypes.join(",")),U.isRemote&&Le.set("isRemote","true"),U.datePosted&&Le.set("datePosted",U.datePosted),U.salaryMin!==void 0&&Le.set("salaryMin",String(U.salaryMin)),U.salaryMax!==void 0&&Le.set("salaryMax",String(U.salaryMax)),U.salaryByAgreement&&Le.set("salaryByAgreement","true"),s(Le,{replace:!0})},[s]),te=U=>{V(x,U,1)},X=()=>{b(w),V(w,p,1),l(!1)},ye=()=>{const U={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},ee=1;_(U),b(U),V(U,p,ee),l(!1)},oe=m.useCallback(U=>{const ee={...x,skills:x.skills.filter(_e=>_e!==U)};b(ee),_(ee),V(ee,p,1)},[x,p,V]),me=m.useCallback(U=>{const ee={...x,countries:x.countries.filter(_e=>_e!==U)};b(ee),_(ee),V(ee,p,1)},[x,p,V]),D=m.useCallback(U=>{const ee=x.jobTypes.filter(Le=>Le!==U),_e={...x,jobTypes:ee};b(_e),_(_e),V(_e,p,1)},[x,p,V]),$=m.useCallback(()=>{const U={...x,isRemote:!1};b(U),_(U),V(U,p,1)},[x,p,V]),H=()=>{const U=y+1;V(x,p,U),window.scrollTo({top:0,behavior:"smooth"})},G=()=>{const U=Math.max(1,y-1);V(x,p,U),window.scrollTo({top:0,behavior:"smooth"})},le=F&&q.length>0,J=y>1,Z=m.useMemo(()=>{const U=[];if(x.skills.forEach(ee=>{U.push({id:`skill-${ee}`,label:ee,onRemove:()=>oe(ee),ariaLabel:`Remove ${ee} filter`})}),x.countries.forEach(ee=>{const _e=dn.find(et=>et.code===ee),Le=(_e==null?void 0:_e.name)||ee;U.push({id:`country-${ee}`,label:Le,onRemove:()=>me(ee),ariaLabel:`Remove ${Le} filter`})}),x.jobTypes.forEach(ee=>{U.push({id:`jobType-${ee}`,label:xk[ee]||ee,onRemove:()=>D(ee),ariaLabel:`Remove ${xk[ee]||ee} filter`})}),x.isRemote&&U.push({id:"remote",label:"Remote",onRemove:$,ariaLabel:"Remove Remote filter"}),x.datePosted){const ee=x.datePosted==="today"?"Posted Today":x.datePosted==="week"?"Posted This Week":x.datePosted==="month"?"Posted This Month":`Posted: ${x.datePosted}`;U.push({id:"datePosted",label:ee,onRemove:()=>{const _e={...x,datePosted:void 0};b(_e),_(_e),V(_e,p,1)},ariaLabel:"Remove Date Posted filter"})}if(x.salaryMin!==void 0||x.salaryMax!==void 0){const ee=x.salaryMin!==void 0&&x.salaryMax!==void 0?`$${x.salaryMin} - $${x.salaryMax}`:x.salaryMin!==void 0?`Min: $${x.salaryMin}`:`Max: $${x.salaryMax}`;U.push({id:"salaryRange",label:ee,onRemove:()=>{const _e={...x,salaryMin:void 0,salaryMax:void 0};b(_e),_(_e),V(_e,p,1)},ariaLabel:"Remove Salary filter"})}return x.salaryByAgreement&&U.push({id:"salaryByAgreement",label:"Salary By Agreement",onRemove:()=>{const ee={...x,salaryByAgreement:!1};b(ee),_(ee),V(ee,p,1)},ariaLabel:"Remove Salary By Agreement filter"}),U},[x,p,oe,me,D,$,V]),K=m.useRef(null),[de,ae]=m.useState(Z.length),[xe,ke]=m.useState(!1);m.useEffect(()=>{if(Z.length===0){ae(0),ke(!1);return}ae(Z.length);const U=()=>{if(!K.current)return;const _e=K.current,Le=_e.scrollHeight,et=100;if(Le>et){let Xe=1,ot=Z.length,Se=Z.length;const Ie=document.createElement("div");for(Ie.className="flex flex-wrap gap-2",Ie.style.position="absolute",Ie.style.visibility="hidden",Ie.style.width=_e.offsetWidth+"px",Ie.style.top="-9999px",document.body.appendChild(Ie);Xe<=ot;){const Y=Math.floor((Xe+ot)/2);Ie.innerHTML=Z.slice(0,Y).map(W=>`<div class="flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700"><span class="text-sm font-medium whitespace-nowrap">${W.label}</span><button><svg class="h-4 w-4"></svg></button></div>`).join(""),Ie.scrollHeight<=et?(Se=Y,Xe=Y+1):ot=Y-1}document.body.removeChild(Ie),Se<Z.length?(ae(Se),ke(!0)):(ae(Z.length),ke(!1))}else ae(Z.length),ke(!1)},ee=requestAnimationFrame(()=>{setTimeout(U,0)});return window.addEventListener("resize",U),()=>{cancelAnimationFrame(ee),window.removeEventListener("resize",U)}},[Z]);const Me=(y-1)*L6,Ee=M>0?Math.min(Me+1,M):1,ue=M>0?Math.min(Me+q.length,M):q.length;let ge=null;return M>0?ge=Math.ceil(M/L6):F?ge=y+1:q.length>0&&(ge=y),o.jsx(It,{children:o.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(Xr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(it,{type:"text",placeholder:h.jobs.searchPlaceholder,value:p,onChange:U=>te(U.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-700 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(pQ,{selectedWorkTypes:x.jobTypes,onWorkTypesChange:U=>{const ee={...x,jobTypes:U};b(ee),_(ee),V(ee,p,1)},isRemote:x.isRemote,onRemoteChange:U=>{const ee={...x,isRemote:U};b(ee),_(ee),V(ee,p,1)}})}),o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-700 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(yQ,{selectedLocations:x.countries,onLocationsChange:U=>{const ee={...x,countries:U};b(ee),_(ee),V(ee,p,1)}})})]})]}),(()=>{const U=S(x);return o.jsxs(se,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter jobs",children:[o.jsx(YA,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:h.jobs.filters}),U>0&&o.jsx(Ct,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:U})]})})()]})}),Z.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),o.jsx("div",{ref:K,className:"flex flex-wrap gap-2",children:Z.slice(0,de).map(U=>o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:U.label}),o.jsx("button",{onClick:U.onRemove,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":U.ariaLabel,children:o.jsx(Cr,{className:"h-4 w-4"})})]},U.id))}),xe&&Z.length>de&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[Z.length-de,"+ filters"]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:M>0?`${M} ${h.jobs.vacancies}`:`${q.length} ${h.jobs.vacancies}`})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(se,{variant:"outline",size:"sm",className:"h-9 px-2 md:px-3",onClick:()=>{f(U=>U==="desc"?"asc":"desc")},children:[o.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:a?d==="desc"?h.jobs.dateDescending:h.jobs.dateAscending:d==="desc"?h.jobs.dateDescendingFull:h.jobs.dateAscendingFull}),d==="desc"?o.jsx(Ffe,{className:"h-4 w-4 ml-1 md:ml-2"}):o.jsx(Bfe,{className:"h-4 w-4 ml-1 md:ml-2"})]})})]}),C?o.jsx("div",{className:"space-y-4",children:[...Array(6)].map((U,ee)=>o.jsx(Re,{children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},ee))}):P?o.jsx(Re,{className:"bg-red-50 dark:bg-red-950/20",children:o.jsx(De,{className:"p-6 text-center",children:o.jsx("p",{className:"text-red-600",children:h.jobs.errorLoading})})}):q.length===0?o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:h.jobs.noJobs}),o.jsx("p",{className:"text-sm",children:h.jobs.tryAdjustingFilters})]}):o.jsx("div",{className:"rounded-3xl bg-white dark:bg-[#242424] overflow-hidden divide-y divide-gray-200 dark:divide-gray-700",children:z.map(U=>o.jsx("div",{className:"group cursor-pointer transition-colors hover:bg-gray-50/50 dark:hover:bg-gray-800/30",onClick:()=>t(`/jobs/${encodeURIComponent(U.id)}`),children:o.jsx("div",{className:a?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[U.company_logo?o.jsx("img",{src:U.company_logo,alt:`${U.company_name||U.company} logo`,className:"w-10 h-10 rounded-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:ee=>{const _e=ee.target;console.warn(" Logo failed to load:",U.company_logo,_e.src),_e.style.display="none";const Le=_e.nextElementSibling;Le&&(Le.style.display="flex")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${U.company_logo?"hidden absolute inset-0":""}`,children:o.jsx(Xr,{className:"h-5 w-5 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate",children:U.company_name||U.company}),o.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:U.location})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:ee=>{ee.stopPropagation(),re.mutate(U)},"aria-label":U.is_saved?"Unsave job":"Save job",className:ce("flex-shrink-0 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",U.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",U.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]}),o.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:U.title}),o.jsxs("div",{className:"mt-1 flex flex-wrap items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[U.employment_type&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:U.employment_type}),U.work_arrangement&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:U.work_arrangement})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx(ua,{value:U.matchPercentage??0,size:40,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue flex-shrink-0"}),o.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100 whitespace-nowrap",children:Ou(U.matchPercentage)})]})]})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1 p-4 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[U.company_logo?o.jsx("img",{src:U.company_logo,alt:U.company_name||U.company,className:"w-12 h-12 rounded-md object-cover absolute inset-0 z-10",loading:"lazy",referrerPolicy:"no-referrer",onError:ee=>{var et;const _e=ee.target;console.warn(" Logo failed to load:",U.company_logo,_e.src),_e.style.display="none";const Le=(et=_e.parentElement)==null?void 0:et.querySelector(".logo-fallback");Le&&(Le.style.display="flex",Le.style.zIndex="10")},onLoad:()=>{}}):null,o.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center logo-fallback absolute inset-0 ${U.company_logo?"z-0":"z-10"}`,style:{display:U.company_logo?"none":"flex"},children:o.jsx(Xr,{className:"h-6 w-6 text-breneo-blue"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"mb-1 md:mb-2",children:[o.jsx("h3",{className:"font-normal text-sm text-gray-600 mb-1 line-clamp-1",children:U.company_name||U.company}),o.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3",children:U.title})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Qu,{className:"h-4 w-4"}),o.jsx("span",{children:U.location})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Yu,{className:"h-4 w-4"}),o.jsx("span",{children:U.employment_type})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Xr,{className:"h-4 w-4"}),o.jsx("span",{children:U.work_arrangement})]})]})})]})]})}),o.jsxs("div",{className:"flex-shrink-0 py-4 pl-4 pr-14 relative w-24 min-h-[88px] flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 px-2 transition-opacity duration-200 group-hover:opacity-0 group-hover:pointer-events-none",children:[o.jsx(ua,{value:U.matchPercentage??0,size:48,strokeWidth:4,showLabel:!1,percentageTextSize:"md",className:"flex-shrink-0 text-gray-400 dark:text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 whitespace-nowrap text-center",children:Ou(U.matchPercentage)})]}),o.jsx(se,{variant:"secondary",size:"icon",onClick:ee=>{ee.stopPropagation(),re.mutate(U)},"aria-label":U.is_saved?"Unsave job":"Save job",className:ce("absolute top-4 right-4 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto transition-opacity duration-200 z-10 bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",U.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",U.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})})},U.id))}),!C&&q.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 ",children:[o.jsx("div",{className:"text-sm text-gray-600",children:M>0?o.jsxs(o.Fragment,{children:[h.jobs.showing," ",Ee,"-",Math.min(ue,M)," ",h.jobs.of," ",M," ",h.jobs.vacancies]}):o.jsxs(o.Fragment,{children:[h.jobs.showing," ",q.length," ",h.jobs.vacancies]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(se,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:G,disabled:!J||C,children:[o.jsx(kN,{className:"h-4 w-4 mr-1"}),h.jobs.previous]}),o.jsxs("div",{className:"flex items-center gap-1 px-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[h.jobs.page," ",y]}),ge&&o.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",ge]})]}),o.jsxs(se,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:H,disabled:!le||C,children:[h.jobs.next,o.jsx(Ta,{className:"h-4 w-4 ml-1"})]})]})]}),o.jsx(hQ,{isOpen:i,onClose:()=>l(!1),filters:w,onFiltersChange:_,onApply:X,onClear:ye,userTopSkills:c})]})})};function lVe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var cVe="DismissableLayer",eP="dismissableLayer.update",uVe="dismissableLayer.pointerDownOutside",dVe="dismissableLayer.focusOutside",D6,vQ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xQ=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(vQ),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=pVe(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=mVe(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return lVe(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(D6=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),F6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=D6)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),F6())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(eP,k),()=>document.removeEventListener(eP,k)},[]),o.jsx(rt.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,S.onPointerDownCapture)})});xQ.displayName=cVe;var fVe="DismissableLayerBranch",hVe=m.forwardRef((e,t)=>{const r=m.useContext(vQ),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(rt.div,{...e,ref:s})});hVe.displayName=fVe;function pVe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){bQ(uVe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function mVe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&bQ(dVe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function F6(){const e=new CustomEvent(eP);document.dispatchEvent(e)}function bQ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qh(s,a):s.dispatchEvent(a)}var bk="focusScope.autoFocusOnMount",wk="focusScope.autoFocusOnUnmount",B6={bubbles:!1,cancelable:!0},gVe="FocusScope",wQ=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Ut(s),d=Ut(a),f=m.useRef(null),h=xt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Cl(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Cl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Cl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){z6.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(bk,B6);l.addEventListener(bk,u),l.dispatchEvent(x),x.defaultPrevented||(yVe(_Ve(_Q(l)),{select:!0}),document.activeElement===p&&Cl(l))}return()=>{l.removeEventListener(bk,u),setTimeout(()=>{const x=new CustomEvent(wk,B6);l.addEventListener(wk,d),l.dispatchEvent(x),x.defaultPrevented||Cl(p??document.body,{select:!0}),l.removeEventListener(wk,d),z6.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=vVe(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&Cl(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Cl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(rt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});wQ.displayName=gVe;function yVe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cl(n,{select:t}),document.activeElement!==r)return}function vVe(e){const t=_Q(e),r=U6(t,e),n=U6(t.reverse(),e);return[r,n]}function _Q(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function U6(e,t){for(const r of e)if(!xVe(r,{upTo:t}))return r}function xVe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bVe(e){return e instanceof HTMLInputElement&&"select"in e}function Cl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&bVe(e)&&t&&e.select()}}var z6=wVe();function wVe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=q6(e,t),e.unshift(t)},remove(t){var r;e=q6(e,t),(r=e[0])==null||r.resume()}}}function q6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _Ve(e){return e.filter(t=>t.tagName!=="A")}var SVe="Portal",SQ=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);an(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bh.createPortal(o.jsx(rt.div,{...n,ref:t}),i):null});SQ.displayName=SVe;function jVe(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,y=m.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:y,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,kVe(s,...t)]}function kVe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var _k="rovingFocusGroup.onEntryFocus",EVe={bubbles:!1,cancelable:!0},H_="RovingFocusGroup",[tP,jQ,NVe]=Ev(H_),[CVe,kQ]=jVe(H_,[NVe]),[PVe,AVe]=CVe(H_),EQ=m.forwardRef((e,t)=>o.jsx(tP.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(tP.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(TVe,{...e,ref:t})})}));EQ.displayName=H_;var TVe=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=xt(t,h),v=sp(a),[p=null,y]=Va({prop:i,defaultProp:l,onChange:c}),[x,b]=m.useState(!1),w=Ut(u),_=jQ(r),S=m.useRef(!1),[E,k]=m.useState(0);return m.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(_k,w),()=>j.removeEventListener(_k,w)},[w]),o.jsx(PVe,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:p,onItemFocus:m.useCallback(j=>y(j),[y]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(j=>j+1),[]),onFocusableItemRemove:m.useCallback(()=>k(j=>j-1),[]),children:o.jsx(rt.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{S.current=!0}),onFocus:Ue(e.onFocus,j=>{const N=!S.current;if(j.target===j.currentTarget&&N&&!x){const C=new CustomEvent(_k,EVe);if(j.currentTarget.dispatchEvent(C),!C.defaultPrevented){const P=_().filter(B=>B.focusable),O=P.find(B=>B.active),F=P.find(B=>B.id===p),q=[O,F,...P].filter(Boolean).map(B=>B.ref.current);PQ(q,d)}}S.current=!1}),onBlur:Ue(e.onBlur,()=>b(!1))})})}),NQ="RovingFocusGroupItem",CQ=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,l=Da(),c=a||l,u=AVe(NQ,r),d=u.currentTabStopId===c,f=jQ(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return m.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),o.jsx(tP.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(rt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Ue(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:Ue(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ue(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=$Ve(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const b=x.indexOf(v.currentTarget);x=u.loop?MVe(x,b+1):x.slice(b+1)}setTimeout(()=>PQ(x))}})})})});CQ.displayName=NQ;var OVe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RVe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $Ve(e,t,r){const n=RVe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return OVe[n]}function PQ(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function MVe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var IVe=EQ,LVe=CQ,AQ=nv(),Sk=function(){},K_=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Sk,onWheelCapture:Sk,onTouchMoveCapture:Sk}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=ep(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=rv([r,t]),E=Zt(Zt({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:AQ,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),Zt(Zt({},E),{ref:S})):m.createElement(x,Zt({},E,{className:c,ref:S}),l))});K_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};K_.classNames={fullWidth:mc,zeroRight:pc};var rP=!1;if(typeof window<"u")try{var V0=Object.defineProperty({},"passive",{get:function(){return rP=!0,!0}});window.addEventListener("test",V0,V0),window.removeEventListener("test",V0,V0)}catch{rP=!1}var Ld=rP?{passive:!1}:!1,DVe=function(e){return e.tagName==="TEXTAREA"},TQ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DVe(e)&&r[t]==="visible")},FVe=function(e){return TQ(e,"overflowY")},BVe=function(e){return TQ(e,"overflowX")},W6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=OQ(e,n);if(s){var a=RQ(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UVe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},zVe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},OQ=function(e,t){return e==="v"?FVe(t):BVe(t)},RQ=function(e,t){return e==="v"?UVe(t):zVe(t)},qVe=function(e,t){return e==="h"&&t==="rtl"?-1:1},WVe=function(e,t,r,n,s){var a=qVe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=RQ(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&OQ(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},H0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},V6=function(e){return[e.deltaX,e.deltaY]},H6=function(e){return e&&"current"in e?e.current:e},VVe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HVe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KVe=0,Dd=[];function GVe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(KVe++)[0],a=m.useState(tp)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=tv([e.lockRef.current],(e.shards||[]).map(H6),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=H0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=W6(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=W6(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return WVe(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!Dd.length||Dd[Dd.length-1]!==a)){var x="deltaY"in y?V6(y):H0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&VVe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(H6).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:YVe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=H0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,V6(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,H0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Dd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ld),document.addEventListener("touchmove",c,Ld),document.addEventListener("touchstart",d,Ld),function(){Dd=Dd.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Ld),document.removeEventListener("touchmove",c,Ld),document.removeEventListener("touchstart",d,Ld)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:HVe(s)}):null,g?m.createElement(av,{gapMode:e.gapMode}):null)}function YVe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JVe=sv(AQ,GVe);var $Q=m.forwardRef(function(e,t){return m.createElement(K_,Zt({},e,{ref:t,sideCar:JVe}))});$Q.classNames=K_.classNames;var nP=["Enter"," "],XVe=["ArrowDown","PageUp","Home"],MQ=["ArrowUp","PageDown","End"],QVe=[...XVe,...MQ],ZVe={ltr:[...nP,"ArrowRight"],rtl:[...nP,"ArrowLeft"]},eHe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cv="Menu",[Ry,tHe,rHe]=Ev(Cv),[yd,IQ]=Js(Cv,[rHe,Ac,kQ]),G_=Ac(),LQ=kQ(),[nHe,vd]=yd(Cv),[sHe,Pv]=yd(Cv),DQ=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=G_(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Ut(a),h=sp(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),o.jsx(kA,{...l,children:o.jsx(nHe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(sHe,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};DQ.displayName=Cv;var aHe="MenuAnchor",fR=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=G_(r);return o.jsx(Gy,{...s,...n,ref:t})});fR.displayName=aHe;var hR="MenuPortal",[iHe,FQ]=yd(hR,{forceMount:void 0}),BQ=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=vd(hR,t);return o.jsx(iHe,{scope:t,forceMount:r,children:o.jsx(Zn,{present:r||a.open,children:o.jsx(SQ,{asChild:!0,container:s,children:n})})})};BQ.displayName=hR;var za="MenuContent",[oHe,pR]=yd(za),UQ=m.forwardRef((e,t)=>{const r=FQ(za,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=vd(za,e.__scopeMenu),i=Pv(za,e.__scopeMenu);return o.jsx(Ry.Provider,{scope:e.__scopeMenu,children:o.jsx(Zn,{present:n||a.open,children:o.jsx(Ry.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(lHe,{...s,ref:t}):o.jsx(cHe,{...s,ref:t})})})})}),lHe=m.forwardRef((e,t)=>{const r=vd(za,e.__scopeMenu),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return iv(a)},[]),o.jsx(mR,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cHe=m.forwardRef((e,t)=>{const r=vd(za,e.__scopeMenu);return o.jsx(mR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),mR=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...p}=e,y=vd(za,r),x=Pv(za,r),b=G_(r),w=LQ(r),_=tHe(r),[S,E]=m.useState(null),k=m.useRef(null),j=xt(t,k,y.onContentChange),N=m.useRef(0),C=m.useRef(""),P=m.useRef(0),O=m.useRef(null),F=m.useRef("right"),M=m.useRef(0),q=v?$Q:m.Fragment,B=v?{as:Ho,allowPinchZoom:!0}:void 0,I=z=>{var D,$;const re=C.current+z,V=_().filter(H=>!H.disabled),te=document.activeElement,X=(D=V.find(H=>H.ref.current===te))==null?void 0:D.textValue,ye=V.map(H=>H.textValue),oe=wHe(ye,re,X),me=($=V.find(H=>H.textValue===oe))==null?void 0:$.ref.current;(function H(G){C.current=G,window.clearTimeout(N.current),G!==""&&(N.current=window.setTimeout(()=>H(""),1e3))})(re),me&&setTimeout(()=>me.focus())};m.useEffect(()=>()=>window.clearTimeout(N.current),[]),D_();const A=m.useCallback(z=>{var V,te;return F.current===((V=O.current)==null?void 0:V.side)&&SHe(z,(te=O.current)==null?void 0:te.area)},[]);return o.jsx(oHe,{scope:r,searchRef:C,onItemEnter:m.useCallback(z=>{A(z)&&z.preventDefault()},[A]),onItemLeave:m.useCallback(z=>{var re;A(z)||((re=k.current)==null||re.focus(),E(null))},[A]),onTriggerLeave:m.useCallback(z=>{A(z)&&z.preventDefault()},[A]),pointerGraceTimerRef:P,onPointerGraceIntentChange:m.useCallback(z=>{O.current=z},[]),children:o.jsx(q,{...B,children:o.jsx(wQ,{asChild:!0,trapped:s,onMountAutoFocus:Ue(a,z=>{var re;z.preventDefault(),(re=k.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(xQ,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:o.jsx(IVe,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:Ue(c,z=>{x.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(m1,{role:"menu","aria-orientation":"vertical","data-state":nZ(y.open),"data-radix-menu-content":"",dir:x.dir,...b,...p,ref:j,style:{outline:"none",...p.style},onKeyDown:Ue(p.onKeyDown,z=>{const V=z.target.closest("[data-radix-menu-content]")===z.currentTarget,te=z.ctrlKey||z.altKey||z.metaKey,X=z.key.length===1;V&&(z.key==="Tab"&&z.preventDefault(),!te&&X&&I(z.key));const ye=k.current;if(z.target!==ye||!QVe.includes(z.key))return;z.preventDefault();const me=_().filter(D=>!D.disabled).map(D=>D.ref.current);MQ.includes(z.key)&&me.reverse(),xHe(me)}),onBlur:Ue(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(N.current),C.current="")}),onPointerMove:Ue(e.onPointerMove,$y(z=>{const re=z.target,V=M.current!==z.clientX;if(z.currentTarget.contains(re)&&V){const te=z.clientX>M.current?"right":"left";F.current=te,M.current=z.clientX}}))})})})})})})});UQ.displayName=za;var uHe="MenuGroup",gR=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(rt.div,{role:"group",...n,ref:t})});gR.displayName=uHe;var dHe="MenuLabel",zQ=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(rt.div,{...n,ref:t})});zQ.displayName=dHe;var Fw="MenuItem",K6="menu.itemSelect",Y_=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=m.useRef(null),i=Pv(Fw,e.__scopeMenu),l=pR(Fw,e.__scopeMenu),c=xt(t,a),u=m.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(K6,{bubbles:!0,cancelable:!0});f.addEventListener(K6,g=>n==null?void 0:n(g),{once:!0}),qh(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(qQ,{...s,ref:c,disabled:r,onClick:Ue(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ue(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ue(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||nP.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Y_.displayName=Fw;var qQ=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=pR(Fw,r),l=LQ(r),c=m.useRef(null),u=xt(t,c),[d,f]=m.useState(!1),[h,g]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[a.children]),o.jsx(Ry.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:o.jsx(LVe,{asChild:!0,...l,focusable:!n,children:o.jsx(rt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Ue(e.onPointerMove,$y(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,$y(v=>i.onItemLeave(v))),onFocus:Ue(e.onFocus,()=>f(!0)),onBlur:Ue(e.onBlur,()=>f(!1))})})})}),fHe="MenuCheckboxItem",WQ=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(YQ,{scope:e.__scopeMenu,checked:r,children:o.jsx(Y_,{role:"menuitemcheckbox","aria-checked":Bw(r)?"mixed":r,...s,ref:t,"data-state":vR(r),onSelect:Ue(s.onSelect,()=>n==null?void 0:n(Bw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});WQ.displayName=fHe;var VQ="MenuRadioGroup",[hHe,pHe]=yd(VQ,{value:void 0,onValueChange:()=>{}}),HQ=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Ut(n);return o.jsx(hHe,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(gR,{...s,ref:t})})});HQ.displayName=VQ;var KQ="MenuRadioItem",GQ=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=pHe(KQ,e.__scopeMenu),a=r===s.value;return o.jsx(YQ,{scope:e.__scopeMenu,checked:a,children:o.jsx(Y_,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":vR(a),onSelect:Ue(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});GQ.displayName=KQ;var yR="MenuItemIndicator",[YQ,mHe]=yd(yR,{checked:!1}),JQ=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=mHe(yR,r);return o.jsx(Zn,{present:n||Bw(a.checked)||a.checked===!0,children:o.jsx(rt.span,{...s,ref:t,"data-state":vR(a.checked)})})});JQ.displayName=yR;var gHe="MenuSeparator",XQ=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});XQ.displayName=gHe;var yHe="MenuArrow",QQ=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=G_(r);return o.jsx(g1,{...s,...n,ref:t})});QQ.displayName=yHe;var vHe="MenuSub",[$Je,ZQ]=yd(vHe),Am="MenuSubTrigger",eZ=m.forwardRef((e,t)=>{const r=vd(Am,e.__scopeMenu),n=Pv(Am,e.__scopeMenu),s=ZQ(Am,e.__scopeMenu),a=pR(Am,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(fR,{asChild:!0,...u,children:o.jsx(qQ,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":nZ(r.open),...e,ref:c1(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,$y(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ue(e.onPointerLeave,$y(f=>{var g,v;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const p=(v=r.content)==null?void 0:v.dataset.side,y=p==="right",x=y?-5:5,b=h[y?"left":"right"],w=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,f=>{var g;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||ZVe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});eZ.displayName=Am;var tZ="MenuSubContent",rZ=m.forwardRef((e,t)=>{const r=FQ(za,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=vd(za,e.__scopeMenu),i=Pv(za,e.__scopeMenu),l=ZQ(tZ,e.__scopeMenu),c=m.useRef(null),u=xt(t,c);return o.jsx(Ry.Provider,{scope:e.__scopeMenu,children:o.jsx(Zn,{present:n||a.open,children:o.jsx(Ry.Slot,{scope:e.__scopeMenu,children:o.jsx(mR,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ue(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=eHe[i.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});rZ.displayName=tZ;function nZ(e){return e?"open":"closed"}function Bw(e){return e==="indeterminate"}function vR(e){return Bw(e)?"indeterminate":e?"checked":"unchecked"}function xHe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function bHe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function wHe(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=bHe(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _He(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function SHe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return _He(r,t)}function $y(e){return t=>t.pointerType==="mouse"?e(t):void 0}var jHe=DQ,kHe=fR,EHe=BQ,NHe=UQ,CHe=gR,PHe=zQ,AHe=Y_,THe=WQ,OHe=HQ,RHe=GQ,$He=JQ,MHe=XQ,IHe=QQ,LHe=eZ,DHe=rZ,xR="DropdownMenu",[FHe,MJe]=Js(xR,[IQ]),Ps=IQ(),[BHe,sZ]=FHe(xR),aZ=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Ps(t),u=m.useRef(null),[d=!1,f]=Va({prop:s,defaultProp:a,onChange:i});return o.jsx(BHe,{scope:t,triggerId:Da(),triggerRef:u,contentId:Da(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(jHe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};aZ.displayName=xR;var iZ="DropdownMenuTrigger",oZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=sZ(iZ,r),i=Ps(r);return o.jsx(kHe,{asChild:!0,...i,children:o.jsx(rt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:c1(t,a.triggerRef),onPointerDown:Ue(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ue(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});oZ.displayName=iZ;var UHe="DropdownMenuPortal",lZ=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ps(t);return o.jsx(EHe,{...n,...r})};lZ.displayName=UHe;var cZ="DropdownMenuContent",uZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=sZ(cZ,r),a=Ps(r),i=m.useRef(!1);return o.jsx(NHe,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uZ.displayName=cZ;var zHe="DropdownMenuGroup",qHe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(CHe,{...s,...n,ref:t})});qHe.displayName=zHe;var WHe="DropdownMenuLabel",dZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(PHe,{...s,...n,ref:t})});dZ.displayName=WHe;var VHe="DropdownMenuItem",fZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(AHe,{...s,...n,ref:t})});fZ.displayName=VHe;var HHe="DropdownMenuCheckboxItem",hZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(THe,{...s,...n,ref:t})});hZ.displayName=HHe;var KHe="DropdownMenuRadioGroup",GHe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(OHe,{...s,...n,ref:t})});GHe.displayName=KHe;var YHe="DropdownMenuRadioItem",pZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(RHe,{...s,...n,ref:t})});pZ.displayName=YHe;var JHe="DropdownMenuItemIndicator",mZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx($He,{...s,...n,ref:t})});mZ.displayName=JHe;var XHe="DropdownMenuSeparator",gZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(MHe,{...s,...n,ref:t})});gZ.displayName=XHe;var QHe="DropdownMenuArrow",ZHe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(IHe,{...s,...n,ref:t})});ZHe.displayName=QHe;var eKe="DropdownMenuSubTrigger",yZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(LHe,{...s,...n,ref:t})});yZ.displayName=eKe;var tKe="DropdownMenuSubContent",vZ=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ps(r);return o.jsx(DHe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vZ.displayName=tKe;var rKe=aZ,nKe=oZ,sKe=lZ,xZ=uZ,bZ=dZ,wZ=fZ,_Z=hZ,SZ=pZ,jZ=mZ,kZ=gZ,EZ=yZ,NZ=vZ;const G6=rKe,Y6=nKe,aKe=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(EZ,{ref:s,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(Ta,{className:"ml-auto h-4 w-4"})]}));aKe.displayName=EZ.displayName;const iKe=m.forwardRef(({className:e,...t},r)=>o.jsx(NZ,{ref:r,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));iKe.displayName=NZ.displayName;const sP=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(sKe,{children:o.jsx(xZ,{ref:n,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));sP.displayName=xZ.displayName;const nu=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(wZ,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));nu.displayName=wZ.displayName;const oKe=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(_Z,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(jZ,{children:o.jsx(WA,{className:"h-4 w-4"})})}),t]}));oKe.displayName=_Z.displayName;const lKe=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(SZ,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(jZ,{children:o.jsx(Hfe,{className:"h-2 w-2 fill-current"})})}),t]}));lKe.displayName=SZ.displayName;const cKe=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(bZ,{ref:n,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));cKe.displayName=bZ.displayName;const uKe=m.forwardRef(({className:e,...t},r)=>o.jsx(kZ,{ref:r,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));uKe.displayName=kZ.displayName;const dKe=15*60*1e3;function fKe(){const{user:e}=ir(),t=Wt({queryKey:["userIndustryProfile",e==null?void 0:e.id],queryFn:()=>Rr.getIndustryProfile(),enabled:!!(e!=null&&e.id),staleTime:dKe}),r=t.error!=null?(()=>{var a;const n=t.error,s=(a=n==null?void 0:n.response)==null?void 0:a.status;return typeof s=="number"?`Industry profile request failed (${s}). Check GET /api/me/industry-profile/ on the backend.`:(n==null?void 0:n.message)??"Failed to load industry profile."})():null;return{industryYears:t.data??{},isLoading:t.isLoading,isError:t.isError,errorMessage:r,refetch:t.refetch}}function hKe(e){if(e==null||typeof e!="string")return[];const t=e.trim();if(!t)return[];const r=t.split(",").map(n=>n.trim().toLowerCase()).filter(Boolean);return[...new Set(r)]}function J6(e,t,r){return Math.min(r,Math.max(t,e))}function pKe(e,t){if(e.length===0)return{percent:null,matchedExact:[],missing:[]};const r=[],n=[];let s=0;for(const l of e){const c=t[l];if(c!=null&&c>0){const d=J6(c/5,0,1)*.2,f=J6(1+d,0,1);s+=f,r.push({tag:l,years:c})}else n.push(l)}const a=s/e.length;return{percent:Math.round(a*100),matchedExact:r,missing:n}}const mKe=()=>{const{jobId:e}=Jh(),{industryYears:t}=fKe(),r=ji(),n=e?decodeURIComponent(e):void 0,{user:s}=ir(),a=Ys();ar();const i=va(),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(new Set),g=R.useRef(null),v=R.useRef(null),{data:p,isLoading:y,error:x}=Wt({queryKey:["jobDetail",n],queryFn:async()=>{var Y,W;if(!n)throw new Error("Job ID is required");console.log(" Fetching job details for ID:",n);try{const ie=await bi.fetchJobDetail(n);return console.log(" Job details fetched successfully"),console.log(" Job Title:",ie.title||ie.job_title),console.log(" Company:",ie.company_name||ie.employer_name),console.log(" Location:",ie.location||ie.job_location),console.log(" Description length:",((Y=ie.description)==null?void 0:Y.length)||((W=ie.job_description)==null?void 0:W.length)||0),ie}catch(ie){throw console.error(" Error fetching job details:",ie),ie}},enabled:!!n,retry:1,retryDelay:1e3}),{data:b=[]}=Wt({queryKey:["savedJobs",s==null?void 0:s.id],queryFn:async()=>{var Y;if(!s)return[];try{return(((Y=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:Y.saved_jobs)||[]).map(Oe=>String(Oe))}catch(W){return console.error("Error fetching saved jobs from profile API:",W),[]}},enabled:!!s}),{data:w=[],isLoading:_}=Wt({queryKey:["profileSkills",s==null?void 0:s.id],queryFn:()=>Rr.getMySkills(),enabled:!!s}),{data:S=[],isLoading:E}=Wt({queryKey:["userSkills",s==null?void 0:s.id],queryFn:async()=>{if(!s)return[];try{const Y=await Ce.get(`/api/skilltest/results/?user=${s.id}`);let W=null;if(Array.isArray(Y.data)&&Y.data.length>0?W=Y.data[0]:Y.data&&typeof Y.data=="object"&&(W=Y.data),W&&W.skills_json){const ie=W.skills_json||{},Oe=Object.keys(ie.tech||{}),Ke=Object.keys(ie.soft||{});return[...Oe,...Ke]}return[]}catch(Y){return console.error("Error fetching user skills for matching:",Y),[]}},enabled:!!s}),k=m.useMemo(()=>{const Y=(w||[]).map(ie=>qr(ie.skill_name)),W=(S||[]).map(ie=>qr(ie));return[...new Set([...Y,...W])]},[w,S]),j=_||E,N=(p==null?void 0:p.id)||(p==null?void 0:p.job_id)||n||"",C=b==null?void 0:b.includes(String(N));m.useEffect(()=>{if(!p){c(!1);return}let Y=null,W=null;const ie=()=>{const pe=['main[class*="overflow-y-auto"]','main[class*="overflow"]',"main"];for(const Ae of pe){const Fe=document.querySelector(Ae);if(Fe)return Fe}return null},Oe=()=>{if(Y){const Ae=Y.scrollTop>100;if(c(Ae),i){const he=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(ze=>{const yt=ze;return yt.classList.contains("md:hidden")&&yt.classList.contains("z-50")&&yt.querySelector("nav.flex.justify-around")!==null});he&&(Ae?(he.style.transform="translateY(100%)",he.style.opacity="0"):(he.style.transform="translateY(0)",he.style.opacity="1"),he.style.transition="transform 0.3s ease-in-out, opacity 0.3s ease-in-out")}const Fe=Y.closest("main");if(Fe){const Ge=window.getComputedStyle(Fe),he=parseInt(Ge.marginLeft)||0;d(he<=100)}}else{const Ae=(window.scrollY||document.documentElement.scrollTop)>100;c(Ae)}},Ke=()=>{Y=ie(),Y?(Y.addEventListener("scroll",Oe,{passive:!0}),Oe(),W=()=>{Y==null||Y.removeEventListener("scroll",Oe)}):(window.addEventListener("scroll",Oe,{passive:!0}),Oe(),W=()=>{window.removeEventListener("scroll",Oe)})};Ke();const Te=setTimeout(()=>{Y||Ke()},300);return()=>{if(clearTimeout(Te),W&&W(),i){const Ae=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(Fe=>{const Ge=Fe;return Ge.classList.contains("md:hidden")&&Ge.classList.contains("z-50")&&Ge.querySelector("nav.flex.justify-around")!==null});Ae&&(Ae.style.transform="",Ae.style.opacity="",Ae.style.transition="")}}},[p,i]);const P=pa({mutationFn:async()=>{if(!s)throw new Error("User not logged in");if(!p)throw new Error("Job details not available");try{const Y=String(N),W=`${Qe.JOBS.SAVE_JOB}${Y}/`;await Ce.post(W)}catch(Y){const W=Y instanceof Error?Y.message:"Failed to save job. Please try again.";throw new Error(W)}},onSuccess:()=>{a.invalidateQueries({queryKey:["savedJobs",s==null?void 0:s.id]}),a.invalidateQueries({queryKey:["profile"]}),fe.success(C?"Job Unsaved":"Job Saved")},onError:Y=>{console.error("Error saving job:",Y);const W=Y instanceof Error?Y.message:"Failed to save job";fe.error(W)}}),O=()=>{if(!p)return"By agreement";if(p.salary&&typeof p.salary=="string")return p.salary;const Y=p.min_salary,W=p.max_salary,ie=p.salary_currency||"$",Oe=p.salary_period||"yearly";if(Y&&W&&typeof Y=="number"&&typeof W=="number"){const Ke=Oe==="monthly"?"Monthly":"",Te=Y.toLocaleString(),pe=W.toLocaleString();return["$","","","","",""].some(Ge=>ie.includes(Ge))?`${ie}${Te} - ${ie}${pe}${Ke?`/${Ke}`:""}`:`${Te} - ${pe} ${ie}${Ke?`/${Ke}`:""}`}else if(Y&&typeof Y=="number"){const Ke=Y.toLocaleString();return["$","","","","",""].some(Ae=>ie.includes(Ae))?`${ie}${Ke}+`:`${Ke}+ ${ie}`}return"By agreement"},F=()=>{if(!p)return"";const Y=p;if(p.apply_url&&typeof p.apply_url=="string")return p.apply_url;const W=p.apply_url||p.job_apply_link||p.url||(Y.job_apply_link&&typeof Y.job_apply_link=="string"?Y.job_apply_link:null)||p.applyUrl||p.applyLink||p.application_url||p.application_link||p.link||"";if(!W&&p.company_info){const ie=p.company_info;if(ie.apply_url&&typeof ie.apply_url=="string")return ie.apply_url;if(ie.url&&typeof ie.url=="string")return ie.url}if(!W&&p.company&&typeof p.company=="object"){const ie=p.company;if(ie.apply_url&&typeof ie.apply_url=="string")return ie.apply_url;if(ie.url&&typeof ie.url=="string")return ie.url}if(!W&&p.employer&&typeof p.employer=="object"){const ie=p.employer;if(ie.apply_url&&typeof ie.apply_url=="string")return ie.apply_url;if(ie.url&&typeof ie.url=="string")return ie.url}return W},M=()=>{if(!p)return"";const Y=p;if(p.company_name&&typeof p.company_name=="string"&&p.company_name.trim())return String(p.company_name).trim();if(typeof p.company=="string"&&p.company.trim())return String(p.company).trim();if(p.employer_name&&typeof p.employer_name=="string"&&p.employer_name.trim())return String(p.employer_name).trim();if(Y.employer_name&&typeof Y.employer_name=="string")return String(Y.employer_name).trim();if(p.company_info){const W=p.company_info;if(W.name&&typeof W.name=="string"&&W.name.trim())return String(W.name).trim();if(W.company_name&&typeof W.company_name=="string"&&W.company_name.trim())return String(W.company_name).trim();if(W.employer_name&&typeof W.employer_name=="string"&&W.employer_name.trim())return String(W.employer_name).trim()}if(p.company_name&&typeof p.company_name=="string"&&p.company_name.trim())return String(p.company_name).trim();if(p.employer_name&&typeof p.employer_name=="string"&&p.employer_name.trim())return String(p.employer_name).trim();if(p.company&&typeof p.company=="object"){const W=p.company;if(W.name&&typeof W.name=="string"&&W.name.trim())return String(W.name).trim();if(W.company_name&&typeof W.company_name=="string"&&W.company_name.trim())return String(W.company_name).trim();if(W.employer_name&&typeof W.employer_name=="string"&&W.employer_name.trim())return String(W.employer_name).trim()}if(p.employer&&typeof p.employer=="object"){const W=p.employer;if(W.name&&typeof W.name=="string"&&W.name.trim())return String(W.name).trim();if(W.company_name&&typeof W.company_name=="string"&&W.company_name.trim())return String(W.company_name).trim();if(W.employer_name&&typeof W.employer_name=="string"&&W.employer_name.trim())return String(W.employer_name).trim()}return""},q=()=>{if(!p)return"Untitled Position";const Y=p;return p.title||p.job_title||Y.title||Y.job_title||"Untitled Position"},B=()=>{if(!p)return"Location not specified";const Y=p,W=ze=>{if(!ze&&ze!==0)return"";if(typeof ze=="string")return ze;if(typeof ze=="number")return String(ze);if(Array.isArray(ze))return ze.map(yt=>String(yt)).join(", ");if(typeof ze=="object"){const yt=ze;return yt.city||yt.name||yt.label||Object.values(yt).filter(Boolean).slice(0,3).map(Et=>String(Et)).join(", ")||""}return String(ze)},ie=p.location??p.job_location;if(ie){const ze=W(ie);if(ze)return ze}const Oe=[],Ke=Y.job_city??p.city??Y.city,Te=Y.job_state??p.state??Y.state,pe=Y.job_country??p.country??Y.country,Ae=W(Ke),Fe=W(Te),Ge=W(pe);return Ae&&Oe.push(Ae),Fe&&Oe.push(Fe),Ge&&Oe.push(Ge),Oe.length>0?Oe.join(", "):[p.city,p.state,p.country].map(ze=>W(ze)).filter(Boolean).join(" ").trim()||"Location not specified"},[I,A]=m.useState(null),[z,re]=m.useState(!1),[V,te]=m.useState(void 0);m.useEffect(()=>{(async()=>{if(!p){A(null),te(void 0);return}const W=M();if(!W||!W.trim()){A(null),te(void 0);return}re(!0);try{const Oe=`https://breneo-job-aggregator.up.railway.app/api/companies/${encodeURIComponent(W.trim())}`;console.log(" Fetching company details from:",Oe);const Ke=await fetch(Oe,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Ke.ok){const Te=await Ke.json();console.log(" Company details fetched:",Te);const pe={name:Te.name||Te.company_name||W,company_name:Te.company_name||Te.name||W,logo:Te.logo||Te.company_logo||Te.logo_url,company_logo:Te.company_logo||Te.logo||Te.logo_url,logo_url:Te.logo_url||Te.logo||Te.company_logo,website:Te.website||Te.company_url||Te.website_url,company_url:Te.company_url||Te.website||Te.website_url,description:Te.description||Te.company_description,company_description:Te.company_description||Te.description,size:Te.size||Te.company_size,company_size:Te.company_size||Te.size,industry:Te.industry||Te.company_industry,company_industry:Te.company_industry||Te.industry,founded:Te.founded||Te.company_founded,company_founded:Te.company_founded||Te.founded,headquarters:Te.headquarters||Te.company_headquarters,company_headquarters:Te.company_headquarters||Te.headquarters,...Te};A(pe);const Ae=pe.logo||pe.company_logo||pe.logo_url;if(Ae&&typeof Ae=="string")try{new URL(Ae).protocol.startsWith("http")&&te(Ae)}catch{}}else console.log(" Company details not found or API error:",Ke.status),A(null),te(void 0)}catch(ie){console.error(" Error fetching company details:",ie),A(null),te(void 0)}finally{re(!1)}})()},[p]);const X=()=>{if(V)return V;if(!p)return;const Y=p;if(Y.employer_logo&&typeof Y.employer_logo=="string"){const W=String(Y.employer_logo);try{if(new URL(W).protocol.startsWith("http"))return W}catch{}}if(p.company_logo&&typeof p.company_logo=="string"){const W=String(p.company_logo);try{if(new URL(W).protocol.startsWith("http"))return W}catch{}}if(p.employer_logo&&typeof p.employer_logo=="string"){const W=String(p.employer_logo);try{if(new URL(W).protocol.startsWith("http"))return W}catch{}}if(p.logo_url&&typeof p.logo_url=="string"){const W=String(p.logo_url);try{if(new URL(W).protocol.startsWith("http"))return W}catch{}}if(p.company_info){const W=p.company_info,ie=[W.logo,W.company_logo,W.employer_logo,W.logo_url];for(const Oe of ie)if(Oe&&typeof Oe=="string"){const Ke=String(Oe);try{if(new URL(Ke).protocol.startsWith("http"))return Ke}catch{}}}if(p.company&&typeof p.company=="object"){const W=p.company,ie=[W.logo,W.company_logo,W.employer_logo,W.logo_url];for(const Oe of ie)if(Oe&&typeof Oe=="string"){const Ke=String(Oe);try{if(new URL(Ke).protocol.startsWith("http"))return Ke}catch{}}}if(p.employer&&typeof p.employer=="object"){const W=p.employer,ie=[W.logo,W.company_logo,W.employer_logo,W.logo_url];for(const Oe of ie)if(Oe&&typeof Oe=="string"){const Ke=String(Oe);try{if(new URL(Ke).protocol.startsWith("http"))return Ke}catch{}}}},ye=()=>{var W,ie,Oe;if(I!=null&&I.website||I!=null&&I.company_url||I!=null&&I.website_url)return I.website||I.company_url||I.website_url;if(!p)return;const Y=((W=p.company_info)==null?void 0:W.website)||((ie=p.company_info)==null?void 0:ie.company_url)||((Oe=p.company_info)==null?void 0:Oe.website_url)||p.company_url;return typeof Y=="string"?Y:void 0},oe=()=>{var Y,W;if(I!=null&&I.description||I!=null&&I.company_description)return I.description||I.company_description;if(p)return((Y=p.company_info)==null?void 0:Y.description)||((W=p.company_info)==null?void 0:W.company_description)||void 0},me=()=>{var Y,W;if(I!=null&&I.size||I!=null&&I.company_size)return I.size||I.company_size;if(p)return((Y=p.company_info)==null?void 0:Y.size)||((W=p.company_info)==null?void 0:W.company_size)||void 0},D=()=>{var Y,W;if(I!=null&&I.founded||I!=null&&I.company_founded)return I.founded||I.company_founded;if(p)return((Y=p.company_info)==null?void 0:Y.founded)||((W=p.company_info)==null?void 0:W.company_founded)||void 0},$=()=>{var Y,W;if(I!=null&&I.headquarters||I!=null&&I.company_headquarters)return I.headquarters||I.company_headquarters;if(p)return((Y=p.company_info)==null?void 0:Y.headquarters)||((W=p.company_info)==null?void 0:W.company_headquarters)||void 0},H=()=>{if(!p)return"Full Time";const Y=p;return p.employment_type||p.job_employment_type||Y.job_employment_type||"Full Time"},G=()=>{if(!p)return"On-site";const Y=p;return p.is_remote||p.remote===!0||Y.job_is_remote===!0||Y.remote===!0?"Remote":q().toLowerCase().includes("hybrid")?"Hybrid":"On-site"},le=()=>{if(p)return p.required_experience||p.job_required_experience||p.experience||void 0},J=()=>{if(!p)return[];const Y=p.required_skills||p.skills||p.job_skills||void 0;return typeof Y=="string"?Y.split(/[,\n]/).map(W=>W.trim()).filter(Boolean):Array.isArray(Y)?Y.filter(Boolean):[]},Z=m.useMemo(()=>{if(!p)return[];const Y=VN(p);if(Y.skillsRequired.length>0)return[...new Set(Y.skillsRequired)];const W=p.required_skills??p.skills??p.job_skills,ie=Array.isArray(W)?W.filter(Boolean):typeof W=="string"?W.split(/[,\n]/).map(Oe=>Oe.trim()).filter(Boolean):[];return[...new Set(ie.map(Oe=>qr(Oe)).filter(Boolean))]},[p]),K=p?String(p.id??p.job_id??""):"";m.useEffect(()=>{K&&(v.current=null)},[K]),m.useEffect(()=>{if(!p||Z.length===0||j)return;const Y=String(p.id??p.job_id??"");if(v.current===Y)return;v.current=Y;const W=new Set(k);h(new Set(Z.filter(ie=>W.has(ie))))},[p,Z,k,j]);const de=()=>{if(p)return p.education||p.education_required||p.required_education||void 0},ae=()=>{if(p)return p.application_deadline||p.deadline||p.expires_at||p.expiration_date||void 0},xe=Y=>{if(Y)try{const W=new Date(Y);return isNaN(W.getTime())?Y:W.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return Y}},ke=()=>{if(p)return p.job_category||p.category||p.industry||p.job_industry||void 0},Me=()=>window.location.href,Ee=()=>{if(!p)return"Check out this job!";const Y=q(),W=M();return`Check out this ${Y} position at ${W}!`},ue=async()=>{if(!navigator.share)return!1;try{return await navigator.share({title:q(),text:Ee(),url:Me()}),fe.success("Shared successfully!"),!0}catch(Y){return Y.name!=="AbortError"&&console.error("Error sharing:",Y),!1}},ge=async()=>{try{await navigator.clipboard.writeText(Me()),fe.success("Link copied to clipboard!")}catch(Y){console.error("Error copying link:",Y),fe.error("Failed to copy link")}},U=()=>{const W=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Me())}`;window.open(W,"_blank","width=600,height=400")},ee=()=>{const Y=encodeURIComponent(Me()),W=encodeURIComponent(q()),ie=encodeURIComponent(Ee()),Oe=`https://www.linkedin.com/sharing/share-offsite/?url=${Y}&title=${W}&summary=${ie}`;window.open(Oe,"_blank","width=600,height=400")},_e=async()=>{navigator.share&&await ue()},Le=s&&p?Ru(p,gc(k)):null,Xe=m.useMemo(()=>{if(!s||!p)return null;const Y=VN(p),ie={...gc(k),userSkills:Array.from(f),techStackExperience:Array.from(f)};return WW(Y,ie)},[p,s,k,f])??Le,ot=m.useMemo(()=>{const Y=hKe(p==null?void 0:p.industry_tags);return pKe(Y,t).percent},[p,t]),Se=Xe?Xe.overallPercent>=95?"excellentMatch":Xe.overallPercent>=85?"bestMatch":Xe.overallPercent>=70?"goodMatch":Xe.overallPercent>=50?"fairMatch":"badMatch":null,Ie=Se?r.jobMatch[Se]:"";return o.jsxs(It,{children:[o.jsxs("div",{ref:g,className:"max-w-5xl mx-auto pt-0 sm:pt-4 pb-40 sm:pb-32 md:pb-24 sm:px-4 md:px-6",children:[x&&o.jsx(Re,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:o.jsx(De,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[o.jsx(Ig,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Error loading job details"}),o.jsx("p",{className:"text-sm",children:x.message})]})]})})}),y&&o.jsx("div",{className:"space-y-6",children:o.jsx(Re,{children:o.jsxs(De,{className:"p-6",children:[o.jsx(wr,{className:"h-8 w-3/4 mb-4"}),o.jsx(wr,{className:"h-4 w-1/2 mb-6"}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(wr,{className:"h-16 w-16 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(wr,{className:"h-5 w-1/3 mb-2"}),o.jsx(wr,{className:"h-4 w-1/4"})]})]}),o.jsx(wr,{className:"h-32 w-full"})]})})}),!y&&p&&o.jsx(Re,{className:"bg-transparent border-0 shadow-none h-full",children:o.jsxs(De,{className:"p-1 sm:p-6 space-y-2",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6 bg-white rounded-3xl p-6 shadow-none border-0",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[X()?o.jsx("img",{src:X(),alt:M()||"Company logo",className:"h-12 w-12 rounded-md object-cover flex-shrink-0"}):o.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500 flex-shrink-0",children:o.jsx(Au,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[M()&&o.jsx("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 truncate",children:M()}),o.jsx("h1",{className:"text-lg md:text-2xl font-semibold text-gray-900 dark:text-white truncate",children:q()})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[o.jsx(Qu,{className:"h-4 w-4"}),o.jsx("span",{children:B()})]})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap gap-2 md:gap-4 mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-200 ",children:[o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(Zfe,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:O()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(Yu,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:H()})]}),o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[o.jsx(Xr,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),o.jsx("span",{children:G()})]}),p.posted_at||p.fetched_at||p.date_posted||p.posted_date?o.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap text-sm md:text-base font-medium text-gray-700 dark:text-gray-200",children:[o.jsx(ZS,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0 text-gray-700 dark:text-gray-200"}),o.jsx("span",{children:xe(String(p.posted_at||p.fetched_at||p.date_posted||p.posted_date||""))||String(p.posted_at||p.fetched_at||p.date_posted||p.posted_date||"")})]}):null]})]}),o.jsxs("div",{className:"flex flex-row items-start gap-2 md:pt-0",children:[F()?o.jsx(se,{variant:"default",size:"sm",onClick:()=>window.open(F(),"_blank"),children:"Apply Now"}):o.jsx(se,{disabled:!0,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Apply Link Not Available"}),o.jsxs("div",{className:"flex flex-row items-start gap-2 ml-auto",children:[s&&o.jsx(se,{variant:"secondary",size:"icon",onClick:()=>P.mutate(),disabled:P.isPending,"aria-label":C?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(Pn,{className:`h-4 w-4 ${C?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),i&&navigator.share?o.jsx(se,{variant:"secondary",size:"icon",onClick:_e,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(o0,{className:"h-4 w-4"})}):o.jsxs(G6,{children:[o.jsx(Y6,{asChild:!0,children:o.jsx(se,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:o.jsx(o0,{className:"h-4 w-4"})})}),o.jsxs(sP,{align:"end",children:[o.jsxs(nu,{onClick:ge,children:[o.jsx(K4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(nu,{onClick:U,children:[o.jsx(G4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(nu,{onClick:ee,children:[o.jsx(X4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})]})]})}),s&&p&&Xe&&o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-stretch gap-4",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 p-4 flex flex-row items-center justify-center gap-3 w-full sm:min-w-[280px] flex-1 min-h-[120px] sm:min-h-0",children:[o.jsx(ua,{value:Xe.overallPercent,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",className:"flex-shrink-0 text-breneo-blue"}),o.jsxs("div",{className:"flex flex-col items-start text-left min-w-0",children:[o.jsx("span",{className:"text-sm font-bold text-black dark:text-white capitalize",children:Ie||r.jobMatch.overall}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 leading-snug",children:r.jobMatch.scoreDescription})]})]}),o.jsxs("div",{className:"rounded-xl p-2 flex flex-wrap items-end justify-center sm:justify-end gap-0.5 sm:gap-x-4 flex-1 min-w-0  sm:min-h-0 w-full",children:[o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0  w-[90px] min-w-[80px]",children:[o.jsx(ua,{value:Xe.expLevel.percent??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:Xe.expLevel.percent!=null?void 0:"N/A",className:"flex-shrink-0 text-breneo-blue"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:r.jobMatch.expLevel})]}),o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-[90px] min-w-[80px]",children:[o.jsx(ua,{value:Xe.skills.percent??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:Xe.skills.percent!=null?void 0:"N/A",className:"flex-shrink-0 text-breneo-blue"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:r.jobMatch.skill})]}),o.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 w-[90px] min-w-[80px]",children:[o.jsx(ua,{value:ot??0,size:52,strokeWidth:4,showLabel:!1,percentageTextSize:"sm",centerLabel:ot!=null?void 0:"N/A",className:"flex-shrink-0 text-breneo-blue"}),o.jsx("span",{className:"text-[10px] font-bold text-black dark:text-white uppercase tracking-widest mt-2",children:r.jobMatch.industryExp})]})]})]})}),(p.responsibilities||p.qualifications||p.team_description||p.benefits)&&o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6 space-y-[4.5rem]",children:[p.responsibilities&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(eq,{className:"h-5 w-5"}),"Responsibilities"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.responsibilities})})]}),(p.qualifications||Z.length>0)&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(fc,{className:"h-5 w-5"}),"Qualifications"]}),Z.length>0&&o.jsxs("div",{className:"mb-7",children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Skills required  tap to mark as known"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Z.map(Y=>{const W=f.has(Y);return o.jsxs(Ct,{variant:"outline",className:ce("cursor-pointer transition-colors capitalize px-4 py-2 text-sm min-h-[2.25rem] rounded-lg select-none",W?"bg-sky-100 text-sky-800 border-sky-200 hover:bg-sky-200 dark:bg-sky-900/40 dark:text-sky-200 dark:border-sky-700 dark:hover:bg-sky-800/50":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 dark:hover:bg-gray-700"),onClick:()=>{s&&h(ie=>{const Oe=new Set(ie);return Oe.has(Y)?Oe.delete(Y):Oe.add(Y),Oe})},children:[Y,W&&o.jsx(mi,{className:"ml-2 h-4 w-4 inline-block"})]},Y)})})]}),p.qualifications&&o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.qualifications})})]}),p.team_description&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(vb,{className:"h-5 w-5"}),"About the Team"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.team_description})})]}),p.benefits&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[o.jsx(Zz,{className:"h-5 w-5"}),"Benefits"]}),o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:p.benefits})})]})]}),(le()||de()||J().length>0||ke()||ae())&&o.jsxs("div",{className:"rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[o.jsx(mi,{className:"h-5 w-5"}),"Job Details"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[le()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Xr,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Required Experience"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:le()})]})]}),de()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(hc,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Education Required"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:de()})]})]}),ke()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Jfe,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Category/Industry"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:ke()})]})]}),ae()&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ZS,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Application Deadline"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:xe(ae())||ae()})]})]})]}),J().length>0&&o.jsxs("div",{className:"mt-6 pt-6",children:[o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Required Skills"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:J().map((Y,W)=>o.jsxs(Ct,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(fc,{className:"h-3 w-3"}),Y]},W))})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-none border-0 mt-6",children:[o.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Au,{className:"h-5 w-5"}),"Company Details"]})}),z?o.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[o.jsx(Yn,{className:"h-5 w-5 animate-spin text-breneo-accent"}),o.jsx("p",{className:"text-sm",children:"Loading company information..."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[X()?o.jsx("img",{src:X(),alt:M()||"Company logo",className:"h-14 w-14 md:h-14 md:w-14 rounded-2xl object-cover bg-white shadow-sm",onError:Y=>{Y.target.style.display="none",Y.target.nextElementSibling.style.display="flex"}}):null,o.jsx("div",{className:`h-16 w-16 md:h-20 md:w-20 rounded-2xl bg-gradient-to-br from-breneo-accent to-breneo-blue flex items-center justify-center text-white shadow-sm ${X()?"hidden":"flex"}`,children:o.jsx(Au,{className:"h-8 w-8"})})]}),o.jsx("h3",{className:"text-xl md:text-xl font-bold text-gray-900 dark:text-white break-words",children:M()||"Company Name"})]}),oe()&&o.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:o.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-[0.9rem] md:text-md",children:oe()})}),o.jsxs("div",{className:"space-y-4 pt-2",children:[D()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(ZS,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:["Founded in ",D()]})]}),$()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(Qu,{className:"h-5 w-5"}),o.jsx("span",{className:"text-base font-medium",children:$()})]}),me()&&o.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-200",children:[o.jsx(vb,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-base font-medium",children:[me()," employees"]})]}),ye()&&o.jsx("div",{className:"flex gap-2",children:o.jsxs("a",{href:ye(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 h-10 rounded-full bg-primary text-white dark:text-black hover:opacity-80 transition-opacity font-medium text-sm",title:"Visit Website",children:[o.jsx(jc,{className:"h-4 w-4"}),"Visit Website"]})})]})]})]})]})}),!y&&!p&&!x&&o.jsx(Re,{children:o.jsx(De,{className:"p-6",children:o.jsxs("div",{className:"text-center text-gray-500",children:[o.jsx(Ig,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("p",{className:"font-semibold mb-2",children:"No job details found"}),o.jsxs("p",{className:"text-sm",children:["Job ID: ",n||"Not provided"]}),o.jsx("p",{className:"text-sm mt-2",children:"The API may not have returned data for this job."}),o.jsx(se,{onClick:()=>{a.invalidateQueries({queryKey:["jobDetail",n]})},variant:"outline",className:"mt-4",children:"Retry"})]})})})]}),p&&o.jsx("div",{className:ce("fixed bottom-0 right-0 z-[60]","bg-[#F8F9FA] dark:bg-[#181818]","border-t border-black/[0.03] dark:border-white/[0.03]","shadow-lg transition-all duration-300 ease-in-out",u?"md:left-24":"md:left-[17rem]","left-0",l?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"),children:o.jsx("div",{className:"px-5 sm:px-9 md:px-12 lg:px-14 py-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:q()}),M()&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:M()})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s&&o.jsx(se,{variant:"secondary",size:"icon",onClick:()=>P.mutate(),disabled:P.isPending,"aria-label":C?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(Pn,{className:`h-4 w-4 ${C?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),i&&navigator.share?o.jsx(se,{variant:"secondary",size:"icon",onClick:_e,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(o0,{className:"h-4 w-4"})}):o.jsxs(G6,{children:[o.jsx(Y6,{asChild:!0,children:o.jsx(se,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:o.jsx(o0,{className:"h-4 w-4"})})}),o.jsxs(sP,{align:"end",children:[o.jsxs(nu,{onClick:ge,children:[o.jsx(K4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copy Link"})]}),o.jsxs(nu,{onClick:U,children:[o.jsx(G4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on Facebook"})]}),o.jsxs(nu,{onClick:ee,children:[o.jsx(X4,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Share on LinkedIn"})]})]})]}),F()?o.jsx(se,{variant:"default",size:"sm",onClick:()=>window.open(F(),"_blank"),className:"whitespace-nowrap",children:"Apply Now"}):o.jsx(se,{disabled:!0,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Apply Unavailable"})]})]})})})]})},X6=["javascript","typescript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","scala","r","dart","perl","react","angular","vue","node.js","nodejs","express","django","flask","spring","laravel","rails","next.js","nuxt","svelte","html","css","sass","scss","tailwind","bootstrap","webpack","vite","sql","mysql","postgresql","mongodb","redis","cassandra","elasticsearch","database","dba","aws","azure","gcp","google cloud","docker","kubernetes","k8s","terraform","ansible","jenkins","ci/cd","devops","sre","cloud","software engineer","software developer","programmer","developer","programming","coding","coder","full stack","fullstack","frontend","front-end","backend","back-end","web developer","mobile developer","ios developer","android developer","react native","flutter","data scientist","data engineer","data analyst","machine learning","ml engineer","ai engineer","artificial intelligence","deep learning","neural network","computer vision","nlp","natural language processing","cybersecurity","security engineer","penetration testing","ethical hacker","information security","qa engineer","test engineer","automation engineer","sdet","quality assurance","testing","test automation","system administrator","sysadmin","network engineer","infrastructure engineer","site reliability","product manager","technical product manager","ux designer","ui designer","product designer","interaction designer","api","rest api","graphql","microservices","agile","scrum","git","github","gitlab","bitbucket","jira","confluence","code review","version control","tech","technology","software","saas","platform","startup","fintech","edtech","healthtech"],gKe=["sales","marketing","accountant","accounting","finance","banking","insurance","real estate","retail","cashier","waiter","waitress","chef","cook","nurse","doctor","physician","teacher","instructor","tutor","lawyer","attorney","legal","driver","delivery","warehouse","factory","manufacturing","construction","plumber","electrician","mechanic","barber","hairdresser","beauty","fitness","trainer","coach","therapist","counselor","social worker","customer service","call center","receptionist","administrative","secretary","reception","cleaning","janitor","maintenance","security guard","guard","officer"],yKe=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||"",e.employer_name||e.company_name||"",typeof e.company=="string"?e.company:""].join(" ").toLowerCase();return gKe.some(s=>t.includes(s.toLowerCase()))?!!X6.some(a=>{const i=a.toLowerCase(),l=(e.job_title||e.title||"").length,c=typeof e.description=="string"?e.description.length:0,u=typeof e.job_description=="string"?e.job_description.length:0;return t.includes(i)&&t.indexOf(i)<l+c+u}):X6.some(s=>t.includes(s.toLowerCase()))},vKe=e=>e.filter(yKe),Q6=["ashby","bamboohr","breezy","breezyhr","careerplug","comeet","cornerstoneondemand","csod","dayforce","eightfold","freshteam","gohire","greenhouse","hirehive","hiringthing","icims","jazzhr","jobvite","join.com","lever","lever.co","oraclecloud","oracle","paycom","paylocity","personio","phenompeople","phenom","pinpoint","polymer","recooty","recruitee","rippling","smartrecruiters","successfactors","taleo","teamtailor","trakstar","workable","workday","ziprecruiter","zohorecruit","zoho"],xKe=e=>{const t=[];return[e.job_apply_link,e.apply_link,e.url,e.apply_url,e.applyUrl,e.applyLink,e.application_url,e.application_link,e.link,e.company_url,e.website_url,e.jobUrl].forEach(n=>{n&&typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase())}),t},bKe=e=>{if(!e||typeof e!="string")return!1;try{let t="";if(e.startsWith("http://")||e.startsWith("https://"))t=new URL(e).hostname.toLowerCase();else{const a=e.match(/(?:https?:\/\/)?(?:www\.)?([^/\s]+)/);a?t=a[1].toLowerCase():t=e.toLowerCase()}return t=t.replace(/^www\./,""),Q6.some(a=>t.includes(a.toLowerCase()))?!0:[/\/careers?/i,/\/jobs?/i,/careers?\./i,/jobs?\./i,/\/apply/i,/\/openings/i,/\/positions/i].some(a=>e.match(a))}catch{const r=e.toLowerCase();return Q6.some(n=>r.includes(n.toLowerCase()))}},wKe=e=>{const t=xKe(e);return t.length===0?!1:t.some(r=>bKe(r))},J_=e=>e.filter(wKe),Z6={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},_Ke=async(e,t=1)=>{var r;try{console.log(` fetchCompanyJobs called - fetching jobs for company: ${e}, page ${t}`);const n=await bi.fetchActiveJobs({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});if(console.log(" fetchCompanyJobs response:",{totalJobs:((r=n.jobs)==null?void 0:r.length)||0,hasMore:n.hasMore,searchCompany:e}),!n||!Array.isArray(n.jobs))return console.warn("Invalid response format from job service:",n),{jobs:[],hasMore:!1,total:0};const s=n.jobs.filter(i=>{const l=i.company&&typeof i.company=="object"?i.company:null,c=(l==null?void 0:l.name)||(l==null?void 0:l.company_name)||i.companyName||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"";if(!c||c.trim()==="")return!1;const u=c.trim().toLowerCase(),d=e.trim().toLowerCase();return u===d||u.includes(d)||d.includes(u)||u.replace(/\s+/g,"")===d.replace(/\s+/g,"")});console.log(" Filtered company jobs:",{beforeFilter:n.jobs.length,afterCompanyFilter:s.length,searchCompany:e,sampleCompanies:s.slice(0,3).map(i=>{const l=i.company&&typeof i.company=="object"?i.company:null;return(l==null?void 0:l.name)||i.employer_name||i.company_name||(typeof i.company=="string"?i.company:null)||"Unknown"})});const a=s.filter(i=>{const l=i.job_id||i.id;return l&&l.trim()!==""});if(console.log(` Final valid jobs for ${e}:`,a.length),a.length===0&&t===1){console.log(" No jobs found with company name search, trying broader search...");try{const i=await bi.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(i&&Array.isArray(i.jobs)){const c=i.jobs.filter(u=>{const d=u.company&&typeof u.company=="object"?u.company:null,f=(d==null?void 0:d.name)||(d==null?void 0:d.company_name)||u.companyName||u.employer_name||u.company_name||(typeof u.company=="string"?u.company:null)||"";if(!f||f.trim()==="")return!1;const h=f.trim().toLowerCase(),g=e.trim().toLowerCase();return h===g||h.includes(g)||g.includes(h)||h.replace(/\s+/g,"")===g.replace(/\s+/g,"")}).filter(u=>{const d=u.job_id||u.id;return d&&d.trim()!==""});return console.log(` Broader search found ${c.length} jobs for ${e}`),{jobs:c,hasMore:!1,total:c.length}}}catch(i){console.error("Error in broader search:",i)}}return{jobs:a,hasMore:n.hasMore??!1,total:a.length}}catch(n){return console.error("Error fetching company jobs:",n),{jobs:[],hasMore:!1,total:0}}},SKe=()=>{var E,k;const{companyName:e}=Jh(),{user:t}=ir(),r=Ys(),n=ar(),[s,a]=m.useState(1),[i,l]=m.useState([]),[c,u]=m.useState(!1),[d,f]=m.useState(!1),h=e?decodeURIComponent(e):"",{data:g=[]}=Wt({queryKey:["savedJobs",t==null?void 0:t.id],queryFn:async()=>{var j;if(!t)return[];try{return(((j=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:j.saved_jobs)||[]).map(P=>String(P))}catch(N){return console.error("Error fetching saved jobs:",N),[]}},enabled:!!t}),{data:v={jobs:[],hasMore:!1,total:0},isLoading:p,error:y}=Wt({queryKey:["companyJobs",h,s],queryFn:()=>_Ke(h,s),enabled:!!h,refetchOnWindowFocus:!1,staleTime:5*60*1e3});m.useEffect(()=>{if(v.jobs&&v.jobs.length>0){const j=J_(v.jobs),N=vKe(j);l(s===1?N:C=>{const P=new Set(C.map(F=>F.job_id||F.id)),O=N.filter(F=>!P.has(F.job_id||F.id));return[...C,...O]}),u(v.hasMore),f(!1)}else s===1&&(l([]),u(!1))},[v,s]);const x=pa({mutationFn:async j=>{if(!t)throw new Error("User not logged in");if(!j.id)throw new Error("Job ID is required");const N=String(j.id),C=`${Qe.JOBS.SAVE_JOB}${N}/`;await Ce.post(C)},onSuccess:(j,N)=>{r.invalidateQueries({queryKey:["savedJobs",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["profile"]}),fe.success(N.is_saved?"Job Unsaved":"Job Saved")},onError:j=>{console.error("Error saving job:",j),fe.error("Failed to save job")}}),b=m.useMemo(()=>!i||i.length===0?[]:i.map(j=>{const N=j.company&&typeof j.company=="object"?j.company:null,C=j.job_id||j.id||"";if(!C||C.trim()==="")return null;const P=j.job_title||j.title||j.position||"Untitled Position",O=(N==null?void 0:N.name)||(N==null?void 0:N.company_name)||j.companyName||j.employer_name||j.company_name||(typeof j.company=="string"?j.company:null)||"Unknown Company",F=j.job_city||j.city||(N==null?void 0:N.city)||"",M=j.job_state||j.state||(N==null?void 0:N.state)||"",q=j.job_country||j.country||(N==null?void 0:N.country)||"",B=j.jobLocation||j.location||(N==null?void 0:N.location)||[F,M,q].filter(Boolean).join(", ")||"Location not specified",I=j.applyUrl||j.jobUrl||j.job_apply_link||j.apply_link||j.url||j.apply_url||j.company_url||(N==null?void 0:N.url)||"";let A;if(j.companyLogo&&(A=j.companyLogo),!A&&j.employer_logo&&(A=j.employer_logo),!A&&j.company_logo&&(A=j.company_logo),!A&&j.logo&&(A=j.logo),!A&&j.logo_url&&(A=j.logo_url),!A&&N&&(N.logo&&(A=N.logo),!A&&N.logo_url&&(A=N.logo_url),!A&&N.company_logo&&(A=N.company_logo)),A)try{new URL(A).protocol.startsWith("http")||(A=void 0)}catch{A=void 0}let z="By agreement";const re=j.job_min_salary||j.min_salary,V=j.job_max_salary||j.max_salary,te=j.job_salary_currency||j.salary_currency||"$",X=j.job_salary_period||j.salary_period||"yearly";if(re&&V&&typeof re=="number"&&typeof V=="number"){const H=X==="monthly"?"Monthly":"",G=re.toLocaleString(),le=V.toLocaleString();["$","","","","",""].some(K=>te.includes(K))?z=`${te}${G} - ${te}${le}${H?`/${H}`:""}`:z=`${G} - ${le} ${te}${H?`/${H}`:""}`}else if(re&&typeof re=="number"){const H=re.toLocaleString();z=["$","","","","",""].some(J=>te.includes(J))?`${te}${H}+`:`${H}+ ${te}`}else j.salary&&typeof j.salary=="string"&&(z=j.salary);const ye=j.job_employment_type||j.employment_type||j.type||"FULLTIME",oe=ye.toUpperCase(),me=Z6[oe]||Z6[ye]||ye||"Full time";let D="On-site";return j.job_is_remote||j.is_remote||j.remote===!0?D="Remote":P!=null&&P.toLowerCase().includes("hybrid")&&(D="Hybrid"),{id:C,title:P,company:O,location:B,url:I,company_logo:A,is_saved:g==null?void 0:g.includes(String(C)),salary:z,employment_type:me,work_arrangement:D}}).filter(j=>j!==null),[i,g]),w=()=>{f(!0),a(j=>j+1)},_=(E=b[0])==null?void 0:E.company_logo,S=((k=b[0])==null?void 0:k.company)||h;return o.jsx(It,{children:o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(se,{variant:"ghost",onClick:()=>n("/jobs"),className:"mb-4",children:[o.jsx(Vm,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_?o.jsx("img",{src:_,alt:`${S} logo`,className:"w-16 h-16 rounded-full object-cover",onError:j=>{const N=j.target;N.style.display="none"}}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-breneo-accent flex items-center justify-center",children:o.jsx(Au,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:S}),o.jsxs("p",{className:"text-gray-500",children:[b.length," Job",b.length!==1?"s":""," Available"]})]})]})]}),y&&o.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[o.jsx(Ig,{className:"h-5 w-5"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Error:"})," ",y==null?void 0:y.message]})]}),p&&s===1&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((j,N)=>o.jsx(Re,{children:o.jsx(De,{className:"p-5",children:o.jsx(wr,{className:"h-32 w-full"})})},N))}),!p&&b.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx(Au,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),o.jsxs("p",{className:"text-sm",children:["No job openings found for ",S," at this time."]})]}),b.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:b.map(j=>o.jsx(Re,{className:"group flex flex-col transition-all duration-200 overflow-hidden rounded-3xl hover:shadow-soft cursor-pointer",children:o.jsxs(De,{className:"p-5 flex flex-col flex-grow relative",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[j.company_logo?o.jsx("img",{src:j.company_logo,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 z-10",loading:"lazy",onError:N=>{var O;const C=N.target;C.onerror=null,C.style.display="none";const P=(O=C.parentElement)==null?void 0:O.querySelector(".logo-fallback");P&&(P.style.display="flex",P.style.zIndex="10")}}):null,j.company&&!j.company_logo?o.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(j.company)}`,alt:`${j.company_name||j.company} logo`,className:"w-12 h-12 rounded-full object-cover absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:N=>{var O;const C=N.target;C.onerror=null,C.style.display="none";const P=(O=C.parentElement)==null?void 0:O.querySelector(".logo-fallback");P&&(P.style.display="flex",P.style.zIndex="10")}}):null,o.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${j.company_logo||j.company&&!j.company_logo?"hidden":"flex"}`,style:{zIndex:j.company_logo||j.company&&!j.company_logo?0:10},children:o.jsx(Xr,{className:"h-6 w-6 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:j.company_name||j.company}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:j.location})]})]}),o.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:j.title}),o.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(HA,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.salary})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Yu,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.employment_type})]}),j.work_arrangement&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Xr,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:j.work_arrangement})]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg",children:[o.jsx(se,{variant:"default",onClick:()=>{if(!j.id||j.id.trim()===""){fe.error("Cannot open job: Invalid job ID");return}const N=encodeURIComponent(j.id);n(`/jobs/${N}`)},className:"flex-1",disabled:!j.id||j.id.trim()==="",children:"View"}),o.jsx(se,{variant:"default",size:"icon",onClick:()=>x.mutate(j),"aria-label":j.is_saved?"Unsave job":"Save job",className:j.is_saved?"bg-primary/90":"",children:o.jsx(Pn,{className:`h-5 w-5 transition-colors ${j.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-white"}`})})]})]})},j.id))}),c&&o.jsx("div",{className:"flex justify-center mt-6 mb-8",children:o.jsx(se,{onClick:w,disabled:d,variant:"outline",className:"min-w-[200px]",children:d?o.jsxs(o.Fragment,{children:[o.jsx(Yn,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Jobs"})})]})]})})},Tm=e=>e.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),jKe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),kKe="",e8="",t8="",EKe="",NKe="Interests / Skills",r8=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:s="main",onMobileViewChange:a,countrySearchQuery:i="",onCountrySearchChange:l})=>{const{t:c}=Si(),[u,d]=m.useState(!1),[f,h]=m.useState(""),g=l&&i!==void 0?i:f,v=_=>{l?l(_):h(_)},p=R.useMemo(()=>{if(!g.trim())return dn;const _=g.toLowerCase();return dn.filter(S=>S.name.toLowerCase().includes(_)||S.code.toLowerCase().includes(_))},[g]);m.useEffect(()=>{r&&s!=="country"&&(l?l(""):h("")),!r&&!u&&(l?l(""):h(""))},[s,u,r,l]);const y=_=>{const S=e.countries.includes(_)?e.countries.filter(E=>E!==_):[...e.countries,_];t({...e,countries:S,skills:e.skills||[]})},x=_=>{const S=e.skills.includes(_)?e.skills.filter(E=>E!==_):[...e.skills,_];t({...e,skills:S,countries:e.countries||[]})},b=()=>{if(n.length===0)return;const _=n.every(S=>e.skills.includes(S));t(_?{...e,skills:[],countries:e.countries||[]}:{...e,skills:n,countries:e.countries||[]})},w=n.length>0&&n.every(_=>e.skills.includes(_));return r?s==="country"?o.jsx("div",{className:"flex flex-col h-full",children:o.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:o.jsx("div",{className:"space-y-2",children:p.length===0?o.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):p.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:_.name}),o.jsx(Kn,{checked:S,onCheckedChange:()=>y(_.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},_.code)})})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{type:"button",onClick:()=>a==null?void 0:a("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),o.jsx(Ta,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:EKe}),o.jsx("button",{type:"button",onClick:b,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:w?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:_},_)})})]})]}):o.jsxs("div",{className:"space-y-6",children:[n.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{className:"text-base font-medium dark:text-gray-100",children:NKe}),o.jsx("button",{type:"button",onClick:b,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:w?"Remove All":"Select All"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return o.jsx("button",{type:"button",onClick:()=>x(_),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:_},_)})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs(XC,{open:u,onOpenChange:_=>{d(_),_||v("")},children:[o.jsxs(QC,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[o.jsx(Be,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),o.jsx(Yo,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),o.jsx(ZC,{className:"mt-0",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(it,{type:"text",placeholder:"Search countries...",value:g,onChange:_=>v(_.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.length===0?o.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):p.map(_=>{const S=e.countries.includes(_.code);return o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[o.jsx(Kn,{checked:S,onCheckedChange:()=>y(_.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:_.name})]},_.code)})})})]})})]})})]})},CKe=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:s,onClear:a,userTopSkills:i=[]})=>{const{t:l}=Si(),c=va(),[u,d]=m.useState("main"),[f,h]=m.useState("");return m.useEffect(()=>{e||(d("main"),h(""))},[e]),c?o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(Ji,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Xi,{className:"flex-shrink-0 border-b border-gray-200",children:o.jsx(Qi,{className:"text-xl font-bold",children:u==="country"?l.jobs.country:kKe})}),u==="country"&&o.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(it,{type:"text",placeholder:"Search countries...",value:f,onChange:g=>h(g.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),o.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:o.jsx(r8,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:i,mobileView:u,onMobileViewChange:d,countrySearchQuery:f,onCountrySearchChange:h})}),u==="main"&&o.jsx(Xo,{className:"border-t border-gray-200",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(se,{onClick:()=>{a(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:t8}),o.jsx(se,{onClick:()=>{s(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:e8})]})}),u==="country"&&o.jsx(Xo,{className:"border-t border-gray-200",children:o.jsx(se,{onClick:()=>{h(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):o.jsx(Ds,{open:e,onOpenChange:t,children:o.jsxs(_s,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[o.jsx(Fs,{className:"flex-shrink-0",children:o.jsx(Bs,{children:"Filter Courses"})}),o.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:o.jsx(r8,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:i,countrySearchQuery:f,onCountrySearchChange:h})}),o.jsx(ui,{className:"flex-shrink-0",children:o.jsxs("div",{className:`flex gap-3 w-full ${a?"justify-between":"justify-end"}`,children:[a&&o.jsx(se,{onClick:()=>{a()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:t8}),o.jsx(se,{onClick:s,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:e8})]})})]})})},Fd="coursesFilters",CZ="coursesFilteredResults",K0=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},n8=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},PKe=e=>{try{sessionStorage.setItem(CZ,JSON.stringify(e))}catch(t){console.error("Error saving filtered courses to session storage:",t)}},AKe=()=>{try{const e=sessionStorage.getItem(CZ);if(e)return JSON.parse(e)}catch(e){console.error("Error loading filtered courses from session storage:",e)}return[]},TKe=()=>{const{user:e}=ir(),t=Ys(),r=va();ar();const[n,s]=Xh(),[a,i]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!0),[f,h]=m.useState(()=>AKe()),g=m.useCallback((D,$)=>{if(j.current)return;const H=new URLSearchParams;$&&H.set("search",$),D.countries.length>0&&H.set("countries",D.countries.join(",")),D.skills.length>0&&H.set("skills",D.skills.join(",")),s(H,{replace:!0}),K0(Fd,D,$)},[s]),[v,p]=m.useState(()=>{const D=n.get("countries"),$=n.get("skills"),H=n.get("country");if(D||$||H)return{country:H||"Georgia",countries:D?D.split(",").filter(Boolean):[],skills:$?$.split(",").filter(Boolean):[]};const G=n8(Fd);return G&&G.filters?G.filters:{country:"Georgia",countries:[],skills:[]}}),[y,x]=m.useState(()=>{const D=n.get("search");if(D)return D;const $=n8(Fd);return $&&$.search?$.search:""}),[b,w]=m.useState(y),[_,S]=m.useState(v),E=D=>{let $=0;return D.countries.length>0&&($+=D.countries.length),D.skills.length>0&&($+=D.skills.length),$};m.useEffect(()=>{a&&S(v)},[a,v]);const k=R.useMemo(()=>JSON.stringify({countries:v.countries.sort(),skills:v.skills.sort()}),[v]),j=R.useRef(!1);m.useEffect(()=>{const D=n.get("countries"),$=n.get("skills"),H=n.get("country"),G=n.get("search")||"",le={country:H||"Georgia",countries:D?D.split(",").filter(Boolean):[],skills:$?$.split(",").filter(Boolean):[]},J=JSON.stringify(le)!==JSON.stringify(v),Z=G!==y;(J||Z)&&(j.current=!0,p(le),S(le),Z&&x(G),setTimeout(()=>{j.current=!1},0))},[n]),m.useEffect(()=>{const D=n.get("country"),$=n.get("countries");if(D&&!$){const H=new URLSearchParams(n);H.delete("country"),s(H,{replace:!0})}},[]),m.useEffect(()=>{(async()=>{if(!e){d(!1);return}const $=n.get("skills")!==null;try{d(!0);try{const G=await Ce.get("/api/skilltest/results/");if(G.data&&Array.isArray(G.data)&&G.data.length>0){const J=G.data[0].skills_json,Z=[];J!=null&&J.tech&&Z.push(...Object.keys(J.tech));const de=qg(Z).slice(0,5);c(de),$||(p(ae=>{const xe={...ae,skills:ae.skills.length===0?de:ae.skills};return K0(Fd,xe,y),xe}),S(ae=>({...ae,skills:ae.skills.length===0?de:ae.skills}))),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const H=await op(String(e.id));if(H&&H.length>0){const G=lp(H),J=q1(G,10).map(de=>de.skill),K=qg(J).slice(0,5);c(K),$||(p(de=>{const ae={...de,skills:de.skills.length===0?K:de.skills};return K0(Fd,ae,y),ae}),S(de=>({...de,skills:de.skills.length===0?K:de.skills})))}}catch(H){console.error("Error fetching user skills:",H)}finally{d(!1)}})()},[e]),m.useEffect(()=>{const D=sessionStorage.getItem("locationToastShown");n.get("countries")||navigator.geolocation.getCurrentPosition(async $=>{try{const{latitude:H,longitude:G}=$.coords,J=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${H}&longitude=${G}&localityLanguage=en`)).json();if(J.countryName){const Z=dn.find(K=>K.name===J.countryName);p(K=>{const de={...K,country:J.countryName,countries:Z?[Z.code]:K.countries};return setTimeout(()=>{if(!j.current){const ae=new URLSearchParams(n);de.countries.length>0?ae.set("countries",de.countries.join(",")):ae.delete("countries"),de.country&&de.country!=="Georgia"?ae.set("country",de.country):ae.delete("country"),s(ae,{replace:!0})}},0),de}),S(K=>({...K,country:J.countryName,countries:Z?[Z.code]:K.countries})),D||(fe.info(`Showing courses in ${J.countryName}.`),sessionStorage.setItem("locationToastShown","true"))}}catch{D||(fe.error("Could not determine your location."),sessionStorage.setItem("locationToastShown","true"))}},()=>{D||(fe.info("Location permission denied. Defaulting to Georgia."),sessionStorage.setItem("locationToastShown","true"))})},[]),R.useCallback(D=>typeof D!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D),[]);const N=e!=null&&e.id?String(e.id):null,C=R.useMemo(()=>!!N&&N.length>0,[N]),{data:P=[]}=Wt({queryKey:["savedCourses",N],queryFn:async()=>{var D;if(!N||!C)return[];try{return(((D=(await Ce.get(Qe.AUTH.PROFILE,{timeout:3e4})).data)==null?void 0:D.saved_courses)||[]).map(G=>String(G))}catch($){return console.error("Error fetching saved courses from profile API:",$),[]}},enabled:C}),{data:O,isLoading:F}=Wt({queryKey:["courses",P,b,k],queryFn:async()=>{let D=Qt.from("courses").select("*");b&&(D=D.or(`title.ilike.%${b}%,provider.ilike.%${b}%,category.ilike.%${b}%,description.ilike.%${b}%`));const{data:$,error:H}=await D.order("created_at",{ascending:!1});if(H)return console.error("Error fetching courses:",H),[];const G=($==null?void 0:$.map(Z=>{let K=Z.image||"/lovable-uploads/no_photo.png";return K&&!K.startsWith("/")&&!K.startsWith("http")&&(K=`/${K}`),{...Z,image:K,match:0,topics:Z.topics||[],required_skills:Z.required_skills||[],is_saved:P==null?void 0:P.includes(String(Z.id))}}))||[],le=[...new Set(G.map(Z=>Z.academy_id).filter(Z=>Z?String(Z).length>0:!1).map(Z=>String(Z)))],J=new Map;return le.length>0&&await Promise.all(le.map(async Z=>{try{const K=await Ce.get(`${Qe.ACADEMY.DETAIL}${Z}/`);if(K.data){const de=K.data,ae=de.profile_data||de,xe=et=>{for(const Xe of et){const ot=ae[Xe]||de[Xe];if(typeof ot=="string")return ot}},ke=xe(["academy_id","id"])||Z,Me=xe(["academy_name","name","first_name","firstName"]),Ee=xe(["description"]),ue=xe(["website_url","websiteUrl"]),ge=xe(["contact_email","contactEmail","email"]),U=xe(["profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto"]),ee=xe(["logo_url","logoUrl","logo","image_url","imageUrl"]),_e=U||ee,Le=xe(["slug"]);J.set(Z,{id:ke||Z,academy_name:Me||"",description:Ee||"",website_url:ue,contact_email:ge,logo_url:ee,profile_photo_url:U,profile_image_url:_e,slug:Le||Tm(Me||"")})}}catch{console.debug(`Could not fetch academy profile for ${Z} from Django API`)}})),G.map(Z=>{const K=Z.academy_id?J.get(Z.academy_id):null;let de=null;return K?de=K:de=null,{...Z,academy_profile_data:de}})},enabled:!!P,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3*60*1e3,gcTime:10*60*1e3}),M=R.useMemo(()=>{if(!O)return[];let D=O;return v.skills.length>0&&(D=O.filter($=>$.required_skills.some(H=>v.skills.some(G=>H.toLowerCase().includes(G.toLowerCase())||G.toLowerCase().includes(H.toLowerCase()))))),!l||l.length===0?D.map($=>({...$,match:50})):D.map($=>{const H=$.required_skills.filter(le=>l.some(J=>J.toLowerCase().includes(le.toLowerCase())||le.toLowerCase().includes(J.toLowerCase()))),G=$.required_skills.length>0?Math.round(H.length/$.required_skills.length*100):50;return{...$,match:Math.max(G,25)}}).sort(($,H)=>H.match-$.match)},[l,O,v.skills]),q=R.useMemo(()=>{let D=M;if(v.countries.length>0){const $=v.countries.map(H=>{var G;return(G=dn.find(le=>le.code===H))==null?void 0:G.name}).filter(Boolean);D=D.filter(H=>{var le;const G=((le=H.academy_profile_data)==null?void 0:le.academy_name)||H.provider||"";return $.some(J=>G.toLowerCase().includes(J.toLowerCase()))})}return D},[M,v.countries]);m.useEffect(()=>{F||(PKe(q),h(q))},[q,F]);const B=({course:D})=>{const $=Ys(),H=pa({mutationFn:async le=>{if(!N)throw new Error("Please log in to save courses.");await Ce.post(`/api/save-course/${le}/`)},onMutate:async le=>{await $.cancelQueries({queryKey:["savedCourses",N]});const J=$.getQueryData(["savedCourses",N]);let Z=!1;return $.setQueryData(["savedCourses",N],K=>{if(!K)return K;const de=String(le);return Z=K.includes(de),Z?K.filter(ae=>ae!==de):[...K,de]}),{previousSavedCourses:J,wasSaved:Z}},onError:(le,J,Z)=>{Z!=null&&Z.previousSavedCourses&&N&&$.setQueryData(["savedCourses",N],Z.previousSavedCourses),console.error("Error updating saved courses:",le),fe.error("Failed to update saved courses. Please try again.")},onSuccess:(le,J,Z)=>{$.invalidateQueries({queryKey:["savedCourses",N]}),$.invalidateQueries({queryKey:["courses"]}),$.invalidateQueries({queryKey:["profile"]});const K=(Z==null?void 0:Z.wasSaved)??!1;fe.success(K?"Removed from saved courses.":"Course saved to your profile.")}}),G=P==null?void 0:P.includes(String(D.id));return o.jsx(se,{variant:"secondary",size:"icon",onClick:le=>{le.preventDefault(),le.stopPropagation(),H.mutate(String(D.id))},disabled:H.isPending,"aria-label":G?"Unsave course":"Save course",className:ce("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",G?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:o.jsx(Pn,{className:ce("h-4 w-4 transition-colors",G?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})},I=D=>{const $={...v,countries:D};p($),S($),g($,y),t.invalidateQueries({queryKey:["courses"]})},A=m.useCallback(()=>{w(y),g(v,y),t.invalidateQueries({queryKey:["courses"]})},[y,v,g,t]),z=D=>{D.key==="Enter"&&A()},re=D=>{x(D)};m.useEffect(()=>{if(y===b)return;const D=setTimeout(()=>{w(y),g(v,y),t.invalidateQueries({queryKey:["courses"]})},300);return()=>{clearTimeout(D)}},[y,v,g,t,b]);const V=()=>{p(_),g(_,y),i(!1),t.invalidateQueries({queryKey:["courses"]})},te=()=>{const D={country:"Georgia",countries:[],skills:[]};S(D),p(D);const $=new URLSearchParams;y&&$.set("search",y),s($,{replace:!0}),K0(Fd,D,y),i(!1),t.invalidateQueries({queryKey:["courses"]})},X=D=>o.jsx(Lr,{to:`/course/${D.id}`,className:"block",children:o.jsx(Re,{className:"relative transition-all duration-200 cursor-pointer group rounded-3xl w-full flex flex-col hover:shadow-soft",children:o.jsxs(De,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[o.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:o.jsx("img",{src:D.image&&!D.image.startsWith("http")&&!D.image.startsWith("/")?`/${D.image}`:D.image||"/placeholder.svg",alt:D.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:$=>{$.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[o.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:D.title}),o.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:D.duration&&o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:D.duration})}),o.jsx("div",{onClick:$=>$.preventDefault(),children:o.jsx(B,{course:D})})]})]})]})})}),ye=F&&f.length>0,oe=ye?f:q,me=ye?f.length:q.length;return o.jsxs(It,{children:[o.jsx(mT,{}),o.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[o.jsx(Xr,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),o.jsx(it,{placeholder:"",value:y,onChange:D=>re(D.target.value),onKeyDown:z,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),o.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:o.jsx(yQ,{selectedLocations:v.countries,onLocationsChange:I,placeholder:"Location"})})]})]}),(()=>{const D=E(v);return o.jsxs(se,{variant:"outline",onClick:()=>i(!0),className:"group flex items-center gap-2 bg-breneo-blue/10 hover:bg-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter courses",children:[o.jsx(YA,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),o.jsx("span",{className:"hidden md:inline text-sm font-medium",children:""}),D>0&&o.jsx(Ct,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:D})]})})()]})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hc,{className:"h-6 w-6 text-breneo-accent"}),o.jsx("h2",{className:"text-lg font-bold",children:"Latest Courses"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-sm text-gray-600",children:[me," course",me!==1?"s":""]})})]}),F&&!ye&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((D,$)=>o.jsx(Re,{className:"w-full",children:o.jsxs(De,{className:"p-5",children:[o.jsx(wr,{className:"h-48 w-full mb-4"}),o.jsx(wr,{className:"h-6 w-full mb-2"}),o.jsx(wr,{className:"h-4 w-2/3"})]})},$))}),!F&&q.length===0&&o.jsxs("div",{className:"text-center p-10 rounded-3xl text-muted-foreground bg-muted/30",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-puzzle-dynamic-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("h4",{className:"text-lg font-semibold",children:"No Courses Found"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters."})]}),(ye||!F&&oe.length>0)&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:oe.map(D=>o.jsx("div",{className:"w-full",children:X(D)},D.id))})]}),o.jsx(CKe,{isOpen:a,onClose:()=>i(!1),filters:_,onFiltersChange:S,onApply:V,onClear:te,userTopSkills:l})]})},OKe=()=>{var b,w,_,S;const{courseId:e}=Jh(),{user:t}=ir(),r=Ys(),[n,s]=m.useState(!1),a=ji(),{data:i,isLoading:l}=Wt({queryKey:["course",e],queryFn:async()=>{const{data:E,error:k}=await Qt.from("courses").select("*").eq("id",e).single();return k?(console.error("Error fetching course details:",k),null):E},enabled:!!e}),{data:c=[]}=Wt({queryKey:["savedCourses",t==null?void 0:t.id],queryFn:async()=>{var E;if(!(t!=null&&t.id))return[];try{return(((E=(await Ce.get(Qe.AUTH.PROFILE)).data)==null?void 0:E.saved_courses)||[]).map(N=>String(N))}catch(k){return console.error("Error fetching saved courses:",k),[]}},enabled:!!(t!=null&&t.id)}),u=c==null?void 0:c.includes(String((i==null?void 0:i.id)||"")),{data:d}=Wt({queryKey:["academy-profile",i==null?void 0:i.academy_id],queryFn:async()=>{if(!(i!=null&&i.academy_id))return null;try{const E=await Ce.get(`/api/academy/${i.academy_id}/`);if(E.data){const j=E.data.profile_data||E.data,N=q=>{for(const B of q){const I=j[B];if(I!=null&&typeof I=="string")return I}},C=N(["academy_name","name","first_name","firstName"])||i.provider||"",P=N(["profile_photo_url","profilePhotoUrl","profile_image_url","profileImageUrl","profile_photo","profilePhoto"]),O=N(["logo_url","logoUrl","logo","image"]),F=N(["description","desc","about"]),M={id:i.academy_id,academy_name:C,slug:N(["slug"])||(C?Tm(C):void 0),profile_photo_url:P&&P.trim()!==""?P:null,logo_url:O&&O.trim()!==""?O:null,description:F&&F.trim()!==""?F:null};return console.log(" Academy profile fetched from API:",{academyId:i.academy_id,rawData:j,profileData:M,logoUrl:O}),M}}catch(E){console.debug("Could not fetch academy profile from API, trying Supabase",E)}try{const{data:E,error:k}=await Qt.from("academy_profiles").select("id, academy_name, logo_url, description").eq("id",i.academy_id).single();if(!k&&E){const j={id:E.id,academy_name:E.academy_name||i.provider||"",slug:E.academy_name?Tm(E.academy_name):void 0,profile_photo_url:null,logo_url:E.logo_url&&E.logo_url.trim()!==""?E.logo_url:null,description:E.description&&E.description.trim()!==""?E.description:null};return console.log(" Academy profile fetched from Supabase:",{academyId:i.academy_id,supabaseData:E,profile:j}),j}}catch(E){console.debug("Could not fetch academy profile from Supabase",E)}return{id:i.academy_id,academy_name:i.provider||"",slug:i.provider?Tm(i.provider):void 0,profile_photo_url:null,logo_url:null,description:null}},enabled:!!(i!=null&&i.academy_id)}),f=pa({mutationFn:async E=>{if(!(t!=null&&t.id))throw new Error("User not logged in");s(!0);try{await Ce.post(`/api/save-course/${E}/`)}catch(k){console.error("Error saving course:",k);let j="Failed to save course. Please try again.";if(k&&typeof k=="object"&&"response"in k&&k.response&&typeof k.response=="object"&&"data"in k.response){const N=k.response.data;j=N.detail||N.message||N.error||j}else k instanceof Error&&(j=k.message);throw new Error(j)}finally{s(!1)}},onMutate:async E=>{await r.cancelQueries({queryKey:["savedCourses",t==null?void 0:t.id]});const k=r.getQueryData(["savedCourses",t==null?void 0:t.id]);return r.setQueryData(["savedCourses",t==null?void 0:t.id],j=>{if(!j)return j;const N=String(E);return j.includes(N)?j.filter(C=>C!==N):[...j,N]}),{previousSavedCourses:k}},onError:(E,k,j)=>{j!=null&&j.previousSavedCourses&&r.setQueryData(["savedCourses",t==null?void 0:t.id],j.previousSavedCourses);let N="Failed to save course. Please try again.";if(E&&typeof E=="object"&&"response"in E&&E.response&&typeof E.response=="object"&&"data"in E.response){const C=E.response.data;N=C.detail||C.message||C.error||N}else E instanceof Error&&(N=E.message);fe.error(N)},onSuccess:(E,k,j)=>{var P;r.invalidateQueries({queryKey:["savedCourses",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["courses"]}),r.invalidateQueries({queryKey:["profile"]});const N=String(k),C=((P=j==null?void 0:j.previousSavedCourses)==null?void 0:P.includes(N))||!1;fe.success(`"${i==null?void 0:i.title}" has been ${C?"unsaved":"saved"} successfully.`)}}),h=()=>{if(!t||!i){fe.error("Please log in to save courses.");return}const E=String(i.id);f.mutate(E)};if(l)return o.jsx(It,{children:o.jsx("div",{className:"p-8",children:"Loading..."})});if(!i)return o.jsx(It,{children:o.jsx("div",{className:"p-8",children:"Course not found."})});const v=i.academy_id?`/academy/${i.academy_id}`:`/academy/${(d==null?void 0:d.slug)||Tm(i.provider)}`,p=(d==null?void 0:d.academy_name)||i.provider,y=(d==null?void 0:d.profile_photo_url)||(d==null?void 0:d.logo_url)||null;console.log(" CoursePage Debug:",{courseId:e,courseAcademyId:i==null?void 0:i.academy_id,academyProfile:d,profilePhotoUrl:d==null?void 0:d.profile_photo_url,logoUrl:d==null?void 0:d.logo_url,academyImageUrl:y,academyName:p});const x=((b=i.topics)==null?void 0:b.slice(0,3))||((w=i.required_skills)==null?void 0:w.slice(0,3))||[];return o.jsx(It,{children:o.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6 pb-40 sm:pb-44 mb-16 sm:mb-20 ",children:o.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[o.jsx("div",{className:"w-full h-40 sm:h-80 overflow-hidden rounded-3xl mb-6",children:o.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),o.jsx(Re,{className:"rounded-3xl border-0 shadow-none bg-white dark:bg-white",children:o.jsxs(De,{className:"p-6 sm:p-6 space-y-0 ",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-2 ",children:[o.jsx($g,{src:y||void 0,alt:p,fallback:p?p.charAt(0).toUpperCase():"A",size:"sm",className:"flex-shrink-0 !h-10 !w-10 !rounded-sm"}),o.jsx("span",{className:"text-gray-600 text-base font-medium",children:p})]}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white pb-6",children:i.title}),o.jsx("div",{className:"py-0 px-0 sm:py-5 sm:px-0 bg-white dark:bg-white rounded-3xl",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 sm:gap-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-12 flex-1 w-full sm:w-auto  rounded-2xl sm:rounded-none p-0 sm:p-0",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(HA,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:"Free"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Free"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Course"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Course"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(ehe,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.duration||"2 "}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.duration||"2 "}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Duration"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Duration"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(tq,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:((_=i.topics)==null?void 0:_.length)||16}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:((S=i.topics)==null?void 0:S.length)||16}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lectures"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Lectures"})]}),o.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:o.jsx(vb,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),o.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:i.level||"All Levels"}),o.jsxs("div",{className:"hidden sm:flex flex-col",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:i.level||"All Levels"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Level"})]})]}),o.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Level"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto pb-0 sm:pb-0",children:[o.jsx(se,{onClick:h,disabled:n||!t,variant:"secondary",size:"icon",className:ce("aspect-square bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A]",u?"text-white-500 bg-[#E6E7EB] dark:bg-[#474747] ":"text-black dark:text-white "),children:n?o.jsx(Yn,{className:"h-4 w-4 animate-spin"}):u?o.jsx(Pn,{className:"h-4 w-4 fill-red-500 text-red-500"}):o.jsx(Pn,{className:"h-4 w-4"})}),i.registration_link?o.jsx("a",{href:i.registration_link,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:o.jsx(se,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})}):o.jsx(se,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:a.courses.enroll})]})]})}),o.jsxs("div",{className:"py-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-notebook-dynamic-color.png",alt:"Notebook",className:"h-12 w-12 object-contain flex-shrink-0"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"What will You learn"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:i.description||"No description available."})]}),o.jsx("div",{className:"flex flex-wrap gap-2 py-6",children:x.slice(0,3).map((E,k)=>o.jsx(Ct,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:E},k))})]})}),d&&o.jsx(Re,{className:"rounded-m border-0 shadow-none bg-white dark:bg-white mt-6",children:o.jsxs(De,{className:"p-6 sm:p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900 dark:text-gray-100",children:"About Academy"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx($g,{src:y||void 0,alt:p,fallback:p?p.charAt(0).toUpperCase():"A",size:"lg",className:"!h-16 !w-16 !rounded-sm"})}),o.jsxs("div",{className:"flex-1 w-full",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:p}),d.description?o.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:d.description}):o.jsx("p",{className:"text-gray-500 dark:text-gray-500 italic",children:"No description available."})]}),o.jsx(Lr,{to:v,className:"hidden sm:block flex-shrink-0",children:o.jsxs(se,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(Ju,{className:"h-4 w-4"}),"View Academy"]})})]}),o.jsx("div",{className:"block sm:hidden mt-4 w-full",children:o.jsx(Lr,{to:v,children:o.jsxs(se,{variant:"outline",className:"w-full flex items-center gap-2 justify-center",children:[o.jsx(Ju,{className:"h-4 w-4"}),"View Academy"]})})})]})]})]})})]})})})};function RKe({onPhaseChange:e,onTechQChange:t,onSoftQChange:r}={}){const{user:n}=ir(),s=ar(),[a,i]=m.useState("career"),[l,c]=m.useState([]),[u,d]=m.useState(0),[f,h]=m.useState([]),[g,v]=m.useState(null),[p,y]=m.useState(null),[x,b]=m.useState(null),[w,_]=m.useState(null),[S,E]=m.useState(null),[k,j]=m.useState(null),[N,C]=m.useState(!1),[P,O]=m.useState(!1),[F,M]=m.useState(null),[q,B]=m.useState(!1),[I,A]=m.useState(0),[z,re]=m.useState(null),[V,te]=m.useState(null),[X,ye]=m.useState(0),[oe,me]=m.useState(!1),[D,$]=m.useState(!1),H=5,G=["   ...","  ...","  ...","   ...","  ..."];m.useEffect(()=>{if(q){const ue=setInterval(()=>{A(ge=>(ge+1)%5)},1e3);return()=>clearInterval(ue)}},[q]),m.useEffect(()=>{e&&e(a)},[a,e]),m.useEffect(()=>{t&&t(S)},[S,t]),m.useEffect(()=>{r&&r(k)},[k,r]),m.useEffect(()=>{a==="career"&&Ce.get(`/api/career-questions-random/?limit=${H}`).then(ue=>c(ue.data)).catch(ue=>console.error(ue))},[a]);const le=async ue=>{if(!n){console.warn("No user found, cannot save test results");return}try{const ge=Number(ue.total_score),U=Number(ue.total_questions);isNaN(ge)||isNaN(U);const ee={tech:ue.tech_score_per_skill||{},soft:ue.soft_score_per_skill||{}},_e={user:n.id,total_score:ge,total_questions:U,final_role:ue.final_role||"N/A",skills_json:ee,career_answers:ue.career_answers||[]},Le=await Ce.post("/api/skilltest/save/",_e);s("/skill-path")}catch(ge){console.error(" Error saving test results:"),console.error("Full error object:",ge),ge.response?(console.error(" Response status:",ge.response.status),console.error(" Response data:",JSON.stringify(ge.response.data,null,2)),console.error(" Response headers:",ge.response.headers)):ge.request?console.error(" No response received:",ge.request):console.error(" Error setting up request:",ge.message)}},J=ue=>{y(ue.text),g||v(ue.RoleMapping)},Z=()=>{if(!p)return;const ue=l[u];h(ge=>[...ge,{questionId:ue.id,answer:p}]),y(null),u+1<l.length?(d(u+1),ye(ge=>ge+1)):(me(!0),ye(ge=>ge+1))},K=()=>{me(!1),i("assessment"),de(),ye(ue=>ue+1)},de=async()=>{try{const ue=await Ce.post("/api/start-assessment/",{num_questions:H,RoleMapping:g});b(ue.data),E(ue.data.questions[0]),ye(_e=>_e+1);const ge=await Ce.post("/api/soft/start/",{num_questions:H});_(ge.data);let U=null;ge.data.first_question?U=ge.data.first_question:ge.data.questions&&ge.data.questions[0]?U=ge.data.questions[0]:ge.data.question?U=ge.data.question:U=ge.data;const ee={...ge.data,first_question:U};_(ee)}catch{}},ae=async()=>{if(!(!x||!S||!z))try{const ue=await Ce.post("/api/submit-answer/",{session_id:x.session_id,question_text:S.text,answer:z});re(null),ue.data.next_question?(E(ue.data.next_question),ye(ge=>ge+1)):(C(!0),E(null),$(!0),ye(ge=>ge+1))}catch(ue){console.error(ue)}},xe=async()=>{if(!(!w||!k||!V))try{const ue=k.questiontext||k.text||k.question||"",ge={session_id:w.session_id,question_text:ue,answer:V},U=await Ce.post("/api/soft/submit/",ge);te(null),U.data.next_question?(j(U.data.next_question),ye(ee=>ee+1)):(O(!0),j(null),Ee())}catch(ue){ue instanceof Error&&console.error("Error details:",ue.message)}},ke=async()=>{if($(!1),await Me(),w)try{let ue=null;if(w.first_question)ue=w.first_question;else if(w.questions&&w.questions[0])ue=w.questions[0];else if(w.question)ue=w.question;else{const ge=await Ce.post("/api/soft/next/",{session_id:w.session_id});ge.data.next_question?ue=ge.data.next_question:ge.data.question?ue=ge.data.question:ge.data.first_question?ue=ge.data.first_question:ue=ge.data}ue?(j(ue),ye(ge=>ge+1)):console.error(" No soft question found")}catch(ue){console.error(" Error getting first soft question:",ue)}},Me=async()=>{if(x)try{const ue=await Ce.post("/api/finish-assessment/",{session_id:x.session_id});M(ge=>({...ge,tech:ue.data}))}catch(ue){console.error(" Error finishing tech assessment:",ue)}},Ee=async()=>{if(w)try{console.log(" Finishing soft assessment with session:",w.session_id);const ue=await Ce.post("/api/soft/finish/",{session_id:w.session_id});M(ge=>({...ge,soft:ue.data}))}catch(ue){console.error(" Error finishing soft assessment:",ue)}};if(m.useEffect(()=>{var ue,ge,U,ee,_e,Le,et,Xe,ot,Se;if(N&&P&&F&&n){B(!0),A(0);let Ie=(ue=F.tech)==null?void 0:ue.total_score,Y=(ge=F.soft)==null?void 0:ge.total_score,W=(U=F.tech)==null?void 0:U.total_questions,ie=(ee=F.soft)==null?void 0:ee.total_questions;if(!Ie&&((_e=F.tech)!=null&&_e.score_per_skill)){const Ae=Object.values(F.tech.score_per_skill).map(Ge=>parseFloat(Ge.replace("%",""))),Fe=Ae.reduce((Ge,he)=>Ge+he,0)/Ae.length;Ie=Math.round(Fe*H/100),W=H}if(!Y&&((Le=F.soft)!=null&&Le.score_per_skill)){const Ae=Object.values(F.soft.score_per_skill).map(Ge=>parseFloat(Ge.replace("%",""))),Fe=Ae.reduce((Ge,he)=>Ge+he,0)/Ae.length;Y=Math.round(Fe*H/100),ie=H}Ie=Ie||0,Y=Y||0,W=W||0,ie=ie||0;const Oe=Ie+Y,Ke=W+ie;if(isNaN(Oe)||isNaN(Ke)||Ke===0){console.error(" Trying to save with numQuestions:",H*2);const Ae=H*2;console.log(" Using fallback values:",{fallbackScore:Oe||0,fallbackQuestions:Ae})}const Te=((et=F.soft)==null?void 0:et.final_role)||((Xe=F.tech)==null?void 0:Xe.final_role)||"N/A",pe={total_score:Oe||0,total_questions:Ke||H*2,final_role:Te,tech_score_per_skill:((ot=F.tech)==null?void 0:ot.score_per_skill)||{},soft_score_per_skill:((Se=F.soft)==null?void 0:Se.score_per_skill)||{},career_answers:f};setTimeout(()=>{console.log(" 10 seconds passed, saving results now"),B(!1),i("finished"),le(pe)},1e4)}},[N,P,F,n]),oe)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(fc,{className:"w-32 h-32 md:w-40 md:h-40 text-[#01bfff] dark:text-[#5AC9F8]"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Great Job! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've completed the interest assessment. Now let's evaluate your technical skills."}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Take your time and answer honestly - this helps us find the perfect role for you."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(se,{onClick:K,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(Ta,{className:"h-4 w-4 ml-2"})]})})]},X);if(D)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:o.jsx(mi,{className:"w-32 h-32 md:w-40 md:h-40 text-green-500 dark:text-green-400"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Excellent Progress! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've finished the technical skills assessment. Well done!"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Just one more section - let's explore your soft skills and communication abilities."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsxs(se,{onClick:ke,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",o.jsx(Ta,{className:"h-4 w-4 ml-2"})]})})]},X);if(a==="career"&&l.length>0){const ue=l[u];return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"mt-2 mb-4 text-xl font-semibold text-gray-800 dark:text-foreground",children:ue.text}),o.jsx("div",{className:"space-y-3",children:ue.options.map((ge,U)=>{const ee=String.fromCharCode(65+U),_e=p===ge.text;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${_e?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-[rgba(26,38,51,0.3)] border-blue-200 dark:border-gray-700 hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>J(ge),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${_e?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${_e?"text-white":"text-gray-600 dark:text-gray-300"}`,children:ee})}),o.jsx("span",{className:`flex-1 text-left ${_e?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:ge.text})]})},ge.id)})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(se,{onClick:Z,disabled:!p,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(Ta,{className:"h-4 w-4"})]})})]},X)}if(!x||!w)return console.log(" Waiting for sessions...",{hasTechSession:!!x,hasSoftSession:!!w,techSession:x,softSession:w}),o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md  text-center dark:text-foreground",children:"Loading assessments..."});if(console.log(" Render State:",{hasCurrentTechQ:!!S,hasCurrentSoftQ:!!k,techDone:N,softDone:P,currentTechQData:S,currentSoftQData:k}),S)return o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:S.text}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(ue=>{const ge=S[`option${ue}`];if(ge){const U=String.fromCharCode(64+ue),ee=z===ge;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${ee?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>re(ge),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${ee?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${ee?"text-white":"text-gray-600 dark:text-gray-300"}`,children:U})}),o.jsx("span",{className:`flex-1 text-left ${ee?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:ge})]})},ue)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(se,{onClick:ae,disabled:!z,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(Ta,{className:"h-4 w-4"})]})})]},X);if(k){console.log(" RENDERING SOFT QUESTION - Raw Data:",k),console.log(" RENDERING SOFT QUESTION - Has Keys:",Object.keys(k)),console.log(" RENDERING SOFT QUESTION - Values:",{questiontext:k.questiontext,text:k.text,question:k.question,option1:k.option1,option2:k.option2,option3:k.option3,option4:k.option4,hasQuestiontext:!!k.questiontext,hasText:!!k.text,hasQuestion:!!k.question,hasOptions:!!(k.option1||k.option2||k.option3||k.option4)});const ue=k.questiontext||k.text||k.question||"Question text unavailable";return k.option1||k.option2||k.option3||k.option4?o.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:ue}),o.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(U=>{const ee=k[`option${U}`];if(ee){const _e=String.fromCharCode(64+U),Le=V===ee;return o.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${Le?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>te(ee),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${Le?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:o.jsx("span",{className:`text-xs font-medium ${Le?"text-white":"text-gray-600 dark:text-gray-300"}`,children:_e})}),o.jsx("span",{className:`flex-1 text-left ${Le?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:ee})]})},U)}return null})})]}),o.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:o.jsxs(se,{onClick:xe,disabled:!V,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",o.jsx(Ta,{className:"h-4 w-4"})]})})]},X):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-xl font-bold mb-2 dark:text-foreground",children:" Error Loading Question"}),o.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"The question data structure is incomplete."}),o.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-muted text-gray-800 dark:text-foreground p-4 overflow-auto",children:JSON.stringify(k,null,2)})]})}return q?o.jsx("div",{className:"w-full flex items-center justify-center min-h-[60vh]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-r from-blue-500 to-[#01bfff] animate-spin"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx(fc,{className:"h-12 w-12 text-white"})})]}),o.jsx("h2",{className:"text-3xl font-bold text-[#00afea] mb-4 text-center",children:G[I]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"      "}),o.jsx("div",{className:"mt-8 w-full max-w-md",children:o.jsx(tR,{value:(I+1)/G.length*100,className:"h-2"})})]})}):a==="finished"?o.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:o.jsx(fc,{className:"w-32 h-32 text-green-500 dark:text-green-400 animate-pulse"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Test Completed! "}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground",children:"Redirecting to your skill path..."})]})}):o.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md border border-gray-200 dark:border-border text-center dark:text-foreground",children:"Loading..."})}const $Ke=({phase:e,currentTechQ:t,currentSoftQ:r})=>{const n=e==="career"?1:e==="assessment"&&t?2:3,s=[{index:1,name:"Interests"},{index:2,name:"Tech Skills"},{index:3,name:"Soft Skills"}],a=i=>{const l=n>=i.index,c=n>i.index;return o.jsxs("div",{className:"flex-1 flex flex-col items-center min-w-[70px] md:min-w-[120px]",children:[o.jsx("div",{className:`h-2 md:h-3 w-full rounded-full transition-all duration-500 flex items-center justify-center ${c?"bg-green-500 dark:bg-green-600":l?"bg-[#01bfff]":"bg-gray-200 dark:bg-gray-700"}`}),o.jsx("span",{className:`mt-2 text-xs md:text-sm font-semibold transition-colors duration-500 ${c?"text-green-600 dark:text-green-400":l?"text-[#01bfff] dark:text-[#5AC9F8]":"text-gray-500 dark:text-gray-400"}`,children:i.name})]})};return o.jsx("div",{className:"w-full max-w-[200px] md:max-w-[600px]",children:o.jsx("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:s.map(i=>a(i))})})},MKe=({onStart:e})=>o.jsxs("div",{className:"flex flex-col h-full md:h-auto w-full",children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-40 h-40 md:w-56 md:h-56 mx-auto mb-8 flex items-center justify-center transition-all duration-500",children:o.jsx("img",{src:"/lovable-uploads/3dicons-target-dynamic-color.png",alt:"Target",className:"w-40 h-40 md:w-56 md:h-56 object-contain transition-transform duration-500 hover:scale-105"})}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4 transition-opacity duration-500",children:"Skill Assessment Test"}),o.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed transition-opacity duration-500",children:"Discover your strengths and unlock personalized career opportunities. Our comprehensive assessment evaluates your technical skills, soft skills, and career interests to provide tailored recommendations."})]}),o.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:o.jsx(se,{className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",onClick:e,children:"Start the Test"})})]}),IKe=()=>{const e=ar(),t=ji(),[r,n]=m.useState(!1),[s,a]=m.useState("career"),[i,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,g]=m.useState(!1),[v,p]=m.useState(!1),y=va(),x=()=>{p(!0)},b=()=>{p(!1),e(-1)},w=()=>{p(!1)},_={showSidebar:!1,showHeader:!1,background:"white"};return r?o.jsxs(It,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8F9FA] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(An,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx(An,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center",children:o.jsx($Ke,{phase:s,currentTechQ:i,currentSoftQ:c})}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(se,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(Cr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col transition-all duration-500",children:o.jsx(RKe,{onPhaseChange:a,onTechQChange:l,onSoftQChange:u})})})})]}),y?o.jsx(Yi,{open:v,onOpenChange:p,children:o.jsxs(Ji,{children:[o.jsx(Xi,{children:o.jsx(Qi,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(Xo,{className:"flex flex-col gap-2",children:[o.jsx(se,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(se,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(Ds,{open:v,onOpenChange:p,children:o.jsxs(_s,{children:[o.jsx(Fs,{children:o.jsx(Bs,{className:"text-center",children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Your progress will be lost if you exit the test."}),o.jsxs(ui,{className:"flex flex-col gap-2",children:[o.jsx(se,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(se,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]}):o.jsxs(It,{..._,children:[o.jsxs("div",{className:"flex flex-col h-full w-full bg-[#efefef] dark:bg-[#181818] animate-in fade-in duration-500",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[o.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),o.jsx(An,{className:`h-7 w-7 md:hidden object-contain transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),o.jsx(An,{className:`hidden md:block h-6 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&o.jsx("div",{className:"h-6 w-6 md:w-24 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),o.jsx("div",{className:"flex justify-center items-center"}),o.jsx("div",{className:"flex justify-end items-center",children:o.jsxs(se,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[o.jsx(Cr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),o.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:o.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:o.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col",children:o.jsx(MKe,{onStart:()=>n(!0)})})})})]}),y?o.jsx(Yi,{open:v,onOpenChange:p,children:o.jsxs(Ji,{children:[o.jsx(Xi,{children:o.jsx(Qi,{children:"Are you sure?"})}),o.jsx("div",{className:"px-6 pb-4",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),o.jsxs(Xo,{className:"flex flex-col gap-2",children:[o.jsx(se,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(se,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):o.jsx(Ds,{open:v,onOpenChange:p,children:o.jsxs(_s,{children:[o.jsx(Fs,{children:o.jsx(Bs,{children:"Are you sure?"})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."}),o.jsxs(ui,{className:"flex flex-col gap-2",children:[o.jsx(se,{onClick:w,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),o.jsx(se,{onClick:b,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]})};async function s8(e,t,r){var l,c,u;const n=t&&t.length>0?`The user has strong skills in: ${t.slice(0,5).join(", ")}. `:"",s=r?`The user's skills match this role at about ${Math.round(r)}%. `:"",a=3;let i=null;for(let d=1;d<=a;d++)try{const f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a friendly career advisor. Write a personalized, engaging EXPANDED summary about the **${e}** role in a conversational, encouraging tone similar to "Your Recommended Career Path" explanations.

CRITICAL: You MUST write a very detailed, expanded summary with 6-8 sentences. Do NOT write a short summary.

Style guidelines:
- Use simple, human-friendly language (like talking to a friend)
- Be encouraging and positive
- Use **bold** for the role name when first mentioned
- Write 6-8 detailed, comprehensive sentences (minimum 6 sentences)
- Make it feel personalized and relevant
- Be very specific about what the role involves
- Provide extensive detail about responsibilities, opportunities, and career growth

Include:
1. What makes **${e}** a great career path
2. What the role involves and why it's exciting
3. How it allows people to use their skills and grow
4. The opportunities and stability this career offers
5. Why it's a rewarding path

${n}${s}Write in a warm, friendly tone that makes the reader excited about this career path. Make sure your response is at least 4 sentences long.`},{role:"user",content:`Write a friendly, personalized VERY EXPANDED summary (6-8 sentences, minimum 6) about the **${e}** role that matches the style of "Your Recommended Career Path" explanations. Make it engaging, encouraging, and very detailed with extensive information.`}],max_tokens:800,temperature:.8})});if(f.ok){const v=(((u=(c=(l=(await f.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:u.content)||"").trim();if(v&&v.length>200&&(v.match(/[.!?]/g)||[]).length>=4)return v;if(d<a){console.warn(`Summary too short for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(p=>setTimeout(p,1e3*d));continue}if(v)return v}else{const h=await f.text().catch(()=>"Unknown error");if(i=new Error(`API error: ${f.status} - ${h}`),d<a){console.warn(`API error for ${e}, attempt ${d}/${a}, retrying...`),await new Promise(g=>setTimeout(g,1e3*d));continue}}}catch(f){if(i=f instanceof Error?f:new Error(String(f)),console.error(`Error generating role summary (attempt ${d}):`,f),d<a){await new Promise(h=>setTimeout(h,1e3*d));continue}}return console.warn(`Failed to generate summary for ${e} after ${a} attempts, using expanded fallback`),`**${e}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${e.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities. Whether you're working on innovative projects, building user experiences, or solving complex problems, this career path offers both stability and the excitement of working at the forefront of your industry.`}async function a8(e){var r,n,s;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job market analyst and career advisor. Generate a comprehensive list of the most important required skills for a ${e} position.

Requirements:
1. Include 15-20 comprehensive skills that are truly required for this role
2. Mix of technical/hard skills (60-70%) and soft/interpersonal skills (30-40%)
3. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
4. Include both foundational skills and advanced/specialized skills relevant to ${e}
5. Make skills specific to this role - different roles should have different skill sets
6. Include industry-standard tools, technologies, and methodologies
7. Consider both entry-level and mid-level requirements
8. Include ALL important skills - be comprehensive and thorough

Return ONLY a JSON array of skill names, nothing else. No explanations, no markdown, just the array.

Example output format: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Problem Solving", "Team Collaboration", "Agile Methodologies", "Code Review"]`},{role:"user",content:`Generate a comprehensive list of required skills for a ${e} role. Include both technical and soft skills that are essential for success in this position. Return only a JSON array.`}],max_tokens:800,temperature:.4})});if(a.ok){const l=((s=(n=(r=(await a.json()).choices)==null?void 0:r[0])==null?void 0:n.message)==null?void 0:s.content)||"";try{const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),u=JSON.parse(c);if(Array.isArray(u))return u.filter(d=>typeof d=="string"&&d.trim().length>0)}catch{const u=l.split(`
`).map(f=>f.trim()).filter(Boolean),d=[];for(const f of u){const h=f.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();h&&h.length<50&&d.push(h)}if(d.length>0)return d}}}catch(a){console.error("Error generating required skills:",a)}const t=e.toLowerCase();return t.includes("developer")||t.includes("engineer")?["Programming","Problem Solving","Version Control","Testing"]:t.includes("designer")||t.includes("design")?["Design Thinking","Prototyping","User Research","Visual Design"]:t.includes("analyst")||t.includes("data")?["Data Analysis","SQL","Statistics","Data Visualization"]:t.includes("manager")||t.includes("product")?["Project Management","Strategic Thinking","Communication","Agile"]:[]}const Zs={"software engineer":{min:7e4,max:15e4},"software developer":{min:65e3,max:14e4},"full stack developer":{min:75e3,max:16e4},"frontend developer":{min:6e4,max:13e4},"backend developer":{min:7e4,max:15e4},javascript:{min:65e3,max:14e4},"javascript developer":{min:65e3,max:14e4},python:{min:7e4,max:15e4},"python developer":{min:7e4,max:15e4},react:{min:7e4,max:15e4},"react developer":{min:7e4,max:15e4},"node.js":{min:75e3,max:16e4},typescript:{min:75e3,max:16e4},java:{min:8e4,max:17e4},"java developer":{min:8e4,max:17e4},"data analyst":{min:55e3,max:1e5},"data scientist":{min:9e4,max:18e4},"data engineer":{min:85e3,max:16e4},"data analysis":{min:55e3,max:1e5},"data analytics":{min:6e4,max:11e4},"business analyst":{min:6e4,max:11e4},"ux designer":{min:6e4,max:12e4},"ui designer":{min:55e3,max:11e4},"ui/ux designer":{min:6e4,max:12e4},"ui/ux design":{min:6e4,max:12e4},"product designer":{min:8e4,max:15e4},"graphic designer":{min:4e4,max:8e4},"product manager":{min:9e4,max:18e4},"product management":{min:9e4,max:18e4},"project manager":{min:7e4,max:13e4},"scrum master":{min:75e3,max:14e4},"devops engineer":{min:9e4,max:16e4},devops:{min:9e4,max:16e4},"cloud engineer":{min:95e3,max:17e4},aws:{min:1e5,max:18e4},kubernetes:{min:11e4,max:19e4},docker:{min:9e4,max:16e4},"mobile developer":{min:7e4,max:14e4},"ios developer":{min:8e4,max:15e4},"android developer":{min:75e3,max:14e4},"react native":{min:75e3,max:145e3},flutter:{min:7e4,max:135e3},cybersecurity:{min:85e3,max:16e4},"cybersecurity specialist":{min:85e3,max:16e4},"security engineer":{min:9e4,max:17e4},"penetration tester":{min:8e4,max:15e4},"qa engineer":{min:6e4,max:11e4},"quality assurance":{min:6e4,max:11e4},"test engineer":{min:65e3,max:12e4},"automation engineer":{min:7e4,max:13e4},"machine learning":{min:1e5,max:2e5},"ml engineer":{min:1e5,max:2e5},"ai engineer":{min:11e4,max:21e4},blockchain:{min:9e4,max:18e4},web3:{min:9e4,max:18e4},"vue.js":{min:7e4,max:15e4},vue:{min:7e4,max:15e4},angular:{min:75e3,max:16e4},"c#":{min:8e4,max:17e4},"c++":{min:85e3,max:18e4},go:{min:9e4,max:18e4},golang:{min:9e4,max:18e4},rust:{min:95e3,max:19e4},php:{min:6e4,max:13e4},ruby:{min:75e3,max:15e4},swift:{min:85e3,max:17e4},kotlin:{min:8e4,max:16e4},sql:{min:65e3,max:13e4},mongodb:{min:75e3,max:15e4},postgresql:{min:75e3,max:15e4},mysql:{min:7e4,max:14e4},redis:{min:8e4,max:16e4},elasticsearch:{min:9e4,max:18e4},git:{min:7e4,max:14e4},linux:{min:8e4,max:16e4},"3d modeling":{min:5e4,max:1e5},"3d modeler":{min:5e4,max:1e5},blender:{min:55e3,max:11e4},unity:{min:7e4,max:14e4},"unreal engine":{min:8e4,max:16e4}},jk={"ai engineer":1.15,"machine learning":1.15,"ml engineer":1.15,"data scientist":1.1,cybersecurity:1.12,"security engineer":1.12,"cloud engineer":1.1,aws:1.1,kubernetes:1.12,"devops engineer":1.08,devops:1.08,rust:1.1,go:1.08,golang:1.08,javascript:1.05,"javascript developer":1.05,python:1.05,"python developer":1.05,react:1.05,"react developer":1.05,java:1.03,"java developer":1.03,php:.98,ruby:.95},i8={"United States":1,USA:1,US:1,Canada:.85,"United Kingdom":.75,UK:.75,Germany:.7,France:.65,Netherlands:.75,Switzerland:1.1,Australia:.8,Singapore:.85,Japan:.7,Georgia:.25,Poland:.4,Romania:.35,Ukraine:.3,India:.2,Brazil:.25,Mexico:.3,Argentina:.25},PZ=e=>e.toLowerCase().trim().replace(/[^\w\s]/g,""),LKe=e=>{const t=PZ(e);if(jk[t])return jk[t];for(const[r,n]of Object.entries(jk))if(t.includes(r)||r.includes(t))return n;return 1.02},DKe=e=>{const t=PZ(e);if(Zs[t])return Zs[t];const r=t.split(/\s+/);for(const a of r)if(Zs[a])return Zs[a];let n=null,s=0;for(const[a,i]of Object.entries(Zs))(t.includes(a)||a.includes(t))&&a.length>s&&(n=i,s=a.length);return n||(t.includes("full stack")||t.includes("fullstack")?Zs["full stack developer"]:t.includes("frontend")||t.includes("front end")?Zs["frontend developer"]:t.includes("backend")||t.includes("back end")?Zs["backend developer"]:t.includes("developer")||t.includes("programmer")?Zs["software developer"]:t.includes("engineer")?Zs["software engineer"]:t.includes("designer")||t.includes("design")?Zs["ui/ux designer"]:t.includes("analyst")||t.includes("analysis")?Zs["data analyst"]:t.includes("manager")||t.includes("management")?Zs["product manager"]:{min:6e4,max:12e4})},FKe=e=>{const t=e.trim();return i8[t]||i8[t.toLowerCase()]||.3},Ii=(e,t="Georgia",r="ALL")=>{try{if(!e||e.trim()==="")return console.warn("Empty job title provided, using default"),dm({min:6e4,max:12e4},"software developer",t,r);const n=DKe(e);if(!n||typeof n.min!="number"||typeof n.max!="number"||n.min<=0||n.max<=0)return console.warn(`Invalid base range for "${e}", using default`),dm({min:6e4,max:12e4},e,t,r);const s=dm(n,e,t,r);return!s.min_salary||!s.max_salary||s.min_salary<=0||s.max_salary<=0?(console.warn(`Invalid salary result for "${e}" in ${t}, using default`),dm({min:6e4,max:12e4},"software developer",t,r)):s}catch(n){return console.error("Error calculating AI salary:",n,{jobTitle:e,country:t}),dm({min:6e4,max:12e4},"software developer",t,r)}},dm=(e,t,r,n)=>{const s=LKe(t),a=Math.round(e.min*s),i=Math.round(e.max*s),l=FKe(r);let c=Math.round(a*l),u=Math.round(i*l);if(n!=="ALL"){const h=parseInt(n);h<=2?(c=Math.round(c*.8),u=Math.round(u*.85)):h>=6&&(c=Math.round(c*1.3),u=Math.round(u*1.35))}c=Math.max(5e3,c),u=Math.max(c+5e3,u);const d=Math.round((c+u)/2);let f="USD";return r.toLowerCase().includes("georgia")?(f="GEL",c=Math.round(c*2.7),u=Math.round(u*2.7)):r.toLowerCase().includes("uk")||r.toLowerCase().includes("united kingdom")?(f="GBP",c=Math.round(c*.8),u=Math.round(u*.8)):(r.toLowerCase().includes("euro")||["germany","france","netherlands","poland","romania"].some(h=>r.toLowerCase().includes(h)))&&(f="EUR",c=Math.round(c*.9),u=Math.round(u*.9)),(!c||!u||c<=0||u<=0)&&(console.warn(`Invalid salary calculation for "${t}" in ${r}, using defaults`),c=5e4,u=1e5,f=r.toLowerCase().includes("georgia")?"GEL":"USD",f==="GEL"&&(c=Math.round(c*2.7),u=Math.round(u*2.7))),{min_salary:c,max_salary:u,median_salary:d,salary_period:"YEARLY",currency:f}},hf=e=>{if(!e)return"Salary data not available";const{min_salary:t,max_salary:r,currency:n,salary_period:s}=e;if(!t&&!r)return"Salary data not available";const a=n==="USD"?"$":n==="EUR"?"":n==="GBP"?"":n==="GEL"?"":n||"$",i=s==="YEARLY"?"year":s==="MONTHLY"?"month":"";if(t&&r){const l=Math.round(t).toLocaleString(),c=Math.round(r).toLocaleString();return`${a}${l} - ${a}${c}${i?`/${i}`:""}`}else if(t){const l=Math.round(t).toLocaleString();return`${a}${l}+${i?`/${i}`:""}`}else if(r){const l=Math.round(r).toLocaleString();return`Up to ${a}${l}${i?`/${i}`:""}`}return"Salary data not available"},o8=(e,t,r,n,s)=>{const a=Object.entries(t).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,3).map(([u])=>u),i=Object.entries(r).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,2).map(([u])=>u),l=s.length>0?s.reduce((u,d)=>u+d.matchPercentage,0)/s.length:75;let c=`We think **${e}** is the perfect career path for you. `;return c+="You're really good at ",a.length>0?(c+=a.join(", "),i.length>0&&(c+=`, and you also have great ${i.join(" and ")} skills`)):i.length>0?c+=i.join(" and "):c+="many important skills",c+=`. Your skills match really well with what ${e} jobs need - about ${Math.round(l)}% match! `,c+="This role is great for you because it lets you use your best skills every day. ",c+="You'll get to learn new things and grow in your career. ",c+="Your mix of technical skills and people skills means you'll do really well in this job. ",c+=`There are lots of opportunities for ${e.toLowerCase()}s, so you'll have a stable and exciting career path ahead.`,c},l8=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],r=e.filter(a=>{const i=a.skill.toLowerCase().trim();return!t.some(l=>i.includes(l)||l.includes(i))});return r.length===0?(console.warn("No hard/tech skills found for job path generation"),[]):r.sort((a,i)=>i.score-a.score).slice(0,5).map(a=>{const i=a.skill,c=Math.min(95,Math.max(60,Math.round(a.score/5*100))),u=`Build your career using your ${i} skills. This path is tailored to your expertise in ${i}.`,d=[i],f=[`Advanced ${i}`,`${i} Best Practices`,`${i} Professional Development`],h=[`${i} Professional Certificate`,`${i} Specialist`];return{title:i,description:u,matchPercentage:c,requiredSkills:d,suggestedCourses:f,certifications:h,salaryRange:"",timeToReady:"3-6 months"}})},BKe=()=>{const{user:e}=ir(),t=ar(),[r,n]=Xh(),[s,a]=m.useState(!0),[i,l]=m.useState(!1),[c,u]=m.useState({}),[d,f]=m.useState([]),[h,g]=m.useState({}),[v,p]=m.useState({}),[y,x]=m.useState([]),[b,w]=m.useState([]),[_,S]=m.useState([]),[E,k]=m.useState([]),[j,N]=m.useState(null),[C,P]=m.useState("Georgia"),[O,F]=m.useState(""),[M,q]=m.useState(r.get("section")==="matchedprofessions"?"matchedProfessions":"skills");m.useEffect(()=>{const D=r.get("section");q(D==="matchedprofessions"?"matchedProfessions":"skills")},[r]);const B=D=>{q(D),n(D==="matchedProfessions"?{section:"matchedprofessions"}:{})},[I,A]=m.useState(new Set),z=m.useCallback(async()=>{try{const $=(await Ce.get(Qe.AUTH.PROFILE)).data,H=($==null?void 0:$.country)||(e==null?void 0:e.country)||"Georgia";return P(H),H}catch(D){return console.error("Error fetching user country:",D),P("Georgia"),"Georgia"}},[e]),re=m.useCallback((D,$)=>{const H={"Software Engineer":"software engineer","UX/UI Designer":"ux designer","Data Analyst":"data analyst","Product Manager":"product manager"};return D.map(G=>{try{const le=G.title.toLowerCase().trim();let J=H[G.title]||le,Z=Ii(J,$);if(!Z.min_salary&&!Z.max_salary&&!J.includes("developer")){const ae=`${J} developer`;Z=Ii(ae,$),(Z.min_salary||Z.max_salary)&&(J=ae)}if(!Z.min_salary&&!Z.max_salary&&!J.includes("engineer")){const ae=`${J} engineer`;Z=Ii(ae,$),(Z.min_salary||Z.max_salary)&&(J=ae)}if(Z&&(Z.min_salary||Z.max_salary)&&(Z.min_salary>0||Z.max_salary>0)){const ae=hf(Z);if(ae&&ae!=="Salary data not available")return{...G,salaryRange:ae}}const K=le.includes("design")?"ui/ux designer":le.includes("data")||le.includes("analyst")?"data analyst":le.includes("manager")?"product manager":"software developer",de=Ii(K,$);if(de.min_salary&&de.max_salary){const ae=hf(de);return{...G,salaryRange:ae}}return console.warn(`Could not calculate salary for "${G.title}" (${J})`),{...G,salaryRange:"Salary data not available"}}catch(le){return console.error(`Error calculating salary for ${G.title}:`,le),{...G,salaryRange:"Salary data not available"}}})},[]),V=m.useCallback(async(D,$,H)=>await Promise.all(D.map(async le=>{try{const J=$.length>0?$.join(" "):le.title.toLowerCase(),Z={country:H,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:$,salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},K=await bi.fetchActiveJobs({query:J,filters:Z,page:1,pageSize:5}),de=J_(K.jobs);return{...le,jobs:de.slice(0,5)}}catch(J){return console.error(`Error fetching jobs for ${le.title}:`,J),{...le,jobs:[]}}})),[]),te=m.useCallback(async()=>{try{const D=await Ce.get(Qe.ME.MATCHED_PROFESSIONS);Array.isArray(D.data)&&w(D.data)}catch(D){console.error("Error fetching matched professions:",D)}},[]),X=m.useCallback(async()=>{try{a(!0);try{const Ee=await Ce.get(`/api/skilltest/results/?user=${e.id}`);let ue=null;if(Array.isArray(Ee.data)&&Ee.data.length>0?ue=Ee.data[0]:Ee.data&&typeof Ee.data=="object"&&(ue=Ee.data),ue&&(ue.final_role||ue.skills_json)){l(!0),ue.final_role&&N(ue.final_role);const ge=ue.skills_json||{};g(ge.tech||{}),p(ge.soft||{});const U=Object.entries(ge.tech||{}).map(([ie,Oe])=>({skill:ie,score:parseFloat(String(Oe).replace("%",""))||0})),ee=Object.entries(ge.soft||{}).map(([ie,Oe])=>({skill:ie,score:parseFloat(String(Oe).replace("%",""))||0})),_e=U.sort((ie,Oe)=>Oe.score-ie.score),Le=ee.sort((ie,Oe)=>Oe.score-ie.score),Xe=[..._e,...Le].slice(0,5);f(Xe);const ot=l8(_e),Se=Object.keys(ge.tech||{}),Ie=await z(),Y=re(ot,Ie);te();const W=[...U,...ee].map(ie=>ie.skill.toLowerCase());if(A(new Set(W)),x(Y),ue.final_role){const ie=o8(ue.final_role,ge.tech||{},ge.soft||{},Xe,Y);F(ie)}a(!1),Promise.all(Y.map(async ie=>{try{const Oe=Xe.map(Ae=>Ae.skill),[Ke,Te]=await Promise.all([s8(ie.title,Oe,ie.matchPercentage),a8(ie.title)]),pe=Ke&&Ke.length>100?Ke:`**${ie.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ie.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...ie,summary:pe,aiGeneratedSkills:Te.length>0?Te:ie.requiredSkills}}catch(Oe){return console.error(`Error generating data for ${ie.title}:`,Oe),{...ie,summary:`**${ie.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ie.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:ie.requiredSkills}}})).then(ie=>{x(Oe=>{const Ke=new Map(ie.map(Te=>[Te.title,Te]));return Oe.map(Te=>Ke.get(Te.title)||Te)})}),Promise.all([(async()=>{const ie=await V(Y,Se,Ie);x(ie);const Oe=await oe(Object.keys(ge.tech||{}),Object.keys(ge.soft||{}),ie);k(Oe)})(),(async()=>{const ie=await ye(Se);S(ie)})()]).catch(ie=>{console.error("Error in background operations:",ie)});return}}catch{}const D=await op(e.id);if(!D||D.length===0){l(!1),a(!1);return}l(!0);const $=lp(D);u($);const H=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],G=[],le=[];Object.entries($).forEach(([Ee,ue])=>{const ge=Ee.toLowerCase().trim();H.some(ee=>ge.includes(ee)||ee.includes(ge))?le.push({skill:Ee,score:ue}):G.push({skill:Ee,score:ue})});const J=G.sort((Ee,ue)=>ue.score-Ee.score),Z=le.sort((Ee,ue)=>ue.score-Ee.score),K=[...J,...Z].slice(0,5);f(K);const de=l8(J),ae=J.map(Ee=>Ee.skill),xe=await z(),ke=re(de,xe),Me=[...J,...Z].map(Ee=>Ee.skill.toLowerCase());if(A(new Set(Me)),x(ke),ke.length>0){const Ee=ke[0].title,ue={},ge={};J.forEach(ee=>{ue[ee.skill]=`${ee.score}%`}),Z.forEach(ee=>{ge[ee.skill]=`${ee.score}%`});const U=o8(Ee,ue,ge,K,ke);F(U),N(Ee)}a(!1),Promise.all(ke.map(async Ee=>{try{const ue=K.map(_e=>_e.skill),[ge,U]=await Promise.all([s8(Ee.title,ue,Ee.matchPercentage),a8(Ee.title)]),ee=ge&&ge.length>100?ge:`**${Ee.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Ee.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...Ee,summary:ee,aiGeneratedSkills:U.length>0?U:Ee.requiredSkills}}catch(ue){return console.error(`Error generating data for ${Ee.title}:`,ue),{...Ee,summary:`**${Ee.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${Ee.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:Ee.requiredSkills}}})).then(Ee=>{x(ue=>{const ge=new Map(Ee.map(U=>[U.title,U]));return ue.map(U=>ge.get(U.title)||U)})}),Promise.all([(async()=>{const Ee=await V(ke,ae,xe);x(Ee);const ue=await oe(ae,[],Ee);k(ue)})(),(async()=>{const Ee=await ye(ae);S(Ee)})()]).catch(Ee=>{console.error("Error in background operations:",Ee)})}catch(D){console.error(" Error loading skill data:",D),console.error("Error details:",D instanceof Error?D.message:String(D)),l(!1)}finally{console.log(" loadSkillData finished - setting loading to false"),a(!1)}},[e,z,re,V]);m.useEffect(()=>{if(!e){t("/auth/login");return}X(),z()},[e,t,X,z]);const ye=async D=>{try{if(D.length===0)return[];const{data:$,error:H}=await Qt.from("courses").select("*").or(D.map(G=>`required_skills.cs.{${G}}`).join(",")).limit(6);if(H)throw H;return($==null?void 0:$.map(G=>({id:G.id,title:G.title,provider:G.provider,level:G.level,duration:G.duration,description:G.description,relevantSkills:G.required_skills||[]})))||[]}catch($){return console.error("Error fetching course recommendations:",$),[]}},oe=async(D,$,H)=>{const G=[...D,...$].map(ae=>ae.toLowerCase().trim()),le=new Map;if(H.forEach(ae=>{ae.requiredSkills.forEach(xe=>{const ke=xe.toLowerCase().trim();if(!G.includes(ke)){le.has(ke)||le.set(ke,{jobs:[],count:0});const Me=le.get(ke);Me.jobs.push(ae.title),Me.count++}})}),le.size===0)return[];const{data:J,error:Z}=await Qt.from("courses").select("*").limit(100),K=new Map;return!Z&&J&&J.forEach(ae=>{(ae.required_skills||[]).map(ke=>ke.toLowerCase().trim()).forEach(ke=>{le.has(ke)&&(K.has(ke)||K.set(ke,[]),K.get(ke).push({id:ae.id,title:ae.title,provider:ae.provider||"Unknown",level:ae.level||"Beginner",duration:ae.duration||"N/A",description:ae.description||"",relevantSkills:ae.required_skills||[]}))})}),Array.from(le.entries()).map(([ae,xe])=>{const Me=["programming","code","sql","testing","version control","data","api","framework","database","algorithm","software","technical"].some(ue=>ae.includes(ue));let Ee="medium";return xe.count>=3?Ee="high":xe.count===1&&(Ee="low"),{skill:ae.charAt(0).toUpperCase()+ae.slice(1),category:Me?"tech":"soft",importance:Ee,requiredByJobs:[...new Set(xe.jobs)],recommendedCourses:K.get(ae)||[],frequency:xe.count}}).sort((ae,xe)=>{const ke={high:3,medium:2,low:1};return ke[xe.importance]!==ke[ae.importance]?ke[xe.importance]-ke[ae.importance]:xe.frequency-ae.frequency})},me=(D,$)=>{const H="#19B5FE",G=Object.entries(D).filter(([K,de])=>parseFloat(String(de).replace("%",""))>0).map(([K,de])=>{const ae=parseFloat(String(de).replace("%",""));let xe;ae>=40?xe=1:xe=.3+ae/40*.7;const ke=`gradient-primary-${Math.round(xe*100)}`;return{skill:K,percentage:ae,displayPct:de,fill:H,opacity:xe,gradientId:ke}}).sort((K,de)=>de.percentage-K.percentage);if(G.length===0)return o.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const le={percentage:{label:"Percentage"}},J=K=>{const{x:de,y:ae,width:xe,height:ke,payload:Me,value:Ee}=K,ue=(Me==null?void 0:Me.skill)||Ee||"";if(!de||!ae||!xe||!ke||!ue)return null;const ge=de+xe/2,_e=250-80+25,Le=Math.max(8,Math.floor(xe/6)),et=ue.split(" "),Xe=[];let ot="";for(const W of et)if(W.length>Le){ot&&(Xe.push(ot),ot="");for(let ie=0;ie<W.length;ie+=Le)Xe.push(W.slice(ie,ie+Le))}else(ot+" "+W).length<=Le?ot=ot?ot+" "+W:W:(ot&&Xe.push(ot),ot=W);if(ot&&Xe.push(ot),Xe.length===0||Xe.length===1&&Xe[0].length>Le*1.5){Xe.length=0;for(let W=0;W<ue.length;W+=Le)Xe.push(ue.slice(W,W+Le))}const Se=Xe.slice(0,2),Ie=14,Y=_e-(Se.length-1)*(Ie/2);return o.jsx("text",{x:ge,y:Y,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Se.map((W,ie)=>o.jsx("tspan",{x:ge,dy:ie===0?0:Ie,children:W},ie))})},Z=K=>{const{x:de,y:ae,width:xe,height:ke,value:Me,payload:Ee}=K,ue=Me||0,ge=(Ee==null?void 0:Ee.skill)||"";if(!de||!ae||!xe||!ke)return null;const U=de+xe/2,ee=250,_e=80,Le=Math.max(8,Math.floor(xe/6)),et=ge.length>Le*1.2,Xe=ee-_e+(et?70:60);return o.jsx("text",{x:U,y:Xe,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${ue.toFixed(0)}%`})};return o.jsx("div",{className:"w-full -mb-4",children:o.jsx(QO,{config:le,className:"h-[250px] w-full",children:o.jsxs(rJ,{data:G,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[o.jsx("defs",{children:G.map(K=>o.jsxs("linearGradient",{id:K.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:K.fill,stopOpacity:K.opacity}),o.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:K.opacity})]},K.gradientId))}),o.jsx(gd,{dataKey:"skill",hide:!0}),o.jsx(kp,{type:"number",domain:[0,100],hide:!0}),o.jsx(iJ,{content:({active:K,payload:de})=>{if(K&&de&&de.length){const ae=de[0].payload;return o.jsx("div",{className:"rounded-3xl bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:ae.skill}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:H,opacity:ae.opacity}}),o.jsxs("span",{className:"font-bold text-lg",style:{color:H,opacity:ae.opacity},children:[ae.percentage.toFixed(1),"%"]})]})]})})}return null}}),o.jsxs(Dc,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[G.map((K,de)=>o.jsx(y_,{fill:`url(#${K.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${de}`)),o.jsx(Ua,{content:J,dataKey:"skill"}),o.jsx(Ua,{content:Z,dataKey:"percentage"})]})]})})})};return console.log(" SkillPathPage Render - Loading:",s,"HasTestAnswers:",i,"User:",e==null?void 0:e.id),s?(console.log(" Rendering loading state"),o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Analyzing your skills..."}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Loading skill data..."})]})})})):i?(console.log(" Rendering main SkillPathPage content"),console.log(" Data summary:",{topSkills:d.length,jobPaths:y.length,courseRecommendations:_.length,missingSkills:E.length,techSkills:Object.keys(h).length,softSkills:Object.keys(v).length,finalRole:j}),o.jsxs(It,{children:[o.jsx("div",{className:"fixed bottom-[85px] left-1/2 -translate-x-1/2 z-40 md:static md:translate-x-0 md:left-auto md:flex md:justify-center md:mb-6 md:w-auto",children:o.jsxs(jn.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"relative inline-flex items-center bg-gray-100/80 dark:bg-[#242424]/80 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-3xl p-1 shadow-sm",children:[o.jsxs(jn.button,{layout:!0,onClick:()=>B("skills"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${M==="skills"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[M==="skills"&&o.jsx(jn.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Your Skills"})]}),o.jsxs(jn.button,{layout:!0,onClick:()=>B("matchedProfessions"),className:`relative px-6 py-2.5 rounded-l-3xl rounded-r-3xl text-sm transition-colors duration-200 whitespace-nowrap outline-none ${M==="matchedProfessions"?"text-gray-900 dark:text-gray-100 font-bold":"text-gray-500 dark:text-gray-400 font-medium hover:text-gray-700 dark:hover:text-gray-200"}`,children:[M==="matchedProfessions"&&o.jsx(jn.div,{layoutId:"active-pill",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-l-3xl rounded-r-3xl",transition:{type:"spring",stiffness:500,damping:40,mass:1}}),o.jsx("span",{className:"relative z-10",children:"Matched Professions"})]})]})}),o.jsxs("div",{className:"space-y-4 md:space-y-6 pb-32 md:pb-6",children:[M==="skills"&&o.jsxs(o.Fragment,{children:[j&&O&&o.jsxs(Re,{className:"bg-gradient-to-br from-primary/5 to-primary/10",children:[o.jsx(bt,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-trophy-iso-color.png",alt:"Trophy",className:"h-12 w-12 flex-shrink-0"}),o.jsxs(Ot,{className:"text-xl",children:["You Are ",j]})]})}),o.jsx(De,{children:o.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:o.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:O.split("**").map((D,$)=>$%2===1?o.jsx("strong",{className:"text-primary font-semibold",children:D},$):D)})})})]}),(Object.keys(h).length>0||Object.keys(v).length>0)&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(h).length>0&&o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx(Ot,{className:"flex items-center gap-2",children:"Technical Skills"})}),o.jsx(De,{className:"p-6",children:me(h)})]}),Object.keys(v).length>0&&o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx(Ot,{className:"flex items-center gap-2",children:"Soft Skills"})}),o.jsx(De,{className:"p-6",children:me(v)})]})]})]}),M==="matchedProfessions"&&o.jsx("div",{className:"space-y-4",children:b.length>0?(()=>{const D=Math.max(...b.map($=>$.match_score));return o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:b.map(($,H)=>{var xe,ke;const G=$.profession,le=$.match_score===D&&D>0,J=G.market_popularity||[],Z=J.map(Me=>({year:Me.year,value:Me.value})),K=((xe=J[0])==null?void 0:xe.value)||0,de=((ke=J[J.length-1])==null?void 0:ke.value)||0,ae=K>0?Math.round((de-K)/K*100):0;return o.jsxs(Re,{className:`cursor-pointer transition-all hover:bg-accent/50 relative overflow-visible ${le?"border-blue-500 border-2 bg-blue-50/10 dark:bg-blue-900/10":H===0?"border-primary/50 bg-primary/5":""}`,onClick:()=>{t(`/skill-path/${G.id}`,{state:{profession:$}})},children:[le&&o.jsxs("div",{className:"absolute -top-3 left-6 bg-blue-500 text-white text-[10px] font-bold px-3 py-0.5 rounded-full shadow-sm z-20 flex items-center gap-1",children:[o.jsx(the,{className:"w-3 h-3 fill-white"}),"Perfect match for you"]}),o.jsxs(De,{className:"p-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 pr-4",children:[o.jsx(Ot,{className:"text-xl mb-1",children:G.title}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["View details",o.jsx(gb,{className:"h-3 w-3 inline ml-1"})]})]}),o.jsxs("div",{className:"h-[60px] w-[140px] relative",children:[o.jsxs(Ct,{variant:"secondary",className:"absolute -top-3 right-0 z-10 text-[10px] h-5 px-1.5 bg-background shadow-sm border",children:[ae>0?"+":"",ae,"%"]}),o.jsx(bO,{width:"100%",height:"100%",children:o.jsxs(nJ,{data:Z,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`gradient-${$.id}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),o.jsx(Na,{content:({active:Me,payload:Ee})=>Me&&Ee&&Ee.length?o.jsxs("div",{className:"rounded-lg border bg-background p-2 shadow-sm text-xs",children:[o.jsxs("span",{className:"font-bold text-muted-foreground",children:[Ee[0].payload.year,":"]}),o.jsx("span",{className:"font-bold ml-1",children:Ee[0].value})]}):null}),o.jsx(cl,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,fill:`url(#gradient-${$.id})`})]})})]})]})]},$.id)})})})():o.jsx(Re,{children:o.jsxs(De,{className:"text-center py-8",children:[o.jsx("p",{className:"text-muted-foreground",children:"Complete a skill assessment to see personalized job recommendations."}),o.jsx(se,{onClick:()=>t("/skill-test"),className:"mt-4",children:"Take Skill Assessment"})]})})})]})]})):(console.log(" Rendering 'no test answers' state"),o.jsx(It,{children:o.jsx("div",{className:"p-6",children:o.jsx(Re,{children:o.jsxs(De,{className:"text-center py-12",children:[o.jsx(Ufe,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),o.jsx("h2",{className:"text-lg font-bold mb-2",children:"Complete Your Skill Assessment"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Take our skill assessment to get personalized job recommendations and a custom learning path tailored to your strengths."}),o.jsxs(se,{onClick:()=>t("/skill-test"),size:"lg",children:["Take Skill Assessment",o.jsx(gb,{className:"h-4 w-4 ml-2"})]})]})})})}))},UKe="https://breneo-job-aggregator.up.railway.app/api/",zKe=async(e,t="Georgia")=>{try{const r=await fetch(UKe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)return console.error(`Market Stats API error: ${r.status}`),null;const n=await r.json();if(!Array.isArray(n))return console.error("Invalid API response format"),null;const s=e.toLowerCase(),a=n.filter(g=>[g.title,g.description,g.company].join(" ").toLowerCase().includes(s)&&g.is_active),i=t&&t!=="Georgia"&&t!=="Worldwide"?a.filter(g=>g.location.toLowerCase().includes(t.toLowerCase())):a,l=i.length,c=new Date;c.setDate(c.getDate()-30);const u=i.filter(g=>{if(!g.posted_at)return!1;try{return new Date(g.posted_at)>=c}catch{return!1}}).length,d=l>0?u/l*100:0;let f="medium";l>100&&d>30?f="high":(l<20||d<10)&&(f="low");const h=Math.max(0,Math.min(100,d*2));return{totalJobs:l,recentJobs:u,growthPercentage:Math.round(h),demandLevel:f,trending:d>25}}catch(r){return console.error("Error fetching job market stats:",r),null}},qKe=async(e,t)=>{try{const r=new Date().getFullYear();let n="",s="",a="";if(t){const{totalJobs:u,recentJobs:d,growthPercentage:f,demandLevel:h,trending:g}=t,v=d,p=v>0?v/(u-d+1)*100:0;h==="high"?(n=`${e} is experiencing exceptional demand in today's job market. Our analysis shows ${u} active job listings, with ${d} new positions posted in the last 30 days alone. The field demonstrates strong momentum with an estimated ${f}% growth rate, making it one of the most sought-after skills in the current market.`,g?s=`The demand for ${e} professionals is at an all-time high. Companies across technology, finance, healthcare, and e-commerce sectors are actively recruiting talent. With ${d} new postings in just the past month, this skill is currently trending and presents excellent opportunities for both entry-level and experienced professionals. The market shows no signs of slowing down, making it an ideal time to invest in this career path.`:s=`The demand for ${e} professionals remains exceptionally strong. Organizations are prioritizing this skill set, with consistent hiring activity throughout the year. The high number of active listings (${u}) indicates sustained market demand. This field offers competitive salaries and strong career growth prospects for qualified candidates.`):h==="medium"?(n=`${e} maintains healthy demand in the job market with ${u} active listings. We've tracked ${d} new positions in the past 30 days, indicating steady hiring activity. The field shows stable growth with moderate competition, creating balanced opportunities for skilled professionals.`,s=`The market for ${e} professionals is well-established with consistent demand. While competition exists, there are ample opportunities for candidates with the right skill set and experience. The field benefits from steady industry adoption, making it a reliable career choice with good long-term prospects.`):(n=`${e} represents a specialized field with ${u} current listings. While the absolute number may be lower, this indicates a niche market where specialized skills are highly valued. The field offers unique opportunities for professionals who can distinguish themselves.`,s=`While ${e} has a smaller market presence, it offers distinct advantages for specialized professionals. Companies actively seeking this skill often offer competitive compensation and value deep expertise. Success in this field typically requires strong foundational skills, continuous learning, and building a network within the specialized community.`),f>60?a="experiencing explosive growth":f>40?a="rapidly growing":f>20?a="growing steadily":f>5?a="stable with positive growth":a="stable"}else n=`${e} professionals continue to be in demand across various industries. The field has demonstrated consistent growth, with expanding opportunities in technology, business, and creative sectors. Job postings have maintained an upward trajectory, reflecting strong market confidence in this skill set.`,s=`The demand for ${e} skills remains robust as businesses adapt to evolving market needs. This field offers diverse career paths and opportunities for professional development. As organizations invest in digital transformation and innovation, professionals with ${e} expertise are well-positioned for long-term career success.`,a="growing steadily";const i=t?Math.max(35,Math.min(95,Math.round(t.totalJobs/15+t.growthPercentage/2))):60,l=[],c=(t==null?void 0:t.growthPercentage)||15;for(let u=0;u<5;u++){const d=r-4+u,f=4-u,h=c/10*f,g=Math.max(25,Math.min(100,Math.round(i-h)));l.push({year:String(d),popularity:g})}return{popularityText:n,demandText:s,growthTrend:a,chartData:l}}catch(r){return console.error("Error generating AI market insights:",r),null}},WKe=async(e,t="Georgia")=>{try{const r=await zKe(e,t),n=await qKe(e,r);return{stats:r,insights:n}}catch(r){return console.error("Error getting complete market data:",r),{stats:null,insights:null}}},VKe=()=>{var $,H,G,le,J,Z;const{skillName:e}=Jh(),t=ar(),r=Xs(),{user:n}=ir(),[s,a]=m.useState(!0),[i,l]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,g]=m.useState([]),[v,p]=m.useState([]),[y,x]=m.useState([]),[b,w]=m.useState([]),[_,S]=m.useState("Georgia"),[E,k]=m.useState("US"),[j,N]=m.useState("$"),[C,P]=m.useState(""),[O,F]=m.useState(new Set),[M,q]=m.useState(!1),B=e?decodeURIComponent(e):"";($=r.state)==null||$.jobPath;const I=(H=r.state)==null?void 0:H.profession;m.useEffect(()=>{var K,de,ae;(ae=(de=(K=r.state)==null?void 0:K.profession)==null?void 0:de.profession)!=null&&ae.title?P(r.state.profession.profession.title):B&&isNaN(Number(B))&&P(B)},[r.state,B]),m.useEffect(()=>{if(!n)return;let K=!1;return(async()=>{try{const ae=n==null?void 0:n.id;if(!ae)return;const[xe,ke]=await Promise.allSettled([Rr.getMySkills(),Ce.get(`/api/skilltest/results/?user=${ae}`)]),Ee=(xe.status==="fulfilled"?xe.value:[]).map(U=>qr(String(U.skill_name||""))).filter(Boolean);let ue=[];if(ke.status==="fulfilled"){const U=ke.value.data;let ee=null;if(Array.isArray(U)&&U.length>0?ee=U[0]:U&&typeof U=="object"&&(ee=U),ee!=null&&ee.skills_json&&typeof ee.skills_json=="object"){const _e=ee.skills_json,Le=Object.keys(_e.tech||{}),et=Object.keys(_e.soft||{});ue=[...Le,...et].map(qr)}}const ge=new Set([...Ee,...ue].map(qr).filter(Boolean));K||F(ge)}catch(ae){console.error("Error fetching user skills:",ae)}})(),()=>{K=!0}},[n]),m.useEffect(()=>{if(!n){t("/auth/login");return}if(!B){t("/skill-path");return}(async()=>{var de,ae;try{a(!0);const xe=(de=r.state)==null?void 0:de.profession;let ke=xe==null?void 0:xe.profession,Me=xe;if(!ke&&B&&!isNaN(Number(B)))try{const ge=Number(B),U=await Ce.get(Qe.ME.MATCHED_PROFESSIONS);if(Array.isArray(U.data)){const ee=U.data.find(_e=>_e.profession.id===ge);ee&&(Me=ee,ke=ee.profession)}}catch(ge){console.error("Error fetching profession by ID:",ge)}let Ee=B;if(ke){l(ke.description),P(ke.title),Ee=ke.title;const ge=ke.salary_info||{},U=Object.keys(ge);let ee="US";ge.US||(ee=U[0]||"US"),k(ee);const _e=ge[ee];if(_e?(u(_e.display),N(_e.currency)):re("Georgia"),ke.market_popularity&&ke.market_popularity.length>0){const Le=ke.market_popularity,Xe=(((ae=Le[Le.length-1])==null?void 0:ae.value)||0)>80?"High":"Medium";f(`Market Demand: ${Xe}. Based on recent data.`);const ot=Le.map(Se=>({year:Se.year,popularity:Se.value}));g(ot)}else{const Le=`${Ee} professionals are in high demand. Loading real-time market data...`;f(Le)}X(Ee)}else{z();const ge=`${B} professionals are in high demand. Loading real-time market data...`;f(ge),re("Georgia"),X(Ee)}if(!ke){const ge=new Date().getFullYear(),ee=[50,55,60,65,70].map((_e,Le)=>({year:String(ge-4+Le),popularity:_e}));g(ee)}a(!1);const ue=await A();if(ke){const ge=ke.salary_info||{};ge[ue]&&(k(ue),u(ge[ue].display))}else ue!=="Georgia"&&re(ue);Promise.all([ke?Promise.resolve():V(ue),te(Ee),oe(ue,Ee)]).catch(ge=>{console.error("Error in background operations:",ge)})}catch(xe){console.error("Error loading skill path details:",xe),a(!1)}})()},[B,n,I]);const A=async()=>{try{const de=(await Ce.get(Qe.AUTH.PROFILE)).data,ae=(de==null?void 0:de.country)||(n==null?void 0:n.country)||"Georgia";return S(ae),ae}catch(K){return console.error("Error fetching user country:",K),"Georgia"}},z=()=>{const K={JavaScript:"JavaScript developers are responsible for building interactive web applications and dynamic user interfaces. They work with modern frameworks like React, Vue, and Angular to create responsive and engaging web experiences.",Python:"Python developers specialize in backend development, data science, and automation. They build scalable server applications, analyze data, and create machine learning models using Python's extensive library ecosystem.",React:"React developers focus on building user interfaces using the React library. They create reusable components, manage application state, and implement modern UI patterns for web and mobile applications.","UI/UX Design":"UI/UX designers create intuitive and visually appealing user interfaces. They conduct user research, design wireframes and prototypes, and ensure optimal user experiences across different platforms.","Data Analysis":"Data analysts transform raw data into actionable insights. They use statistical methods, visualization tools, and programming languages to help organizations make data-driven decisions."},de=`${B} professionals are in high demand across various industries. This role involves working with ${B} technologies to solve complex problems and deliver innovative solutions.`,ae=K[B]||de;l(ae)},re=K=>{try{const de={javascript:"javascript developer",python:"python developer",react:"react developer","ui/ux design":"ux designer","ui/ux":"ux designer","data analysis":"data analyst","data analytics":"data analyst","software development":"software developer","web development":"web developer","mobile development":"mobile developer",devops:"devops engineer",cybersecurity:"cybersecurity specialist","quality assurance":"qa engineer","product management":"product manager","3d modeler":"3d artist"},ae=B.toLowerCase();let xe=de[ae]||ae,ke=Ii(xe,K);if(!ke.min_salary&&!ke.max_salary&&!xe.includes("developer")){const ue=`${xe} developer`;ke=Ii(ue,K),(ke.min_salary||ke.max_salary)&&(xe=ue)}if(!ke.min_salary&&!ke.max_salary&&!xe.includes("engineer")){const ue=`${xe} engineer`;ke=Ii(ue,K),(ke.min_salary||ke.max_salary)&&(xe=ue)}if(ke&&(ke.min_salary||ke.max_salary)&&(ke.min_salary>0||ke.max_salary>0)){const ue=hf(ke);if(ue&&ue!=="Salary data not available"){u(ue);return}}const Me=ae.includes("design")||ae.includes("ui")||ae.includes("ux")?"ui/ux designer":ae.includes("data")||ae.includes("analyst")||ae.includes("analytics")?"data analyst":ae.includes("manager")||ae.includes("product")?"product manager":ae.includes("security")||ae.includes("cyber")?"cybersecurity specialist":ae.includes("devops")||ae.includes("cloud")?"devops engineer":"software developer",Ee=Ii(Me,K);if(Ee.min_salary&&Ee.max_salary){const ue=hf(Ee);u(ue)}else{const ue=Ii("software developer",K);u(hf(ue))}}catch(de){console.error("Error calculating salary:",de);try{const ae=Ii("software developer",K);u(hf(ae))}catch{u("Salary data not available")}}},V=async K=>{try{const de=WKe(B,K),ae=new Promise(ke=>{setTimeout(()=>ke(null),3e3)}),xe=await Promise.race([de,ae]);if(xe&&xe.insights){const ke=`${xe.insights.popularityText}

${xe.insights.demandText}`;f(ke),g(xe.insights.chartData)}}catch(de){console.error("Error loading popularity data:",de)}},te=async(K=B)=>{try{const de=K.toLowerCase().trim(),{data:ae,error:xe}=await Qt.from("courses").select("id, title, provider, level, duration, description, required_skills, image").or(`title.ilike.%${K}%,description.ilike.%${K}%,title.ilike.%${de}%,description.ilike.%${de}%`).limit(6);if(xe){console.error("Supabase query error:",xe),p([]);return}let ke=[];ae&&ae.length>0&&(ke=ae.filter(Me=>{const Ee=(Me.title||"").toLowerCase(),ue=(Me.description||"").toLowerCase(),ge=Me.required_skills||[],U=Ee.includes(de)||ue.includes(de)||Ee.includes(K.toLowerCase())||ue.includes(K.toLowerCase()),ee=Array.isArray(ge)&&ge.some(_e=>_e.toLowerCase().includes(de)||de.includes(_e.toLowerCase()));return U||ee})),ke.length>0?p(ke.map(Me=>({id:Me.id,title:Me.title,provider:Me.provider||"Unknown",level:Me.level||"Beginner",duration:Me.duration||"N/A",description:Me.description||"",required_skills:Me.required_skills||[],image:Me.image||void 0}))):p([])}catch(de){console.error("Error loading courses:",de),p([])}},X=(K=B)=>{const de={JavaScript:["Build a real-time chat application using WebSockets","Create a task management app with drag-and-drop functionality","Develop a weather dashboard with API integration","Build an e-commerce product catalog with filtering","Create an interactive data visualization dashboard"],Python:["Build a web scraper to analyze market trends","Create a machine learning model for predictions","Develop a REST API with Flask or Django","Build a data analysis tool for business insights","Create an automation script for repetitive tasks"],React:["Build a portfolio website with animations","Create a social media dashboard with real-time updates","Develop a todo app with state management","Build an e-commerce checkout flow","Create an interactive data table with sorting and filtering"],"UI/UX Design":["Design a mobile app interface for a fitness tracker","Create a website redesign for a local business","Design a complete design system and component library","Create wireframes and prototypes for a SaaS product","Design an accessible checkout flow for e-commerce"],"Data Analysis":["Analyze sales data to identify trends and patterns","Create visualizations for a business dashboard","Perform statistical analysis on survey data","Build a predictive model for customer behavior","Analyze social media engagement metrics"]},ae=[`Create a ${K} portfolio project`,`Build a real-world application using ${K}`,`Develop a ${K} tool or utility`,`Contribute to an open-source ${K} project`,`Create a ${K} tutorial or course`],xe=de[K]||ae;x(xe)},ye=K=>{var xe;k(K);const de=(xe=r.state)==null?void 0:xe.profession,ae=de==null?void 0:de.profession;if(ae&&ae.salary_info){const ke=ae.salary_info[K];ke&&(u(ke.display),N(ke.currency))}},oe=async(K,de=B)=>{try{const ae={country:K,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[de],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},xe=bi.fetchActiveJobs({query:de,filters:ae,page:1,pageSize:5}),ke=new Promise(ue=>{setTimeout(()=>ue({jobs:[]}),5e3)}),Me=await Promise.race([xe,ke]),Ee=J_(Me.jobs);w(Ee.slice(0,5))}catch(ae){console.error("Error loading jobs:",ae),w([])}};if(s)return o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Loading skill path details..."})]})})});const me=Object.keys(((G=I==null?void 0:I.profession)==null?void 0:G.salary_info)||{}),D=(J=(le=I==null?void 0:I.profession)==null?void 0:le.salary_info)==null?void 0:J[E];return o.jsx(It,{children:o.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[o.jsxs(Re,{className:"border-none shadow-none rounded-3xl",children:[o.jsx(bt,{children:o.jsx(Ot,{className:"text-3xl font-bold",children:C||B})}),o.jsxs(De,{children:[o.jsx("p",{className:"text-muted-foreground leading-relaxed mb-2",style:M?void 0:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:i}),i.length>140&&o.jsx("button",{type:"button",onClick:()=>q(K=>!K),className:"text-sm font-medium text-breneo-blue hover:underline mb-4",children:M?"Read less":"Read more"}),((Z=I==null?void 0:I.profession)==null?void 0:Z.skills)&&I.profession.skills.length>0&&o.jsx("div",{className:"flex flex-wrap gap-3",children:I.profession.skills.map((K,de)=>{const ae=O.has(qr(K));return o.jsxs(Ct,{variant:"outline",className:ce("transition-colors capitalize px-4 py-2 text-sm min-h-[2.25rem] rounded-lg select-none",ae?"bg-sky-100 text-sky-800 border-sky-200 dark:bg-sky-900/40 dark:text-sky-200 dark:border-sky-700":"bg-gray-100 text-gray-600 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"),children:[K,ae&&o.jsx(mi,{className:"ml-2 h-4 w-4 inline-block"})]},de)})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(Re,{className:"bg-gray-50 dark:bg-gray-800/50 border-none shadow-none rounded-3xl",children:[o.jsx(bt,{className:"flex flex-row items-center justify-between space-y-0 p-4",children:o.jsxs(Ot,{className:"flex items-center gap-3 text-m font-semibold text-muted-foreground",children:[o.jsx(HA,{className:"h-6 w-6 text-primary"}),"Salary Information"]})}),o.jsx(De,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"sm:w-40 sm:shrink-0",children:o.jsx("div",{className:"space-y-1",children:me.length>0?me.map(K=>o.jsx("button",{onClick:()=>ye(K),className:`w-full text-left px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${E===K?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"}`,children:K},K)):o.jsx("button",{className:"w-full text-left px-4 py-2.5 rounded-xl text-sm font-medium bg-breneo-blue/10 text-breneo-blue",children:_})})}),o.jsxs("div",{className:"flex flex-1 flex-col justify-center gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground mb-1",children:"Estimated yearly Range"}),o.jsx("div",{className:"text-3xl font-bold text-foreground tracking-tight",children:c}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Salary in ",E," (",j,")"]})]}),D&&o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"rounded-xl border bg-background/70 p-3",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground",children:"Minimum"}),o.jsxs("p",{className:"font-semibold text-sm mt-1",children:[D.currency,D.min.toLocaleString()]})]}),o.jsxs("div",{className:"rounded-xl border bg-background/70 p-3",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground",children:"Maximum"}),o.jsxs("p",{className:"font-semibold text-sm mt-1",children:[D.currency,D.max.toLocaleString()]})]})]})]})]})})]}),o.jsxs(Re,{className:"bg-gray-50 dark:bg-gray-800/50 border-none shadow-none rounded-3xl",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between space-y-0 p-4",children:["              ",o.jsxs(Ot,{className:"flex items-center gap-3 text-m font-semibold text-muted-foreground",children:[o.jsx(NN,{className:"h-6 w-6 text-green-600"}),"Market Popularity"]})]}),o.jsxs(De,{children:[o.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:d}),o.jsxs("div",{className:"mt-6 h-[220px] w-full max-w-[520px] mx-auto relative",children:[h.length>1&&o.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-green-600 bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full",children:[o.jsx(NN,{className:"h-3 w-3"}),"+",Math.round((h[h.length-1].popularity-h[0].popularity)/h[0].popularity*100),"%"]}),o.jsx(bO,{width:"100%",height:"100%",children:o.jsxs(nJ,{data:h,margin:{top:10,right:20,left:20,bottom:8},children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"colorPopularity",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),o.jsx(gd,{dataKey:"year",axisLine:!1,tickLine:!1,tickMargin:8,tick:{fontSize:12,fill:"#6b7280"},interval:0,padding:{left:18,right:18}}),o.jsx(Na,{content:({active:K,payload:de})=>K&&de&&de.length?o.jsxs("div",{className:"rounded-lg border bg-background p-2 shadow-sm text-xs",children:[o.jsxs("span",{className:"font-bold text-muted-foreground",children:[de[0].payload.year,":"]}),o.jsx("span",{className:"font-bold ml-1",children:de[0].value})]}):null}),o.jsx(cl,{type:"monotone",dataKey:"popularity",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorPopularity)"})]})})]})]})]})]}),o.jsxs(Re,{className:"border-none shadow-none rounded-3xl",children:[o.jsx(bt,{children:o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Jl,{className:"h-5 w-5"}),"Relevant Courses"]})}),o.jsxs(De,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(K=>o.jsx(Re,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/course/${K.id}`),children:o.jsxs(De,{className:"p-4",children:[o.jsx("h5",{className:"font-semibold text-sm mb-2",children:K.title}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:K.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ct,{variant:"secondary",className:"text-xs",children:K.level}),o.jsx("span",{className:"text-xs text-muted-foreground",children:K.duration})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",K.provider]})]})]})},K.id))}),v.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:"No relevant courses available"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["We couldn't find any courses specifically for"," ",B," at the moment. Check back later or explore our general course catalog."]})]})]})]}),o.jsxs(Re,{className:"border-none shadow-none rounded-3xl",children:[o.jsx(bt,{children:o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Gfe,{className:"h-5 w-5"}),"Project Ideas"]})}),o.jsxs(De,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Build these projects after completing courses to strengthen your skills:"}),o.jsx("div",{className:"space-y-3",children:y.map((K,de)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-muted rounded-lg",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-medium flex-shrink-0",children:de+1}),o.jsx("p",{className:"text-sm",children:K})]},de))})]})]}),o.jsxs(Re,{className:"border-none shadow-none rounded-3xl",children:[o.jsx(bt,{children:o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Xr,{className:"h-5 w-5"}),"Relevant Jobs"]})}),o.jsxs(De,{children:[b.length>0?o.jsx("div",{className:"space-y-3",children:b.map(K=>{const de=K.job_id||K.id||`job-${Math.random()}`,ae=K.job_title||K.title||"Untitled Position",xe=K.employer_name||K.company_name||(typeof K.company=="string"?K.company:"Unknown Company"),ke=K.job_city&&K.job_state?`${K.job_city}, ${K.job_state}`:K.job_city||K.job_state||K.location||"Location not specified",Me=K.job_apply_link||K.apply_link||K.url||"#",Ee=K.employer_logo||K.company_logo||K.logo_url||"";let ue="By agreement";const ge=K.job_min_salary||K.min_salary,U=K.job_max_salary||K.max_salary,ee=K.job_salary_currency||K.salary_currency||"$";return ge&&U&&typeof ge=="number"&&typeof U=="number"?ue=`${ee}${ge.toLocaleString()} - ${ee}${U.toLocaleString()}`:ge&&typeof ge=="number"&&(ue=`${ee}${ge.toLocaleString()}+`),o.jsx(Re,{className:"hover:bg-primary/5 hover:shadow-soft transition-all cursor-pointer",onClick:()=>t(`/jobs/${de}`),children:o.jsx(De,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[Ee&&o.jsx("img",{src:Ee,alt:xe,className:"w-12 h-12 rounded-lg object-contain flex-shrink-0",onError:_e=>{_e.target.style.display="none"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h5",{className:"font-semibold text-sm mb-1 line-clamp-1",children:ae}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[xe,"  ",ke]}),ue&&o.jsx(Ct,{variant:"secondary",className:"text-xs",children:ue})]}),o.jsx(se,{variant:"outline",size:"sm",onClick:_e=>{_e.stopPropagation(),window.open(Me,"_blank")},children:"Apply"})]})})},de)})}):o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No jobs found for this skill. Check back later!"}),b.length>0&&o.jsxs(se,{variant:"outline",className:"w-full mt-4",onClick:()=>{t(`/jobs?search=${encodeURIComponent(B)}`)},children:["View More Jobs",o.jsx(gb,{className:"h-4 w-4 ml-2"})]})]})]})]})})},c8=[{id:1,name:"Marketing",icon:""},{id:2,name:"Tech",icon:""},{id:3,name:"Design",icon:""},{id:4,name:"Business",icon:""},{id:5,name:"Education",icon:""},{id:6,name:"Science",icon:""},{id:7,name:"Healthcare",icon:""},{id:8,name:"Finance",icon:""},{id:9,name:"Arts",icon:""}];function HKe(){const[e,t]=m.useState([]),[r,n]=m.useState(!1),s=ar(),{user:a}=ir(),i=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},l=async()=>{if(e.length===0){fe.error("Please select at least one area of interest");return}if(!a){fe.error("Please sign in to save your interests.");return}n(!0);try{const c=e.map(d=>{var f;return(f=c8.find(h=>h.id===d))==null?void 0:f.name}).filter(Boolean),{error:u}=await Qt.from("profiles").update({interests:c,onboarding_completed:!0}).eq("id",a.id);if(u)throw u;fe.success("Interests saved! Your personalized experience is ready."),s("/home")}catch(c){fe.error(`Failed to save interests: ${c.message}`)}finally{n(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-breneo-navy mb-2",children:"What are you interested in?"}),o.jsx("p",{className:"text-gray-600",children:"Select areas you'd like to explore. This helps us personalize your experience."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:c8.map(c=>o.jsx(Re,{className:`p-4 cursor-pointer transition-all border-2 hover:shadow-soft ${e.includes(c.id)?"border-breneo-blue bg-breneo-blue/5":"border-transparent hover:border-gray-200"}`,onClick:()=>i(c.id),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-2xl",children:c.icon}),o.jsx("div",{className:"font-medium",children:c.name})]})},c.id))}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx(se,{onClick:l,className:"bg-breneo-blue hover:bg-breneo-blue/90",disabled:r,children:r?"Saving...":"Continue"})})]})}const KKe=()=>o.jsxs("div",{className:"min-h-screen bg-breneo-lightgray flex flex-col",children:[o.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:o.jsx("div",{className:"container mx-auto",children:o.jsx("a",{href:"/",className:"flex items-center space-x-2",children:o.jsx(An,{className:"h-9 md:h-8"})})})}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx(HKe,{})}),o.jsx("footer",{className:"bg-white py-4 px-6",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",new Date().getFullYear()," Breneo. All rights reserved."]})})})]}),GKe=async e=>{try{const t=await op(e);if(!t||t.length===0)return[];const r=lp(t);return Object.entries(r).sort(([,s],[,a])=>a-s).slice(0,5).map(([s])=>s)}catch(t){return console.error("Error fetching user skills:",t),[]}},YKe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||"",...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[],...typeof e.required_skills=="string"?e.required_skills.split(",").map(s=>s.trim()):[],...typeof e.skills=="string"?e.skills.split(",").map(s=>s.trim()):[],...typeof e.job_skills=="string"?e.job_skills.split(",").map(s=>s.trim()):[]].filter(Boolean).join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"],developer:["developer","development","programming","coding","software engineer","software developer"],designer:["designer","design","ui","ux","graphic designer","visual designer"],marketer:["marketer","marketing","digital marketing","social media","content marketing"],analyst:["analyst","analysis","data analyst","business analyst","data analytics"],teacher:["teacher","teaching","education","instructor","trainer"],"project manager":["project manager","pm","project management","scrum master","product manager"]};return Object.keys(n).forEach(s=>{n[s].some(i=>r.includes(i))&&t.push(s)}),[...new Set(t)]},JKe=(e,t)=>{if(t.length===0)return!1;const r=YKe(e);if(r.length===0){const l=[e.job_title||e.title||"",e.description||e.job_description||"",e.employer_name||e.company_name||e.company||"",e.job_required_experience||e.required_experience||e.experience||""].filter(Boolean).join(" ").toLowerCase(),c=u=>{const d=u.toLowerCase().trim(),f=[d];return d.includes("developer")&&f.push("development","programming","coding","software"),d.includes("designer")&&f.push("design","ui","ux","graphic"),d.includes("marketer")&&f.push("marketing","digital marketing","social media"),d.includes("analyst")&&f.push("analysis","data","analytics"),d.includes("manager")&&f.push("management","lead","coordinate"),f};return t.some(u=>c(u).some(f=>new RegExp(`\\b${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(l)))}const n=l=>l.toLowerCase().trim().replace(/\s+/g," "),s=t.map(n),a=r.map(n);return s.filter(l=>a.some(c=>!!(l===c||l.includes(c)||c.includes(l)))).length>0},XKe=async e=>{try{const{data:t,error:r}=await Qt.from("job_notifications").select("job_id").eq("user_id",e);return r?(console.error("Error fetching notified jobs:",r),new Set):new Set((t||[]).map(n=>n.job_id))}catch(t){return console.error("Error fetching notified jobs:",t),new Set}},QKe=async(e,t)=>{try{const{error:r}=await Qt.from("job_notifications").insert({user_id:e,job_id:t,notified_at:new Date().toISOString()});r&&console.error("Error marking job as notified:",r)}catch(r){console.error("Error marking job as notified:",r)}},ZKe=async(e,t)=>{try{const r=t.job_title||t.title||"New Job",n=t.employer_name||t.company_name||t.company||"Company",{error:s}=await Qt.from("notifications").insert({title:"New Job Match! ",message:`${r} at ${n} matches your skills`,type:"info",recipient_id:e,is_read:!1});s&&console.error("Error creating notification:",s)}catch(r){console.error("Error creating notification:",r)}},eGe=async e=>{try{const t=await GKe(e);if(t.length===0)return console.log("No user skills found, skipping job check"),[];console.log("Checking for jobs matching skills:",t);const n=(await uv({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:t},page:1,pageSize:50})).jobs||[];console.log(`Found ${n.length} jobs to check`);const s=J_(n);console.log(`Filtered to ${s.length} jobs from allowed ATS platforms`);const a=String(e),i=await XKe(qm(a)),l=[];for(const c of s){const u=c.job_id||c.id||"";u&&(i.has(u)||JKe(c,t)&&l.push(c))}console.log(`Found ${l.length} new matching jobs`);for(const c of l){const u=c.job_id||c.id||"";u&&(await ZKe(qm(a),c),await QKe(qm(a),u))}return l}catch(t){return console.error("Error checking for new job matches:",t),[]}},tGe=(e={})=>{const{user:t}=ir(),{enabled:r=!0,checkInterval:n=30*60*1e3}=e,[s,a]=m.useState("default"),[i,l]=m.useState(!1),c=m.useRef(null),u=m.useRef(!1),d=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission==="granted")return a("granted"),!0;if(Notification.permission==="denied")return a("denied"),!1;const g=await Notification.requestPermission();return a(g),g==="granted"},f=m.useCallback(g=>{if(s!=="granted"){console.log("Notification permission not granted");return}const v=g.job_title||g.title||"New Job",p=g.employer_name||g.company_name||g.company||"Company",y=g.job_id||g.id||"",x=new Notification("New Job Match! ",{body:`${v} at ${p} matches your skills`,icon:g.employer_logo||g.company_logo||g.logo_url||"/lovable-uploads/Breneo-logo.png",badge:"/lovable-uploads/Breneo-logo.png",tag:`job-${y}`,requireInteraction:!1});x.onclick=()=>{window.focus(),x.close(),window.location.href="/jobs"},setTimeout(()=>{x.close()},5e3)},[s]),h=m.useCallback(async()=>{if(!(!(t!=null&&t.id)||u.current)){u.current=!0,l(!0);try{const g=await eGe(t.id);for(const v of g)f(v);g.length>0&&console.log(`Sent ${g.length} job notifications`)}catch(g){console.error("Error checking for new jobs:",g)}finally{l(!1),u.current=!1}}},[t==null?void 0:t.id,f]);return m.useEffect(()=>{"Notification"in window&&a(Notification.permission)},[]),m.useEffect(()=>{!r||!(t!=null&&t.id)||(Notification.permission==="default"?console.log("Notification permission not yet requested"):Notification.permission==="granted"&&h())},[r,t==null?void 0:t.id,h]),m.useEffect(()=>{if(!r||!(t!=null&&t.id)||s!=="granted")return;c.current&&clearInterval(c.current),c.current=setInterval(()=>{h()},n);const g=()=>{document.visibilityState==="visible"&&h()};return document.addEventListener("visibilitychange",g),()=>{c.current&&clearInterval(c.current),document.removeEventListener("visibilitychange",g)}},[r,t==null?void 0:t.id,s,n,h]),{permission:s,requestPermission:d,isChecking:i,checkForNewJobs:h}},rGe=()=>{const{user:e}=ir(),t=ji(),r=Ys(),n=["user-notifications",e==null?void 0:e.id],s=(e==null?void 0:e.user_type)!=="academy";tGe({enabled:s&&!!(e!=null&&e.id),checkInterval:30*60*1e3}),m.useState(!1);const{data:a=[],isLoading:i}=Wt({queryKey:n,queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:d}=await Qt.from("notifications").select("*").or(`recipient_id.is.null,recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(d)throw console.error("Error fetching notifications:",d),new Error("Could not fetch notifications.");return u||[]},enabled:!!(e!=null&&e.id)}),l=pa({mutationFn:async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated.");const{error:d}=await Qt.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("recipient_id",e.id);if(d)throw d},onMutate:async u=>{await r.cancelQueries({queryKey:n});const d=r.getQueryData(n)||[];return r.setQueryData(n,f=>(f||[]).map(h=>h.id===u?{...h,is_read:!0}:h)),{previousNotifications:d}},onError:(u,d,f)=>{f!=null&&f.previousNotifications&&r.setQueryData(n,f.previousNotifications),fe.error("Could not mark notification as read.")},onSettled:()=>{r.invalidateQueries({queryKey:n})}});m.useEffect(()=>{if(!(e!=null&&e.id))return;const u=h=>{if(r.invalidateQueries({queryKey:n}),h.new){const g=h.new,v=`${g.title}: ${g.message}`;switch(g.type){case"success":fe.success(v);break;case"error":fe.error(v);break;case"warning":fe.warning(v);break;default:fe.info(v)}}},d=Qt.channel("personal-user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},u).subscribe(),f=Qt.channel("broadcast-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null"},u).subscribe();return()=>{Qt.removeChannel(d),Qt.removeChannel(f)}},[r,e==null?void 0:e.id,n]);const c=u=>{switch(u){case"success":return o.jsx("div",{className:"bg-green-100 rounded-full p-2",children:o.jsx(H4,{className:"h-5 w-5 text-green-600"})});case"warning":return o.jsx("div",{className:"bg-yellow-100 rounded-full p-2",children:o.jsx(nhe,{className:"h-5 w-5 text-yellow-600"})});case"error":return o.jsx("div",{className:"bg-red-100 rounded-full p-2",children:o.jsx(VA,{className:"h-5 w-5 text-red-600"})});default:return o.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:o.jsx(qA,{className:"h-5 w-5 text-blue-600"})})}};return a.filter(u=>!u.is_read&&u.recipient_id===(e==null?void 0:e.id)).length,o.jsx(It,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(Re,{children:o.jsx(De,{className:"p-0",children:o.jsx("div",{className:"divide-y divide-gray-200",children:i?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t.common.loading}):a.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-bell-dynamic-color.png",alt:"No notifications",className:"mx-auto h-48 w-48 mb-4 object-contain"}),o.jsx("p",{children:t.notifications.noNotifications})]}):a.map(u=>o.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${!u.is_read&&u.recipient_id===(e==null?void 0:e.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[c(u.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message}),!u.is_read&&u.recipient_id===(e==null?void 0:e.id)&&o.jsxs("button",{onClick:()=>l.mutate(u.id),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mt-2 disabled:opacity-50",disabled:l.isPending,children:[o.jsx(H4,{className:"h-4 w-4"}),t.notifications.markAsRead]})]})]},u.id))})})})})})},u8=()=>{const e=ar(),{user:t}=ir(),[r,n]=m.useState(null),[s,a]=m.useState([]),[i,l]=m.useState(!0),c=m.useCallback(async()=>{var g;if(t)try{const v=await Ce.get(Qe.ACADEMY.PROFILE);if(v.data){const p=v.data,y=Sc(p,(t==null?void 0:t.id)!=null?String(t.id):void 0),x={...y,first_name:y.first_name||(t==null?void 0:t.first_name)||y.academy_name||"",is_verified:p.is_verified??!1};n(x)}}catch(v){console.error("Failed to load academy profile:",v),((g=v.response)==null?void 0:g.status)===404?(fe.error("Please set up your academy profile first"),e("/academy/profile")):fe.error("Failed to load academy profile")}finally{l(!1)}},[t,e]),u=m.useCallback(async()=>{if(r)try{const{data:g,error:v}=await Qt.from("courses").select("id, title, category, level, created_at").eq("academy_id",r.id).order("created_at",{ascending:!1}).limit(5);if(v)throw v;a(g||[])}catch(g){console.error("Error fetching courses:",g)}},[r]);if(m.useEffect(()=>{c()},[c]),m.useEffect(()=>{r&&r.id&&u()},[r,u]),i)return o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})});if(!r)return o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})});const d=s.length,f=new Set(s.map(g=>g.category)).size,h=s.filter(g=>new Date(g.created_at).getTime()>Date.now()-30*24*60*60*1e3).length;return o.jsx(It,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-6",children:[o.jsxs(Re,{className:"min-w-0",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Ot,{className:"text-xs md:text-sm font-medium truncate",children:"Total Courses"}),o.jsx(Jl,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(De,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:d}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Active courses in your academy"})]})]}),o.jsxs(Re,{className:"min-w-0",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Ot,{className:"text-xs md:text-sm font-medium truncate",children:"Categories"}),o.jsx(fc,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(De,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:f}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Different course categories"})]})]}),o.jsxs(Re,{className:"min-w-0",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Ot,{className:"text-xs md:text-sm font-medium truncate",children:"Recent Courses"}),o.jsx(NN,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(De,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:h}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Added in the last 30 days"})]})]}),o.jsxs(Re,{className:"min-w-0",children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[o.jsx(Ot,{className:"text-xs md:text-sm font-medium truncate",children:"Status"}),o.jsx(mi,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),o.jsxs(De,{className:"p-3 md:p-6 pt-0",children:[o.jsx("div",{className:"text-lg md:text-2xl font-bold",children:r.is_verified?o.jsx(Ct,{className:"bg-green-500 text-[10px] md:text-xs",children:"Verified"}):o.jsx(Ct,{variant:"outline",className:"text-[10px] md:text-xs",children:"Pending"})}),o.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Academy verification status"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Au,{className:"h-5 w-5"}),"Academy Information"]})}),o.jsxs(De,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Academy Name"}),o.jsx("p",{className:"font-semibold",children:r.academy_name})]}),r.description&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),o.jsx("p",{className:"text-sm",children:r.description})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.website_url&&o.jsxs(se,{variant:"outline",size:"sm",onClick:()=>window.open(r.website_url,"_blank"),children:[o.jsx(jc,{className:"h-4 w-4 mr-2"}),"Website",o.jsx(Lg,{className:"h-3 w-3 ml-2"})]}),r.contact_email&&o.jsxs(se,{variant:"outline",size:"sm",onClick:()=>window.location.href=`mailto:${r.contact_email}`,children:[o.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]}),o.jsxs(Re,{children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between",children:[o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(Jl,{className:"h-5 w-5"}),"Recent Courses"]}),o.jsx(se,{variant:"ghost",size:"sm",onClick:()=>e("/academy/courses"),children:"View All"})]}),o.jsx(De,{children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No courses yet"}),o.jsx(se,{onClick:()=>e("/academy/courses/add"),size:"sm",children:"Create Your First Course"})]}):o.jsx("div",{className:"space-y-3",children:s.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:g.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Ct,{variant:"outline",className:"text-xs",children:g.category}),o.jsx(Ct,{variant:"secondary",className:"text-xs",children:g.level})]})]}),o.jsx(se,{variant:"ghost",size:"sm",onClick:()=>e(`/academy/courses/edit/${g.id}`),children:"Edit"})]},g.id))})})]})]}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsxs(Ot,{className:"flex items-center gap-2",children:[o.jsx(hc,{className:"h-5 w-5"}),"Quick Actions"]})}),o.jsx(De,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(se,{onClick:()=>e("/academy/courses/add"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Jl,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Add New Course"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Create and publish a new course"})]}),o.jsxs(se,{variant:"outline",onClick:()=>e("/academy/courses"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(vb,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Manage Courses"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"View and edit all your courses"})]}),o.jsxs(se,{variant:"outline",onClick:()=>e("/academy/profile"),className:"h-auto flex-col items-start p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Au,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Edit Profile"})]}),o.jsx("span",{className:"text-sm text-left opacity-80",children:"Update your academy information"})]})]})})]})]})})},AZ=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ce("w-full caption-bottom text-sm",e),...t})}));AZ.displayName="Table";const TZ=m.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ce("[&_tr]:border-b",e),...t}));TZ.displayName="TableHeader";const OZ=m.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ce("[&_tr:last-child]:border-0",e),...t}));OZ.displayName="TableBody";const nGe=m.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nGe.displayName="TableFooter";const aP=m.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));aP.displayName="TableRow";const su=m.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));su.displayName="TableHead";const au=m.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));au.displayName="TableCell";const sGe=m.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ce("mt-4 text-sm text-muted-foreground",e),...t}));sGe.displayName="TableCaption";const aGe=()=>{const e=ar(),{user:t}=ir(),[r,n]=m.useState([]),[s,a]=m.useState(null),[i,l]=m.useState(!0),c=f=>{e(`/academy/courses/edit/${f.id}`)},u=m.useCallback(async()=>{var f;if(t)try{const h=await Ce.get(Qe.ACADEMY.PROFILE);if(h.data){const g=h.data,v=Sc(g,(t==null?void 0:t.id)!=null?String(t.id):void 0),p={...v,first_name:v.first_name||(t==null?void 0:t.first_name)||v.academy_name||"",is_verified:g.is_verified??!1};a(p),console.log(" Academy profile loaded from API:",p)}}catch(h){console.error("Failed to load academy profile:",h),h&&typeof h=="object"&&"response"in h&&((f=h.response)==null?void 0:f.status)===404?fe.error("Please set up your academy profile first"):fe.error("Failed to load academy profile")}finally{l(!1)}},[t]),d=m.useCallback(async()=>{if(s)try{const{data:f,error:h}=await Qt.from("courses").select("*").eq("academy_id",s.id).order("created_at",{ascending:!1});if(h)throw h;const g=(f||[]).map(v=>({...v,required_skills:v.required_skills||[],topics:v.topics||[],enrolled:v.enrolled||!1,popular:v.popular||!1,is_academy_course:v.is_academy_course||!1}));n(g)}catch(f){console.error("Error fetching courses:",f);const h=f instanceof Error?f.message:"Failed to load courses";fe.error(h)}},[s]);return m.useEffect(()=>{u()},[u]),m.useEffect(()=>{s&&s.id&&d()},[s,d]),i?o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):s?o.jsx(It,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("span",{className:"text-md font-semibold",children:["You have ",r.length," Courses"]}),o.jsxs(se,{onClick:()=>e("/academy/courses/add"),children:[o.jsx(E1,{className:"w-4 h-4 mr-2"}),"Add Course"]})]}),o.jsx("div",{children:r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses yet"}),o.jsx("p",{className:"text-muted-foreground",children:"Add your first course to get started"})]}):o.jsxs(AZ,{children:[o.jsx(TZ,{children:o.jsxs(aP,{children:[o.jsx(su,{children:"Image"}),o.jsx(su,{children:"Title"}),o.jsx(su,{children:"Category"}),o.jsx(su,{children:"Level"}),o.jsx(su,{children:"Duration"}),o.jsx(su,{})]})}),o.jsx(OZ,{children:r.map(f=>o.jsxs(aP,{children:[o.jsx(au,{children:o.jsx("img",{src:f.image,alt:f.title,className:"h-16 w-auto rounded-md object-contain"})}),o.jsx(au,{className:"font-medium",children:f.title}),o.jsx(au,{children:o.jsx(Ct,{variant:"outline",children:f.category})}),o.jsx(au,{children:o.jsx(Ct,{variant:"secondary",children:f.level})}),o.jsx(au,{children:f.duration}),o.jsx(au,{className:"text-right",children:o.jsx(se,{variant:"outline",size:"sm",onClick:()=>c(f),children:o.jsx(Po,{className:"h-4 w-4"})})})]},f.id))})]})})]})})}):o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},iGe=Zy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),RZ=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ce(iGe({variant:t}),e),...r}));RZ.displayName="Alert";const $Z=m.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));$Z.displayName="AlertTitle";const MZ=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));MZ.displayName="AlertDescription";const oGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),lGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),cGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),uGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),dGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.137 6.29 2.137 1.42 0 2.77-.29 4-.816zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.72C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"})}),fGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),kk=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return o.jsx(oGe,{...r});case"linkedin":return o.jsx(lGe,{...r});case"facebook":return o.jsx(cGe,{...r});case"instagram":return o.jsx(uGe,{...r});case"dribbble":return o.jsx(dGe,{...r});case"behance":return o.jsx(fGe,{...r});default:return o.jsx(KA,{className:t||"h-5 w-5"})}},fm={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},hGe=()=>{const{user:e,logout:t,loading:r}=ir(),n=ar(),s=va(),[a,i]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState(!0),[f,h]=m.useState(!1),[g,v]=m.useState(!1),[p,y]=m.useState(!1),[x,b]=m.useState({contact_email:""}),[w,_]=m.useState({academy_name:"",description:"",website_url:"",contact_email:""}),[S,E]=m.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[k,j]=m.useState(!1),N=m.useRef(!1),[C,P]=m.useState(!1),[O,F]=m.useState(null),[M,q]=m.useState({platform:"",url:""}),[B,I]=m.useState(!1),[A,z]=m.useState(!1),[re,V]=m.useState(!1),[te,X]=m.useState(null),ye=m.useMemo(()=>{const Se=(Y,W)=>{if(Y&&typeof Y=="object")return Y[W]};return[Se(e,"phone_verified"),Se(e,"is_phone_verified"),Se(l,"phone_verified"),Se(l,"is_phone_verified")].some(Y=>Y===!0||Y==="true")},[e,l]),{isPhoneVerified:oe,isSendingCode:me,isVerifyingCode:D,codeSent:$,codeInput:H,resendCooldown:G,sendCode:le,verifyCode:J,setCodeInput:Z}=fJ({phoneNumber:e==null?void 0:e.phone_number,ownerId:e==null?void 0:e.id,role:(e==null?void 0:e.user_type)??"academy",initiallyVerified:ye}),K=async()=>{try{await le(),fe.info(e!=null&&e.phone_number?`We've sent a 6-digit code to ${e.phone_number}.`:"We've sent a 6-digit code to your phone.")}catch(Se){const Ie=Se instanceof Error?Se.message:"Failed to send verification code. Please try again.";fe.error(Ie)}},de=async()=>{try{await J()&&fe.success("Your phone number has been verified successfully.")}catch(Se){const Ie=Se instanceof Error?Se.message:"Verification failed. Please check the code and try again.";fe.error(Ie)}};m.useEffect(()=>{e!=null&&e.profile_image&&X(e.profile_image)},[e==null?void 0:e.profile_image]),m.useEffect(()=>{(async()=>{var Y,W,ie,Oe;if(r)return;if(!e){d(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),d(!1),fe.error("Please log in again to access your academy profile.");return}d(!0);try{try{const Ke=await Ce.get(Qe.ACADEMY.PROFILE);if(Ke.data){const Te=Ke.data,pe=Sc(Te,(e==null?void 0:e.id)!=null?String(e.id):void 0);i(pe),_({academy_name:pe.academy_name,description:pe.description,website_url:pe.website_url,contact_email:pe.contact_email}),b({contact_email:pe.contact_email}),Te.social_links&&typeof Te.social_links=="object"&&(E(yfe(Te.social_links)),N.current=!0)}}catch(Ke){const Te=Ke,pe=(Y=Te.response)==null?void 0:Y.status,Ae=(W=Te.response)==null?void 0:W.data;if(console.log(" Academy profile API response:",{status:pe,url:(ie=Te.config)==null?void 0:ie.url,hasToken:!!localStorage.getItem("authToken"),errorData:Ae}),pe===404)console.log(" Academy profile not found (404) - user may need to create one"),i(null);else if(pe===403)console.error("Access forbidden to academy profile"),fe.error("You don't have permission to access academy profile.");else if(pe===401){const Fe=(Ae==null?void 0:Ae.detail)||(Ae==null?void 0:Ae.message)||"";console.warn(" Academy profile returned 401",{errorDetail:Fe,url:(Oe=Te.config)==null?void 0:Oe.url});const Ge=String(Fe).toLowerCase();if(Ge.includes("not found")||Ge.includes("does not exist")||Ge.includes("no profile")||Ge.includes("user not found")){console.log(" Profile not found based on error message - treating as 404, allowing user to create profile"),i(null);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){if(console.error(" Token was cleared - checking if it's a server error or real expiration"),Ge.includes("academy")||Ge.includes("profile")){console.log(" Error mentions academy/profile - might be missing profile, allowing creation"),i(null);return}fe({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"});return}console.log(" Token exists but got 401 - treating as missing profile, allowing user to create profile"),i(null)}else console.error("Error fetching academy profile:",Te),fe.error("Could not load academy profile data. Please try again.")}}catch(Ke){const Te=Ke instanceof Error?Ke.message:"Unknown error";console.error("Unexpected error in fetchProfileData:",Te),fe({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[e,fe,r]),m.useEffect(()=>{a&&(async()=>{var Ie,Y;if(!(!e||!a)&&(Ie=e==null?void 0:e.email)!=null&&Ie.trim()&&!N.current){j(!0);try{const W=localStorage.getItem("authToken"),ie="academy",Oe=a.id,Ke=e.email.trim(),Te=await Ce.get("/api/social-links/",{headers:W?{Authorization:`Bearer ${W}`}:{},params:{role:ie,academy:Oe,user_email:Ke}});Te.data&&typeof Te.data=="object"&&!Array.isArray(Te.data)?E({github:Te.data.github||"",linkedin:Te.data.linkedin||"",facebook:Te.data.facebook||"",instagram:Te.data.instagram||"",dribbble:Te.data.dribbble||"",behance:Te.data.behance||""}):E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(W){((Y=W==null?void 0:W.response)==null?void 0:Y.status)===404&&(N.current=!0),E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{j(!1)}}})()},[e,a]);const ae=async()=>{var Se;if(!e){fe({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}if(!w.academy_name.trim()){fe({title:"Validation Error",description:"Academy name is required.",variant:"destructive"});return}y(!0);try{const Y=await Ce[a?"patch":"post"](Qe.ACADEMY.PROFILE,{academy_name:w.academy_name.trim(),description:w.description.trim()||null,website_url:w.website_url.trim()||null,contact_email:w.contact_email.trim()||null});if(Y.data){const W={id:(a==null?void 0:a.id)||Y.data.id||"",academy_name:w.academy_name.trim(),description:w.description.trim()||"",website_url:w.website_url.trim()||"",contact_email:w.contact_email.trim()||"",logo_url:(a==null?void 0:a.logo_url)||Y.data.logo_url||null};i(W),_({academy_name:W.academy_name,description:W.description,website_url:W.website_url,contact_email:W.contact_email}),fe.success(a?"Your academy profile has been updated.":"Your academy profile has been created."),h(!1)}}catch(Ie){const Y=Ie;let W="Failed to update profile. Please try again.";if((Se=Y.response)!=null&&Se.data){const ie=Y.response.data;W=ie.detail||ie.message||W}else Ie instanceof Error&&(W=Ie.message);console.error("Error updating academy profile:",W),fe.error(W)}finally{y(!1)}},xe=Se=>{const{id:Ie,value:Y}=Se.target;_(W=>({...W,[Ie]:Y}))},ke=()=>{t(),n("/")},Me=()=>{a&&b({contact_email:a.contact_email||""}),v(!0)},Ee=async()=>{var Se;if(a){y(!0);try{const Ie=await Ce.patch(Qe.ACADEMY.PROFILE,{academy_name:a.academy_name,description:a.description,website_url:a.website_url||null,contact_email:x.contact_email.trim()||null});if(Ie&&Ie.data){const Y={...a,contact_email:x.contact_email.trim()||""};i(Y),_(W=>({...W,contact_email:Y.contact_email})),fe.success("Contact information has been updated."),v(!1)}else throw new Error("No response data received")}catch(Ie){const Y=Ie;let W="Failed to update contact information. Please try again.";if((Se=Y.response)!=null&&Se.data){const ie=Y.response.data;W=ie.detail||ie.message||W}else Ie instanceof Error&&(W=Ie.message);console.error("Error updating contact information:",Ie),fe.error(W)}finally{y(!1)}}},ue=()=>{F(null),q({platform:"",url:""}),P(!0)},ge=Se=>{F(Se),q({platform:Se,url:S[Se]||""}),P(!0)},U=Se=>{try{const Ie=new URL(Se);return Ie.protocol==="http:"||Ie.protocol==="https:"}catch{try{const Ie=new URL(`https://${Se}`);return!0}catch{return!1}}},ee=async()=>{var Ie,Y,W;if(!e||!a||!M.platform||!M.url.trim()){fe.error("Please select a platform and provide a URL.");return}const Se=M.url.trim();if(!U(Se)){fe.error("Please enter a valid URL (e.g., https://example.com).");return}I(!0);try{if(M.platform==="website"){let he=Se;!he.startsWith("http://")&&!he.startsWith("https://")&&(he=`https://${he}`);const ze=await Ce.patch(Qe.ACADEMY.PROFILE,{academy_name:a.academy_name,description:a.description,website_url:he||null,contact_email:a.contact_email});if(ze&&ze.data){const yt={...a,website_url:he||""};i(yt),_(Et=>({...Et,website_url:yt.website_url})),fe.success(O==="website"?"Website updated successfully.":"Website added successfully."),P(!1),q({platform:"",url:""}),F(null)}else throw new Error("No response data received");return}const ie=localStorage.getItem("authToken");if(!ie)throw new Error("Authentication token is missing");const Oe=M.platform,Ke="academy",Te=a.id,pe=e==null?void 0:e.email;if(!Te||!pe)throw new Error("Missing required information: academy ID or user email");let Ae=Se;!Ae.startsWith("http://")&&!Ae.startsWith("https://")&&(Ae=`https://${Ae}`);const Fe={[Oe]:Ae,role:Ke,academy:Te,user_email:pe};console.log(" Saving social link:",{platform:Oe,url:Ae,role:Ke,academy:Te,user_email:pe});let Ge;try{Ge=await Ce.patch("/api/social-links/",Fe,{headers:{Authorization:`Bearer ${ie}`,"Content-Type":"application/json"}}),console.log(" Social link saved via PATCH:",Ge.data)}catch(he){const ze=he;if(((Ie=ze.response)==null?void 0:Ie.status)===404||((Y=ze.response)==null?void 0:Y.status)===400){console.log(" PATCH failed, trying POST to create new record...");try{Ge=await Ce.post("/api/social-links/",Fe,{headers:{Authorization:`Bearer ${ie}`,"Content-Type":"application/json"}}),console.log(" Social link created via POST:",Ge.data)}catch(yt){throw console.error(" Both PATCH and POST failed:",yt),he}}else throw he}if(!Ge||!Ge.data)throw new Error("No response data received from server");E(he=>({...he,[Oe]:Ae}));try{const he=await Ce.get("/api/social-links/",{headers:{Authorization:`Bearer ${ie}`},params:{role:Ke,academy:Te,user_email:pe}});if(he.data&&typeof he.data=="object"&&!Array.isArray(he.data)){const ze={github:he.data.github||"",linkedin:he.data.linkedin||"",facebook:he.data.facebook||"",instagram:he.data.instagram||"",dribbble:he.data.dribbble||"",behance:he.data.behance||""};E(ze),console.log(" Social links refreshed from server:",ze)}}catch(he){console.warn(" Could not refresh social links from server:",he)}fe.success(O?"Social link updated successfully.":"Social link added successfully."),P(!1),q({platform:"",url:""}),F(null)}catch(ie){const Oe=ie;let Ke="Failed to save. Please try again.";if((W=Oe.response)!=null&&W.data){const Te=Oe.response.data;Ke=Te.detail||Te.message||Ke}else ie instanceof Error&&(Ke=ie.message);console.error("Error saving social link/website:",ie),fe.error(Ke)}finally{I(!1)}},_e=async Se=>{var Y,W,ie,Oe,Ke,Te,pe;const Ie=(Y=Se.target.files)==null?void 0:Y[0];if(Ie){if(!Ie.type.startsWith("image/")){fe.error("Please select an image file.");return}if(Ie.size>5*1024*1024){fe.error("Image size should be less than 5MB.");return}z(!0),X(null);try{const Ae=new FormData;Ae.append("profile_image",Ie);const Fe=localStorage.getItem("authToken"),Ge=await Ce.patch(Qe.ACADEMY.PROFILE,Ae,{headers:{Authorization:Fe?`Bearer ${Fe}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Ge.data);const he=((W=Ge.data)==null?void 0:W.profile_image)||((Oe=(ie=Ge.data)==null?void 0:ie.profile)==null?void 0:Oe.profile_image)||((Te=(Ke=Ge.data)==null?void 0:Ke.user)==null?void 0:Te.profile_image)||null;X(he),fe.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(Ae){console.error(" Error uploading profile image:",Ae);const Fe=Ae;let Ge="Failed to upload profile image. Please try again.";if((pe=Fe.response)!=null&&pe.data){const he=Fe.response.data;Ge=he.detail||he.message||Ge}fe.error(Ge)}finally{z(!1)}}},Le=()=>{V(!0)},et=()=>{var Se;(Se=document.getElementById("profile-image-input"))==null||Se.click(),V(!1)},Xe=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){V(!1);return}z(!0),V(!1);try{const Se=localStorage.getItem("authToken"),Ie=await Ce.patch(Qe.ACADEMY.PROFILE,{profile_image:null},{headers:{Authorization:Se?`Bearer ${Se}`:void 0}});console.log(" Image removal response:",Ie.data),X(null);const Y=await Ce.get(Qe.ACADEMY.PROFILE,{headers:{Authorization:Se?`Bearer ${Se}`:void 0}});Y.data&&i(W=>W?{...W,...Y.data}:null),fe.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(Se){console.error(" Error removing profile image:",Se),fe.error("Failed to remove profile image. Please try again.")}finally{z(!1)}}},ot=async Se=>{var Ie;if(!(!e||!a||!confirm("Are you sure you want to remove this social link?")))try{const Y=localStorage.getItem("authToken");if(!Y)throw new Error("Authentication token is missing");const W="academy",ie=a.id,Oe=e==null?void 0:e.email;if(!ie||!Oe)throw new Error("Missing required information: academy ID or user email");console.log(" Deleting social link:",{platform:Se,role:W,academy:ie,user_email:Oe});const Ke={[Se]:"",role:W,academy:ie,user_email:Oe},Te=await Ce.patch("/api/social-links/",Ke,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(!Te||!Te.data)throw new Error("No response data received from server");console.log(" Social link deleted:",Te.data),E(pe=>({...pe,[Se]:""}));try{const pe=await Ce.get("/api/social-links/",{headers:{Authorization:`Bearer ${Y}`},params:{role:W,academy:ie,user_email:Oe}});if(pe.data&&typeof pe.data=="object"&&!Array.isArray(pe.data)){const Ae={github:pe.data.github||"",linkedin:pe.data.linkedin||"",facebook:pe.data.facebook||"",instagram:pe.data.instagram||"",dribbble:pe.data.dribbble||"",behance:pe.data.behance||""};E(Ae),console.log(" Social links refreshed from server after deletion:",Ae)}}catch(pe){console.warn(" Could not refresh social links from server:",pe)}fe.success("Social link removed successfully.")}catch(Y){const W=Y;let ie="Failed to remove social link. Please try again.";if((Ie=W.response)!=null&&Ie.data){const Oe=W.response.data;ie=Oe.detail||Oe.message||ie}else Y instanceof Error&&(ie=Y.message);console.error(" Error deleting social link:",Y),fe.error(ie)}};return r||u?o.jsx(It,{children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto mb-2"}),o.jsx("p",{children:"Loading profile..."})]})})}):!a&&!u?o.jsxs(It,{children:[o.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your academy profile hasn't been set up yet."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(se,{onClick:()=>h(!0),children:"Create Profile"}),o.jsx(se,{variant:"outline",onClick:()=>n("/academy/settings"),children:"Go to Settings"})]})]}),o.jsx(Ds,{open:f,onOpenChange:h,children:o.jsxs(_s,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Create Academy Profile"}),o.jsx(Nf,{children:"Enter your academy's information to create your profile. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"academy_name",className:"text-right",children:"Academy Name *"}),o.jsx(it,{id:"academy_name",value:w.academy_name,onChange:xe,className:"col-span-3",placeholder:"Enter academy name"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(Ty,{id:"description",value:w.description,onChange:xe,className:"col-span-3",placeholder:"Describe your academy"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(it,{id:"website_url",value:w.website_url,onChange:xe,className:"col-span-3",placeholder:"https://example.com"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(it,{id:"contact_email",type:"email",value:w.contact_email,onChange:xe,className:"col-span-3",placeholder:"contact@academy.com"})]})]}),o.jsxs(ui,{children:[o.jsx(se,{variant:"outline",onClick:()=>h(!1),disabled:p,children:"Cancel"}),o.jsx(se,{onClick:ae,disabled:p,children:p?"Creating...":"Create Profile"})]})]})})]}):o.jsx(It,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Re,{children:o.jsxs(De,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsxs("div",{className:"relative group cursor-pointer",onClick:Le,children:[o.jsx($g,{src:te||(e==null?void 0:e.profile_image)||(l==null?void 0:l.profile_image)||void 0,alt:(a==null?void 0:a.academy_name)||"Academy",fallback:a!=null&&a.academy_name?a.academy_name.charAt(0).toUpperCase():e!=null&&e.first_name?e.first_name.charAt(0).toUpperCase():e!=null&&e.email?e.email.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"}),A?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl z-10",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:o.jsx(Jz,{className:"h-8 w-8 text-white"})})]}),o.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:_e,disabled:A,className:"hidden"}),((e==null?void 0:e.first_name)||(e==null?void 0:e.last_name))&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:`${e.first_name||""} ${e.last_name||""}`.trim()}),(a==null?void 0:a.academy_name)&&o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2 text-center",children:a.academy_name}),o.jsxs("div",{className:"mt-4 flex items-center gap-2 w-full",children:[o.jsxs(se,{variant:"outline",className:"flex-[4] flex items-center justify-center gap-2",onClick:()=>n("/academy/settings"),children:[o.jsx(N1,{size:16}),"Settings"]}),o.jsx(se,{variant:"outline",onClick:ke,className:"flex-[1] flex items-center justify-center border-breneo-danger text-breneo-danger hover:bg-breneo-danger/10",children:o.jsx(Qz,{size:16})})]})]})}),o.jsxs(Re,{children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"}),a&&o.jsx(se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:Me,children:o.jsx(Po,{size:16,className:"text-breneo-blue"})})]}),o.jsxs(De,{className:"space-y-4",children:[(e==null?void 0:e.phone_number)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Fg,{size:18,className:"text-breneo-blue"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[o.jsx("span",{className:"text-sm",children:e.phone_number}),o.jsx(Ct,{variant:oe?"secondary":"outline",className:oe?"mt-1 sm:mt-0 bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"mt-1 sm:mt-0 border-orange-300 text-orange-600",children:oe?"Verified":"Unverified"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Xu,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:(e==null?void 0:e.email)||"Not provided"})]}),(a==null?void 0:a.contact_email)&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Xu,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:a.contact_email})]}),!oe&&o.jsx(RZ,{className:"border-orange-300 bg-orange-50 dark:border-orange-900/60 dark:bg-orange-950/30",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ig,{className:"h-5 w-5 text-orange-600 mt-1"}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{children:[o.jsx($Z,{children:"Verify your phone number"}),o.jsx(MZ,{children:"Confirm your phone number to ensure students and partners can trust your academy."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(se,{onClick:K,disabled:!(e!=null&&e.phone_number)||me||$&&G>0,children:me?"Sending...":$?"Resend code":"Send verification code"}),G>0&&o.jsxs("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:["You can request a new code in ",G,"s"]})]}),$&&o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsx(it,{inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:H,onChange:Se=>Z(Se.target.value.replace(/\D/g,"").slice(0,6)),className:"sm:max-w-[200px]"}),o.jsx(se,{onClick:de,disabled:H.length!==6||D,children:D?"Verifying...":"Verify"})]}),!(e!=null&&e.phone_number)&&o.jsx("div",{className:"pt-2",children:o.jsx(se,{variant:"outline",size:"sm",onClick:()=>n("/academy/settings"),children:"Add phone number in settings"})})]})]})]})})]})]}),o.jsxs(Re,{children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"}),a&&o.jsxs(se,{variant:"link",className:"text-breneo-blue p-0 h-auto flex items-center gap-1",onClick:ue,children:[o.jsx(E1,{size:16}),"Add"]})]}),o.jsx(De,{children:k?o.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):o.jsx("div",{className:"space-y-3",children:Object.entries(S).some(([Se,Ie])=>Ie&&Ie.trim()!=="")?Object.entries(S).filter(([Se,Ie])=>Ie&&Ie.trim()!=="").map(([Se,Ie])=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("a",{href:Ie,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:kk(Se,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:fm[Se]})}),o.jsx(Lg,{size:14,className:"text-gray-400 group-hover:text-breneo-blue"})]}),o.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[o.jsx(se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ge(Se),children:o.jsx(Po,{size:14})}),o.jsx(se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>ot(Se),children:o.jsx(Tu,{size:14})})]})]},Se)):o.jsx("div",{className:"text-center py-4 text-gray-500",children:'No social links added yet. Click "Add" to add your social media profiles or website.'})})})]})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(Re,{children:[o.jsxs(bt,{className:"flex flex-row items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Academy Information"}),a&&o.jsxs(se,{variant:"link",className:"text-breneo-blue p-0 h-auto",onClick:()=>h(!0),children:[o.jsx(Po,{size:16,className:"mr-1"}),"Edit"]})]}),o.jsxs(De,{className:"space-y-4",children:[(a==null?void 0:a.academy_name)&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Academy Name"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.academy_name})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("h4",{className:"font-semibold",children:"Description"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.description)||"No description provided."})]})]})]})}),o.jsx(Ds,{open:f,onOpenChange:h,children:o.jsxs(_s,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Edit Academy Profile"}),o.jsx(Nf,{children:"Make changes to your academy's information here. Click save when you're done."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"academy_name",className:"text-right",children:"Academy Name"}),o.jsx(it,{id:"academy_name",value:w.academy_name,onChange:xe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"description",className:"text-right",children:"Description"}),o.jsx(Ty,{id:"description",value:w.description,onChange:xe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),o.jsx(it,{id:"website_url",value:w.website_url,onChange:xe,className:"col-span-3"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Be,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),o.jsx(it,{id:"contact_email",type:"email",value:w.contact_email,onChange:xe,className:"col-span-3"})]})]}),o.jsxs(ui,{children:[o.jsx(se,{variant:"outline",onClick:()=>h(!1),disabled:p,children:"Cancel"}),o.jsx(se,{onClick:ae,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}),s?o.jsx(Yi,{open:g,onOpenChange:v,children:o.jsxs(Ji,{children:[o.jsx(Xi,{children:o.jsx(Qi,{children:"Edit Contact Information"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"contact_email_mobile",children:"Contact Email"}),o.jsx(it,{id:"contact_email_mobile",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(Xo,{className:"pt-4",children:[o.jsx(se,{onClick:Ee,disabled:p,children:p?"Saving...":"Save Changes"}),o.jsx(Bg,{asChild:!0,children:o.jsx(se,{variant:"outline",disabled:p,children:"Cancel"})})]})]})}):o.jsx(Ds,{open:g,onOpenChange:v,children:o.jsxs(_s,{children:[o.jsxs(Fs,{children:[o.jsx(Bs,{children:"Edit Contact Information"}),o.jsx(Nf,{children:"Update your contact information. Email cannot be changed."})]}),o.jsx("div",{className:"py-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"contact_email",children:"Contact Email"}),o.jsx(it,{id:"contact_email",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),o.jsxs(ui,{children:[o.jsx(se,{variant:"outline",onClick:()=>v(!1),disabled:p,children:"Cancel"}),o.jsx(se,{onClick:Ee,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}),s?o.jsx(Yi,{open:C,onOpenChange:P,children:o.jsxs(Ji,{children:[o.jsx(Xi,{children:o.jsx(Qi,{children:O==="website"?"Edit Website":O?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"social-platform-mobile",children:"Platform *"}),o.jsxs($o,{value:M.platform,onValueChange:Se=>q({...M,platform:Se}),disabled:B||!!O,children:[o.jsx(qi,{className:"mt-2",children:o.jsx(Mo,{placeholder:"Select a platform"})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jc,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(fm).map(Se=>o.jsx(_r,{value:Se,children:o.jsxs("div",{className:"flex items-center gap-2",children:[kk(Se,"h-4 w-4"),o.jsx("span",{children:fm[Se]})]})},Se))]})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"social-url-mobile",children:"URL *"}),o.jsx(it,{id:"social-url-mobile",type:"url",placeholder:"https://...",value:M.url,onChange:Se=>q({...M,url:Se.target.value}),className:"mt-2",disabled:B,required:!0})]})]})}),o.jsxs(Xo,{children:[o.jsx(se,{onClick:ee,disabled:B,children:B?"Saving...":O?"Update":"Add"}),o.jsx(Bg,{asChild:!0,children:o.jsx(se,{variant:"outline",disabled:B,children:"Cancel"})})]})]})}):o.jsx(Ds,{open:C,onOpenChange:P,children:o.jsxs(_s,{children:[o.jsx(Fs,{children:o.jsx(Bs,{children:O==="website"?"Edit Website":O?"Edit Social Link":"Add Link"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"social-platform-desktop",children:"Platform *"}),o.jsxs($o,{value:M.platform,onValueChange:Se=>q({...M,platform:Se}),disabled:B||!!O,children:[o.jsx(qi,{className:"mt-2",children:o.jsx(Mo,{placeholder:"Select a platform"})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"website",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jc,{className:"h-4 w-4"}),o.jsx("span",{children:"Website"})]})}),Object.keys(fm).map(Se=>o.jsx(_r,{value:Se,children:o.jsxs("div",{className:"flex items-center gap-2",children:[kk(Se,"h-4 w-4"),o.jsx("span",{children:fm[Se]})]})},Se))]})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"social-url-desktop",children:"URL *"}),o.jsx(it,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:M.url,onChange:Se=>q({...M,url:Se.target.value}),className:"mt-2",disabled:B,required:!0})]})]})}),o.jsxs(ui,{children:[o.jsx(se,{variant:"outline",onClick:()=>{P(!1),q({platform:"",url:""}),F(null)},disabled:B,children:"Cancel"}),o.jsx(se,{onClick:ee,disabled:B,children:B?"Saving...":O?"Update":"Add"})]})]})}),s?o.jsx(Yi,{open:re,onOpenChange:V,children:o.jsxs(Ji,{children:[o.jsx(Xi,{children:o.jsx(Qi,{children:"Profile Photo"})}),o.jsx("div",{className:"px-4 pb-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(se,{onClick:et,className:"w-full justify-start gap-3",variant:"ghost",disabled:A,children:[o.jsx(CN,{className:"h-5 w-5"}),te||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),te||e!=null&&e.profile_image?o.jsxs(se,{onClick:Xe,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:A,children:[o.jsx(Tu,{className:"h-5 w-5"}),"Remove Photo"]}):null]})})]})}):o.jsx(Ds,{open:re,onOpenChange:V,children:o.jsxs(_s,{children:[o.jsx(Fs,{children:o.jsx(Bs,{children:"Profile Photo"})}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(se,{onClick:et,className:"w-full justify-start gap-3",variant:"ghost",disabled:A,children:[o.jsx(CN,{className:"h-5 w-5"}),te||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),te||e!=null&&e.profile_image?o.jsxs(se,{onClick:Xe,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:A,children:[o.jsx(Tu,{className:"h-5 w-5"}),"Remove Photo"]}):null]})}),o.jsx(ui,{children:o.jsx(se,{variant:"outline",onClick:()=>V(!1),children:"Cancel"})})]})})]})})};function pGe(){const{user:e,loading:t,logout:r}=ir(),{theme:n,setTheme:s}=sl();zz();const a=Xs(),[i,l]=m.useState(!1),[c,u]=m.useState(!0),[d,f]=m.useState(!0),[h,g]=m.useState(!0),[v,p]=m.useState(!0),[y,x]=m.useState(!1),[b,w]=m.useState(!1);m.useState(!1);const[_,S]=m.useState(null),[E,k]=m.useState(!0),[j,N]=m.useState(""),[C,P]=m.useState(""),[O,F]=m.useState(""),[M,q]=m.useState(""),[B,I]=m.useState(""),[A,z]=m.useState(null);m.useState(1),m.useState(""),m.useState(""),m.useState(""),m.useState(!1),m.useEffect(()=>{l(!0);const ye=localStorage.getItem("pref_sound_effects"),oe=localStorage.getItem("pref_animations"),me=localStorage.getItem("pref_motivational_messages"),D=localStorage.getItem("pref_listening_exercises");ye!==null&&u(ye==="true"),oe!==null&&f(oe==="true"),me!==null&&g(me==="true"),D!==null&&p(D==="true")},[]),m.useEffect(()=>{i&&localStorage.setItem("pref_sound_effects",String(c))},[c,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_animations",String(d))},[d,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_motivational_messages",String(h))},[h,i]),m.useEffect(()=>{i&&localStorage.setItem("pref_listening_exercises",String(v))},[v,i]),m.useEffect(()=>{(async()=>{var me,D;if(t)return;if(!e){k(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),k(!1),fe.error("Authentication Error: Please log in again to access academy settings.");return}try{P(e.phone_number||"");try{const $=await Ce.get(Qe.ACADEMY.PROFILE);if($.data){const H=$.data;console.log(" Academy profile data:",H);const G=Sc(H,(e==null?void 0:e.id)!=null?String(e.id):void 0);z(G),N(G.academy_name),F(G.website_url),q(G.contact_email)}}catch($){const H=$,G=(me=H.response)==null?void 0:me.status,le=(D=H.response)==null?void 0:D.data;if(G===404)console.log(" Academy profile not found (404) - user may need to create one"),z(null);else if(G===401){const J=(le==null?void 0:le.detail)||(le==null?void 0:le.message)||"",Z=String(J).toLowerCase();Z.includes("not found")||Z.includes("does not exist")||Z.includes("user not found")?(console.log(" Profile not found based on error message - treating as 404"),z(null)):(console.warn(" Academy profile returned 401:",J),z(null))}else G===403?(console.error("Access forbidden to academy profile"),fe.error("Access Denied: You don't have permission to access academy settings.")):(console.error("Error fetching academy profile:",H),fe.error("Error fetching profile: Could not load academy profile data. Please try again."))}}catch($){console.error("Unexpected error fetching academy data:",$),fe.error("Failed to load academy data")}finally{k(!1)}})()},[e,t]),m.useEffect(()=>()=>{_&&URL.revokeObjectURL(_)},[_]),m.useEffect(()=>{y||I("")},[y]);const re=ye=>{if(!ye)return!0;const oe=/^\+?[\d\s\-().]{7,15}$/,me=ye.replace(/\D/g,"");return oe.test(ye)?me.length<7?(I("Phone number must contain at least 7 digits"),!1):me.length>15?(I("Phone number must not exceed 15 digits"),!1):(I(""),!0):(I("Phone number can only contain digits, spaces, hyphens, parentheses, and dots, optionally starting with +"),!1)},V=async ye=>{var me;if(ye.preventDefault(),!(j!==((A==null?void 0:A.academy_name)||"")||C!==((e==null?void 0:e.phone_number)||"")||O!==((A==null?void 0:A.website_url)||"")||M!==((A==null?void 0:A.contact_email)||""))){fe.info("No changes to save.");return}if(!j.trim()){fe.error("Academy name is required.");return}if(re(C)){if(w(!0),!e||!e.id){fe.error("User ID not found. Please log in again."),w(!1);return}try{C!==((e==null?void 0:e.phone_number)||"")&&(await Ce.patch(Qe.AUTH.PROFILE,{phone_number:C}),console.log("Phone number updated successfully"));try{const D=A?"patch":"post",$={academy_name:j.trim(),description:(A==null?void 0:A.description)||"",website_url:O.trim()||null,contact_email:M.trim()||null},H=await Ce[D](Qe.ACADEMY.PROFILE,$);if(H.data){const G=Sc(H.data,(e==null?void 0:e.id)!=null?String(e.id):void 0),le={...G,academy_name:j.trim(),description:G.description||(A==null?void 0:A.description)||"",website_url:O.trim()||G.website_url,contact_email:M.trim()||G.contact_email};z(le),console.log(" Academy profile updated successfully:",le)}}catch(D){console.error("Error updating academy profile:",D);const $=D;let H="Failed to update academy profile. Please try again.";if((me=$.response)!=null&&me.data){const G=$.response.data;H=G.detail||G.message||H}else D instanceof Error&&(H=D.message);throw new Error(H)}fe.success("Profile updated successfully!"),x(!1),setTimeout(()=>{window.location.reload()},500)}catch(D){console.error("Error updating profile:",D);let $="Failed to update profile.";nr.isAxiosError(D)&&D.response?$=D.response.data.detail||D.response.data.message||"An error occurred.":D instanceof Error&&($=D.message),fe.error($)}finally{w(!1)}}},te=()=>{r()};if(E||t)return o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading academy settings..."})})});const X=n==="dark"?"ON":"OFF";return o.jsx(It,{children:o.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:o.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Preferences"}),o.jsxs(Re,{children:[o.jsxs(bt,{children:[o.jsx(Ot,{children:"Profile Information"}),o.jsx(ln,{children:"Update your academy name and phone number"})]}),o.jsx(De,{className:"space-y-4",children:o.jsxs("form",{onSubmit:ye=>{ye.preventDefault(),V(ye)},className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"academyName",children:"Academy Name"}),o.jsx(it,{id:"academyName",value:j,onChange:ye=>{x(!0),N(ye.target.value)},placeholder:"Enter your academy name",disabled:b,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Be,{htmlFor:"phoneNumber",children:"Phone Number"}),o.jsx(it,{id:"phoneNumber",value:C,onChange:ye=>{x(!0);const oe=ye.target.value;P(oe),oe?re(oe):I("")},placeholder:"Enter your phone number",disabled:b}),B&&o.jsx("p",{className:"text-sm text-destructive",children:B})]}),o.jsx($f,{}),o.jsx(se,{type:"submit",disabled:b,children:b?"Saving...":"Save Changes"})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Lesson experience"}),o.jsx($f,{})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{htmlFor:"sound-effects",className:"text-base font-normal",children:"Sound effects"}),o.jsx(bs,{id:"sound-effects",checked:c,onCheckedChange:u})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{htmlFor:"animations",className:"text-base font-normal",children:"Animations"}),o.jsx(bs,{id:"animations",checked:d,onCheckedChange:f})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{htmlFor:"motivational-messages",className:"text-base font-normal",children:"Motivational messages"}),o.jsx(bs,{id:"motivational-messages",checked:h,onCheckedChange:g})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{htmlFor:"listening-exercises",className:"text-base font-normal",children:"Listening exercises"}),o.jsx(bs,{id:"listening-exercises",checked:v,onCheckedChange:p})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Appearance"}),o.jsx($f,{})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Be,{htmlFor:"dark-mode",className:"text-base font-normal",children:"Dark mode"}),o.jsxs($o,{value:n||"light",onValueChange:ye=>s(ye),children:[o.jsx(qi,{id:"dark-mode",className:"w-32",children:o.jsx(Mo,{children:X})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"light",children:"OFF"}),o.jsx(_r,{value:"dark",children:"ON"})]})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(KC,{}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx(Ot,{className:"text-lg",children:"Account"})}),o.jsxs(De,{className:"space-y-2",children:[o.jsx(Lr,{to:"/academy/settings",className:`block text-sm transition-colors ${a.pathname==="/academy/settings"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Preferences"}),o.jsx(Lr,{to:"/academy/profile",className:`block text-sm transition-colors ${a.pathname==="/academy/profile"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Profile"}),o.jsx(Lr,{to:"/academy/profile",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Privacy settings"})]})]}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx(Ot,{className:"text-lg",children:"Subscription"})}),o.jsx(De,{children:o.jsx(Lr,{to:"/academy/settings?upgrade=true",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Choose a plan"})})]}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx(Ot,{className:"text-lg",children:"Support"})}),o.jsx(De,{children:o.jsx(Lr,{to:"/help",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Help Center"})})]}),o.jsx(se,{variant:"link",onClick:te,className:"w-full text-primary hover:text-primary/80 justify-center",children:"LOG OUT"})]})]})})})}const mGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),gGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),yGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),vGe=({className:e})=>o.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),xGe=(e,t)=>{const r={className:t};switch(e){case"github":return o.jsx(mGe,{...r});case"linkedin":return o.jsx(gGe,{...r});case"facebook":return o.jsx(yGe,{...r});case"instagram":return o.jsx(vGe,{...r});default:return o.jsx(KA,{className:t})}},bGe={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram"},wGe=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),_Ge=()=>{const{academySlug:e}=Jh();ir();const t=ar(),r=e?/^\d+$/.test(e):!1,n=e?wGe(e)||r:!1,s=n?e:null,a=n?null:e,i=v=>{if(!v)return{id:""};const p=x=>{for(const b of x){const w=v[b];if(w!=null){if(typeof w=="string"&&w.trim())return w;if(typeof w=="number")return String(w)}}};return{id:v.id!==null&&v.id!==void 0?String(v.id):v.academy_id!==null&&v.academy_id!==void 0?String(v.academy_id):"",user_id:v.user_id,academy_name:p(["academy_name","name","academyName","first_name","firstName"])||void 0,description:p(["description","desc"])||void 0,website_url:p(["website_url","website","websiteUrl","url"])||void 0,contact_email:p(["contact_email","email","contactEmail","contact_mail"])||void 0,phone_number:p(["phone_number","phone","phoneNumber"])||void 0,is_verified:v.is_verified||v.isVerified||v.verified||!1,logo_url:p(["logo_url","logoUrl","logo","profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","image"])||void 0,profile_photo_url:p(["profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto","image","logo_url","logoUrl","logo"])||void 0,social_links:v.social_links||void 0}},{data:l,isLoading:c,error:u}=Wt({queryKey:["academy-profile",s||a],queryFn:async()=>{var w,_,S,E,k,j;if(!e)return null;let v=null,p=null;try{let N;if(n&&s)p=s,N=await Ce.get(`/api/academy/${s}/`),console.log(" Academy profile fetched by ID:",{academyId:s,rawData:N.data,hasProfileData:!!((w=N.data)!=null&&w.profile_data)}),(_=N.data)!=null&&_.profile_data?(v=N.data.profile_data,console.log(" Using profile_data from response:",v)):v=N.data;else if(a)N=await Ce.get(`/api/academy/${a}/`),console.log(" Academy profile fetched by slug:",{academySlug:a,rawData:N.data,hasProfileData:!!((S=N.data)!=null&&S.profile_data)}),(E=N.data)!=null&&E.profile_data?(v=N.data.profile_data,console.log(" Using profile_data from response:",v)):v=N.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?p=String(v.id):v!=null&&v.academy_id&&(p=String(v.academy_id));else return null}catch(N){if(a)try{const C=await Ce.get(`/api/academies/${a}/`);console.log(" Academy profile fetched (plural endpoint):",{academySlug:a,rawData:C.data,hasProfileData:!!((k=C.data)!=null&&k.profile_data)}),(j=C.data)!=null&&j.profile_data?v=C.data.profile_data:v=C.data,(v==null?void 0:v.id)!==null&&(v==null?void 0:v.id)!==void 0?p=String(v.id):v!=null&&v.academy_id&&(p=String(v.academy_id))}catch(C){console.error(" Error fetching academy profile:",{singularError:N,pluralError:C,academySlug:a,endpointsTried:[`/api/academy/${a}/`,`/api/academies/${a}/`]})}else console.error(" Error fetching academy profile by ID:",{error:N,academyId:s,endpoint:`/api/academy/${s}/`})}const y=v?i(v):null;let x=null;if(p||y!=null&&y.id){const N=p||(y==null?void 0:y.id);try{const{data:C,error:P}=await Qt.from("academy_profiles").select("id, academy_name, description, website_url, contact_email, logo_url, is_verified, user_id").eq("id",N).single();P?console.warn(" Error fetching academy profile from Supabase:",P):C&&(x=C,console.log(" Academy profile fetched from Supabase:",x))}catch(C){console.warn(" Error fetching from Supabase:",C)}}if(!y&&!x&&v===null&&!p)throw new Error("Academy not found");const b={id:(y==null?void 0:y.id)||(x==null?void 0:x.id)||p||"",user_id:(y==null?void 0:y.user_id)||(x==null?void 0:x.user_id),academy_name:(y==null?void 0:y.academy_name)||(x==null?void 0:x.academy_name)||void 0,description:(y==null?void 0:y.description)||(x==null?void 0:x.description)||void 0,website_url:(y==null?void 0:y.website_url)||(x==null?void 0:x.website_url)||void 0,contact_email:(y==null?void 0:y.contact_email)||(x==null?void 0:x.contact_email)||void 0,phone_number:(y==null?void 0:y.phone_number)||void 0,is_verified:(y==null?void 0:y.is_verified)??(x==null?void 0:x.is_verified)??!1,logo_url:(y==null?void 0:y.logo_url)||(y==null?void 0:y.profile_photo_url)||(x==null?void 0:x.logo_url)||void 0,profile_photo_url:(y==null?void 0:y.profile_photo_url)||(y==null?void 0:y.logo_url)||(x==null?void 0:x.logo_url)||void 0,social_links:(y==null?void 0:y.social_links)||void 0};if(!b.academy_name&&!b.id)throw new Error("Academy not found");return console.log(" Merged academy profile:",b),b},enabled:!!e,retry:1}),{data:d,isLoading:f,error:h}=Wt({queryKey:["academy-courses",l==null?void 0:l.id,s||a],queryFn:async()=>{const v=(l==null?void 0:l.id)||s;if(!v)return console.warn(" No academy ID available to fetch courses"),[];try{const{data:p,error:y}=await Qt.from("courses").select("*").eq("academy_id",v).order("created_at",{ascending:!1});if(y)throw console.error(" Error fetching courses from Supabase:",y),y;return console.log(" Academy courses fetched from Supabase:",{academyId:v,courseCount:(p==null?void 0:p.length)||0}),Array.isArray(p)?p.map(x=>({...x,topics:x.topics||[],required_skills:x.required_skills||[]})):[]}catch(p){return console.error(" Error fetching courses from Supabase:",p),[]}},enabled:!!(l!=null&&l.id||s),retry:1});if(!e)return o.jsx(It,{children:o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("p",{className:"text-red-500",children:"Academy ID or slug is required"}),o.jsx(Lr,{to:"/courses",children:o.jsxs(se,{variant:"outline",className:"mt-4",children:[o.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})});const g=(l==null?void 0:l.academy_name)||(a?jKe(a):"Loading Academy...");return o.jsx(It,{children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded"}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})}),o.jsx(De,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),o.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})})]})]})}),o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Re,{children:o.jsx(De,{className:"p-6",children:o.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-3xl mb-6"}),o.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-4"}),o.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]})})}),o.jsx(Re,{children:o.jsx(De,{className:"p-4",children:o.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mx-auto"})})})]})]}):l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsx(Re,{children:o.jsxs(De,{className:"flex flex-col items-center pb-6 pt-6",children:[o.jsx("div",{className:"relative",children:o.jsx($g,{src:l.profile_photo_url||l.logo_url||void 0,alt:l.academy_name||"Academy",fallback:l.academy_name?l.academy_name.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"})}),l.academy_name&&o.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:l.academy_name}),l.is_verified&&o.jsx(Ct,{className:"bg-green-100 text-green-800 hover:bg-green-100 mt-2",children:"Verified"}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(d==null?void 0:d.length)||0}),o.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total courses"})]})]})}),o.jsx(Re,{children:o.jsx(De,{className:"p-4 text-center",children:o.jsx(Ct,{variant:"outline",className:"text-xs uppercase tracking-wider",children:"ACADEMY"})})}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"})}),o.jsxs(De,{className:"space-y-4",children:[l.phone_number&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Fg,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.phone_number})]}),l.contact_email&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(Xu,{size:18,className:"text-breneo-blue"})}),o.jsx("span",{className:"text-sm",children:l.contact_email})]}),l.website_url&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:o.jsx(jc,{size:18,className:"text-breneo-blue"})}),o.jsxs("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-breneo-blue hover:underline flex items-center gap-1",children:[l.website_url,o.jsx(Lg,{size:14})]})]})]})]}),l.social_links&&(l.social_links.github||l.social_links.linkedin||l.social_links.facebook||l.social_links.instagram)&&o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"})}),o.jsx(De,{children:o.jsx("div",{className:"space-y-3",children:Object.entries(l.social_links).filter(([v,p])=>p&&p.trim()!=="").map(([v,p])=>o.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[o.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:xGe(v,"h-[18px] w-[18px] text-breneo-blue")}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:bGe[v]})}),o.jsx(Lg,{size:14,className:"text-gray-400"})]},v))})})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Lr,{to:"/courses",children:o.jsxs(se,{variant:"ghost",className:"text-breneo-blue hover:text-breneo-blue/80 mb-4",children:[o.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"About me"})}),o.jsx(De,{children:o.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:l.description?o.jsx("p",{children:l.description}):o.jsx("p",{className:"text-gray-400 italic",children:"No description available"})})})]}),o.jsxs(Re,{children:[o.jsx(bt,{children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My courses (",(d==null?void 0:d.length)||0,")"]})}),o.jsx(De,{children:f?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:"Loading courses..."})}):d&&d.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(v=>o.jsxs(Re,{className:"overflow-hidden",children:[o.jsx("div",{className:"h-40 overflow-hidden",children:o.jsx("img",{src:v.image?v.image:"/lovable-uploads/no_photo.png",alt:v.title,className:"w-full h-full object-cover",onError:p=>{const y=p.target;y.src.includes("/lovable-uploads/no_photo.png")||(y.onerror=null,y.src="/lovable-uploads/no_photo.png")}})}),o.jsxs(De,{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-medium text-lg",children:v.title}),v.popular&&o.jsx(Ct,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Popular"})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[o.jsx("span",{children:v.level}),o.jsx("span",{children:""}),o.jsx("span",{children:v.duration}),o.jsx("span",{children:""}),o.jsx("span",{children:v.category})]}),o.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:v.description}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.topics.slice(0,3).map((p,y)=>o.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:p},y)),v.topics.length>3&&o.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",v.topics.length-3," more"]})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.required_skills.slice(0,2).map((p,y)=>o.jsx("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:p},y)),v.required_skills.length>2&&o.jsxs("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:["+",v.required_skills.length-2]})]}),o.jsx(se,{size:"sm",variant:v.enrolled?"outline":"default",className:v.enrolled?"":"bg-breneo-blue hover:bg-breneo-blue/90",onClick:()=>{v.enrolled||t(`/course/${v.id}`)},children:v.enrolled?"Continue":"Enroll"})]})]})]},v.id))}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-3xl border",children:[o.jsxs("p",{className:"text-gray-500 mb-4",children:["No courses found for ",g]}),o.jsx(Lr,{to:"/courses",children:o.jsx(se,{variant:"outline",children:"Browse All Courses"})})]})})]})]})]}):u||!l?o.jsx("div",{className:"lg:col-span-3",children:o.jsx(Re,{className:"border-red-200",children:o.jsx(De,{className:"p-6 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-breneo-navy mb-4",children:"Academy Not Found"}),o.jsx("p",{className:"text-red-600 mb-4 text-lg",children:"Cannot find an academy"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u instanceof Error?u.message==="Academy not found"||u.message.includes("not found")||u.message.includes("404")?"The academy you're looking for doesn't exist or has been removed.":`Error: ${u.message}`:"The academy you're looking for doesn't exist or has been removed."}),e&&o.jsx("p",{className:"text-gray-500 text-xs mb-6",children:n?`Academy ID: ${s}`:`Academy Slug: ${a}`}),o.jsx(Lr,{to:"/courses",children:o.jsxs(se,{variant:"default",children:[o.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})}):null})})},SGe=()=>{const e=ar();sl();const[t,r]=m.useState(!1),[n,s]=m.useState(1),[a,i]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState(""),[g,v]=m.useState(""),[p,y]=m.useState(""),[x,b]=m.useState(!1),[w,_]=m.useState(!1),[S,E]=m.useState(dn.find(B=>B.code==="GE")),[k,j]=m.useState(!1),[N,C]=m.useState(!1),[P,O]=m.useState(!1);m.useEffect(()=>{r(!0)},[]);const F=m.useCallback(B=>new Promise((I,A)=>{const z=new Image;z.onload=()=>I(),z.onerror=()=>A(new Error(`Failed to load image: ${B}`)),z.src=B}),[]);m.useEffect(()=>{(async()=>{try{await Promise.all([F("/lovable-uploads/Breneo-logo.png"),F("/lovable-uploads/Breneo-logo-dark.png"),F("/lovable-uploads/academy.png")])}catch(I){console.warn("Some images failed to preload:",I),O(!0)}})()},[F]);const M=()=>{if(!a||!l||!u||!f){fe.error("Please fill out all fields to continue.");return}s(2)},q=async B=>{if(B.preventDefault(),n!==2||!g||!p){fe.error("Please complete all fields to register.");return}_(!0);const I=`${S==null?void 0:S.dial_code}${f}`;try{const A=await fetch(`${kf}/api/academy/register/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:l,password:u,phone_number:I,description:g,website:p})}),z=A.headers.get("content-type");if(z&&z.indexOf("application/json")!==-1){const re=await A.json();if(A.ok)fe.success("Registration successful! Please verify your email."),sessionStorage.setItem("tempAcademyEmail",l),e("/email-verification",{state:{email:l,isAcademy:!0}});else{const V=Object.values(re).flat();fe.error(V.join(" ")||"Registration failed.")}}else{const re=await A.text();console.error("Server returned non-JSON response:",re),fe.error("A server error occurred. Please try again later.")}}catch(A){console.error("Registration error:",A),fe.error("An unexpected error occurred. Please try again.")}finally{_(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[o.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[o.jsxs("div",{className:"flex items-center",children:[!k&&!P&&o.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-6 lg:h-5 transition-opacity duration-300 ${k?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{O(!0),j(!0)}})]}),o.jsx(ao,{})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"mb-4 hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[!k&&!P&&o.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:o.jsx(vn,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-8 transition-opacity duration-300 ${k?"opacity-100":"opacity-0"}`,onLoad:()=>j(!0),onError:()=>{O(!0),j(!0)}})]}),o.jsx(ao,{})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-secondary rounded-full h-2 mb-8",children:o.jsx("div",{className:"bg-[#00BFFF] h-2 rounded-full transition-all duration-500 ease-in-out",style:{width:n===1?"50%":"100%"}})}),o.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Register Academy"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:n===1?"Start by creating your account credentials.":"Tell us more about your academy."}),o.jsxs("form",{onSubmit:q,className:"space-y-6",children:[n===1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"name",children:"Academy Name"}),o.jsx(it,{id:"name",placeholder:"Your academy's name",className:"mt-1 h-[3.2rem]",value:a,onChange:B=>i(B.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"email",children:"Email Address"}),o.jsx(it,{id:"email",type:"email",placeholder:"Enter contact email",className:"mt-1 h-[3.2rem]",value:l,onChange:B=>c(B.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"phone",children:"Phone Number"}),o.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input transition-colors focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[o.jsx(mW,{value:S,onChange:E,className:"max-w-fit px-3 h-[3.2rem] border-0 bg-transparent hover:bg-transparent rounded-r-none"}),o.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),o.jsx(it,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-[3.2rem] border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:B=>h(B.target.value),required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(it,{id:"password",type:x?"text":"password",placeholder:"Create a password",className:"pr-10 h-[3.2rem]",value:u,onChange:B=>d(B.target.value),required:!0}),o.jsx(se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),children:x?o.jsx(Dg,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):o.jsx(Ju,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]})]}),n===2&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"description",children:"Description"}),o.jsx("textarea",{id:"description",placeholder:"Describe your academy",className:"mt-1 w-full h-24 px-3 py-2 text-base border border-input bg-background text-foreground placeholder:text-muted-foreground rounded-md resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:g,onChange:B=>v(B.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"website",children:"Website"}),o.jsx(it,{id:"website",type:"url",placeholder:"https://your-academy.com",className:"mt-1 h-[3.2rem]",value:p,onChange:B=>y(B.target.value),required:!0})]})]}),o.jsxs("div",{className:"pt-2",children:[n===1&&o.jsx(se,{type:"button",onClick:M,className:"w-full h-14",children:"Next"}),n===2&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(se,{type:"button",variant:"outline",className:"w-full h-14",onClick:()=>s(1),children:"Back"}),o.jsx(se,{type:"submit",className:"w-full h-14",disabled:w,children:w?"Registering...":"Register"})]})]})]}),o.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",o.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),o.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:o.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!N&&!P&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:o.jsx(vn,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),o.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,style:{backgroundImage:N?"url('/lovable-uploads/academy.png')":"none"}}),o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"",className:"hidden",onLoad:()=>C(!0),onError:()=>{O(!0),C(!0)}}),P&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("img",{src:"/lovable-uploads/academy.png",alt:"Academy",className:"w-full h-full object-cover"})})]})})]})]})};function jGe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var kGe="DismissableLayer",iP="dismissableLayer.update",EGe="dismissableLayer.pointerDownOutside",NGe="dismissableLayer.focusOutside",d8,IZ=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LZ=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(IZ),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=xt(t,k=>f(k)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=AGe(k=>{const j=k.target,N=[...u.branches].some(C=>C.contains(j));!_||N||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),E=TGe(k=>{const j=k.target;[...u.branches].some(C=>C.contains(j))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return jGe(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(d8=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),f8(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=d8)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),f8())},[d,u]),m.useEffect(()=>{const k=()=>g({});return document.addEventListener(iP,k),()=>document.removeEventListener(iP,k)},[]),o.jsx(rt.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,S.onPointerDownCapture)})});LZ.displayName=kGe;var CGe="DismissableLayerBranch",PGe=m.forwardRef((e,t)=>{const r=m.useContext(IZ),n=m.useRef(null),s=xt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(rt.div,{...e,ref:s})});PGe.displayName=CGe;function AGe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){DZ(EGe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function TGe(e,t=globalThis==null?void 0:globalThis.document){const r=Ut(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&DZ(NGe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function f8(){const e=new CustomEvent(iP);document.dispatchEvent(e)}function DZ(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qh(s,a):s.dispatchEvent(a)}var Ek="focusScope.autoFocusOnMount",Nk="focusScope.autoFocusOnUnmount",h8={bubbles:!1,cancelable:!0},OGe="FocusScope",FZ=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Ut(s),d=Ut(a),f=m.useRef(null),h=xt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let p=function(w){if(g.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Pl(f.current,{select:!0})},y=function(w){if(g.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Pl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Pl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){m8.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Ek,h8);l.addEventListener(Ek,u),l.dispatchEvent(x),x.defaultPrevented||(RGe(DGe(BZ(l)),{select:!0}),document.activeElement===p&&Pl(l))}return()=>{l.removeEventListener(Ek,u),setTimeout(()=>{const x=new CustomEvent(Nk,h8);l.addEventListener(Nk,d),l.dispatchEvent(x),x.defaultPrevented||Pl(p??document.body,{select:!0}),l.removeEventListener(Nk,d),m8.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(p=>{if(!r&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,_]=$Ge(b);w&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&Pl(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Pl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,g.paused]);return o.jsx(rt.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});FZ.displayName=OGe;function RGe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Pl(n,{select:t}),document.activeElement!==r)return}function $Ge(e){const t=BZ(e),r=p8(t,e),n=p8(t.reverse(),e);return[r,n]}function BZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function p8(e,t){for(const r of e)if(!MGe(r,{upTo:t}))return r}function MGe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IGe(e){return e instanceof HTMLInputElement&&"select"in e}function Pl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&IGe(e)&&t&&e.select()}}var m8=LGe();function LGe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=g8(e,t),e.unshift(t)},remove(t){var r;e=g8(e,t),(r=e[0])==null||r.resume()}}}function g8(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function DGe(e){return e.filter(t=>t.tagName!=="A")}var FGe="Portal",UZ=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);an(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Bh.createPortal(o.jsx(rt.div,{...n,ref:t}),i):null});UZ.displayName=FGe;var zZ=nv(),Ck=function(){},X_=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Ck,onWheelCapture:Ck,onTouchMoveCapture:Ck}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,w=ep(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=rv([r,t]),E=Zt(Zt({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:zZ,removeScrollBar:u,shards:f,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:b}),i?m.cloneElement(m.Children.only(l),Zt(Zt({},E),{ref:S})):m.createElement(x,Zt({},E,{className:c,ref:S}),l))});X_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};X_.classNames={fullWidth:mc,zeroRight:pc};var oP=!1;if(typeof window<"u")try{var G0=Object.defineProperty({},"passive",{get:function(){return oP=!0,!0}});window.addEventListener("test",G0,G0),window.removeEventListener("test",G0,G0)}catch{oP=!1}var Bd=oP?{passive:!1}:!1,BGe=function(e){return e.tagName==="TEXTAREA"},qZ=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!BGe(e)&&r[t]==="visible")},UGe=function(e){return qZ(e,"overflowY")},zGe=function(e){return qZ(e,"overflowX")},y8=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=WZ(e,n);if(s){var a=VZ(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qGe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},WGe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},WZ=function(e,t){return e==="v"?UGe(t):zGe(t)},VZ=function(e,t){return e==="v"?qGe(t):WGe(t)},VGe=function(e,t){return e==="h"&&t==="rtl"?-1:1},HGe=function(e,t,r,n,s){var a=VGe(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=VZ(e,l),v=g[0],p=g[1],y=g[2],x=p-y-a*v;(v||x)&&WZ(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Y0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v8=function(e){return[e.deltaX,e.deltaY]},x8=function(e){return e&&"current"in e?e.current:e},KGe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},GGe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},YGe=0,Ud=[];function JGe(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(YGe++)[0],a=m.useState(tp)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=tv([e.lockRef.current],(e.shards||[]).map(x8),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=Y0(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,E=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&E.type==="range")return!1;var j=y8(k,E);if(!j)return!0;if(j?S=k:(S=k==="v"?"h":"v",j=y8(k,E)),!j)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var N=n.current||S;return HGe(N,y,p,N==="h"?w:_,!0)},[]),c=m.useCallback(function(p){var y=p;if(!(!Ud.length||Ud[Ud.length-1]!==a)){var x="deltaY"in y?v8(y):Y0(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&KGe(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(x8).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=w.length>0?l(y,w[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:XGe(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(p){r.current=Y0(p),n.current=void 0},[]),f=m.useCallback(function(p){u(p.type,v8(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,Y0(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return Ud.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Bd),document.addEventListener("touchmove",c,Bd),document.addEventListener("touchstart",d,Bd),function(){Ud=Ud.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Bd),document.removeEventListener("touchmove",c,Bd),document.removeEventListener("touchstart",d,Bd)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:GGe(s)}):null,g?m.createElement(av,{gapMode:e.gapMode}):null)}function XGe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QGe=sv(zZ,JGe);var HZ=m.forwardRef(function(e,t){return m.createElement(X_,Zt({},e,{ref:t,sideCar:QGe}))});HZ.classNames=X_.classNames;var bR="Dialog",[KZ,GZ]=Js(bR),[ZGe,Ni]=KZ(bR),YZ=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=Va({prop:n,defaultProp:s,onChange:a});return o.jsx(ZGe,{scope:t,triggerRef:l,contentRef:c,contentId:Da(),titleId:Da(),descriptionId:Da(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};YZ.displayName=bR;var JZ="DialogTrigger",XZ=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(JZ,r),a=xt(t,s.triggerRef);return o.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SR(s.open),...n,ref:a,onClick:Ue(e.onClick,s.onOpenToggle)})});XZ.displayName=JZ;var wR="DialogPortal",[eYe,QZ]=KZ(wR,{forceMount:void 0}),ZZ=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Ni(wR,t);return o.jsx(eYe,{scope:t,forceMount:r,children:m.Children.map(n,i=>o.jsx(Zn,{present:r||a.open,children:o.jsx(UZ,{asChild:!0,container:s,children:i})}))})};ZZ.displayName=wR;var Uw="DialogOverlay",eee=m.forwardRef((e,t)=>{const r=QZ(Uw,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ni(Uw,e.__scopeDialog);return a.modal?o.jsx(Zn,{present:n||a.open,children:o.jsx(tYe,{...s,ref:t})}):null});eee.displayName=Uw;var tYe=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(Uw,r);return o.jsx(HZ,{as:Ho,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(rt.div,{"data-state":SR(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),od="DialogContent",tee=m.forwardRef((e,t)=>{const r=QZ(od,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ni(od,e.__scopeDialog);return o.jsx(Zn,{present:n||a.open,children:a.modal?o.jsx(rYe,{...s,ref:t}):o.jsx(nYe,{...s,ref:t})})});tee.displayName=od;var rYe=m.forwardRef((e,t)=>{const r=Ni(od,e.__scopeDialog),n=m.useRef(null),s=xt(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return iv(a)},[]),o.jsx(ree,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,a=>a.preventDefault())})}),nYe=m.forwardRef((e,t)=>{const r=Ni(od,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(ree,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),ree=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Ni(od,r),c=m.useRef(null),u=xt(t,c);return D_(),o.jsxs(o.Fragment,{children:[o.jsx(FZ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(LZ,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":SR(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(aYe,{titleId:l.titleId}),o.jsx(oYe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_R="DialogTitle",nee=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(_R,r);return o.jsx(rt.h2,{id:s.titleId,...n,ref:t})});nee.displayName=_R;var see="DialogDescription",aee=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(see,r);return o.jsx(rt.p,{id:s.descriptionId,...n,ref:t})});aee.displayName=see;var iee="DialogClose",oee=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(iee,r);return o.jsx(rt.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,()=>s.onOpenChange(!1))})});oee.displayName=iee;function SR(e){return e?"open":"closed"}var lee="DialogTitleWarning",[sYe,cee]=Pie(lee,{contentName:od,titleName:_R,docsSlug:"dialog"}),aYe=({titleId:e})=>{const t=cee(lee),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iYe="DialogDescriptionWarning",oYe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cee(iYe).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},lYe=YZ,cYe=XZ,uYe=ZZ,dYe=eee,fYe=tee,hYe=nee,pYe=aee,uee=oee,dee="AlertDialog",[mYe,IJe]=Js(dee,[GZ]),ul=GZ(),fee=e=>{const{__scopeAlertDialog:t,...r}=e,n=ul(t);return o.jsx(lYe,{...n,...r,modal:!0})};fee.displayName=dee;var gYe="AlertDialogTrigger",hee=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ul(r);return o.jsx(cYe,{...s,...n,ref:t})});hee.displayName=gYe;var yYe="AlertDialogPortal",pee=e=>{const{__scopeAlertDialog:t,...r}=e,n=ul(t);return o.jsx(uYe,{...n,...r})};pee.displayName=yYe;var vYe="AlertDialogOverlay",mee=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ul(r);return o.jsx(dYe,{...s,...n,ref:t})});mee.displayName=vYe;var Mf="AlertDialogContent",[xYe,bYe]=mYe(Mf),gee=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=ul(r),i=m.useRef(null),l=xt(t,i),c=m.useRef(null);return o.jsx(sYe,{contentName:Mf,titleName:yee,docsSlug:"alert-dialog",children:o.jsx(xYe,{scope:r,cancelRef:c,children:o.jsxs(fYe,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ue(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(gA,{children:n}),o.jsx(_Ye,{contentRef:i})]})})})});gee.displayName=Mf;var yee="AlertDialogTitle",vee=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ul(r);return o.jsx(hYe,{...s,...n,ref:t})});vee.displayName=yee;var xee="AlertDialogDescription",bee=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ul(r);return o.jsx(pYe,{...s,...n,ref:t})});bee.displayName=xee;var wYe="AlertDialogAction",wee=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ul(r);return o.jsx(uee,{...s,...n,ref:t})});wee.displayName=wYe;var _ee="AlertDialogCancel",See=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=bYe(_ee,r),a=ul(r),i=xt(t,s);return o.jsx(uee,{...a,...n,ref:i})});See.displayName=_ee;var _Ye=({contentRef:e})=>{const t=`\`${Mf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mf}\` by passing a \`${xee}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},SYe=fee,jYe=hee,kYe=pee,jee=mee,kee=gee,Eee=wee,Nee=See,Cee=vee,Pee=bee;const EYe=SYe,NYe=jYe,CYe=kYe,Aee=m.forwardRef(({className:e,...t},r)=>o.jsx(jee,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Aee.displayName=jee.displayName;const Tee=m.forwardRef(({className:e,...t},r)=>o.jsxs(CYe,{children:[o.jsx(Aee,{}),o.jsx(kee,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Tee.displayName=kee.displayName;const Oee=({className:e,...t})=>o.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});Oee.displayName="AlertDialogHeader";const Ree=({className:e,...t})=>o.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ree.displayName="AlertDialogFooter";const $ee=m.forwardRef(({className:e,...t},r)=>o.jsx(Cee,{ref:r,className:ce("text-lg font-semibold",e),...t}));$ee.displayName=Cee.displayName;const Mee=m.forwardRef(({className:e,...t},r)=>o.jsx(Pee,{ref:r,className:ce("text-sm text-muted-foreground",e),...t}));Mee.displayName=Pee.displayName;const Iee=m.forwardRef(({className:e,...t},r)=>o.jsx(Eee,{ref:r,className:ce(zA(),e),...t}));Iee.displayName=Eee.displayName;const Lee=m.forwardRef(({className:e,...t},r)=>o.jsx(Nee,{ref:r,className:ce(zA({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Lee.displayName=Nee.displayName;const b8=()=>{const{courseId:e}=Jh(),t=ar(),{user:r}=ir(),[n,s]=m.useState(null),[a,i]=m.useState(!0),[l,c]=m.useState(!1),[u,d]=m.useState({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:"",registration_link:""}),[f,h]=m.useState(null),[g,v]=m.useState(null),p=m.useRef(null),y=!!e,x=async()=>{var j;if(r)try{const N=await Ce.get(Qe.ACADEMY.PROFILE);if(N.data){const C=N.data,P=Sc(C,(r==null?void 0:r.id)!=null?String(r.id):void 0),O={...P,first_name:P.first_name||(r==null?void 0:r.first_name)||P.academy_name||"",is_verified:C.is_verified??!1,logo_url:P.logo_url};s(O)}}catch(N){console.error("Failed to load academy profile:",N),((j=N.response)==null?void 0:j.status)===404?(fe.error("Please set up your academy profile first"),t("/academy/profile")):fe.error("Failed to load academy profile")}finally{i(!1)}},b=async j=>{try{const{data:N,error:C}=await Qt.from("courses").select("*").eq("id",j).single();if(C)throw C;N&&(d({title:N.title||"",description:N.description||"",category:N.category||"",level:N.level||"",duration:N.duration||"",required_skills:(N.required_skills||[]).join(", "),topics:(N.topics||[]).join(", "),registration_link:N.registration_link||""}),v(N.image||null))}catch(N){console.error("Error fetching course:",N),fe.error(N.message||"Failed to load course"),t("/academy/dashboard")}};m.useEffect(()=>{x()},[r]),m.useEffect(()=>{e&&n&&b(e)},[e,n]);const w=j=>{if(j&&j[0]){const N=j[0],C=10*1024*1024;if(N.size>C){fe.error("Image size must be less than 10MB"),p.current&&(p.current.value="");return}if(!N.type.startsWith("image/")){fe.error("Please select a valid image file"),p.current&&(p.current.value="");return}h(N),v(URL.createObjectURL(N))}else h(null),v(null),p.current&&(p.current.value="")},_=async()=>{y&&e?await E():await S()},S=async()=>{var j,N,C,P;if(!n||!n.id){fe.error("Academy profile ID is missing");return}c(!0);try{const O=u.required_skills.split(",").map(A=>A.trim()).filter(A=>A),F=u.topics.split(",").map(A=>A.trim()).filter(A=>A);let M="/lovable-uploads/no_photo.png";if(f)try{const A=f.name.split(".").pop(),z=`${n.id}/${Date.now()}.${A}`,{data:re,error:V}=await Qt.storage.from("course-images").upload(z,f,{cacheControl:"3600",upsert:!1});if(V)throw console.error(" Image upload error:",V),(j=V.message)!=null&&j.includes("Bucket not found")||(N=V.message)!=null&&N.includes("does not exist")?(fe.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=V.message)!=null&&C.includes("permission")||(P=V.message)!=null&&P.includes("policy")||V.statusCode===403?(fe.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(fe.error(`Failed to upload image: ${V.message||"Unknown error"}`),V);const{data:te}=Qt.storage.from("course-images").getPublicUrl(z);M=te.publicUrl}catch(A){throw console.error(" Image upload failed:",A),A}const q=n.academy_name||"",{data:B,error:I}=await Qt.from("courses").insert({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,provider:q,required_skills:O,topics:F,image:M,registration_link:u.registration_link,enrolled:!1,popular:!1,academy_id:n.id,is_academy_course:!0}).select().single();if(I)throw I;fe.success("Course added successfully"),t("/academy/dashboard")}catch(O){console.error("Error adding course:",O),fe.error(O.message||"Failed to add course")}finally{c(!1)}},E=async()=>{var j,N,C,P;if(!(!e||!n||!n.id)){c(!0);try{const O=u.required_skills.split(",").map(I=>I.trim()).filter(I=>I),F=u.topics.split(",").map(I=>I.trim()).filter(I=>I);let M=g||"/lovable-uploads/no_photo.png";if(f)try{const I=f.name.split(".").pop(),A=`${n.id}/${Date.now()}.${I}`,{data:z,error:re}=await Qt.storage.from("course-images").upload(A,f,{cacheControl:"3600",upsert:!1});if(re)throw console.error(" Image upload error:",re),(j=re.message)!=null&&j.includes("Bucket not found")||(N=re.message)!=null&&N.includes("does not exist")?(fe.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(C=re.message)!=null&&C.includes("permission")||(P=re.message)!=null&&P.includes("policy")||re.statusCode===403?(fe.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(fe.error(`Failed to upload image: ${re.message||"Unknown error"}`),re);const{data:V}=Qt.storage.from("course-images").getPublicUrl(A);M=V.publicUrl}catch(I){throw console.error(" Image upload failed:",I),I}const q=n.academy_name||"",{error:B}=await Qt.from("courses").update({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,required_skills:O,topics:F,image:M,provider:q,registration_link:u.registration_link}).eq("id",e);if(B)throw B;fe.success("Course updated successfully"),t("/academy/dashboard")}catch(O){console.error("Error updating course:",O),fe.error(O.message||"Failed to update course")}finally{c(!1)}}},k=async()=>{if(e)try{const{error:j}=await Qt.from("courses").delete().eq("id",e);if(j)throw j;fe.success("Course deleted successfully"),t("/academy/dashboard")}catch(j){console.error("Error deleting course:",j),fe.error(j.message||"Failed to delete course")}};return a?o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-lg",children:"Loading..."})})}):n?o.jsx(It,{children:o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Be,{children:"Cover Image"}),o.jsx("div",{className:"mt-1 w-full",children:g?o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:g,alt:"Preview",className:"w-full h-auto max-h-96 object-contain rounded-md"}),o.jsx("button",{onClick:()=>w(null),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:o.jsx(Cr,{className:"h-4 w-4"})})]}):o.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 rounded-md bg-muted/50",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(Kfe,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-600",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-breneo-blue hover:text-breneo-blue/80 focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{ref:p,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:j=>w(j.target.files),accept:"image/*"})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"title",children:"Title"}),o.jsx(it,{id:"title",value:u.title,onChange:j=>d({...u,title:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"description",children:"Description"}),o.jsx(Ty,{id:"description",value:u.description,onChange:j=>d({...u,description:j.target.value}),className:"mt-1",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"category",children:"Category"}),o.jsxs($o,{value:u.category,onValueChange:j=>d({...u,category:j}),children:[o.jsx(qi,{className:"mt-1",children:o.jsx(Mo,{placeholder:"Select category"})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"programming",children:"Programming"}),o.jsx(_r,{value:"design",children:"Design"}),o.jsx(_r,{value:"marketing",children:"Marketing"}),o.jsx(_r,{value:"business",children:"Business"}),o.jsx(_r,{value:"data-science",children:"Data Science"}),o.jsx(_r,{value:"cybersecurity",children:"Cybersecurity"})]})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"level",children:"Level"}),o.jsxs($o,{value:u.level,onValueChange:j=>d({...u,level:j}),children:[o.jsx(qi,{className:"mt-1",children:o.jsx(Mo,{placeholder:"Select level"})}),o.jsxs(Wi,{children:[o.jsx(_r,{value:"beginner",children:"Beginner"}),o.jsx(_r,{value:"intermediate",children:"Intermediate"}),o.jsx(_r,{value:"advanced",children:"Advanced"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"skills",children:"Required Skills"}),o.jsx(it,{id:"skills",placeholder:"Comma separated skills",value:u.required_skills,onChange:j=>d({...u,required_skills:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"topics",children:"Topics"}),o.jsx(it,{id:"topics",placeholder:"Comma separated topics",value:u.topics,onChange:j=>d({...u,topics:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"duration",children:"Duration"}),o.jsx(it,{id:"duration",placeholder:"e.g., 8 weeks",value:u.duration,onChange:j=>d({...u,duration:j.target.value}),className:"mt-1"})]}),o.jsxs("div",{children:[o.jsx(Be,{htmlFor:"registration_link",children:"Registration Link"}),o.jsx(it,{id:"registration_link",type:"url",placeholder:"https://example.com/register",value:u.registration_link,onChange:j=>d({...u,registration_link:j.target.value}),className:"mt-1"})]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6",children:[y?o.jsxs(EYe,{children:[o.jsx(NYe,{asChild:!0,children:o.jsxs(se,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx(Tu,{className:"w-4 h-4 mr-2"}),"Delete Course"]})}),o.jsxs(Tee,{children:[o.jsxs(Oee,{children:[o.jsx($ee,{children:"Are you sure?"}),o.jsx(Mee,{children:"This action cannot be undone. This will permanently delete the course."})]}),o.jsxs(Ree,{children:[o.jsx(Lee,{children:"Cancel"}),o.jsx(Iee,{onClick:k,children:"Continue"})]})]})]}):o.jsx("div",{}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(se,{variant:"outline",onClick:()=>t("/academy/dashboard"),children:"Cancel"}),o.jsx(se,{onClick:_,disabled:l||!u.title||!u.description,className:"bg-breneo-blue hover:bg-breneo-blue/90",children:l?"Saving...":y?"Save Changes":"Add Course"})]})]})]})})}):o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),o.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},PYe=()=>{const[e,t]=m.useState(!1),r=()=>{t(n=>!n)};return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(oT,{collapsed:e,toggleSidebar:r}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-8 text-left",children:" "}),o.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-gray-700 leading-relaxed",children:[o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"1.  "}),o.jsx("p",{children:"Breneo    ,         .  :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"  ,"}),o.jsx("li",{children:"    ,"}),o.jsx("li",{children:"   ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"2.    "}),o.jsx("p",{children:"         ."}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"              ."}),o.jsx("li",{children:"Breneo-        ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"3.   "}),o.jsx("p",{children:"Breneo         . AI-              ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"4.   "}),o.jsx("p",{children:"   Breneo     . :"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"      ,"}),o.jsx("li",{children:"     ,"}),o.jsx("li",{children:"        ,"}),o.jsx("li",{children:"  ,    Breneo-  ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"5.  "}),o.jsx("p",{children:"Breneo-       , , ,  ,      Breneo-    .     Breneo-  ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"6.    "}),o.jsx("p",{children:"Breneo         GDPR-  .         ,   ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"7.   "}),o.jsx("p",{children:"             .         ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"8.  "}),o.jsx("p",{children:'Breneo    " ("as is") .'}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"     ,        ."}),o.jsx("li",{children:"Breneo   ,         ."})]})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"9.   "}),o.jsx("p",{children:"     .          . ,     ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"10.    "}),o.jsx("p",{children:"Breneo     ,           ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"11.  "}),o.jsx("p",{children:"    .      Breneo-  ,        ."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"12.  "}),o.jsx("p",{children:"  ,   ,  :"}),o.jsxs("div",{className:"space-y-2 text-lg",children:[o.jsx("p",{children:" support@breneo.app"}),o.jsx("p",{children:" www.breneo.app"})]})]})]}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center text-gray-500",children:o.jsxs("p",{children:[" : ",new Date().toLocaleDateString("ka-GE")]})})]})})]})};var jR="Collapsible",[AYe,Dee]=Js(jR),[TYe,kR]=AYe(jR),Fee=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c=!1,u]=Va({prop:n,defaultProp:s,onChange:i});return o.jsx(TYe,{scope:r,disabled:a,contentId:Da(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(rt.div,{"data-state":NR(c),"data-disabled":a?"":void 0,...l,ref:t})})});Fee.displayName=jR;var Bee="CollapsibleTrigger",Uee=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=kR(Bee,r);return o.jsx(rt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":NR(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Ue(e.onClick,s.onOpenToggle)})});Uee.displayName=Bee;var ER="CollapsibleContent",zee=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=kR(ER,e.__scopeCollapsible);return o.jsx(Zn,{present:r||s.open,children:({present:a})=>o.jsx(OYe,{...n,ref:t,present:a})})});zee.displayName=ER;var OYe=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=kR(ER,r),[l,c]=m.useState(n),u=m.useRef(null),d=xt(t,u),f=m.useRef(0),h=f.current,g=m.useRef(0),v=g.current,p=i.open||l,y=m.useRef(p),x=m.useRef();return m.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),an(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,g.current=w.width,y.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(n)}},[i.open,n]),o.jsx(rt.div,{"data-state":NR(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&s})});function NR(e){return e?"open":"closed"}var RYe=Fee,$Ye=Uee,MYe=zee,dl="Accordion",IYe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[CR,LYe,DYe]=Ev(dl),[Q_,LJe]=Js(dl,[DYe,Dee]),PR=Dee(),qee=R.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return o.jsx(CR.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(zYe,{...a,ref:t}):o.jsx(UYe,{...s,ref:t})})});qee.displayName=dl;var[Wee,FYe]=Q_(dl),[Vee,BYe]=Q_(dl,{collapsible:!1}),UYe=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,c]=Va({prop:r,defaultProp:n,onChange:s});return o.jsx(Wee,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:R.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(Vee,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(Hee,{...i,ref:t})})})}),zYe=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i=[],l]=Va({prop:r,defaultProp:n,onChange:s}),c=R.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=R.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(Wee,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(Vee,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(Hee,{...a,ref:t})})})}),[qYe,Z_]=Q_(dl),Hee=R.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...i}=e,l=R.useRef(null),c=xt(l,t),u=LYe(r),f=sp(s)==="ltr",h=Ue(e.onKeyDown,g=>{var j;if(!IYe.includes(g.key))return;const v=g.target,p=u().filter(N=>{var C;return!((C=N.ref.current)!=null&&C.disabled)}),y=p.findIndex(N=>N.ref.current===v),x=p.length;if(y===-1)return;g.preventDefault();let b=y;const w=0,_=x-1,S=()=>{b=y+1,b>_&&(b=w)},E=()=>{b=y-1,b<w&&(b=_)};switch(g.key){case"Home":b=w;break;case"End":b=_;break;case"ArrowRight":a==="horizontal"&&(f?S():E());break;case"ArrowDown":a==="vertical"&&S();break;case"ArrowLeft":a==="horizontal"&&(f?E():S());break;case"ArrowUp":a==="vertical"&&E();break}const k=b%x;(j=p[k].ref.current)==null||j.focus()});return o.jsx(qYe,{scope:r,disabled:n,direction:s,orientation:a,children:o.jsx(CR.Slot,{scope:r,children:o.jsx(rt.div,{...i,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),zw="AccordionItem",[WYe,AR]=Q_(zw),Kee=R.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=Z_(zw,r),i=FYe(zw,r),l=PR(r),c=Da(),u=n&&i.value.includes(n)||!1,d=a.disabled||e.disabled;return o.jsx(WYe,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(RYe,{"data-orientation":a.orientation,"data-state":Zee(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});Kee.displayName=zw;var Gee="AccordionHeader",Yee=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Z_(dl,r),a=AR(Gee,r);return o.jsx(rt.h3,{"data-orientation":s.orientation,"data-state":Zee(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Yee.displayName=Gee;var lP="AccordionTrigger",Jee=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Z_(dl,r),a=AR(lP,r),i=BYe(lP,r),l=PR(r);return o.jsx(CR.ItemSlot,{scope:r,children:o.jsx($Ye,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});Jee.displayName=lP;var Xee="AccordionContent",Qee=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Z_(dl,r),a=AR(Xee,r),i=PR(r);return o.jsx(MYe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Qee.displayName=Xee;function Zee(e){return e?"open":"closed"}var VYe=qee,HYe=Kee,KYe=Yee,ete=Jee,tte=Qee;const GYe=VYe,rte=m.forwardRef(({className:e,...t},r)=>o.jsx(HYe,{ref:r,className:ce("border-b",e),...t}));rte.displayName="AccordionItem";const nte=m.forwardRef(({className:e,children:t,...r},n)=>o.jsx(KYe,{className:"flex",children:o.jsxs(ete,{ref:n,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(Yo,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));nte.displayName=ete.displayName;const ste=m.forwardRef(({className:e,children:t,...r},n)=>o.jsx(tte,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:ce("pb-4 pt-0",e),children:t})}));ste.displayName=tte.displayName;const YYe=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(""),s=()=>{t(l=>!l)},i=[{title:"Getting Started",icon:Jl,questions:[{q:"  Breneo- ?",a:'  ,    .  ""     .  ,   ,      .'},{q:"  ?",a:' ,     -  ,   "Profile".      ,      .'},{q:"   ?",a:"  -    ,        .   ,       ."}]},{title:"Account & Profile",icon:Xz,questions:[{q:"  ?",a:'   Settings  ( Settings   ).   "Change Email" .     .'},{q:"  ?",a:'  ,    "Forgot Password" .        .'},{q:"  ?",a:'   Settings    "Account Settings" .   "Delete Account" . , ,    .'}]},{title:"Jobs & Career",icon:Xr,questions:[{q:"  ?",a:'   "Jobs" .      , ,     .      ,     .'},{q:"   ?",a:' ,     .      "Apply Now" .      .'},{q:"   ?",a:' ,      "Save" .       "Saved Jobs" .'}]},{title:"Settings & Customization",icon:N1,questions:[{q:"   ?",a:"    Settings .    ,  (/),    ."},{q:"  ?",a:'   Settings    "Notifications" .      .'},{q:"   ?",a:"  ,         .      ."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(r.toLowerCase())||c.a.toLowerCase().includes(r.toLowerCase()))}));return o.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[o.jsx(oT,{collapsed:e,toggleSidebar:s}),o.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:o.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),o.jsx("p",{className:"text-gray-600",children:"     "})]}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx(Jo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx(it,{type:"text",placeholder:"  ...",value:r,onChange:l=>n(l.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsx(Re,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(bt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(Xu,{className:"text-breneo-blue",size:24})}),o.jsx(Ot,{className:"text-base",children:"Email Support"}),o.jsx(ln,{children:"support@breneo.app"})]})}),o.jsx(Re,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(bt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(Fg,{className:"text-breneo-blue",size:24})}),o.jsx(Ot,{className:"text-base",children:"Phone Support"}),o.jsx(ln,{children:"Available 24/7"})]})}),o.jsx(Re,{className:"hover:shadow-soft transition-shadow cursor-pointer",children:o.jsxs(bt,{className:"pb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:o.jsx(Xfe,{className:"text-breneo-blue",size:24})}),o.jsx(Ot,{className:"text-base",children:"Live Chat"}),o.jsx(ln,{children:"Get instant help"})]})})]}),o.jsx("div",{className:"space-y-6",children:i.map((l,c)=>l.questions.length>0&&o.jsxs(Re,{className:"bg-white",children:[o.jsx(bt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-breneo-blue/10 rounded-3xl flex items-center justify-center",children:o.jsx(l.icon,{className:"text-breneo-blue",size:20})}),o.jsx(Ot,{children:l.title})]})}),o.jsx(De,{children:o.jsx(GYe,{type:"multiple",className:"w-full",children:l.questions.map((u,d)=>o.jsxs(rte,{value:`${c}-${d}`,className:"border-gray-200",children:[o.jsx(nte,{className:"text-left font-semibold hover:no-underline",children:u.q}),o.jsx(ste,{className:"text-gray-600 leading-relaxed",children:u.a})]},d))})})]},c))}),o.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:o.jsx(Re,{className:"bg-gradient-to-r from-breneo-blue/5 to-breneo-blue/10",children:o.jsxs(De,{className:"py-8 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"   ?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("a",{href:"mailto:support@breneo.app",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-breneo-blue text-white rounded-3xl hover:bg-breneo-blue/90 transition-colors",children:[o.jsx(Xu,{size:18}),"Email Support"]}),o.jsxs("a",{href:"tel:+995500992990",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-breneo-blue text-breneo-blue rounded-3xl hover:bg-breneo-blue/5 transition-colors",children:[o.jsx(Fg,{size:18}),"Call Us"]})]})]})})})]})})]})},JYe=()=>{const e=Xs(),{user:t,loading:r}=ir(),n=ji(),[s,a]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),d=m.useCallback(f=>new Promise((h,g)=>{const v=new Image;v.onload=()=>h(),v.onerror=()=>g(new Error(`Failed to load image: ${f}`)),v.src=f}),[]);return m.useEffect(()=>{(async()=>{try{await Promise.all([d("/lovable-uploads/Breneo-logo.png"),d("/lovable-uploads/Breneo-logo-dark.png"),d("/lovable-uploads/full-shot-student-library.jpg")])}catch(h){console.warn("Some images failed to preload:",h),u(!0)}})()},[d]),m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[!i&&!c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse z-0"}),o.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:i?"url('/lovable-uploads/full-shot-student-library.jpg')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:i?1:0,transition:"opacity 0.5s ease-in-out"}}),o.jsx("img",{src:"/lovable-uploads/full-shot-student-library.jpg",alt:"",className:"hidden",onLoad:()=>l(!0),onError:()=>{u(!0),l(!0)}}),c&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] z-0"}),o.jsx("div",{className:"z-10 relative",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-8 text-center max-w-md mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[!s&&!c&&o.jsx("div",{className:"h-10 w-24 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center mx-auto",children:o.jsx(vn,{className:"h-6 w-6 text-gray-400 dark:text-gray-600"})}),o.jsx(An,{className:`h-12 md:h-10 mx-auto block transition-opacity duration-300 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>a(!0),onError:()=>{u(!0),a(!0)}}),c&&o.jsx("div",{className:"h-10 w-24 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center mx-auto",children:o.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Breneo"})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.errors.pageNotFound}),o.jsx("p",{className:"text-muted-foreground mb-6",children:n.errors.pageNotFoundDescription})]}),o.jsxs("div",{className:"space-y-4",children:[!r&&t?o.jsxs(Lr,{to:t.user_type==="academy"||localStorage.getItem("userRole")==="academy"?"/academy/dashboard":"/dashboard",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:[n.common.view," ",n.nav.home]}):o.jsx(Lr,{to:"/auth/login",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:n.auth.login}),!r&&!t&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Lr,{to:"/auth/login",className:"hover:text-primary transition-colors",children:n.auth.login}),o.jsx("span",{className:"mx-2",children:""}),o.jsx(Lr,{to:"/auth/signup",className:"hover:text-primary transition-colors",children:n.auth.signup})]})]})]})})]})},XYe=()=>{const e=ji();return o.jsx(It,{children:o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-12rem)]",children:o.jsxs("div",{className:"text-center px-4",children:[o.jsx("img",{src:"/lovable-uploads/3dicons-calender-front-color.png",alt:"Notebook",className:"h-40 w-40 mx-auto mb-6"}),o.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:e.webinars.comingsoon}),o.jsx("p",{className:"text-m text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:e.webinars.comingsoondescription})]})})})};function QYe(){const[e,t]=m.useState("loading"),[r,n]=m.useState("Activating your premium subscription..."),s=ar(),{refreshUser:a}=ir();return m.useEffect(()=>{(async()=>{try{localStorage.removeItem("bog_order_id"),localStorage.removeItem("selected_plan_id"),await a(),t("success"),n("Your monthly subscription is now active. Welcome to Premium!")}catch(l){console.error("Failed to save card:",l),t("error"),n("We couldn't activate your subscription. Please try again or contact support.")}})()},[a]),o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-background",children:o.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[e==="loading"&&o.jsx(Yn,{className:"h-16 w-16 text-primary animate-spin mx-auto"}),e==="success"&&o.jsx(mi,{className:"h-16 w-16 text-green-500 mx-auto"}),e==="error"&&o.jsx(VA,{className:"h-16 w-16 text-destructive mx-auto"}),o.jsxs("h1",{className:"text-2xl font-bold",children:[e==="loading"&&"Processing Payment",e==="success"&&"Payment Successful!",e==="error"&&"Payment Error"]}),o.jsx("p",{className:"text-muted-foreground",children:r}),e!=="loading"&&o.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[o.jsx(se,{onClick:()=>s("/dashboard"),className:"w-full",children:"Go to Dashboard"}),e==="error"&&o.jsx(se,{variant:"outline",onClick:()=>s("/home?upgrade=true"),className:"w-full",children:"Try Again"})]})]})})}function ZYe(){const e=ar();return o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-background",children:o.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[o.jsx(VA,{className:"h-16 w-16 text-destructive mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold",children:"Payment Failed"}),o.jsx("p",{className:"text-muted-foreground",children:"Something went wrong with your payment. No charges were made."}),o.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[o.jsx(se,{onClick:()=>e("/home?upgrade=true"),className:"w-full",children:"Back to Subscriptions"}),o.jsx(se,{variant:"outline",onClick:()=>e("/help"),className:"w-full",children:"Contact Support"})]})]})})}const mr=(e,t)=>e.startsWith("/auth")||e==="/"?o.jsx($s,{path:e,element:t},e):o.jsxs(R.Fragment,{children:[o.jsx($s,{path:`/en${e}`,element:t}),o.jsx($s,{path:`/ka${e}`,element:t}),o.jsx($s,{path:e,element:t})]},e),eJe=()=>o.jsxs(Oue,{children:[o.jsx($s,{path:"/",element:o.jsx(Q4,{})}),o.jsx($s,{path:"/auth/login",element:o.jsx(Q4,{})}),o.jsx($s,{path:"/auth/signup",element:o.jsx(Gme,{})}),o.jsx($s,{path:"/auth/reset-password",element:o.jsx(Yme,{})}),o.jsx($s,{path:"/email-verification",element:o.jsx(Jme,{})}),o.jsx($s,{path:"/email-confirmed",element:o.jsx(Qme,{})}),o.jsx($s,{path:"/auth",element:o.jsx(hx,{to:"/auth/login",replace:!0})}),mr("/home",o.jsx(pr,{requiredRole:"user",children:o.jsx(KI,{})})),mr("/dashboard",o.jsx(pr,{requiredRole:"user",children:o.jsx(KI,{})})),mr("/profile",o.jsx(pr,{requiredRole:"user",children:o.jsx(Gze,{})})),mr("/saved",o.jsx(pr,{requiredRole:"user",children:o.jsx(Yze,{})})),mr("/settings",o.jsx(pr,{requiredRole:"user",children:o.jsx(cWe,{})})),mr("/notifications",o.jsx(pr,{requiredRole:"user",children:o.jsx(rGe,{})})),mr("/interests",o.jsx(pr,{requiredRole:"user",children:o.jsx(KKe,{})})),mr("/skill-test",o.jsx(pr,{requiredRole:"user",children:o.jsx(IKe,{})})),mr("/skill-path/:skillName",o.jsx(pr,{requiredRole:"user",children:o.jsx(VKe,{})})),mr("/skill-path",o.jsx(pr,{requiredRole:"user",children:o.jsx(BKe,{})})),mr("/jobs",o.jsx(pr,{requiredRole:"user",children:o.jsx(iVe,{})})),mr("/jobs/search",o.jsx(pr,{requiredRole:"user",children:o.jsx(oVe,{})})),mr("/jobs/:jobId",o.jsx(pr,{requiredRole:"user",children:o.jsx(mKe,{})})),mr("/jobs/company/:companyName",o.jsx(pr,{requiredRole:"user",children:o.jsx(SKe,{})})),mr("/courses",o.jsx(pr,{requiredRole:"user",children:o.jsx(TKe,{})})),mr("/course/:courseId",o.jsx(pr,{requiredRole:"user",children:o.jsx(OKe,{})})),mr("/webinars",o.jsx(pr,{requiredRole:"user",children:o.jsx(XYe,{})})),o.jsx($s,{path:"/academy/register",element:o.jsx(SGe,{})}),mr("/academy/home",o.jsx(pr,{requiredRole:"academy",children:o.jsx(u8,{})})),mr("/academy/dashboard",o.jsx(pr,{requiredRole:"academy",children:o.jsx(u8,{})})),mr("/academy/courses",o.jsx(pr,{requiredRole:"academy",children:o.jsx(aGe,{})})),mr("/academy/profile",o.jsx(pr,{requiredRole:"academy",children:o.jsx(hGe,{})})),mr("/academy/settings",o.jsx(pr,{requiredRole:"academy",children:o.jsx(pGe,{})})),mr("/academy/courses/add",o.jsx(pr,{requiredRole:"academy",children:o.jsx(b8,{})})),mr("/academy/courses/edit/:courseId",o.jsx(pr,{requiredRole:"academy",children:o.jsx(b8,{})})),mr("/academy/:academySlug",o.jsx(pr,{children:o.jsx(_Ge,{})})),mr("/terms-of-use",o.jsx(pr,{children:o.jsx(PYe,{})})),mr("/help",o.jsx(pr,{children:o.jsx(YYe,{})})),mr("/success",o.jsx(pr,{children:o.jsx(QYe,{})})),mr("/failure",o.jsx(pr,{children:o.jsx(ZYe,{})})),o.jsx($s,{path:"*",element:o.jsx(JYe,{})})]}),tJe=new Nce,rJe=()=>o.jsx(Oce,{client:tJe,children:o.jsxs(dce,{children:[o.jsx(Nie,{position:"top-right",richColors:!0,closeButton:!0}),o.jsx(Bue,{children:o.jsx(Nfe,{children:o.jsx(Efe,{children:o.jsx(_fe,{children:o.jsx(Pfe,{children:o.jsx(eJe,{})})})})})})]})});Pk.createRoot(document.getElementById("root")).render(o.jsx(R.StrictMode,{children:o.jsx(Zae,{apiKey:"phc_heJ8MRT32luP8nFytb5ZIhQrsWepHqsCZBUjUegWais",options:{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:o.jsx($ne,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx("div",{suppressHydrationWarning:!0,children:o.jsx(rJe,{})})})})}));
