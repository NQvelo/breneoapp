var KP=e=>{throw TypeError(e)};var Aw=(e,t,r)=>t.has(e)||KP("Cannot "+r);var te=(e,t,r)=>(Aw(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?KP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),rt=(e,t,r,n)=>(Aw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lt=(e,t,r)=>(Aw(e,t,"access private method"),r);var Og=(e,t,r,n)=>({set _(a){rt(e,t,a,r)},get _(){return te(e,t,n)}});function _K(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function SK(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var d5={exports:{}},wx={},f5={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=Symbol.for("react.element"),jK=Symbol.for("react.portal"),kK=Symbol.for("react.fragment"),EK=Symbol.for("react.strict_mode"),NK=Symbol.for("react.profiler"),CK=Symbol.for("react.provider"),PK=Symbol.for("react.context"),AK=Symbol.for("react.forward_ref"),TK=Symbol.for("react.suspense"),OK=Symbol.for("react.memo"),$K=Symbol.for("react.lazy"),GP=Symbol.iterator;function RK(e){return e===null||typeof e!="object"?null:(e=GP&&e[GP]||e["@@iterator"],typeof e=="function"?e:null)}var h5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p5=Object.assign,m5={};function xf(e,t,r){this.props=e,this.context=t,this.refs=m5,this.updater=r||h5}xf.prototype.isReactComponent={};xf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function g5(){}g5.prototype=xf.prototype;function JE(e,t,r){this.props=e,this.context=t,this.refs=m5,this.updater=r||h5}var YE=JE.prototype=new g5;YE.constructor=JE;p5(YE,xf.prototype);YE.isPureReactComponent=!0;var JP=Array.isArray,y5=Object.prototype.hasOwnProperty,XE={current:null},v5={key:!0,ref:!0,__self:!0,__source:!0};function x5(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)y5.call(t,n)&&!v5.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ym,type:e,key:s,ref:o,props:a,_owner:XE.current}}function IK(e,t){return{$$typeof:Ym,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ym}function MK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var YP=/\/+/g;function Tw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MK(""+e.key):t.toString(36)}function Ky(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ym:case jK:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Tw(o,0):n,JP(a)?(r="",e!=null&&(r=e.replace(YP,"$&/")+"/"),Ky(a,t,r,"",function(u){return u})):a!=null&&(QE(a)&&(a=IK(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(YP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",JP(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Tw(s,l);o+=Ky(s,t,r,c,a)}else if(c=RK(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Tw(s,l++),o+=Ky(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $g(e,t,r){if(e==null)return e;var n=[],a=0;return Ky(e,n,"","",function(s){return t.call(r,s,a++)}),n}function LK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var la={current:null},Gy={transition:null},DK={ReactCurrentDispatcher:la,ReactCurrentBatchConfig:Gy,ReactCurrentOwner:XE};function b5(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:$g,forEach:function(e,t,r){$g(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $g(e,function(){t++}),t},toArray:function(e){return $g(e,function(t){return t})||[]},only:function(e){if(!QE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=xf;zt.Fragment=kK;zt.Profiler=NK;zt.PureComponent=JE;zt.StrictMode=EK;zt.Suspense=TK;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DK;zt.act=b5;zt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p5({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=XE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)y5.call(t,c)&&!v5.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ym,type:e.type,key:a,ref:s,props:n,_owner:o}};zt.createContext=function(e){return e={$$typeof:PK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CK,_context:e},e.Consumer=e};zt.createElement=x5;zt.createFactory=function(e){var t=x5.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:AK,render:e}};zt.isValidElement=QE;zt.lazy=function(e){return{$$typeof:$K,_payload:{_status:-1,_result:e},_init:LK}};zt.memo=function(e,t){return{$$typeof:OK,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=Gy.transition;Gy.transition={};try{e()}finally{Gy.transition=t}};zt.unstable_act=b5;zt.useCallback=function(e,t){return la.current.useCallback(e,t)};zt.useContext=function(e){return la.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return la.current.useDeferredValue(e)};zt.useEffect=function(e,t){return la.current.useEffect(e,t)};zt.useId=function(){return la.current.useId()};zt.useImperativeHandle=function(e,t,r){return la.current.useImperativeHandle(e,t,r)};zt.useInsertionEffect=function(e,t){return la.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return la.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return la.current.useMemo(e,t)};zt.useReducer=function(e,t,r){return la.current.useReducer(e,t,r)};zt.useRef=function(e){return la.current.useRef(e)};zt.useState=function(e){return la.current.useState(e)};zt.useSyncExternalStore=function(e,t,r){return la.current.useSyncExternalStore(e,t,r)};zt.useTransition=function(){return la.current.useTransition()};zt.version="18.3.1";f5.exports=zt;var p=f5.exports;const $=fr(p),bf=_K({__proto__:null,default:$},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FK=p,BK=Symbol.for("react.element"),UK=Symbol.for("react.fragment"),zK=Object.prototype.hasOwnProperty,qK=FK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WK={key:!0,ref:!0,__self:!0,__source:!0};function w5(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)zK.call(t,n)&&!WK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:BK,type:e,key:s,ref:o,props:a,_owner:qK.current}}wx.Fragment=UK;wx.jsx=w5;wx.jsxs=w5;d5.exports=wx;var i=d5.exports,F_={},_5={exports:{}},Ha={},S5={exports:{}},j5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var ee=T.length;T.push(L);e:for(;0<ee;){var M=ee-1>>>1,G=T[M];if(0<a(G,L))T[M]=L,T[ee]=G,ee=M;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],ee=T.pop();if(ee!==L){T[0]=ee;e:for(var M=0,G=T.length,V=G>>>1;M<V;){var Z=2*(M+1)-1,ie=T[Z],H=Z+1,W=T[H];if(0>a(ie,ee))H<G&&0>a(W,ie)?(T[M]=W,T[H]=ee,M=H):(T[M]=ie,T[Z]=ee,M=Z);else if(H<G&&0>a(W,ee))T[M]=W,T[H]=ee,M=H;else break e}}return L}function a(T,L){var ee=T.sortIndex-L.sortIndex;return ee!==0?ee:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,y=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=T)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(T){if(m=!1,b(T),!y)if(r(c)!==null)y=!0,D(S);else{var L=r(u);L!==null&&q(_,L.startTime-T)}}function S(T,L){y=!1,m&&(m=!1,x(k),k=-1),g=!0;var ee=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||T&&!A());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var G=M(f.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var V=!0;else{var Z=r(u);Z!==null&&q(_,Z.startTime-L),V=!1}return V}finally{f=null,h=ee,g=!1}}var E=!1,j=null,k=-1,N=5,P=-1;function A(){return!(e.unstable_now()-P<N)}function R(){if(j!==null){var T=e.unstable_now();P=T;var L=!0;try{L=j(!0,T)}finally{L?U():(E=!1,j=null)}}else E=!1}var U;if(typeof w=="function")U=function(){w(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=R,U=function(){F.postMessage(null)}}else U=function(){v(R,0)};function D(T){j=T,E||(E=!0,U())}function q(T,L){k=v(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,D(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var ee=h;h=L;try{return T()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var ee=h;h=T;try{return L()}finally{h=ee}},e.unstable_scheduleCallback=function(T,L,ee){var M=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?M+ee:M):ee=M,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ee+G,T={id:d++,callback:L,priorityLevel:T,startTime:ee,expirationTime:G,sortIndex:-1},ee>M?(T.sortIndex=ee,t(u,T),r(c)===null&&T===r(u)&&(m?(x(k),k=-1):m=!0,q(_,ee-M))):(T.sortIndex=G,t(c,T),y||g||(y=!0,D(S))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var L=h;return function(){var ee=h;h=L;try{return T.apply(this,arguments)}finally{h=ee}}}})(j5);S5.exports=j5;var HK=S5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VK=p,qa=HK;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k5=new Set,Cp={};function eu(e,t){Od(e,t),Od(e+"Capture",t)}function Od(e,t){for(Cp[e]=t,e=0;e<t.length;e++)k5.add(t[e])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),B_=Object.prototype.hasOwnProperty,KK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XP={},QP={};function GK(e){return B_.call(QP,e)?!0:B_.call(XP,e)?!1:KK.test(e)?QP[e]=!0:(XP[e]=!0,!1)}function JK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YK(e,t,r,n){if(t===null||typeof t>"u"||JK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ca(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){On[e]=new ca(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];On[t]=new ca(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){On[e]=new ca(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){On[e]=new ca(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){On[e]=new ca(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){On[e]=new ca(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){On[e]=new ca(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){On[e]=new ca(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){On[e]=new ca(e,5,!1,e.toLowerCase(),null,!1,!1)});var ZE=/[\-:]([a-z])/g;function e2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ZE,e2);On[t]=new ca(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ZE,e2);On[t]=new ca(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ZE,e2);On[t]=new ca(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){On[e]=new ca(e,1,!1,e.toLowerCase(),null,!1,!1)});On.xlinkHref=new ca("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){On[e]=new ca(e,1,!1,e.toLowerCase(),null,!0,!0)});function t2(e,t,r,n){var a=On.hasOwnProperty(t)?On[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YK(t,r,a,n)&&(r=null),n||a===null?GK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var pi=VK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rg=Symbol.for("react.element"),Mu=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),r2=Symbol.for("react.strict_mode"),U_=Symbol.for("react.profiler"),E5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),n2=Symbol.for("react.forward_ref"),z_=Symbol.for("react.suspense"),q_=Symbol.for("react.suspense_list"),a2=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),C5=Symbol.for("react.offscreen"),ZP=Symbol.iterator;function th(e){return e===null||typeof e!="object"?null:(e=ZP&&e[ZP]||e["@@iterator"],typeof e=="function"?e:null)}var Fr=Object.assign,Ow;function Bh(e){if(Ow===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ow=t&&t[1]||""}return`
`+Ow+e}var $w=!1;function Rw(e,t){if(!e||$w)return"";$w=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{$w=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bh(e):""}function XK(e){switch(e.tag){case 5:return Bh(e.type);case 16:return Bh("Lazy");case 13:return Bh("Suspense");case 19:return Bh("SuspenseList");case 0:case 2:case 15:return e=Rw(e.type,!1),e;case 11:return e=Rw(e.type.render,!1),e;case 1:return e=Rw(e.type,!0),e;default:return""}}function W_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lu:return"Fragment";case Mu:return"Portal";case U_:return"Profiler";case r2:return"StrictMode";case z_:return"Suspense";case q_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N5:return(e.displayName||"Context")+".Consumer";case E5:return(e._context.displayName||"Context")+".Provider";case n2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a2:return t=e.displayName||null,t!==null?t:W_(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return W_(e(t))}catch{}}return null}function QK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W_(t);case 8:return t===r2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _l(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZK(e){var t=P5(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ig(e){e._valueTracker||(e._valueTracker=ZK(e))}function A5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=P5(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function H_(e,t){var r=t.checked;return Fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_l(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T5(e,t){t=t.checked,t!=null&&t2(e,"checked",t,!1)}function V_(e,t){T5(e,t);var r=_l(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?K_(e,t.type,r):t.hasOwnProperty("defaultValue")&&K_(e,t.type,_l(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function K_(e,t,r){(t!=="number"||pv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Uh=Array.isArray;function Zu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_l(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function G_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ie(92));if(Uh(r)){if(1<r.length)throw Error(Ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_l(r)}}function O5(e,t){var r=_l(t.value),n=_l(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mg,R5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mg=Mg||document.createElement("div"),Mg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var np={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eG=["Webkit","ms","Moz","O"];Object.keys(np).forEach(function(e){eG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),np[t]=np[e]})});function I5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||np.hasOwnProperty(e)&&np[e]?(""+t).trim():t+"px"}function M5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=I5(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var tG=Fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y_(e,t){if(t){if(tG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function X_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q_=null;function s2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Z_=null,ed=null,td=null;function aA(e){if(e=Zm(e)){if(typeof Z_!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=Ex(t),Z_(e.stateNode,e.type,t))}}function L5(e){ed?td?td.push(e):td=[e]:ed=e}function D5(){if(ed){var e=ed,t=td;if(td=ed=null,aA(e),t)for(e=0;e<t.length;e++)aA(t[e])}}function F5(e,t){return e(t)}function B5(){}var Iw=!1;function U5(e,t,r){if(Iw)return e(t,r);Iw=!0;try{return F5(e,t,r)}finally{Iw=!1,(ed!==null||td!==null)&&(B5(),D5())}}function Ap(e,t){var r=e.stateNode;if(r===null)return null;var n=Ex(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ie(231,t,typeof r));return r}var eS=!1;if(ai)try{var rh={};Object.defineProperty(rh,"passive",{get:function(){eS=!0}}),window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{eS=!1}function rG(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ap=!1,mv=null,gv=!1,tS=null,nG={onError:function(e){ap=!0,mv=e}};function aG(e,t,r,n,a,s,o,l,c){ap=!1,mv=null,rG.apply(nG,arguments)}function sG(e,t,r,n,a,s,o,l,c){if(aG.apply(this,arguments),ap){if(ap){var u=mv;ap=!1,mv=null}else throw Error(Ie(198));gv||(gv=!0,tS=u)}}function tu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function z5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sA(e){if(tu(e)!==e)throw Error(Ie(188))}function oG(e){var t=e.alternate;if(!t){if(t=tu(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return sA(a),e;if(s===n)return sA(a),t;s=s.sibling}throw Error(Ie(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Ie(189))}}if(r.alternate!==n)throw Error(Ie(190))}if(r.tag!==3)throw Error(Ie(188));return r.stateNode.current===r?e:t}function q5(e){return e=oG(e),e!==null?W5(e):null}function W5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=W5(e);if(t!==null)return t;e=e.sibling}return null}var H5=qa.unstable_scheduleCallback,oA=qa.unstable_cancelCallback,iG=qa.unstable_shouldYield,lG=qa.unstable_requestPaint,Kr=qa.unstable_now,cG=qa.unstable_getCurrentPriorityLevel,o2=qa.unstable_ImmediatePriority,V5=qa.unstable_UserBlockingPriority,yv=qa.unstable_NormalPriority,uG=qa.unstable_LowPriority,K5=qa.unstable_IdlePriority,_x=null,go=null;function dG(e){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(_x,e,void 0,(e.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:pG,fG=Math.log,hG=Math.LN2;function pG(e){return e>>>=0,e===0?32:31-(fG(e)/hG|0)|0}var Lg=64,Dg=4194304;function zh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=zh(l):(s&=o,s!==0&&(n=zh(s)))}else o=r&~a,o!==0?n=zh(o):s!==0&&(n=zh(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ls(t),a=1<<r,n|=e[r],t&=~a;return n}function mG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ls(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=mG(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function rS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function G5(){var e=Lg;return Lg<<=1,!(Lg&4194240)&&(Lg=64),e}function Mw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ls(t),e[t]=r}function yG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ls(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function i2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ls(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ir=0;function J5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y5,l2,X5,Q5,Z5,nS=!1,Fg=[],il=null,ll=null,cl=null,Tp=new Map,Op=new Map,Bi=[],vG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iA(e,t){switch(e){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":ll=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":Tp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(t.pointerId)}}function nh(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Zm(t),t!==null&&l2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function xG(e,t,r,n,a){switch(t){case"focusin":return il=nh(il,e,t,r,n,a),!0;case"dragenter":return ll=nh(ll,e,t,r,n,a),!0;case"mouseover":return cl=nh(cl,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Tp.set(s,nh(Tp.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Op.set(s,nh(Op.get(s)||null,e,t,r,n,a)),!0}return!1}function eL(e){var t=oc(e.target);if(t!==null){var r=tu(t);if(r!==null){if(t=r.tag,t===13){if(t=z5(r),t!==null){e.blockedOn=t,Z5(e.priority,function(){X5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=aS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Q_=n,r.target.dispatchEvent(n),Q_=null}else return t=Zm(r),t!==null&&l2(t),e.blockedOn=r,!1;t.shift()}return!0}function lA(e,t,r){Jy(e)&&r.delete(t)}function bG(){nS=!1,il!==null&&Jy(il)&&(il=null),ll!==null&&Jy(ll)&&(ll=null),cl!==null&&Jy(cl)&&(cl=null),Tp.forEach(lA),Op.forEach(lA)}function ah(e,t){e.blockedOn===t&&(e.blockedOn=null,nS||(nS=!0,qa.unstable_scheduleCallback(qa.unstable_NormalPriority,bG)))}function $p(e){function t(a){return ah(a,e)}if(0<Fg.length){ah(Fg[0],e);for(var r=1;r<Fg.length;r++){var n=Fg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(il!==null&&ah(il,e),ll!==null&&ah(ll,e),cl!==null&&ah(cl,e),Tp.forEach(t),Op.forEach(t),r=0;r<Bi.length;r++)n=Bi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bi.length&&(r=Bi[0],r.blockedOn===null);)eL(r),r.blockedOn===null&&Bi.shift()}var rd=pi.ReactCurrentBatchConfig,xv=!0;function wG(e,t,r,n){var a=ir,s=rd.transition;rd.transition=null;try{ir=1,c2(e,t,r,n)}finally{ir=a,rd.transition=s}}function _G(e,t,r,n){var a=ir,s=rd.transition;rd.transition=null;try{ir=4,c2(e,t,r,n)}finally{ir=a,rd.transition=s}}function c2(e,t,r,n){if(xv){var a=aS(e,t,r,n);if(a===null)Vw(e,t,n,bv,r),iA(e,n);else if(xG(a,e,t,r,n))n.stopPropagation();else if(iA(e,n),t&4&&-1<vG.indexOf(e)){for(;a!==null;){var s=Zm(a);if(s!==null&&Y5(s),s=aS(e,t,r,n),s===null&&Vw(e,t,n,bv,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Vw(e,t,n,null,r)}}var bv=null;function aS(e,t,r,n){if(bv=null,e=s2(n),e=oc(e),e!==null)if(t=tu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=z5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bv=e,null}function tL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cG()){case o2:return 1;case V5:return 4;case yv:case uG:return 16;case K5:return 536870912;default:return 16}default:return 16}}var Zi=null,u2=null,Yy=null;function rL(){if(Yy)return Yy;var e,t=u2,r=t.length,n,a="value"in Zi?Zi.value:Zi.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Yy=a.slice(e,1<n?1-n:void 0)}function Xy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bg(){return!0}function cA(){return!1}function Va(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bg:cA,this.isPropagationStopped=cA,this}return Fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bg)},persist:function(){},isPersistent:Bg}),t}var wf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d2=Va(wf),Qm=Fr({},wf,{view:0,detail:0}),SG=Va(Qm),Lw,Dw,sh,Sx=Fr({},Qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sh&&(sh&&e.type==="mousemove"?(Lw=e.screenX-sh.screenX,Dw=e.screenY-sh.screenY):Dw=Lw=0,sh=e),Lw)},movementY:function(e){return"movementY"in e?e.movementY:Dw}}),uA=Va(Sx),jG=Fr({},Sx,{dataTransfer:0}),kG=Va(jG),EG=Fr({},Qm,{relatedTarget:0}),Fw=Va(EG),NG=Fr({},wf,{animationName:0,elapsedTime:0,pseudoElement:0}),CG=Va(NG),PG=Fr({},wf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AG=Va(PG),TG=Fr({},wf,{data:0}),dA=Va(TG),OG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RG[e])?!!t[e]:!1}function f2(){return IG}var MG=Fr({},Qm,{key:function(e){if(e.key){var t=OG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$G[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f2,charCode:function(e){return e.type==="keypress"?Xy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LG=Va(MG),DG=Fr({},Sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fA=Va(DG),FG=Fr({},Qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f2}),BG=Va(FG),UG=Fr({},wf,{propertyName:0,elapsedTime:0,pseudoElement:0}),zG=Va(UG),qG=Fr({},Sx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WG=Va(qG),HG=[9,13,27,32],h2=ai&&"CompositionEvent"in window,sp=null;ai&&"documentMode"in document&&(sp=document.documentMode);var VG=ai&&"TextEvent"in window&&!sp,nL=ai&&(!h2||sp&&8<sp&&11>=sp),hA=" ",pA=!1;function aL(e,t){switch(e){case"keyup":return HG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Du=!1;function KG(e,t){switch(e){case"compositionend":return sL(t);case"keypress":return t.which!==32?null:(pA=!0,hA);case"textInput":return e=t.data,e===hA&&pA?null:e;default:return null}}function GG(e,t){if(Du)return e==="compositionend"||!h2&&aL(e,t)?(e=rL(),Yy=u2=Zi=null,Du=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nL&&t.locale!=="ko"?null:t.data;default:return null}}var JG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JG[e.type]:t==="textarea"}function oL(e,t,r,n){L5(n),t=wv(t,"onChange"),0<t.length&&(r=new d2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var op=null,Rp=null;function YG(e){yL(e,0)}function jx(e){var t=Uu(e);if(A5(t))return e}function XG(e,t){if(e==="change")return t}var iL=!1;if(ai){var Bw;if(ai){var Uw="oninput"in document;if(!Uw){var gA=document.createElement("div");gA.setAttribute("oninput","return;"),Uw=typeof gA.oninput=="function"}Bw=Uw}else Bw=!1;iL=Bw&&(!document.documentMode||9<document.documentMode)}function yA(){op&&(op.detachEvent("onpropertychange",lL),Rp=op=null)}function lL(e){if(e.propertyName==="value"&&jx(Rp)){var t=[];oL(t,Rp,e,s2(e)),U5(YG,t)}}function QG(e,t,r){e==="focusin"?(yA(),op=t,Rp=r,op.attachEvent("onpropertychange",lL)):e==="focusout"&&yA()}function ZG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jx(Rp)}function eJ(e,t){if(e==="click")return jx(t)}function tJ(e,t){if(e==="input"||e==="change")return jx(t)}function rJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zs=typeof Object.is=="function"?Object.is:rJ;function Ip(e,t){if(zs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!B_.call(t,a)||!zs(e[a],t[a]))return!1}return!0}function vA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xA(e,t){var r=vA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vA(r)}}function cL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uL(){for(var e=window,t=pv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pv(e.document)}return t}function p2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nJ(e){var t=uL(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cL(r.ownerDocument.documentElement,r)){if(n!==null&&p2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=xA(r,s);var o=xA(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aJ=ai&&"documentMode"in document&&11>=document.documentMode,Fu=null,sS=null,ip=null,oS=!1;function bA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oS||Fu==null||Fu!==pv(n)||(n=Fu,"selectionStart"in n&&p2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ip&&Ip(ip,n)||(ip=n,n=wv(sS,"onSelect"),0<n.length&&(t=new d2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fu)))}function Ug(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bu={animationend:Ug("Animation","AnimationEnd"),animationiteration:Ug("Animation","AnimationIteration"),animationstart:Ug("Animation","AnimationStart"),transitionend:Ug("Transition","TransitionEnd")},zw={},dL={};ai&&(dL=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function kx(e){if(zw[e])return zw[e];if(!Bu[e])return e;var t=Bu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dL)return zw[e]=t[r];return e}var fL=kx("animationend"),hL=kx("animationiteration"),pL=kx("animationstart"),mL=kx("transitionend"),gL=new Map,wA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Al(e,t){gL.set(e,t),eu(t,[e])}for(var qw=0;qw<wA.length;qw++){var Ww=wA[qw],sJ=Ww.toLowerCase(),oJ=Ww[0].toUpperCase()+Ww.slice(1);Al(sJ,"on"+oJ)}Al(fL,"onAnimationEnd");Al(hL,"onAnimationIteration");Al(pL,"onAnimationStart");Al("dblclick","onDoubleClick");Al("focusin","onFocus");Al("focusout","onBlur");Al(mL,"onTransitionEnd");Od("onMouseEnter",["mouseout","mouseover"]);Od("onMouseLeave",["mouseout","mouseover"]);Od("onPointerEnter",["pointerout","pointerover"]);Od("onPointerLeave",["pointerout","pointerover"]);eu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eu("onBeforeInput",["compositionend","keypress","textInput","paste"]);eu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(qh));function _A(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sG(n,t,void 0,e),e.currentTarget=null}function yL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;_A(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;_A(a,l,u),s=c}}}if(gv)throw e=tS,gv=!1,tS=null,e}function kr(e,t){var r=t[dS];r===void 0&&(r=t[dS]=new Set);var n=e+"__bubble";r.has(n)||(vL(t,e,2,!1),r.add(n))}function Hw(e,t,r){var n=0;t&&(n|=4),vL(r,e,n,t)}var zg="_reactListening"+Math.random().toString(36).slice(2);function Mp(e){if(!e[zg]){e[zg]=!0,k5.forEach(function(r){r!=="selectionchange"&&(iJ.has(r)||Hw(r,!1,e),Hw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zg]||(t[zg]=!0,Hw("selectionchange",!1,t))}}function vL(e,t,r,n){switch(tL(t)){case 1:var a=wG;break;case 4:a=_G;break;default:a=c2}r=a.bind(null,t,r,e),a=void 0,!eS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vw(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=oc(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}U5(function(){var u=s,d=s2(r),f=[];e:{var h=gL.get(e);if(h!==void 0){var g=d2,y=e;switch(e){case"keypress":if(Xy(r)===0)break e;case"keydown":case"keyup":g=LG;break;case"focusin":y="focus",g=Fw;break;case"focusout":y="blur",g=Fw;break;case"beforeblur":case"afterblur":g=Fw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=uA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=BG;break;case fL:case hL:case pL:g=CG;break;case mL:g=zG;break;case"scroll":g=SG;break;case"wheel":g=WG;break;case"copy":case"cut":case"paste":g=AG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fA}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=Ap(w,x),_!=null&&m.push(Lp(w,_,b)))),v)break;w=w.return}0<m.length&&(h=new g(h,y,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==Q_&&(y=r.relatedTarget||r.fromElement)&&(oc(y)||y[si]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?oc(y):null,y!==null&&(v=tu(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(m=uA,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=fA,_="onPointerLeave",x="onPointerEnter",w="pointer"),v=g==null?h:Uu(g),b=y==null?h:Uu(y),h=new m(_,w+"leave",g,r,d),h.target=v,h.relatedTarget=b,_=null,oc(d)===u&&(m=new m(x,w+"enter",y,r,d),m.target=b,m.relatedTarget=v,_=m),v=_,g&&y)t:{for(m=g,x=y,w=0,b=m;b;b=fu(b))w++;for(b=0,_=x;_;_=fu(_))b++;for(;0<w-b;)m=fu(m),w--;for(;0<b-w;)x=fu(x),b--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=fu(m),x=fu(x)}m=null}else m=null;g!==null&&SA(f,h,g,m,!1),y!==null&&v!==null&&SA(f,v,y,m,!0)}}e:{if(h=u?Uu(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=XG;else if(mA(h))if(iL)S=tJ;else{S=ZG;var E=QG}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=eJ);if(S&&(S=S(e,u))){oL(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&K_(h,"number",h.value)}switch(E=u?Uu(u):window,e){case"focusin":(mA(E)||E.contentEditable==="true")&&(Fu=E,sS=u,ip=null);break;case"focusout":ip=sS=Fu=null;break;case"mousedown":oS=!0;break;case"contextmenu":case"mouseup":case"dragend":oS=!1,bA(f,r,d);break;case"selectionchange":if(aJ)break;case"keydown":case"keyup":bA(f,r,d)}var j;if(h2)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Du?aL(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(nL&&r.locale!=="ko"&&(Du||k!=="onCompositionStart"?k==="onCompositionEnd"&&Du&&(j=rL()):(Zi=d,u2="value"in Zi?Zi.value:Zi.textContent,Du=!0)),E=wv(u,k),0<E.length&&(k=new dA(k,e,null,r,d),f.push({event:k,listeners:E}),j?k.data=j:(j=sL(r),j!==null&&(k.data=j)))),(j=VG?KG(e,r):GG(e,r))&&(u=wv(u,"onBeforeInput"),0<u.length&&(d=new dA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}yL(f,t)})}function Lp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Ap(e,r),s!=null&&n.unshift(Lp(e,s,a)),s=Ap(e,t),s!=null&&n.push(Lp(e,s,a))),e=e.return}return n}function fu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function SA(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ap(r,s),c!=null&&o.unshift(Lp(r,c,l))):a||(c=Ap(r,s),c!=null&&o.push(Lp(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var lJ=/\r\n?/g,cJ=/\u0000|\uFFFD/g;function jA(e){return(typeof e=="string"?e:""+e).replace(lJ,`
`).replace(cJ,"")}function qg(e,t,r){if(t=jA(t),jA(e)!==t&&r)throw Error(Ie(425))}function _v(){}var iS=null,lS=null;function cS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uS=typeof setTimeout=="function"?setTimeout:void 0,uJ=typeof clearTimeout=="function"?clearTimeout:void 0,kA=typeof Promise=="function"?Promise:void 0,dJ=typeof queueMicrotask=="function"?queueMicrotask:typeof kA<"u"?function(e){return kA.resolve(null).then(e).catch(fJ)}:uS;function fJ(e){setTimeout(function(){throw e})}function Kw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),$p(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);$p(t)}function ul(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function EA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _f=Math.random().toString(36).slice(2),uo="__reactFiber$"+_f,Dp="__reactProps$"+_f,si="__reactContainer$"+_f,dS="__reactEvents$"+_f,hJ="__reactListeners$"+_f,pJ="__reactHandles$"+_f;function oc(e){var t=e[uo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[si]||r[uo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=EA(e);e!==null;){if(r=e[uo])return r;e=EA(e)}return t}e=r,r=e.parentNode}return null}function Zm(e){return e=e[uo]||e[si],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function Ex(e){return e[Dp]||null}var fS=[],zu=-1;function Tl(e){return{current:e}}function Pr(e){0>zu||(e.current=fS[zu],fS[zu]=null,zu--)}function _r(e,t){zu++,fS[zu]=e.current,e.current=t}var Sl={},Wn=Tl(Sl),Sa=Tl(!1),Rc=Sl;function $d(e,t){var r=e.type.contextTypes;if(!r)return Sl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ja(e){return e=e.childContextTypes,e!=null}function Sv(){Pr(Sa),Pr(Wn)}function NA(e,t,r){if(Wn.current!==Sl)throw Error(Ie(168));_r(Wn,t),_r(Sa,r)}function xL(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ie(108,QK(e)||"Unknown",a));return Fr({},r,n)}function jv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sl,Rc=Wn.current,_r(Wn,e),_r(Sa,Sa.current),!0}function CA(e,t,r){var n=e.stateNode;if(!n)throw Error(Ie(169));r?(e=xL(e,t,Rc),n.__reactInternalMemoizedMergedChildContext=e,Pr(Sa),Pr(Wn),_r(Wn,e)):Pr(Sa),_r(Sa,r)}var zo=null,Nx=!1,Gw=!1;function bL(e){zo===null?zo=[e]:zo.push(e)}function mJ(e){Nx=!0,bL(e)}function Ol(){if(!Gw&&zo!==null){Gw=!0;var e=0,t=ir;try{var r=zo;for(ir=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zo=null,Nx=!1}catch(a){throw zo!==null&&(zo=zo.slice(e+1)),H5(o2,Ol),a}finally{ir=t,Gw=!1}}return null}var qu=[],Wu=0,kv=null,Ev=0,ns=[],as=0,Ic=null,Vo=1,Ko="";function Jl(e,t){qu[Wu++]=Ev,qu[Wu++]=kv,kv=e,Ev=t}function wL(e,t,r){ns[as++]=Vo,ns[as++]=Ko,ns[as++]=Ic,Ic=e;var n=Vo;e=Ko;var a=32-Ls(n)-1;n&=~(1<<a),r+=1;var s=32-Ls(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Vo=1<<32-Ls(t)+a|r<<a|n,Ko=s+e}else Vo=1<<s|r<<a|n,Ko=e}function m2(e){e.return!==null&&(Jl(e,1),wL(e,1,0))}function g2(e){for(;e===kv;)kv=qu[--Wu],qu[Wu]=null,Ev=qu[--Wu],qu[Wu]=null;for(;e===Ic;)Ic=ns[--as],ns[as]=null,Ko=ns[--as],ns[as]=null,Vo=ns[--as],ns[as]=null}var Ua=null,Da=null,Tr=!1,Ts=null;function _L(e,t){var r=ss(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function PA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ua=e,Da=ul(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ua=e,Da=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ic!==null?{id:Vo,overflow:Ko}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ss(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ua=e,Da=null,!0):!1;default:return!1}}function hS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pS(e){if(Tr){var t=Da;if(t){var r=t;if(!PA(e,t)){if(hS(e))throw Error(Ie(418));t=ul(r.nextSibling);var n=Ua;t&&PA(e,t)?_L(n,r):(e.flags=e.flags&-4097|2,Tr=!1,Ua=e)}}else{if(hS(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,Tr=!1,Ua=e}}}function AA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ua=e}function Wg(e){if(e!==Ua)return!1;if(!Tr)return AA(e),Tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cS(e.type,e.memoizedProps)),t&&(t=Da)){if(hS(e))throw SL(),Error(Ie(418));for(;t;)_L(e,t),t=ul(t.nextSibling)}if(AA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Da=ul(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Da=null}}else Da=Ua?ul(e.stateNode.nextSibling):null;return!0}function SL(){for(var e=Da;e;)e=ul(e.nextSibling)}function Rd(){Da=Ua=null,Tr=!1}function y2(e){Ts===null?Ts=[e]:Ts.push(e)}var gJ=pi.ReactCurrentBatchConfig;function oh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ie(309));var n=r.stateNode}if(!n)throw Error(Ie(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ie(284));if(!r._owner)throw Error(Ie(290,e))}return e}function Hg(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function TA(e){var t=e._init;return t(e._payload)}function jL(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function a(x,w){return x=pl(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,b,_){return w===null||w.tag!==6?(w=t1(b,x.mode,_),w.return=x,w):(w=a(w,b),w.return=x,w)}function c(x,w,b,_){var S=b.type;return S===Lu?d(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mi&&TA(S)===w.type)?(_=a(w,b.props),_.ref=oh(x,w,b),_.return=x,_):(_=av(b.type,b.key,b.props,null,x.mode,_),_.ref=oh(x,w,b),_.return=x,_)}function u(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=r1(b,x.mode,_),w.return=x,w):(w=a(w,b.children||[]),w.return=x,w)}function d(x,w,b,_,S){return w===null||w.tag!==7?(w=_c(b,x.mode,_,S),w.return=x,w):(w=a(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=t1(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rg:return b=av(w.type,w.key,w.props,null,x.mode,b),b.ref=oh(x,null,w),b.return=x,b;case Mu:return w=r1(w,x.mode,b),w.return=x,w;case Mi:var _=w._init;return f(x,_(w._payload),b)}if(Uh(w)||th(w))return w=_c(w,x.mode,b,null),w.return=x,w;Hg(x,w)}return null}function h(x,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rg:return b.key===S?c(x,w,b,_):null;case Mu:return b.key===S?u(x,w,b,_):null;case Mi:return S=b._init,h(x,w,S(b._payload),_)}if(Uh(b)||th(b))return S!==null?null:d(x,w,b,_,null);Hg(x,b)}return null}function g(x,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,l(w,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rg:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,S);case Mu:return x=x.get(_.key===null?b:_.key)||null,u(w,x,_,S);case Mi:var E=_._init;return g(x,w,b,E(_._payload),S)}if(Uh(_)||th(_))return x=x.get(b)||null,d(w,x,_,S,null);Hg(w,_)}return null}function y(x,w,b,_){for(var S=null,E=null,j=w,k=w=0,N=null;j!==null&&k<b.length;k++){j.index>k?(N=j,j=null):N=j.sibling;var P=h(x,j,b[k],_);if(P===null){j===null&&(j=N);break}e&&j&&P.alternate===null&&t(x,j),w=s(P,w,k),E===null?S=P:E.sibling=P,E=P,j=N}if(k===b.length)return r(x,j),Tr&&Jl(x,k),S;if(j===null){for(;k<b.length;k++)j=f(x,b[k],_),j!==null&&(w=s(j,w,k),E===null?S=j:E.sibling=j,E=j);return Tr&&Jl(x,k),S}for(j=n(x,j);k<b.length;k++)N=g(j,x,k,b[k],_),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?k:N.key),w=s(N,w,k),E===null?S=N:E.sibling=N,E=N);return e&&j.forEach(function(A){return t(x,A)}),Tr&&Jl(x,k),S}function m(x,w,b,_){var S=th(b);if(typeof S!="function")throw Error(Ie(150));if(b=S.call(b),b==null)throw Error(Ie(151));for(var E=S=null,j=w,k=w=0,N=null,P=b.next();j!==null&&!P.done;k++,P=b.next()){j.index>k?(N=j,j=null):N=j.sibling;var A=h(x,j,P.value,_);if(A===null){j===null&&(j=N);break}e&&j&&A.alternate===null&&t(x,j),w=s(A,w,k),E===null?S=A:E.sibling=A,E=A,j=N}if(P.done)return r(x,j),Tr&&Jl(x,k),S;if(j===null){for(;!P.done;k++,P=b.next())P=f(x,P.value,_),P!==null&&(w=s(P,w,k),E===null?S=P:E.sibling=P,E=P);return Tr&&Jl(x,k),S}for(j=n(x,j);!P.done;k++,P=b.next())P=g(j,x,k,P.value,_),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?k:P.key),w=s(P,w,k),E===null?S=P:E.sibling=P,E=P);return e&&j.forEach(function(R){return t(x,R)}),Tr&&Jl(x,k),S}function v(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Lu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Rg:e:{for(var S=b.key,E=w;E!==null;){if(E.key===S){if(S=b.type,S===Lu){if(E.tag===7){r(x,E.sibling),w=a(E,b.props.children),w.return=x,x=w;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mi&&TA(S)===E.type){r(x,E.sibling),w=a(E,b.props),w.ref=oh(x,E,b),w.return=x,x=w;break e}r(x,E);break}else t(x,E);E=E.sibling}b.type===Lu?(w=_c(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=av(b.type,b.key,b.props,null,x.mode,_),_.ref=oh(x,w,b),_.return=x,x=_)}return o(x);case Mu:e:{for(E=b.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=a(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=r1(b,x.mode,_),w.return=x,x=w}return o(x);case Mi:return E=b._init,v(x,w,E(b._payload),_)}if(Uh(b))return y(x,w,b,_);if(th(b))return m(x,w,b,_);Hg(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=a(w,b),w.return=x,x=w):(r(x,w),w=t1(b,x.mode,_),w.return=x,x=w),o(x)):r(x,w)}return v}var Id=jL(!0),kL=jL(!1),Nv=Tl(null),Cv=null,Hu=null,v2=null;function x2(){v2=Hu=Cv=null}function b2(e){var t=Nv.current;Pr(Nv),e._currentValue=t}function mS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nd(e,t){Cv=e,v2=Hu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ba=!0),e.firstContext=null)}function ps(e){var t=e._currentValue;if(v2!==e)if(e={context:e,memoizedValue:t,next:null},Hu===null){if(Cv===null)throw Error(Ie(308));Hu=e,Cv.dependencies={lanes:0,firstContext:e}}else Hu=Hu.next=e;return t}var ic=null;function w2(e){ic===null?ic=[e]:ic.push(e)}function EL(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,w2(t)):(r.next=a.next,a.next=r),t.interleaved=r,oi(e,n)}function oi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Li=!1;function _2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Gt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,oi(e,r)}return a=n.interleaved,a===null?(t.next=t,w2(n)):(t.next=a.next,a.next=t),n.interleaved=t,oi(e,r)}function Qy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i2(e,r)}}function OA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pv(e,t,r,n){var a=e.updateQueue;Li=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,g=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=Fr({},f,h);break e;case 2:Li=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Lc|=o,e.lanes=o,e.memoizedState=f}}function $A(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ie(191,a));a.call(n)}}}var eg={},yo=Tl(eg),Fp=Tl(eg),Bp=Tl(eg);function lc(e){if(e===eg)throw Error(Ie(174));return e}function S2(e,t){switch(_r(Bp,t),_r(Fp,e),_r(yo,eg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:J_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=J_(t,e)}Pr(yo),_r(yo,t)}function Md(){Pr(yo),Pr(Fp),Pr(Bp)}function CL(e){lc(Bp.current);var t=lc(yo.current),r=J_(t,e.type);t!==r&&(_r(Fp,e),_r(yo,r))}function j2(e){Fp.current===e&&(Pr(yo),Pr(Fp))}var Rr=Tl(0);function Av(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jw=[];function k2(){for(var e=0;e<Jw.length;e++)Jw[e]._workInProgressVersionPrimary=null;Jw.length=0}var Zy=pi.ReactCurrentDispatcher,Yw=pi.ReactCurrentBatchConfig,Mc=0,Dr=null,on=null,vn=null,Tv=!1,lp=!1,Up=0,yJ=0;function $n(){throw Error(Ie(321))}function E2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zs(e[r],t[r]))return!1;return!0}function N2(e,t,r,n,a,s){if(Mc=s,Dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zy.current=e===null||e.memoizedState===null?wJ:_J,e=r(n,a),lp){s=0;do{if(lp=!1,Up=0,25<=s)throw Error(Ie(301));s+=1,vn=on=null,t.updateQueue=null,Zy.current=SJ,e=r(n,a)}while(lp)}if(Zy.current=Ov,t=on!==null&&on.next!==null,Mc=0,vn=on=Dr=null,Tv=!1,t)throw Error(Ie(300));return e}function C2(){var e=Up!==0;return Up=0,e}function no(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Dr.memoizedState=vn=e:vn=vn.next=e,vn}function ms(){if(on===null){var e=Dr.alternate;e=e!==null?e.memoizedState:null}else e=on.next;var t=vn===null?Dr.memoizedState:vn.next;if(t!==null)vn=t,on=e;else{if(e===null)throw Error(Ie(310));on=e,e={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},vn===null?Dr.memoizedState=vn=e:vn=vn.next=e}return vn}function zp(e,t){return typeof t=="function"?t(e):t}function Xw(e){var t=ms(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=on,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Mc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Dr.lanes|=d,Lc|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,zs(n,t.memoizedState)||(ba=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Dr.lanes|=s,Lc|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qw(e){var t=ms(),r=t.queue;if(r===null)throw Error(Ie(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);zs(s,t.memoizedState)||(ba=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function PL(){}function AL(e,t){var r=Dr,n=ms(),a=t(),s=!zs(n.memoizedState,a);if(s&&(n.memoizedState=a,ba=!0),n=n.queue,P2($L.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||vn!==null&&vn.memoizedState.tag&1){if(r.flags|=2048,qp(9,OL.bind(null,r,n,a,t),void 0,null),wn===null)throw Error(Ie(349));Mc&30||TL(r,t,a)}return a}function TL(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Dr.updateQueue,t===null?(t={lastEffect:null,stores:null},Dr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function OL(e,t,r,n){t.value=r,t.getSnapshot=n,RL(t)&&IL(e)}function $L(e,t,r){return r(function(){RL(t)&&IL(e)})}function RL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zs(e,r)}catch{return!0}}function IL(e){var t=oi(e,1);t!==null&&Ds(t,e,1,-1)}function RA(e){var t=no();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:e},t.queue=e,e=e.dispatch=bJ.bind(null,Dr,e),[t.memoizedState,e]}function qp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Dr.updateQueue,t===null?(t={lastEffect:null,stores:null},Dr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ML(){return ms().memoizedState}function ev(e,t,r,n){var a=no();Dr.flags|=e,a.memoizedState=qp(1|t,r,void 0,n===void 0?null:n)}function Cx(e,t,r,n){var a=ms();n=n===void 0?null:n;var s=void 0;if(on!==null){var o=on.memoizedState;if(s=o.destroy,n!==null&&E2(n,o.deps)){a.memoizedState=qp(t,r,s,n);return}}Dr.flags|=e,a.memoizedState=qp(1|t,r,s,n)}function IA(e,t){return ev(8390656,8,e,t)}function P2(e,t){return Cx(2048,8,e,t)}function LL(e,t){return Cx(4,2,e,t)}function DL(e,t){return Cx(4,4,e,t)}function FL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BL(e,t,r){return r=r!=null?r.concat([e]):null,Cx(4,4,FL.bind(null,t,e),r)}function A2(){}function UL(e,t){var r=ms();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&E2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zL(e,t){var r=ms();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&E2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qL(e,t,r){return Mc&21?(zs(r,t)||(r=G5(),Dr.lanes|=r,Lc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=r)}function vJ(e,t){var r=ir;ir=r!==0&&4>r?r:4,e(!0);var n=Yw.transition;Yw.transition={};try{e(!1),t()}finally{ir=r,Yw.transition=n}}function WL(){return ms().memoizedState}function xJ(e,t,r){var n=hl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},HL(e))VL(t,r);else if(r=EL(e,t,r,n),r!==null){var a=oa();Ds(r,e,n,a),KL(r,t,n)}}function bJ(e,t,r){var n=hl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(HL(e))VL(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,zs(l,o)){var c=t.interleaved;c===null?(a.next=a,w2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=EL(e,t,a,n),r!==null&&(a=oa(),Ds(r,e,n,a),KL(r,t,n))}}function HL(e){var t=e.alternate;return e===Dr||t!==null&&t===Dr}function VL(e,t){lp=Tv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function KL(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i2(e,r)}}var Ov={readContext:ps,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},wJ={readContext:ps,useCallback:function(e,t){return no().memoizedState=[e,t===void 0?null:t],e},useContext:ps,useEffect:IA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ev(4194308,4,FL.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ev(4194308,4,e,t)},useInsertionEffect:function(e,t){return ev(4,2,e,t)},useMemo:function(e,t){var r=no();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=no();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xJ.bind(null,Dr,e),[n.memoizedState,e]},useRef:function(e){var t=no();return e={current:e},t.memoizedState=e},useState:RA,useDebugValue:A2,useDeferredValue:function(e){return no().memoizedState=e},useTransition:function(){var e=RA(!1),t=e[0];return e=vJ.bind(null,e[1]),no().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Dr,a=no();if(Tr){if(r===void 0)throw Error(Ie(407));r=r()}else{if(r=t(),wn===null)throw Error(Ie(349));Mc&30||TL(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,IA($L.bind(null,n,s,e),[e]),n.flags|=2048,qp(9,OL.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=no(),t=wn.identifierPrefix;if(Tr){var r=Ko,n=Vo;r=(n&~(1<<32-Ls(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Up++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_J={readContext:ps,useCallback:UL,useContext:ps,useEffect:P2,useImperativeHandle:BL,useInsertionEffect:LL,useLayoutEffect:DL,useMemo:zL,useReducer:Xw,useRef:ML,useState:function(){return Xw(zp)},useDebugValue:A2,useDeferredValue:function(e){var t=ms();return qL(t,on.memoizedState,e)},useTransition:function(){var e=Xw(zp)[0],t=ms().memoizedState;return[e,t]},useMutableSource:PL,useSyncExternalStore:AL,useId:WL,unstable_isNewReconciler:!1},SJ={readContext:ps,useCallback:UL,useContext:ps,useEffect:P2,useImperativeHandle:BL,useInsertionEffect:LL,useLayoutEffect:DL,useMemo:zL,useReducer:Qw,useRef:ML,useState:function(){return Qw(zp)},useDebugValue:A2,useDeferredValue:function(e){var t=ms();return on===null?t.memoizedState=e:qL(t,on.memoizedState,e)},useTransition:function(){var e=Qw(zp)[0],t=ms().memoizedState;return[e,t]},useMutableSource:PL,useSyncExternalStore:AL,useId:WL,unstable_isNewReconciler:!1};function Es(e,t){if(e&&e.defaultProps){t=Fr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Px={isMounted:function(e){return(e=e._reactInternals)?tu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=oa(),a=hl(e),s=Qo(n,a);s.payload=t,r!=null&&(s.callback=r),t=dl(e,s,a),t!==null&&(Ds(t,e,a,n),Qy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=oa(),a=hl(e),s=Qo(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=dl(e,s,a),t!==null&&(Ds(t,e,a,n),Qy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=oa(),n=hl(e),a=Qo(r,n);a.tag=2,t!=null&&(a.callback=t),t=dl(e,a,n),t!==null&&(Ds(t,e,n,r),Qy(t,e,n))}};function MA(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ip(r,n)||!Ip(a,s):!0}function GL(e,t,r){var n=!1,a=Sl,s=t.contextType;return typeof s=="object"&&s!==null?s=ps(s):(a=ja(t)?Rc:Wn.current,n=t.contextTypes,s=(n=n!=null)?$d(e,a):Sl),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Px,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function LA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Px.enqueueReplaceState(t,t.state,null)}function yS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},_2(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=ps(s):(s=ja(t)?Rc:Wn.current,a.context=$d(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(gS(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Px.enqueueReplaceState(a,a.state,null),Pv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ld(e,t){try{var r="",n=t;do r+=XK(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Zw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jJ=typeof WeakMap=="function"?WeakMap:Map;function JL(e,t,r){r=Qo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Rv||(Rv=!0,CS=n),vS(e,t)},r}function YL(e,t,r){r=Qo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){vS(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){vS(e,t),typeof n!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function DA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=DJ.bind(null,e,t,r),t.then(e,e))}function FA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qo(-1,1),t.tag=2,dl(r,t,1))),r.lanes|=1),e)}var kJ=pi.ReactCurrentOwner,ba=!1;function Qn(e,t,r,n){t.child=e===null?kL(t,null,r,n):Id(t,e.child,r,n)}function UA(e,t,r,n,a){r=r.render;var s=t.ref;return nd(t,a),n=N2(e,t,r,n,s,a),r=C2(),e!==null&&!ba?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ii(e,t,a)):(Tr&&r&&m2(t),t.flags|=1,Qn(e,t,n,a),t.child)}function zA(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!D2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,XL(e,t,s,n,a)):(e=av(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ip,r(o,n)&&e.ref===t.ref)return ii(e,t,a)}return t.flags|=1,e=pl(s,n),e.ref=t.ref,e.return=t,t.child=e}function XL(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Ip(s,n)&&e.ref===t.ref)if(ba=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ba=!0);else return t.lanes=e.lanes,ii(e,t,a)}return xS(e,t,r,n,a)}function QL(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Ku,$a),$a|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_r(Ku,$a),$a|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_r(Ku,$a),$a|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,_r(Ku,$a),$a|=n;return Qn(e,t,a,r),t.child}function ZL(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xS(e,t,r,n,a){var s=ja(r)?Rc:Wn.current;return s=$d(t,s),nd(t,a),r=N2(e,t,r,n,s,a),n=C2(),e!==null&&!ba?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ii(e,t,a)):(Tr&&n&&m2(t),t.flags|=1,Qn(e,t,r,a),t.child)}function qA(e,t,r,n,a){if(ja(r)){var s=!0;jv(t)}else s=!1;if(nd(t,a),t.stateNode===null)tv(e,t),GL(t,r,n),yS(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ps(u):(u=ja(r)?Rc:Wn.current,u=$d(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&LA(t,o,n,u),Li=!1;var h=t.memoizedState;o.state=h,Pv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Sa.current||Li?(typeof d=="function"&&(gS(t,r,d,n),c=t.memoizedState),(l=Li||MA(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,NL(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Es(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ps(c):(c=ja(r)?Rc:Wn.current,c=$d(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&LA(t,o,n,c),Li=!1,h=t.memoizedState,o.state=h,Pv(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||Sa.current||Li?(typeof g=="function"&&(gS(t,r,g,n),y=t.memoizedState),(u=Li||MA(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return bS(e,t,r,n,s,a)}function bS(e,t,r,n,a,s){ZL(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&CA(t,r,!1),ii(e,t,s);n=t.stateNode,kJ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Id(t,e.child,null,s),t.child=Id(t,null,l,s)):Qn(e,t,l,s),t.memoizedState=n.state,a&&CA(t,r,!0),t.child}function eD(e){var t=e.stateNode;t.pendingContext?NA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&NA(e,t.context,!1),S2(e,t.containerInfo)}function WA(e,t,r,n,a){return Rd(),y2(a),t.flags|=256,Qn(e,t,r,n),t.child}var wS={dehydrated:null,treeContext:null,retryLane:0};function _S(e){return{baseLanes:e,cachePool:null,transitions:null}}function tD(e,t,r){var n=t.pendingProps,a=Rr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_r(Rr,a&1),e===null)return pS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ox(o,n,0,null),e=_c(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_S(r),t.memoizedState=wS,e):T2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return EJ(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=pl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=pl(l,s):(s=_c(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?_S(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=wS,n}return s=e.child,e=s.sibling,n=pl(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function T2(e,t){return t=Ox({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vg(e,t,r,n){return n!==null&&y2(n),Id(t,e.child,null,r),e=T2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EJ(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Zw(Error(Ie(422))),Vg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Ox({mode:"visible",children:n.children},a,0,null),s=_c(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Id(t,e.child,null,o),t.child.memoizedState=_S(o),t.memoizedState=wS,s);if(!(t.mode&1))return Vg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ie(419)),n=Zw(s,n,void 0),Vg(e,t,o,n)}if(l=(o&e.childLanes)!==0,ba||l){if(n=wn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,oi(e,a),Ds(n,e,a,-1))}return L2(),n=Zw(Error(Ie(421))),Vg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=FJ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Da=ul(a.nextSibling),Ua=t,Tr=!0,Ts=null,e!==null&&(ns[as++]=Vo,ns[as++]=Ko,ns[as++]=Ic,Vo=e.id,Ko=e.overflow,Ic=t),t=T2(t,n.children),t.flags|=4096,t)}function HA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mS(e.return,t,r)}function e1(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function rD(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Qn(e,t,n.children,r),n=Rr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HA(e,r,t);else if(e.tag===19)HA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_r(Rr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Av(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),e1(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Av(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}e1(t,!0,r,null,s);break;case"together":e1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ii(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Lc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,r=pl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function NJ(e,t,r){switch(t.tag){case 3:eD(t),Rd();break;case 5:CL(t);break;case 1:ja(t.type)&&jv(t);break;case 4:S2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_r(Nv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_r(Rr,Rr.current&1),t.flags|=128,null):r&t.child.childLanes?tD(e,t,r):(_r(Rr,Rr.current&1),e=ii(e,t,r),e!==null?e.sibling:null);_r(Rr,Rr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_r(Rr,Rr.current),n)break;return null;case 22:case 23:return t.lanes=0,QL(e,t,r)}return ii(e,t,r)}var nD,SS,aD,sD;nD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};SS=function(){};aD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,lc(yo.current);var s=null;switch(r){case"input":a=H_(e,a),n=H_(e,n),s=[];break;case"select":a=Fr({},a,{value:void 0}),n=Fr({},n,{value:void 0}),s=[];break;case"textarea":a=G_(e,a),n=G_(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_v)}Y_(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};sD=function(e,t,r,n){r!==n&&(t.flags|=4)};function ih(e,t){if(!Tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function CJ(e,t,r){var n=t.pendingProps;switch(g2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(t),null;case 1:return ja(t.type)&&Sv(),Rn(t),null;case 3:return n=t.stateNode,Md(),Pr(Sa),Pr(Wn),k2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ts!==null&&(TS(Ts),Ts=null))),SS(e,t),Rn(t),null;case 5:j2(t);var a=lc(Bp.current);if(r=t.type,e!==null&&t.stateNode!=null)aD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ie(166));return Rn(t),null}if(e=lc(yo.current),Wg(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[uo]=t,n[Dp]=s,e=(t.mode&1)!==0,r){case"dialog":kr("cancel",n),kr("close",n);break;case"iframe":case"object":case"embed":kr("load",n);break;case"video":case"audio":for(a=0;a<qh.length;a++)kr(qh[a],n);break;case"source":kr("error",n);break;case"img":case"image":case"link":kr("error",n),kr("load",n);break;case"details":kr("toggle",n);break;case"input":eA(n,s),kr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},kr("invalid",n);break;case"textarea":rA(n,s),kr("invalid",n)}Y_(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&qg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&qg(n.textContent,l,e),a=["children",""+l]):Cp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&kr("scroll",n)}switch(r){case"input":Ig(n),tA(n,s,!0);break;case"textarea":Ig(n),nA(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=_v)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$5(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[uo]=t,e[Dp]=n,nD(e,t,!1,!1),t.stateNode=e;e:{switch(o=X_(r,n),r){case"dialog":kr("cancel",e),kr("close",e),a=n;break;case"iframe":case"object":case"embed":kr("load",e),a=n;break;case"video":case"audio":for(a=0;a<qh.length;a++)kr(qh[a],e);a=n;break;case"source":kr("error",e),a=n;break;case"img":case"image":case"link":kr("error",e),kr("load",e),a=n;break;case"details":kr("toggle",e),a=n;break;case"input":eA(e,n),a=H_(e,n),kr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Fr({},n,{value:void 0}),kr("invalid",e);break;case"textarea":rA(e,n),a=G_(e,n),kr("invalid",e);break;default:a=n}Y_(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?M5(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&R5(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pp(e,c):typeof c=="number"&&Pp(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&kr("scroll",e):c!=null&&t2(e,s,c,o))}switch(r){case"input":Ig(e),tA(e,n,!1);break;case"textarea":Ig(e),nA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_l(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Zu(e,!!n.multiple,s,!1):n.defaultValue!=null&&Zu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_v)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rn(t),null;case 6:if(e&&t.stateNode!=null)sD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ie(166));if(r=lc(Bp.current),lc(yo.current),Wg(t)){if(n=t.stateNode,r=t.memoizedProps,n[uo]=t,(s=n.nodeValue!==r)&&(e=Ua,e!==null))switch(e.tag){case 3:qg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qg(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[uo]=t,t.stateNode=n}return Rn(t),null;case 13:if(Pr(Rr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tr&&Da!==null&&t.mode&1&&!(t.flags&128))SL(),Rd(),t.flags|=98560,s=!1;else if(s=Wg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[uo]=t}else Rd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rn(t),s=!1}else Ts!==null&&(TS(Ts),Ts=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Rr.current&1?fn===0&&(fn=3):L2())),t.updateQueue!==null&&(t.flags|=4),Rn(t),null);case 4:return Md(),SS(e,t),e===null&&Mp(t.stateNode.containerInfo),Rn(t),null;case 10:return b2(t.type._context),Rn(t),null;case 17:return ja(t.type)&&Sv(),Rn(t),null;case 19:if(Pr(Rr),s=t.memoizedState,s===null)return Rn(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ih(s,!1);else{if(fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Av(e),o!==null){for(t.flags|=128,ih(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _r(Rr,Rr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Kr()>Dd&&(t.flags|=128,n=!0,ih(s,!1),t.lanes=4194304)}else{if(!n)if(e=Av(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ih(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tr)return Rn(t),null}else 2*Kr()-s.renderingStartTime>Dd&&r!==1073741824&&(t.flags|=128,n=!0,ih(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Kr(),t.sibling=null,r=Rr.current,_r(Rr,n?r&1|2:r&1),t):(Rn(t),null);case 22:case 23:return M2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$a&1073741824&&(Rn(t),t.subtreeFlags&6&&(t.flags|=8192)):Rn(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function PJ(e,t){switch(g2(t),t.tag){case 1:return ja(t.type)&&Sv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Md(),Pr(Sa),Pr(Wn),k2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return j2(t),null;case 13:if(Pr(Rr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));Rd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pr(Rr),null;case 4:return Md(),null;case 10:return b2(t.type._context),null;case 22:case 23:return M2(),null;case 24:return null;default:return null}}var Kg=!1,Dn=!1,AJ=typeof WeakSet=="function"?WeakSet:Set,it=null;function Vu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zr(e,t,n)}else r.current=null}function jS(e,t,r){try{r()}catch(n){zr(e,t,n)}}var VA=!1;function TJ(e,t){if(iS=xv,e=uL(),p2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lS={focusedElem:e,selectionRange:r},xv=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,v=y.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:Es(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(_){zr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return y=VA,VA=!1,y}function cp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&jS(t,r,s)}a=a.next}while(a!==n)}}function Ax(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function kS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function oD(e){var t=e.alternate;t!==null&&(e.alternate=null,oD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[uo],delete t[Dp],delete t[dS],delete t[hJ],delete t[pJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iD(e){return e.tag===5||e.tag===3||e.tag===4}function KA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ES(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_v));else if(n!==4&&(e=e.child,e!==null))for(ES(e,t,r),e=e.sibling;e!==null;)ES(e,t,r),e=e.sibling}function NS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(NS(e,t,r),e=e.sibling;e!==null;)NS(e,t,r),e=e.sibling}var jn=null,Cs=!1;function _i(e,t,r){for(r=r.child;r!==null;)lD(e,t,r),r=r.sibling}function lD(e,t,r){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(_x,r)}catch{}switch(r.tag){case 5:Dn||Vu(r,t);case 6:var n=jn,a=Cs;jn=null,_i(e,t,r),jn=n,Cs=a,jn!==null&&(Cs?(e=jn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):jn.removeChild(r.stateNode));break;case 18:jn!==null&&(Cs?(e=jn,r=r.stateNode,e.nodeType===8?Kw(e.parentNode,r):e.nodeType===1&&Kw(e,r),$p(e)):Kw(jn,r.stateNode));break;case 4:n=jn,a=Cs,jn=r.stateNode.containerInfo,Cs=!0,_i(e,t,r),jn=n,Cs=a;break;case 0:case 11:case 14:case 15:if(!Dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jS(r,t,o),a=a.next}while(a!==n)}_i(e,t,r);break;case 1:if(!Dn&&(Vu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){zr(r,t,l)}_i(e,t,r);break;case 21:_i(e,t,r);break;case 22:r.mode&1?(Dn=(n=Dn)||r.memoizedState!==null,_i(e,t,r),Dn=n):_i(e,t,r);break;default:_i(e,t,r)}}function GA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new AJ),t.forEach(function(n){var a=BJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ws(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:jn=l.stateNode,Cs=!1;break e;case 3:jn=l.stateNode.containerInfo,Cs=!0;break e;case 4:jn=l.stateNode.containerInfo,Cs=!0;break e}l=l.return}if(jn===null)throw Error(Ie(160));lD(s,o,a),jn=null,Cs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){zr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cD(t,e),t=t.sibling}function cD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ws(t,e),eo(e),n&4){try{cp(3,e,e.return),Ax(3,e)}catch(m){zr(e,e.return,m)}try{cp(5,e,e.return)}catch(m){zr(e,e.return,m)}}break;case 1:ws(t,e),eo(e),n&512&&r!==null&&Vu(r,r.return);break;case 5:if(ws(t,e),eo(e),n&512&&r!==null&&Vu(r,r.return),e.flags&32){var a=e.stateNode;try{Pp(a,"")}catch(m){zr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&T5(a,s),X_(l,o);var u=X_(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?M5(a,f):d==="dangerouslySetInnerHTML"?R5(a,f):d==="children"?Pp(a,f):t2(a,d,f,u)}switch(l){case"input":V_(a,s);break;case"textarea":O5(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Zu(a,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Zu(a,!!s.multiple,s.defaultValue,!0):Zu(a,!!s.multiple,s.multiple?[]:"",!1))}a[Dp]=s}catch(m){zr(e,e.return,m)}}break;case 6:if(ws(t,e),eo(e),n&4){if(e.stateNode===null)throw Error(Ie(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){zr(e,e.return,m)}}break;case 3:if(ws(t,e),eo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$p(t.containerInfo)}catch(m){zr(e,e.return,m)}break;case 4:ws(t,e),eo(e);break;case 13:ws(t,e),eo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(R2=Kr())),n&4&&GA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dn=(u=Dn)||d,ws(t,e),Dn=u):ws(t,e),eo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(h=it,g=h.child,h.tag){case 0:case 11:case 14:case 15:cp(4,h,h.return);break;case 1:Vu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){zr(n,r,m)}}break;case 5:Vu(h,h.return);break;case 22:if(h.memoizedState!==null){YA(f);continue}}g!==null?(g.return=h,it=g):YA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=I5("display",o))}catch(m){zr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){zr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ws(t,e),eo(e),n&4&&GA(e);break;case 21:break;default:ws(t,e),eo(e)}}function eo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iD(r)){var n=r;break e}r=r.return}throw Error(Ie(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Pp(a,""),n.flags&=-33);var s=KA(e);NS(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=KA(e);ES(e,l,o);break;default:throw Error(Ie(161))}}catch(c){zr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OJ(e,t,r){it=e,uD(e)}function uD(e,t,r){for(var n=(e.mode&1)!==0;it!==null;){var a=it,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Kg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Dn;l=Kg;var u=Dn;if(Kg=o,(Dn=c)&&!u)for(it=a;it!==null;)o=it,c=o.child,o.tag===22&&o.memoizedState!==null?XA(a):c!==null?(c.return=o,it=c):XA(a);for(;s!==null;)it=s,uD(s),s=s.sibling;it=a,Kg=l,Dn=u}JA(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,it=s):JA(e)}}function JA(e){for(;it!==null;){var t=it;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dn||Ax(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Es(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$A(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$A(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$p(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Dn||t.flags&512&&kS(t)}catch(h){zr(t,t.return,h)}}if(t===e){it=null;break}if(r=t.sibling,r!==null){r.return=t.return,it=r;break}it=t.return}}function YA(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var r=t.sibling;if(r!==null){r.return=t.return,it=r;break}it=t.return}}function XA(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ax(4,t)}catch(c){zr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){zr(t,a,c)}}var s=t.return;try{kS(t)}catch(c){zr(t,s,c)}break;case 5:var o=t.return;try{kS(t)}catch(c){zr(t,o,c)}}}catch(c){zr(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var $J=Math.ceil,$v=pi.ReactCurrentDispatcher,O2=pi.ReactCurrentOwner,cs=pi.ReactCurrentBatchConfig,Gt=0,wn=null,Qr=null,Tn=0,$a=0,Ku=Tl(0),fn=0,Wp=null,Lc=0,Tx=0,$2=0,up=null,ya=null,R2=0,Dd=1/0,Lo=null,Rv=!1,CS=null,fl=null,Gg=!1,el=null,Iv=0,dp=0,PS=null,rv=-1,nv=0;function oa(){return Gt&6?Kr():rv!==-1?rv:rv=Kr()}function hl(e){return e.mode&1?Gt&2&&Tn!==0?Tn&-Tn:gJ.transition!==null?(nv===0&&(nv=G5()),nv):(e=ir,e!==0||(e=window.event,e=e===void 0?16:tL(e.type)),e):1}function Ds(e,t,r,n){if(50<dp)throw dp=0,PS=null,Error(Ie(185));Xm(e,r,n),(!(Gt&2)||e!==wn)&&(e===wn&&(!(Gt&2)&&(Tx|=r),fn===4&&Ui(e,Tn)),ka(e,n),r===1&&Gt===0&&!(t.mode&1)&&(Dd=Kr()+500,Nx&&Ol()))}function ka(e,t){var r=e.callbackNode;gG(e,t);var n=vv(e,e===wn?Tn:0);if(n===0)r!==null&&oA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oA(r),t===1)e.tag===0?mJ(QA.bind(null,e)):bL(QA.bind(null,e)),dJ(function(){!(Gt&6)&&Ol()}),r=null;else{switch(J5(n)){case 1:r=o2;break;case 4:r=V5;break;case 16:r=yv;break;case 536870912:r=K5;break;default:r=yv}r=vD(r,dD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dD(e,t){if(rv=-1,nv=0,Gt&6)throw Error(Ie(327));var r=e.callbackNode;if(ad()&&e.callbackNode!==r)return null;var n=vv(e,e===wn?Tn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mv(e,n);else{t=n;var a=Gt;Gt|=2;var s=hD();(wn!==e||Tn!==t)&&(Lo=null,Dd=Kr()+500,wc(e,t));do try{MJ();break}catch(l){fD(e,l)}while(!0);x2(),$v.current=s,Gt=a,Qr!==null?t=0:(wn=null,Tn=0,t=fn)}if(t!==0){if(t===2&&(a=rS(e),a!==0&&(n=a,t=AS(e,a))),t===1)throw r=Wp,wc(e,0),Ui(e,n),ka(e,Kr()),r;if(t===6)Ui(e,n);else{if(a=e.current.alternate,!(n&30)&&!RJ(a)&&(t=Mv(e,n),t===2&&(s=rS(e),s!==0&&(n=s,t=AS(e,s))),t===1))throw r=Wp,wc(e,0),Ui(e,n),ka(e,Kr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ie(345));case 2:Yl(e,ya,Lo);break;case 3:if(Ui(e,n),(n&130023424)===n&&(t=R2+500-Kr(),10<t)){if(vv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){oa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=uS(Yl.bind(null,e,ya,Lo),t);break}Yl(e,ya,Lo);break;case 4:if(Ui(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ls(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Kr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$J(n/1960))-n,10<n){e.timeoutHandle=uS(Yl.bind(null,e,ya,Lo),n);break}Yl(e,ya,Lo);break;case 5:Yl(e,ya,Lo);break;default:throw Error(Ie(329))}}}return ka(e,Kr()),e.callbackNode===r?dD.bind(null,e):null}function AS(e,t){var r=up;return e.current.memoizedState.isDehydrated&&(wc(e,t).flags|=256),e=Mv(e,t),e!==2&&(t=ya,ya=r,t!==null&&TS(t)),e}function TS(e){ya===null?ya=e:ya.push.apply(ya,e)}function RJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!zs(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ui(e,t){for(t&=~$2,t&=~Tx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ls(t),n=1<<r;e[r]=-1,t&=~n}}function QA(e){if(Gt&6)throw Error(Ie(327));ad();var t=vv(e,0);if(!(t&1))return ka(e,Kr()),null;var r=Mv(e,t);if(e.tag!==0&&r===2){var n=rS(e);n!==0&&(t=n,r=AS(e,n))}if(r===1)throw r=Wp,wc(e,0),Ui(e,t),ka(e,Kr()),r;if(r===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yl(e,ya,Lo),ka(e,Kr()),null}function I2(e,t){var r=Gt;Gt|=1;try{return e(t)}finally{Gt=r,Gt===0&&(Dd=Kr()+500,Nx&&Ol())}}function Dc(e){el!==null&&el.tag===0&&!(Gt&6)&&ad();var t=Gt;Gt|=1;var r=cs.transition,n=ir;try{if(cs.transition=null,ir=1,e)return e()}finally{ir=n,cs.transition=r,Gt=t,!(Gt&6)&&Ol()}}function M2(){$a=Ku.current,Pr(Ku)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uJ(r)),Qr!==null)for(r=Qr.return;r!==null;){var n=r;switch(g2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sv();break;case 3:Md(),Pr(Sa),Pr(Wn),k2();break;case 5:j2(n);break;case 4:Md();break;case 13:Pr(Rr);break;case 19:Pr(Rr);break;case 10:b2(n.type._context);break;case 22:case 23:M2()}r=r.return}if(wn=e,Qr=e=pl(e.current,null),Tn=$a=t,fn=0,Wp=null,$2=Tx=Lc=0,ya=up=null,ic!==null){for(t=0;t<ic.length;t++)if(r=ic[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}ic=null}return e}function fD(e,t){do{var r=Qr;try{if(x2(),Zy.current=Ov,Tv){for(var n=Dr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Tv=!1}if(Mc=0,vn=on=Dr=null,lp=!1,Up=0,O2.current=null,r===null||r.return===null){fn=1,Wp=t,Qr=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Tn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=FA(o);if(g!==null){g.flags&=-257,BA(g,o,l,s,t),g.mode&1&&DA(s,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){DA(s,u,t),L2();break e}c=Error(Ie(426))}}else if(Tr&&l.mode&1){var v=FA(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),BA(v,o,l,s,t),y2(Ld(c,l));break e}}s=c=Ld(c,l),fn!==4&&(fn=2),up===null?up=[s]:up.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=JL(s,c,t);OA(s,x);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fl===null||!fl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=YL(s,l,t);OA(s,_);break e}}s=s.return}while(s!==null)}mD(r)}catch(S){t=S,Qr===r&&r!==null&&(Qr=r=r.return);continue}break}while(!0)}function hD(){var e=$v.current;return $v.current=Ov,e===null?Ov:e}function L2(){(fn===0||fn===3||fn===2)&&(fn=4),wn===null||!(Lc&268435455)&&!(Tx&268435455)||Ui(wn,Tn)}function Mv(e,t){var r=Gt;Gt|=2;var n=hD();(wn!==e||Tn!==t)&&(Lo=null,wc(e,t));do try{IJ();break}catch(a){fD(e,a)}while(!0);if(x2(),Gt=r,$v.current=n,Qr!==null)throw Error(Ie(261));return wn=null,Tn=0,fn}function IJ(){for(;Qr!==null;)pD(Qr)}function MJ(){for(;Qr!==null&&!iG();)pD(Qr)}function pD(e){var t=yD(e.alternate,e,$a);e.memoizedProps=e.pendingProps,t===null?mD(e):Qr=t,O2.current=null}function mD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PJ(r,t),r!==null){r.flags&=32767,Qr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fn=6,Qr=null;return}}else if(r=CJ(r,t,$a),r!==null){Qr=r;return}if(t=t.sibling,t!==null){Qr=t;return}Qr=t=e}while(t!==null);fn===0&&(fn=5)}function Yl(e,t,r){var n=ir,a=cs.transition;try{cs.transition=null,ir=1,LJ(e,t,r,n)}finally{cs.transition=a,ir=n}return null}function LJ(e,t,r,n){do ad();while(el!==null);if(Gt&6)throw Error(Ie(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(yG(e,s),e===wn&&(Qr=wn=null,Tn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gg||(Gg=!0,vD(yv,function(){return ad(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=cs.transition,cs.transition=null;var o=ir;ir=1;var l=Gt;Gt|=4,O2.current=null,TJ(e,r),cD(r,e),nJ(lS),xv=!!iS,lS=iS=null,e.current=r,OJ(r),lG(),Gt=l,ir=o,cs.transition=s}else e.current=r;if(Gg&&(Gg=!1,el=e,Iv=a),s=e.pendingLanes,s===0&&(fl=null),dG(r.stateNode),ka(e,Kr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Rv)throw Rv=!1,e=CS,CS=null,e;return Iv&1&&e.tag!==0&&ad(),s=e.pendingLanes,s&1?e===PS?dp++:(dp=0,PS=e):dp=0,Ol(),null}function ad(){if(el!==null){var e=J5(Iv),t=cs.transition,r=ir;try{if(cs.transition=null,ir=16>e?16:e,el===null)var n=!1;else{if(e=el,el=null,Iv=0,Gt&6)throw Error(Ie(331));var a=Gt;for(Gt|=4,it=e.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:cp(8,d,s)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var h=d.sibling,g=d.return;if(oD(d),d===u){it=null;break}if(h!==null){h.return=g,it=h;break}it=g}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cp(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,it=x;break e}it=s.return}}var w=e.current;for(it=w;it!==null;){o=it;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,it=b;else e:for(o=w;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ax(9,l)}}catch(S){zr(l,l.return,S)}if(l===o){it=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,it=_;break e}it=l.return}}if(Gt=a,Ol(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(_x,e)}catch{}n=!0}return n}finally{ir=r,cs.transition=t}}return!1}function ZA(e,t,r){t=Ld(r,t),t=JL(e,t,1),e=dl(e,t,1),t=oa(),e!==null&&(Xm(e,1,t),ka(e,t))}function zr(e,t,r){if(e.tag===3)ZA(e,e,r);else for(;t!==null;){if(t.tag===3){ZA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fl===null||!fl.has(n))){e=Ld(r,e),e=YL(t,e,1),t=dl(t,e,1),e=oa(),t!==null&&(Xm(t,1,e),ka(t,e));break}}t=t.return}}function DJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=oa(),e.pingedLanes|=e.suspendedLanes&r,wn===e&&(Tn&r)===r&&(fn===4||fn===3&&(Tn&130023424)===Tn&&500>Kr()-R2?wc(e,0):$2|=r),ka(e,t)}function gD(e,t){t===0&&(e.mode&1?(t=Dg,Dg<<=1,!(Dg&130023424)&&(Dg=4194304)):t=1);var r=oa();e=oi(e,t),e!==null&&(Xm(e,t,r),ka(e,r))}function FJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gD(e,r)}function BJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(t),gD(e,r)}var yD;yD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sa.current)ba=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ba=!1,NJ(e,t,r);ba=!!(e.flags&131072)}else ba=!1,Tr&&t.flags&1048576&&wL(t,Ev,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;tv(e,t),e=t.pendingProps;var a=$d(t,Wn.current);nd(t,r),a=N2(null,t,n,e,a,r);var s=C2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ja(n)?(s=!0,jv(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,_2(t),a.updater=Px,t.stateNode=a,a._reactInternals=t,yS(t,n,e,r),t=bS(null,t,n,!0,s,r)):(t.tag=0,Tr&&s&&m2(t),Qn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(tv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=zJ(n),e=Es(n,e),a){case 0:t=xS(null,t,n,e,r);break e;case 1:t=qA(null,t,n,e,r);break e;case 11:t=UA(null,t,n,e,r);break e;case 14:t=zA(null,t,n,Es(n.type,e),r);break e}throw Error(Ie(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),xS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),qA(e,t,n,a,r);case 3:e:{if(eD(t),e===null)throw Error(Ie(387));n=t.pendingProps,s=t.memoizedState,a=s.element,NL(e,t),Pv(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Ld(Error(Ie(423)),t),t=WA(e,t,n,r,a);break e}else if(n!==a){a=Ld(Error(Ie(424)),t),t=WA(e,t,n,r,a);break e}else for(Da=ul(t.stateNode.containerInfo.firstChild),Ua=t,Tr=!0,Ts=null,r=kL(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rd(),n===a){t=ii(e,t,r);break e}Qn(e,t,n,r)}t=t.child}return t;case 5:return CL(t),e===null&&pS(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,cS(n,a)?o=null:s!==null&&cS(n,s)&&(t.flags|=32),ZL(e,t),Qn(e,t,o,r),t.child;case 6:return e===null&&pS(t),null;case 13:return tD(e,t,r);case 4:return S2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Id(t,null,n,r):Qn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),UA(e,t,n,a,r);case 7:return Qn(e,t,t.pendingProps,r),t.child;case 8:return Qn(e,t,t.pendingProps.children,r),t.child;case 12:return Qn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,_r(Nv,n._currentValue),n._currentValue=o,s!==null)if(zs(s.value,o)){if(s.children===a.children&&!Sa.current){t=ii(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Qo(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),mS(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),mS(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,nd(t,r),a=ps(a),n=n(a),t.flags|=1,Qn(e,t,n,r),t.child;case 14:return n=t.type,a=Es(n,t.pendingProps),a=Es(n.type,a),zA(e,t,n,a,r);case 15:return XL(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),tv(e,t),t.tag=1,ja(n)?(e=!0,jv(t)):e=!1,nd(t,r),GL(t,n,a),yS(t,n,a,r),bS(null,t,n,!0,e,r);case 19:return rD(e,t,r);case 22:return QL(e,t,r)}throw Error(Ie(156,t.tag))};function vD(e,t){return H5(e,t)}function UJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(e,t,r,n){return new UJ(e,t,r,n)}function D2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zJ(e){if(typeof e=="function")return D2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===n2)return 11;if(e===a2)return 14}return 2}function pl(e,t){var r=e.alternate;return r===null?(r=ss(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function av(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")D2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Lu:return _c(r.children,a,s,t);case r2:o=8,a|=8;break;case U_:return e=ss(12,r,t,a|2),e.elementType=U_,e.lanes=s,e;case z_:return e=ss(13,r,t,a),e.elementType=z_,e.lanes=s,e;case q_:return e=ss(19,r,t,a),e.elementType=q_,e.lanes=s,e;case C5:return Ox(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E5:o=10;break e;case N5:o=9;break e;case n2:o=11;break e;case a2:o=14;break e;case Mi:o=16,n=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=ss(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function _c(e,t,r,n){return e=ss(7,e,n,t),e.lanes=r,e}function Ox(e,t,r,n){return e=ss(22,e,n,t),e.elementType=C5,e.lanes=r,e.stateNode={isHidden:!1},e}function t1(e,t,r){return e=ss(6,e,null,t),e.lanes=r,e}function r1(e,t,r){return t=ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mw(0),this.expirationTimes=Mw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function F2(e,t,r,n,a,s,o,l,c){return e=new qJ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ss(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_2(s),e}function WJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function xD(e){if(!e)return Sl;e=e._reactInternals;e:{if(tu(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var r=e.type;if(ja(r))return xL(e,r,t)}return t}function bD(e,t,r,n,a,s,o,l,c){return e=F2(r,n,!0,e,a,s,o,l,c),e.context=xD(null),r=e.current,n=oa(),a=hl(r),s=Qo(n,a),s.callback=t??null,dl(r,s,a),e.current.lanes=a,Xm(e,a,n),ka(e,n),e}function $x(e,t,r,n){var a=t.current,s=oa(),o=hl(a);return r=xD(r),t.context===null?t.context=r:t.pendingContext=r,t=Qo(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=dl(a,t,o),e!==null&&(Ds(e,a,o,s),Qy(e,a,o)),o}function Lv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function B2(e,t){eT(e,t),(e=e.alternate)&&eT(e,t)}function HJ(){return null}var wD=typeof reportError=="function"?reportError:function(e){console.error(e)};function U2(e){this._internalRoot=e}Rx.prototype.render=U2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));$x(e,t,null,null)};Rx.prototype.unmount=U2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dc(function(){$x(null,e,null,null)}),t[si]=null}};function Rx(e){this._internalRoot=e}Rx.prototype.unstable_scheduleHydration=function(e){if(e){var t=Q5();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bi.length&&t!==0&&t<Bi[r].priority;r++);Bi.splice(r,0,e),r===0&&eL(e)}};function z2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ix(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tT(){}function VJ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Lv(o);s.call(u)}}var o=bD(t,n,e,0,null,!1,!1,"",tT);return e._reactRootContainer=o,e[si]=o.current,Mp(e.nodeType===8?e.parentNode:e),Dc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Lv(c);l.call(u)}}var c=F2(e,0,!1,null,null,!1,!1,"",tT);return e._reactRootContainer=c,e[si]=c.current,Mp(e.nodeType===8?e.parentNode:e),Dc(function(){$x(t,c,r,n)}),c}function Mx(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Lv(o);l.call(c)}}$x(t,o,e,a)}else o=VJ(r,t,e,a,n);return Lv(o)}Y5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zh(t.pendingLanes);r!==0&&(i2(t,r|1),ka(t,Kr()),!(Gt&6)&&(Dd=Kr()+500,Ol()))}break;case 13:Dc(function(){var n=oi(e,1);if(n!==null){var a=oa();Ds(n,e,1,a)}}),B2(e,1)}};l2=function(e){if(e.tag===13){var t=oi(e,134217728);if(t!==null){var r=oa();Ds(t,e,134217728,r)}B2(e,134217728)}};X5=function(e){if(e.tag===13){var t=hl(e),r=oi(e,t);if(r!==null){var n=oa();Ds(r,e,t,n)}B2(e,t)}};Q5=function(){return ir};Z5=function(e,t){var r=ir;try{return ir=e,t()}finally{ir=r}};Z_=function(e,t,r){switch(t){case"input":if(V_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ex(n);if(!a)throw Error(Ie(90));A5(n),V_(n,a)}}}break;case"textarea":O5(e,r);break;case"select":t=r.value,t!=null&&Zu(e,!!r.multiple,t,!1)}};F5=I2;B5=Dc;var KJ={usingClientEntryPoint:!1,Events:[Zm,Uu,Ex,L5,D5,I2]},lh={findFiberByHostInstance:oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GJ={bundleType:lh.bundleType,version:lh.version,rendererPackageName:lh.rendererPackageName,rendererConfig:lh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q5(e),e===null?null:e.stateNode},findFiberByHostInstance:lh.findFiberByHostInstance||HJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{_x=Jg.inject(GJ),go=Jg}catch{}}Ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KJ;Ha.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z2(t))throw Error(Ie(200));return WJ(e,t,null,r)};Ha.createRoot=function(e,t){if(!z2(e))throw Error(Ie(299));var r=!1,n="",a=wD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=F2(e,1,!1,null,null,r,!1,n,a),e[si]=t.current,Mp(e.nodeType===8?e.parentNode:e),new U2(t)};Ha.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=q5(t),e=e===null?null:e.stateNode,e};Ha.flushSync=function(e){return Dc(e)};Ha.hydrate=function(e,t,r){if(!Ix(t))throw Error(Ie(200));return Mx(null,e,t,!0,r)};Ha.hydrateRoot=function(e,t,r){if(!z2(e))throw Error(Ie(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=wD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=bD(t,null,e,1,r??null,a,!1,s,o),e[si]=t.current,Mp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Rx(t)};Ha.render=function(e,t,r){if(!Ix(t))throw Error(Ie(200));return Mx(null,e,t,!1,r)};Ha.unmountComponentAtNode=function(e){if(!Ix(e))throw Error(Ie(40));return e._reactRootContainer?(Dc(function(){Mx(null,null,e,!1,function(){e._reactRootContainer=null,e[si]=null})}),!0):!1};Ha.unstable_batchedUpdates=I2;Ha.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ix(r))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return Mx(e,t,r,!1,n)};Ha.version="18.3.1-next-f1338f8080-20240426";function _D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_D)}catch(e){console.error(e)}}_D(),_5.exports=Ha;var ru=_5.exports;const tg=fr(ru);var rT=ru;F_.createRoot=rT.createRoot,F_.hydrateRoot=rT.hydrateRoot;var Dv=["light","dark"],q2="(prefers-color-scheme: dark)",JJ=typeof window>"u",W2=p.createContext(void 0),YJ={setTheme:e=>{},themes:[]},$l=()=>{var e;return(e=p.useContext(W2))!=null?e:YJ},XJ=e=>p.useContext(W2)?e.children:p.createElement(ZJ,{...e}),QJ=["light","dark"],ZJ=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=QJ,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=p.useState(()=>nT(a,o)),[g,y]=p.useState(()=>nT(a)),m=c?Object.values(c):s,v=p.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=aT());let E=c?c[S]:S,j=t?tY():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...m),E&&k.classList.add(E)):E?k.setAttribute(l,E):k.removeAttribute(l),n){let N=Dv.includes(o)?o:null,P=Dv.includes(S)?S:N;k.style.colorScheme=P}j==null||j()},[]),x=p.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(a,S)}catch{}},[e]),w=p.useCallback(_=>{let S=aT(_);y(S),f==="system"&&r&&!e&&v("system")},[f,e]);p.useEffect(()=>{let _=window.matchMedia(q2);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),p.useEffect(()=>{let _=S=>{if(S.key!==a)return;let E=S.newValue||o;x(E)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[x]),p.useEffect(()=>{v(e??f)},[e,f]);let b=p.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?g:f,themes:r?[...s,"system"]:s,systemTheme:r?g:void 0}),[f,x,e,g,r,s]);return p.createElement(W2.Provider,{value:b},p.createElement(eY,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:o,attribute:l,value:c,children:u,attrs:m,nonce:d}),u)},eY=p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Dv.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,v=!0)=>{let x=o?o[y]:y,w=m?y+"|| ''":`'${x}'`,b="";return a&&v&&!m&&Dv.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},g=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${q2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})}),nT=(e,t)=>{if(JJ)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},tY=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},aT=e=>(e||(e=window.matchMedia(q2)),e.matches?"dark":"light"),xe=typeof window<"u"?window:void 0,Pn=typeof globalThis<"u"?globalThis:xe;typeof self>"u"&&(Pn.self=Pn),typeof File>"u"&&(Pn.File=function(){});var SD=Array.prototype,sT=SD.forEach,oT=SD.indexOf,Fa=Pn==null?void 0:Pn.navigator,Qe=Pn==null?void 0:Pn.document,va=Pn==null?void 0:Pn.location,OS=Pn==null?void 0:Pn.fetch,$S=Pn!=null&&Pn.XMLHttpRequest&&"withCredentials"in new Pn.XMLHttpRequest?Pn.XMLHttpRequest:void 0,iT=Pn==null?void 0:Pn.AbortController,ma=Fa==null?void 0:Fa.userAgent,jt=xe??{},Do={DEBUG:!1,LIB_VERSION:"1.307.2"};function lT(e,t,r,n,a,s,o){try{var l=e[s](o),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function cT(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function o(c){lT(s,n,a,o,l,"next",c)}function l(c){lT(s,n,a,o,l,"throw",c)}o(void 0)})}}function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lt.apply(null,arguments)}function jD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rY=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],uT=function(e,t){if(t===void 0&&(t=[]),!e)return!1;var r=e.toLowerCase();return rY.concat(t).some(n=>{var a=n.toLowerCase();return r.indexOf(a)!==-1})},nY=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Ut(e,t){return e.indexOf(t)!==-1}var Lx=function(e){return e.trim()},RS=function(e){return e.replace(/^\$/,"")},aY=Array.isArray,kD=Object.prototype,ED=kD.hasOwnProperty,Dx=kD.toString,tr=aY||function(e){return Dx.call(e)==="[object Array]"},ml=e=>typeof e=="function",xn=e=>e===Object(e)&&!tr(e),Gu=e=>{if(xn(e)){for(var t in e)if(ED.call(e,t))return!1;return!0}return!1},Je=e=>e===void 0,dn=e=>Dx.call(e)=="[object String]",IS=e=>dn(e)&&e.trim().length===0,Gs=e=>e===null,Qt=e=>Je(e)||Gs(e),_o=e=>Dx.call(e)=="[object Number]",Zo=e=>Dx.call(e)==="[object Boolean]",sY=e=>e instanceof FormData,oY=e=>Ut(nY,e);function MS(e){return e===null||typeof e!="object"}function Fv(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function ND(e){return!Je(Event)&&function(t,r){try{return t instanceof r}catch{return!1}}(e,Event)}var iY=[!0,"true",1,"1","yes"],n1=e=>Ut(iY,e),lY=[!1,"false",0,"0","no"];function fo(e,t,r,n,a){return t>r&&(n.warn("min cannot be greater than max."),t=r),_o(e)?e>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):e<t?(n.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+a),fo(a||r,t,r,n))}class cY{constructor(t){this.t={},this.i=t.i,this.o=fo(t.bucketSize,0,100,t.h),this.m=fo(t.refillRate,0,this.o,t.h),this.S=fo(t.refillInterval,0,864e5,t.h)}$(t,r){var n=r-t.lastAccess,a=Math.floor(n/this.S);if(a>0){var s=a*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+a*this.S}}consumeRateLimit(t){var r,n=Date.now(),a=String(t),s=this.t[a];return s?this.$(s,n):(s={tokens:this.o,lastAccess:n},this.t[a]=s),s.tokens===0||(s.tokens--,s.tokens===0&&((r=this.i)==null||r.call(this,t)),s.tokens===0)}stop(){this.t={}}}var Yg,dT,a1,uY=e=>e instanceof Error;function dY(e){var t=globalThis._posthogChunkIds;if(t){var r=Object.keys(t);return a1&&r.length===dT||(dT=r.length,a1=r.reduce((n,a)=>{Yg||(Yg={});var s=Yg[a];if(s)n[s[0]]=s[1];else for(var o=e(a),l=o.length-1;l>=0;l--){var c=o[l],u=c==null?void 0:c.filename,d=t[a];if(u&&d){n[u]=d,Yg[a]=[u,d];break}}return n},{})),a1}}class fY{constructor(t,r,n){n===void 0&&(n=[]),this.coercers=t,this.stackParser=r,this.modifiers=n}buildFromUnknown(t,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},a=this.buildCoercingContext(n,r,0).apply(t),s=this.buildParsingContext(),o=this.parseStacktrace(a,s);return{$exception_list:this.convertToExceptionList(o,n),$exception_level:"error"}}modifyFrames(t){var r=this;return cT(function*(){for(var n of t)n.stacktrace&&n.stacktrace.frames&&tr(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return t})()}coerceFallback(t){var r;return{type:"Error",value:"Unknown error",stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(t,r){var n,a;return t.cause!=null&&(n=this.parseStacktrace(t.cause,r)),t.stack!=""&&t.stack!=null&&(a=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),r.chunkIdMap)),lt({},t,{cause:n,stack:a})}applyChunkIds(t,r){return t.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(t,r){for(var n of this.coercers)if(n.match(t))return n.coerce(t,r);return this.coerceFallback(r)}applyModifiers(t){var r=this;return cT(function*(){var n=t;for(var a of r.modifiers)n=yield a(n);return n})()}convertToExceptionList(t,r){var n,a,s,o={type:t.type,value:t.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(a=r.handled)===null||a===void 0||a,synthetic:(s=t.synthetic)!==null&&s!==void 0&&s}};t.stack&&(o.stacktrace={type:"raw",frames:t.stack});var l=[o];return t.cause!=null&&l.push(...this.convertToExceptionList(t.cause,lt({},r,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:dY(this.stackParser)}}buildCoercingContext(t,r,n){n===void 0&&(n=0);var a=(s,o)=>{if(o<=4){var l=this.buildCoercingContext(t,r,o);return this.applyCoercers(s,l)}};return lt({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:t,apply:s=>a(s,n),next:s=>a(s,n+1)})}}var Fd="?";function LS(e,t,r,n,a){var s={platform:e,filename:t,function:r==="<anonymous>"?Fd:r,in_app:!0};return Je(n)||(s.lineno=n),Je(a)||(s.colno=a),s}var CD=(e,t)=>{var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Fd,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},hY=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,pY=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mY=/\((\S*)(?::(\d+))(?::(\d+))\)/,gY=(e,t)=>{var r=hY.exec(e);if(r){var[,n,a,s]=r;return LS(t,n,Fd,+a,+s)}var o=pY.exec(e);if(o){if(o[2]&&o[2].indexOf("eval")===0){var l=mY.exec(o[2]);l&&(o[2]=l[1],o[3]=l[2],o[4]=l[3])}var[c,u]=CD(o[1]||Fd,o[2]);return LS(t,u,c,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},yY=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vY=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xY=(e,t)=>{var r=yY.exec(e);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=vY.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var a=r[3],s=r[1]||Fd;return[s,a]=CD(s,a),LS(t,a,s,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},fT=/\(error: (.*)\)/,hT=50;function bY(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(a,s){s===void 0&&(s=0);for(var o=[],l=a.split(`
`),c=s;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var d=fT.test(u)?u.replace(fT,"$1"):u;if(!d.match(/\S*Error: /)){for(var f of r){var h=f(d,e);if(h){o.push(h);break}}if(o.length>=hT)break}}}return function(g){if(!g.length)return[];var y=Array.from(g);return y.reverse(),y.slice(0,hT).map(m=>{return lt({},m,{filename:m.filename||(v=y,v[v.length-1]||{}).filename,function:m.function||Fd});var v})}(o)}}class wY{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,r){var n=dn(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:n?t.stack:void 0,cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?"DOMError":"DOMException"}getValue(t){var r=t.name||(this.isDOMError(t)?"DOMError":"DOMException");return t.message?r+": "+t.message:r}isDOMException(t){return Fv(t,"DOMException")}isDOMError(t){return Fv(t,"DOMError")}}class _Y{match(t){return(r=>r instanceof Error)(t)}coerce(t,r){return{type:this.getType(t),value:this.getMessage(t,r),stack:this.getStack(t),cause:t.cause?r.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,r){var n=t.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(t){return t.stacktrace||t.stack||void 0}}let SY=class{constructor(){}match(t){return Fv(t,"ErrorEvent")&&t.error!=null}coerce(t,r){var n,a=r.apply(t.error);return a||{type:"ErrorEvent",value:t.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}};var jY=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class kY{match(t){return typeof t=="string"}coerce(t,r){var n,[a,s]=this.getInfos(t);return{type:a??"Error",value:s??t,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(t){var r="Error",n=t,a=t.match(jY);return a&&(r=a[1],n=a[2]),[r,n]}}var EY=["fatal","error","warning","log","info","debug"];function PD(e,t){t===void 0&&(t=40);var r=Object.keys(e);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var a=r.slice(0,n).join(", ");if(!(a.length>t))return n===r.length||a.length<=t?a:a.slice(0,t)+"..."}return""}class NY{match(t){return typeof t=="object"&&t!==null}coerce(t,r){var n,a=this.getErrorPropertyFromObject(t);return a?r.apply(a):{type:this.getType(t),value:this.getValue(t),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(t.level)?t.level:"error",synthetic:!0}}getType(t){return ND(t)?t.constructor.name:"Error"}getValue(t){if("name"in t&&typeof t.name=="string"){var r="'"+t.name+"' captured as exception";return"message"in t&&typeof t.message=="string"&&(r+=" with message: '"+t.message+"'"),r}if("message"in t&&typeof t.message=="string")return t.message;var n=this.getObjectClassName(t);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+PD(t)}isSeverityLevel(t){return dn(t)&&!IS(t)&&EY.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(uY(n))return n}}getObjectClassName(t){try{var r=Object.getPrototypeOf(t);return r?r.constructor.name:void 0}catch{return}}}class CY{match(t){return ND(t)}coerce(t,r){var n,a=t.constructor.name;return{type:a,value:a+" captured as exception with keys: "+PD(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class PY{match(t){return MS(t)}coerce(t,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(t),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}let AY=class{match(t){return Fv(t,"PromiseRejectionEvent")}coerce(t,r){var n,a=this.getUnhandledRejectionReason(t);return MS(a)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(a),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(a)}getUnhandledRejectionReason(t){if(MS(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}};var AD=function(e,t){var{debugEnabled:r}=t===void 0?{}:t,n={k:function(a){if(xe&&(Do.DEBUG||jt.POSTHOG_DEBUG||r)&&!Je(xe.console)&&xe.console){for(var s=("__rrweb_original__"in xe.console[a])?xe.console[a].__rrweb_original__:xe.console[a],o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];s(e,...l)}},info:function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n.k("log",...s)},warn:function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n.k("warn",...s)},error:function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n.k("error",...s)},critical:function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];console.error(e,...s)},uninitializedWarning:a=>{n.error("You must initialize PostHog before calling "+a)},createLogger:(a,s)=>AD(e+" "+a,s)};return n},et=AD("[PostHog.js]"),Yr=et.createLogger,TY=Yr("[ExternalScriptsLoader]"),pT=(e,t,r)=>{if(e.config.disable_external_dependency_loading)return TY.warn(t+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=Qe==null?void 0:Qe.querySelectorAll("script");if(n){for(var a,s=function(){if(n[o].src===t){var c=n[o];return c.__posthog_loading_callback_fired?{v:r()}:(c.addEventListener("load",u=>{c.__posthog_loading_callback_fired=!0,r(void 0,u)}),c.onerror=u=>r(u),{v:void 0})}},o=0;o<n.length;o++)if(a=s())return a.v}var l=()=>{if(!Qe)return r("document not found");var c=Qe.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=t,c.onload=f=>{c.__posthog_loading_callback_fired=!0,r(void 0,f)},c.onerror=f=>r(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return r("prepare_external_dependency_script returned null");var u,d=Qe.querySelectorAll("body > script");d.length>0?(u=d[0].parentNode)==null||u.insertBefore(c,d[0]):Qe.body.appendChild(c)};Qe!=null&&Qe.body?l():Qe==null||Qe.addEventListener("DOMContentLoaded",l)};jt.__PosthogExtensions__=jt.__PosthogExtensions__||{},jt.__PosthogExtensions__.loadExternalDependency=(e,t,r)=>{var n="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(n="/array/"+e.config.token+"/config.js"),t==="toolbar"){var a=3e5;n=n+"&t="+Math.floor(Date.now()/a)*a}var s=e.requestRouter.endpointFor("assets",n);pT(e,s,r)},jt.__PosthogExtensions__.loadSiteApp=(e,t,r)=>{var n=e.requestRouter.endpointFor("api",t);pT(e,n,r)};var Bv={};function gl(e,t,r){if(tr(e)){if(sT&&e.forEach===sT)e.forEach(t,r);else if("length"in e&&e.length===+e.length){for(var n=0,a=e.length;n<a;n++)if(n in e&&t.call(r,e[n],n)===Bv)return}}}function wr(e,t,r){if(!Qt(e)){if(tr(e))return gl(e,t,r);if(sY(e)){for(var n of e.entries())if(t.call(r,n[1],n[0])===Bv)return}else for(var a in e)if(ED.call(e,a)&&t.call(r,e[a],a)===Bv)return}}var Vr=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return gl(r,function(a){for(var s in a)a[s]!==void 0&&(e[s]=a[s])}),e},Sf=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return gl(r,function(a){gl(a,function(s){e.push(s)})}),e};function sv(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}var mT=function(e){try{return e()}catch{return}},OY=function(e){return function(){try{for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)}catch(a){et.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),et.critical(a)}}},H2=function(e){var t={};return wr(e,function(r,n){(dn(r)&&r.length>0||_o(r))&&(t[n]=r)}),t};function $Y(e,t){return r=e,n=s=>dn(s)&&!Gs(t)?s.slice(0,t):s,a=new Set,function s(o,l){return o!==Object(o)?n?n(o,l):o:a.has(o)?void 0:(a.add(o),tr(o)?(c=[],gl(o,u=>{c.push(s(u))})):(c={},wr(o,(u,d)=>{a.has(u)||(c[d]=s(u,d))})),c);var c}(r);var r,n,a}var RY=["herokuapp.com","vercel.app","netlify.app"];function IY(e){var t=e==null?void 0:e.hostname;if(!dn(t))return!1;var r=t.split(".").slice(-2).join(".");for(var n of RY)if(r===n)return!1;return!0}function TD(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function Zr(e,t,r,n){var{capture:a=!1,passive:s=!0}=n??{};e==null||e.addEventListener(t,r,{capture:a,passive:s})}var OD="$people_distinct_id",Wh="__alias",Hh="__timers",gT="$autocapture_disabled_server_side",DS="$heatmaps_enabled_server_side",yT="$exception_capture_enabled_server_side",FS="$error_tracking_suppression_rules",vT="$error_tracking_capture_extension_exceptions",xT="$web_vitals_enabled_server_side",$D="$dead_clicks_enabled_server_side",bT="$web_vitals_allowed_metrics",s1="$session_recording_remote_config",Uv="$sesid",RD="$session_is_sampled",Ju="$enabled_feature_flags",Vh="$early_access_features",BS="$feature_flag_details",Kh="$stored_person_properties",Xl="$stored_group_properties",US="$surveys",Xg="$surveys_activated",zv="$flag_call_reported",Fo="$user_state",zS="$client_session_props",qS="$capture_rate_limit",WS="$initial_campaign_params",HS="$initial_referrer_info",qv="$initial_person_info",Wv="$epp",ID="__POSTHOG_TOOLBAR__",ch="$posthog_cookieless",MY=[OD,Wh,"__cmpns",Hh,"$session_recording_enabled_server_side",DS,Uv,Ju,FS,Fo,Vh,BS,Xl,Kh,US,zv,zS,qS,WS,HS,Wv,qv,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function wT(e){return e instanceof Element&&(e.id===ID||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Fx(e){return!!e&&e.nodeType===1}function yl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function MD(e){return!!e&&e.nodeType===3}function LD(e){return!!e&&e.nodeType===11}function V2(e){return e?Lx(e).split(/\s+/):[]}function _T(e){var t=xe==null?void 0:xe.location.href;return!!(t&&e&&e.some(r=>t.match(r)))}function Hv(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return V2(t)}function DD(e){return Qt(e)?null:Lx(e).split(/(\s+)/).filter(t=>Hp(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function rg(e){var t="";return VS(e)&&!qD(e)&&e.childNodes&&e.childNodes.length&&wr(e.childNodes,function(r){var n;MD(r)&&r.textContent&&(t+=(n=DD(r.textContent))!==null&&n!==void 0?n:"")}),Lx(t)}function FD(e){return Je(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var K2=["a","button","form","input","select","textarea","label"];function BD(e,t){if(Je(t))return!0;var r,n=function(s){if(t.some(o=>s.matches(o)))return{v:!0}};for(var a of e)if(r=n(a))return r.v;return!1}function UD(e){var t=e.parentNode;return!(!t||!Fx(t))&&t}var LY=["next","previous","prev",">","<"],ST=10,jT=[".ph-no-rageclick",".ph-no-capture"];function DY(e,t){if(!xe||G2(e))return!1;var r,n,a;if(Zo(t)?(r=!!t&&jT,n=void 0):(r=(a=t==null?void 0:t.css_selector_ignorelist)!==null&&a!==void 0?a:jT,n=t==null?void 0:t.content_ignorelist),r===!1)return!1;var{targetElementList:s}=zD(e,!1);return!function(o,l){if(o===!1||Je(o))return!1;var c;if(o===!0)c=LY;else{if(!tr(o))return!1;if(o.length>ST)return et.error("[PostHog] content_ignorelist array cannot exceed "+ST+" items. Use css_selector_ignorelist for more complex matching."),!1;c=o.map(u=>u.toLowerCase())}return l.some(u=>{var{safeText:d,ariaLabel:f}=u;return c.some(h=>d.includes(h)||f.includes(h))})}(n,s.map(o=>{var l;return{safeText:rg(o).toLowerCase(),ariaLabel:((l=o.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}}))&&!BD(s,r)}var G2=e=>!e||yl(e,"html")||!Fx(e),zD=(e,t)=>{if(!xe||G2(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[e],a=e;a.parentNode&&!yl(a,"body");)if(LD(a.parentNode))n.push(a.parentNode.host),a=a.parentNode.host;else{var s=UD(a);if(!s)break;if(t||K2.indexOf(s.tagName.toLowerCase())>-1)r=!0;else{var o=xe.getComputedStyle(s);o&&o.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(s),a=s}return{parentIsUsefulElement:r,targetElementList:n}};function FY(e,t,r,n,a){var s,o,l,c;if(r===void 0&&(r=void 0),!xe||G2(e)||(s=r)!=null&&s.url_allowlist&&!_T(r.url_allowlist)||(o=r)!=null&&o.url_ignorelist&&_T(r.url_ignorelist))return!1;if((l=r)!=null&&l.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(y=>t.type===y))return!1}var{parentIsUsefulElement:d,targetElementList:f}=zD(e,n);if(!function(y,m){var v=m==null?void 0:m.element_allowlist;if(Je(v))return!0;var x,w=function(_){if(v.some(S=>_.tagName.toLowerCase()===S))return{v:!0}};for(var b of y)if(x=w(b))return x.v;return!1}(f,r)||!BD(f,(c=r)==null?void 0:c.css_selector_allowlist))return!1;var h=xe.getComputedStyle(e);if(h&&h.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(a||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(a||["change","click"]).indexOf(t.type)>=0;default:return d?(a||["click"]).indexOf(t.type)>=0:(a||["click"]).indexOf(t.type)>=0&&(K2.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function VS(e){for(var t=e;t.parentNode&&!yl(t,"body");t=t.parentNode){var r=Hv(t);if(Ut(r,"ph-sensitive")||Ut(r,"ph-no-capture"))return!1}if(Ut(Hv(e),"ph-include"))return!0;var n=e.type||"";if(dn(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var a=e.name||e.id||"";return!(dn(a)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,"")))}function qD(e){return!!(yl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||yl(e,"select")||yl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var WD="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",BY=new RegExp("^(?:"+WD+")$"),UY=new RegExp(WD),HD="\\d{3}-?\\d{2}-?\\d{4}",zY=new RegExp("^("+HD+")$"),qY=new RegExp("("+HD+")");function Hp(e,t){return t===void 0&&(t=!0),!(Qt(e)||dn(e)&&(e=Lx(e),(t?BY:UY).test((e||"").replace(/[- ]/g,""))||(t?zY:qY).test(e)))}function VD(e){var t=rg(e);return Hp(t=(t+" "+KD(e)).trim())?t:""}function KD(e){var t="";return e&&e.childNodes&&e.childNodes.length&&wr(e.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var a=rg(r);t=(t+" "+a).trim(),r.childNodes&&r.childNodes.length&&(t=(t+" "+KD(r)).trim())}catch(s){et.error("[AutoCapture]",s)}}),t}function WY(e){return function(t){var r=t.map(n=>{var a,s,o="";if(n.tag_name&&(o+=n.tag_name),n.attr_class)for(var l of(n.attr_class.sort(),n.attr_class))o+="."+l.replace(/"/g,"");var c=lt({},n.text?{text:n.text}:{},{"nth-child":(a=n.nth_child)!==null&&a!==void 0?a:0,"nth-of-type":(s=n.nth_of_type)!==null&&s!==void 0?s:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return sv(c).sort((d,f)=>{var[h]=d,[g]=f;return h.localeCompare(g)}).forEach(d=>{var[f,h]=d;return u[kT(f.toString())]=kT(h.toString())}),o+=":",o+=sv(u).map(d=>{var[f,h]=d;return f+'="'+h+'"'}).join("")});return r.join(";")}(function(t){return t.map(r=>{var n,a,s={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(a=r.attr__href)==null?void 0:a.slice(0,2048),attr_class:HY(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return sv(r).filter(o=>{var[l]=o;return l.indexOf("attr__")===0}).forEach(o=>{var[l,c]=o;return s.attributes[l]=c}),s})}(e))}function kT(e){return e.replace(/"|\\"/g,'\\"')}function HY(e){var t=e.attr__class;return t?tr(t)?t:V2(t):void 0}let GD=class{constructor(t){this.disabled=t===!1;var r=xn(t)?t:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(t,r,n){if(this.disabled)return!1;var a=this.clicks[this.clicks.length-1];if(a&&Math.abs(t-a.x)+Math.abs(r-a.y)<this.thresholdPx&&n-a.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:r,timestamp:n}];return!1}};var o1="$copy_autocapture",Wo=function(e){return e.GZipJS="gzip-js",e.Base64="base64",e}({}),Vv=e=>{var t=Qe==null?void 0:Qe.createElement("a");return Je(t)?null:(t.href=e,t)},VY=function(e,t){var r,n;t===void 0&&(t="&");var a=[];return wr(e,function(s,o){Je(s)||Je(o)||o==="undefined"||(r=encodeURIComponent((l=>l instanceof File)(s)?s.name:s.toString()),n=encodeURIComponent(o),a[a.length]=n+"="+r)}),a.join(t)},Kv=function(e,t){for(var r,n=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),a=0;a<n.length;a++){var s=n[a].split("=");if(s[0]===t){r=s;break}}if(!tr(r)||r.length<2)return"";var o=r[1];try{o=decodeURIComponent(o)}catch{et.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},ng=function(e,t,r){if(!e||!t||!t.length)return e;for(var n=e.split("#"),a=n[0]||"",s=n[1],o=a.split("?"),l=o[1],c=o[0],u=(l||"").split("&"),d=[],f=0;f<u.length;f++){var h=u[f].split("=");tr(h)&&(t.includes(h[0])?d.push(h[0]+"="+r):d.push(u[f]))}var g=c;return l!=null&&(g+="?"+d.join("&")),s!=null&&(g+="#"+s),g},Gv=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},ET=Yr("[AutoCapture]");function i1(e,t){return t.length>e?t.slice(0,e)+"...":t}function KY(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Fx(t));return t}function GY(e,t,r,n){var a=e.tagName.toLowerCase(),s={tag_name:a};K2.indexOf(a)>-1&&!r&&(a.toLowerCase()==="a"||a.toLowerCase()==="button"?s.$el_text=i1(1024,VD(e)):s.$el_text=i1(1024,rg(e)));var o=Hv(e);o.length>0&&(s.classes=o.filter(function(d){return d!==""})),wr(e.attributes,function(d){var f;if((!qD(e)||["name","id","class","aria-label"].indexOf(d.name)!==-1)&&(n==null||!n.includes(d.name))&&!t&&Hp(d.value)&&(f=d.name,!dn(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=d.value;d.name==="class"&&(h=V2(h).join(" ")),s["attr__"+d.name]=i1(1024,h)}});for(var l=1,c=1,u=e;u=KY(u);)l++,u.tagName===e.tagName&&c++;return s.nth_child=l,s.nth_of_type=c,s}function JY(e,t){for(var r,n,{e:a,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:l,elementsChainAsString:c}=t,u=[e],d=e;d.parentNode&&!yl(d,"body");)LD(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var f,h=[],g={},y=!1,m=!1;if(wr(u,_=>{var S=VS(_);_.tagName.toLowerCase()==="a"&&(y=_.getAttribute("href"),y=S&&y&&Hp(y)&&y),Ut(Hv(_),"ph-no-capture")&&(m=!0),h.push(GY(_,s,o,l));var E=function(j){if(!VS(j))return{};var k={};return wr(j.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var P=N.name.replace("data-ph-capture-attribute-",""),A=N.value;P&&A&&Hp(A)&&(k[P]=A)}}),k}(_);Vr(g,E)}),m)return{props:{},explicitNoCapture:m};if(o||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=VD(e):h[0].$el_text=rg(e)),y){var v,x;h[0].attr__href=y;var w=(v=Vv(y))==null?void 0:v.host,b=xe==null||(x=xe.location)==null?void 0:x.host;w&&b&&w!==b&&(f=y)}return{props:Vr({$event_type:a.type,$ce_version:1},c?{}:{$elements:h},{$elements_chain:WY(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},f&&a.type==="click"?{$external_click_url:f}:{},g)}}class YY{constructor(t){this.P=!1,this.T=null,this.C=!1,this.instance=t,this.rageclicks=new GD(t.config.rageclick),this.R=null}get I(){var t,r,n=xn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=(t=n.url_allowlist)==null?void 0:t.map(a=>new RegExp(a)),n.url_ignorelist=(r=n.url_ignorelist)==null?void 0:r.map(a=>new RegExp(a)),n}F(){if(this.isBrowserSupported()){if(xe&&Qe){var t=n=>{n=n||(xe==null?void 0:xe.event);try{this.M(n)}catch(a){ET.error("Failed to capture event",a)}};if(Zr(Qe,"submit",t,{capture:!0}),Zr(Qe,"change",t,{capture:!0}),Zr(Qe,"click",t,{capture:!0}),this.I.capture_copied_text){var r=n=>{n=n||(xe==null?void 0:xe.event),this.M(n,o1)};Zr(Qe,"copy",r,{capture:!0}),Zr(Qe,"cut",r,{capture:!0})}}}else ET.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.C=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[gT]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var r,n=[];return(r=this.R)==null||r.forEach(a=>{var s=Qe==null?void 0:Qe.querySelectorAll(a);s==null||s.forEach(o=>{t===o&&n.push(a)})}),n}get isEnabled(){var t,r,n=(t=this.instance.persistence)==null?void 0:t.props[gT],a=this.T;if(Gs(a)&&!Zo(n)&&!this.instance.O())return!1;var s=(r=this.T)!==null&&r!==void 0?r:!!n;return!!this.instance.config.autocapture&&!s}M(t,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var n,a=FD(t);MD(a)&&(a=a.parentNode||null),r==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&DY(a,this.instance.config.rageclick)&&this.M(t,"$rageclick");var s=r===o1;if(a&&FY(a,t,this.I,s,s?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:l}=JY(a,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.I.element_attribute_ignorelist,elementsChainAsString:this.C});if(l)return!1;var c=this.getElementSelectors(a);if(c&&c.length>0&&(o.$element_selectors=c),r===o1){var u,d=DD(xe==null||(u=xe.getSelection())==null?void 0:u.toString()),f=t.type||"clipboard";if(!d)return!1;o.$selected_content=d,o.$copy_type=f}return this.instance.capture(r,o),!0}}}isBrowserSupported(){return ml(Qe==null?void 0:Qe.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return _o(e)&&isFinite(e)&&Math.floor(e)===e});var NT="0123456789abcdef";class Jv{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,r,n,a){if(!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(a)||t<0||r<0||n<0||a<0||t>0xffffffffffff||r>4095||n>1073741823||a>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|r>>>8,s[7]=r,s[8]=128|n>>>24,s[9]=n>>>16,s[10]=n>>>8,s[11]=n,s[12]=a>>>24,s[13]=a>>>16,s[14]=a>>>8,s[15]=a,new Jv(s)}toString(){for(var t="",r=0;r<this.bytes.length;r++)t=t+NT.charAt(this.bytes[r]>>>4)+NT.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new Jv(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var r=0;r<16;r++){var n=this.bytes[r]-t.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class XY{constructor(){this.A=0,this.D=0,this.j=new QY}generate(){var t=this.generateOrAbort();if(Je(t)){this.A=0;var r=this.generateOrAbort();if(Je(r))throw new Error("Could not generate UUID after timestamp reset");return r}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return Jv.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var CT,JD=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};xe&&!Je(xe.crypto)&&crypto.getRandomValues&&(JD=e=>crypto.getRandomValues(e));class QY{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(JD(this.N),this.U=0),this.N[this.U++]}}var tl=()=>ZY().toString(),ZY=()=>(CT||(CT=new XY)).generate(),uh="",eX=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function tX(e,t){if(t){var r=function(a,s){if(s===void 0&&(s=Qe),uh)return uh;if(!s||["localhost","127.0.0.1"].includes(a))return"";for(var o=a.split("."),l=Math.min(o.length,8),c="dmn_chk_"+tl();!uh&&l--;){var u=o.slice(l).join("."),d=c+"=1;domain=."+u+";path=/";s.cookie=d+";max-age=3",s.cookie.includes(c)&&(s.cookie=d+";max-age=0",uh=u)}return uh}(e);if(!r){var n=(a=>{var s=a.match(eX);return s?s[0]:""})(e);n!==r&&et.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var vo={H:()=>!!Qe,B:function(e){et.error("cookieStore error: "+e)},q:function(e){if(Qe){try{for(var t=e+"=",r=Qe.cookie.split(";").filter(s=>s.length),n=0;n<r.length;n++){for(var a=r[n];a.charAt(0)==" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return decodeURIComponent(a.substring(t.length,a.length))}}catch{}return null}},W:function(e){var t;try{t=JSON.parse(vo.q(e))||{}}catch{}return t},G:function(e,t,r,n,a){if(Qe)try{var s="",o="",l=tX(Qe.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),s="; expires="+c.toUTCString()}a&&(o="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+l+o;return u.length>3686.4&&et.warn("cookieStore warning: large cookie, len="+u.length),Qe.cookie=u,u}catch{return}},V:function(e,t){if(Qe!=null&&Qe.cookie)try{vo.G(e,"",-1,t)}catch{return}}},l1=null,Ir={H:function(){if(!Gs(l1))return l1;var e=!0;if(Je(xe))e=!1;else try{var t="__mplssupport__";Ir.G(t,"xyz"),Ir.q(t)!=='"xyz"'&&(e=!1),Ir.V(t)}catch{e=!1}return e||et.error("localStorage unsupported; falling back to cookie store"),l1=e,e},B:function(e){et.error("localStorage error: "+e)},q:function(e){try{return xe==null?void 0:xe.localStorage.getItem(e)}catch(t){Ir.B(t)}return null},W:function(e){try{return JSON.parse(Ir.q(e))||{}}catch{}return null},G:function(e,t){try{xe==null||xe.localStorage.setItem(e,JSON.stringify(t))}catch(r){Ir.B(r)}},V:function(e){try{xe==null||xe.localStorage.removeItem(e)}catch(t){Ir.B(t)}}},rX=["distinct_id",Uv,RD,Wv,qv],Qg=lt({},Ir,{W:function(e){try{var t={};try{t=vo.W(e)||{}}catch{}var r=Vr(t,JSON.parse(Ir.q(e)||"{}"));return Ir.G(e,r),r}catch{}return null},G:function(e,t,r,n,a,s){try{Ir.G(e,t,void 0,void 0,s);var o={};rX.forEach(l=>{t[l]&&(o[l]=t[l])}),Object.keys(o).length&&vo.G(e,o,r,n,a,s)}catch(l){Ir.B(l)}},V:function(e,t){try{xe==null||xe.localStorage.removeItem(e),vo.V(e,t)}catch(r){Ir.B(r)}}}),Zg={},nX={H:function(){return!0},B:function(e){et.error("memoryStorage error: "+e)},q:function(e){return Zg[e]||null},W:function(e){return Zg[e]||null},G:function(e,t){Zg[e]=t},V:function(e){delete Zg[e]}},ql=null,kn={H:function(){if(!Gs(ql))return ql;if(ql=!0,Je(xe))ql=!1;else try{var e="__support__";kn.G(e,"xyz"),kn.q(e)!=='"xyz"'&&(ql=!1),kn.V(e)}catch{ql=!1}return ql},B:function(e){et.error("sessionStorage error: ",e)},q:function(e){try{return xe==null?void 0:xe.sessionStorage.getItem(e)}catch(t){kn.B(t)}return null},W:function(e){try{return JSON.parse(kn.q(e))||null}catch{}return null},G:function(e,t){try{xe==null||xe.sessionStorage.setItem(e,JSON.stringify(t))}catch(r){kn.B(r)}},V:function(e){try{xe==null||xe.sessionStorage.removeItem(e)}catch(t){kn.B(t)}}},Bo=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});class aX{constructor(t){this._instance=t}get I(){return this._instance.config}get consent(){return this.J()?Bo.DENIED:this.K}isOptedOut(){return this.I.cookieless_mode==="always"||this.consent===Bo.DENIED||this.consent===Bo.PENDING&&(this.I.opt_out_capturing_by_default||this.I.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Bo.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.I.cookie_expiration,this.I.cross_subdomain_cookie,this.I.secure_cookie)}reset(){this.Y.V(this.X,this.I.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+t:"__ph_opt_in_out_"+t)}get K(){var t=this.Y.q(this.X);return n1(t)?Bo.GRANTED:Ut(lY,t)?Bo.DENIED:Bo.PENDING}get Y(){if(!this.Z){var t=this.I.opt_out_capturing_persistence_type;this.Z=t==="localStorage"?Ir:vo;var r=t==="localStorage"?vo:Ir;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(n1(r.q(this.X))),r.V(this.X,this.I.cross_subdomain_cookie))}return this.Z}J(){return!!this.I.respect_dnt&&!!TD([Fa==null?void 0:Fa.doNotTrack,Fa==null?void 0:Fa.msDoNotTrack,jt.doNotTrack],t=>n1(t))}}var ey=Yr("[Dead Clicks]"),sX=()=>!0,oX=e=>{var t,r=!((t=e.instance.persistence)==null||!t.get_property($D)),n=e.instance.config.capture_dead_clicks;return Zo(n)?n:!!xn(n)||r};class YD{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,r,n){this.instance=t,this.isEnabled=r,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[$D]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it(()=>{this.et()})}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",a=>{a?ey.error("failed to load script",a):t()})}et(){var t;if(Qe){if(!this.tt&&(t=jt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var r=xn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=jt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(Qe),ey.info("starting...")}}else ey.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,ey.info("stopping..."))}}var dh=Yr("[ExceptionAutocapture]");class iX{constructor(t){var r,n,a;this.rt=()=>{var s;if(xe&&this.isEnabled&&(s=jt.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var o=jt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=jt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=jt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.I.capture_unhandled_errors&&(this.st=o(this.captureException.bind(this))),!this.nt&&this.I.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.I.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){dh.error("failed to start",u),this.lt()}}},this._instance=t,this.ut=!((r=this._instance.persistence)==null||!r.props[yT]),this.I=this.ht(),this.dt=new cY({refillRate:(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&n!==void 0?n:1,bucketSize:(a=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&a!==void 0?a:10,refillInterval:1e4,h:dh}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return xn(t)?r=lt({},r,t):(Je(t)?this.ut:t)&&(r=lt({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.I.capture_console_errors||this.I.capture_unhandled_errors||this.I.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(dh.info("enabled"),this.it(this.rt))}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"exception-autocapture",a=>{if(a)return dh.error("failed to load script",a);t()})}lt(){var t,r,n;(t=this.st)==null||t.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(n=this.ot)==null||n.call(this),this.ot=void 0}onRemoteConfig(t){var r=t.autocaptureExceptions;this.ut=!!r||!1,this.I=this.ht(),this._instance.persistence&&this._instance.persistence.register({[yT]:this.ut}),this.startIfEnabled()}captureException(t){var r,n,a=(r=t==null||(n=t.$exception_list)==null||(n=n[0])==null?void 0:n.type)!==null&&r!==void 0?r:"Exception";this.dt.consumeRateLimit(a)?dh.info("Skipping exception capture because of client rate limiting.",{exception:a}):this._instance.exceptions.sendExceptionEvent(t)}}function PT(e,t,r){try{if(!(t in e))return()=>{};var n=e[t],a=r(n);return ml(a)&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=a,()=>{e[t]=n}}catch{return()=>{}}}class lX{constructor(t){var r;this._instance=t,this.vt=(xe==null||(r=xe.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(et.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,et.info("History API monitoring stopped")}monitorHistoryChanges(){var t,r;if(xe&&xe.history){var n=this;(t=xe.history.pushState)!=null&&t.__posthog_wrapped__||PT(xe.history,"pushState",a=>function(s,o,l){a.call(this,s,o,l),n.ft("pushState")}),(r=xe.history.replaceState)!=null&&r.__posthog_wrapped__||PT(xe.history,"replaceState",a=>function(s,o,l){a.call(this,s,o,l),n.ft("replaceState")}),this.gt()}}ft(t){try{var r,n=xe==null||(r=xe.location)==null?void 0:r.pathname;if(!n)return;n!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.vt=n}catch(a){et.error("Error capturing "+t+" pageview",a)}}gt(){if(!this.ct){var t=()=>{this.ft("popstate")};Zr(xe,"popstate",t),this.ct=()=>{xe&&xe.removeEventListener("popstate",t)}}}}var c1=Yr("[SegmentIntegration]");function cX(e,t){var r=e.config.segment;if(!r)return t();(function(n,a){var s=n.config.segment;if(!s)return a();var o=c=>{var u=()=>c.anonymousId()||tl();n.config.get_device_id=u,c.id()&&(n.register({distinct_id:c.id(),$device_id:u()}),n.persistence.set_property(Fo,"identified")),a()},l=s.user();"then"in l&&ml(l.then)?l.then(c=>o(c)):o(l)})(e,()=>{r.register((n=>{Promise&&Promise.resolve||c1.warn("This browser does not have Promise support, and can not use the segment integration");var a=(s,o)=>{if(!o)return s;s.event.userId||s.event.anonymousId===n.get_distinct_id()||(c1.info("No userId set, resetting PostHog"),n.reset()),s.event.userId&&s.event.userId!==n.get_distinct_id()&&(c1.info("UserId set, identifying with PostHog"),n.identify(s.event.userId));var l=n.calculateEventProperties(o,s.event.properties);return s.event.properties=Object.assign({},l,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>a(s,s.event.event),page:s=>a(s,"$pageview"),identify:s=>a(s,"$identify"),screen:s=>a(s,"$screen")}})(e)).then(()=>{t()})})}var XD="posthog-js";function QD(e,t){var{organization:r,projectId:n,prefix:a,severityAllowList:s=["error"],sendExceptionsToPostHog:o=!0}=t===void 0?{}:t;return l=>{var c,u,d,f,h;if(!(s==="*"||s.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var g=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=g,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var y=((c=l.exception)==null?void 0:c.values)||[],m=y.map(x=>lt({},x,{stacktrace:x.stacktrace?lt({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map(w=>lt({},w,{platform:"web:javascript"}))}):void 0})),v={$exception_message:((u=y[0])==null?void 0:u.value)||l.message,$exception_type:(d=y[0])==null?void 0:d.type,$exception_level:l.level,$exception_list:m,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=y[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(h=y[0])==null?void 0:h.type,$sentry_tags:l.tags};return r&&n&&(v.$sentry_url=(a||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+l.event_id),o&&e.exceptions.sendExceptionEvent(v),l}}class uX{constructor(t,r,n,a,s,o){this.name=XD,this.setupOnce=function(l){l(QD(t,{organization:r,projectId:n,prefix:a,severityAllowList:s,sendExceptionsToPostHog:o==null||o}))}}}var dX=xe!=null&&xe.location?Gv(xe.location.hash,"__posthog")||Gv(location.hash,"state"):null,AT="_postHogToolbarParams",TT=Yr("[Toolbar]"),Pi=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(Pi||{});class fX{constructor(t){this.instance=t}_t(t){jt.ph_toolbar_state=t}yt(){var t;return(t=jt.ph_toolbar_state)!==null&&t!==void 0?t:Pi.UNINITIALIZED}maybeLoadToolbar(t,r,n){if(t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),!xe||!Qe)return!1;t=t??xe.location,n=n??xe.history;try{if(!r){try{xe.localStorage.setItem("test","test"),xe.localStorage.removeItem("test")}catch{return!1}r=xe==null?void 0:xe.localStorage}var a,s=dX||Gv(t.hash,"__posthog")||Gv(t.hash,"state"),o=s?mT(()=>JSON.parse(atob(decodeURIComponent(s))))||mT(()=>JSON.parse(decodeURIComponent(s))):null;return o&&o.action==="ph_authorize"?((a=o).source="url",a&&Object.keys(a).length>0&&(o.desiredHash?t.hash=o.desiredHash:n?n.replaceState(n.state,"",t.pathname+t.search):t.hash="")):((a=JSON.parse(r.getItem(AT)||"{}")).source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}bt(t){var r=jt.ph_load_toolbar||jt.ph_load_editor;!Qt(r)&&ml(r)?r(t,this.instance):TT.warn("No toolbar load function found")}loadToolbar(t){var r=!(Qe==null||!Qe.getElementById(ID));if(!xe||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,a=lt({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(xe.localStorage.setItem(AT,JSON.stringify(lt({},a,{source:void 0}))),this.yt()===Pi.LOADED)this.bt(a);else if(this.yt()===Pi.UNINITIALIZED){var s;this._t(Pi.LOADING),(s=jt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",o=>{if(o)return TT.error("[Toolbar] Failed to load",o),void this._t(Pi.UNINITIALIZED);this._t(Pi.LOADED),this.bt(a)}),Zr(xe,"turbolinks:load",()=>{this._t(Pi.UNINITIALIZED),this.loadToolbar(a)})}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,r,n){return t===void 0&&(t=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(t,r,n)}}var hX=Yr("[TracingHeaders]");class pX{constructor(t){this.xt=void 0,this.Et=void 0,this.rt=()=>{var r,n;Je(this.xt)&&((r=jt.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),Je(this.Et)&&((n=jt.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"tracing-headers",a=>{if(a)return hX.error("failed to load script",a);t()})}startIfEnabledOrStop(){var t,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((t=this.xt)==null||t.call(this),(r=this.Et)==null||r.call(this),this.xt=void 0,this.Et=void 0)}}var us="Mobile",Yv="iOS",ho="Android",Vp="Tablet",ZD=ho+" "+Vp,e6="iPad",t6="Apple",r6=t6+" Watch",Kp="Safari",Bd="BlackBerry",n6="Samsung",a6=n6+"Browser",s6=n6+" Internet",Fc="Chrome",mX=Fc+" OS",o6=Fc+" "+Yv,J2="Internet Explorer",i6=J2+" "+us,Y2="Opera",gX=Y2+" Mini",X2="Edge",l6="Microsoft "+X2,sd="Firefox",c6=sd+" "+Yv,Gp="Nintendo",Jp="PlayStation",od="Xbox",u6=ho+" "+us,d6=us+" "+Kp,Gh="Windows",KS=Gh+" Phone",OT="Nokia",GS="Ouya",f6="Generic",yX=f6+" "+us.toLowerCase(),h6=f6+" "+Vp.toLowerCase(),JS="Konqueror",Kn="(\\d+(\\.\\d+)?)",u1=new RegExp("Version/"+Kn),vX=new RegExp(od,"i"),xX=new RegExp(Jp+" \\w+","i"),bX=new RegExp(Gp+" \\w+","i"),Q2=new RegExp(Bd+"|PlayBook|BB10","i"),wX={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},_X=(e,t)=>t&&Ut(t,t6)||function(r){return Ut(r,Kp)&&!Ut(r,Fc)&&!Ut(r,ho)}(e),p6=function(e,t){return t=t||"",Ut(e," OPR/")&&Ut(e,"Mini")?gX:Ut(e," OPR/")?Y2:Q2.test(e)?Bd:Ut(e,"IE"+us)||Ut(e,"WPDesktop")?i6:Ut(e,a6)?s6:Ut(e,X2)||Ut(e,"Edg/")?l6:Ut(e,"FBIOS")?"Facebook "+us:Ut(e,"UCWEB")||Ut(e,"UCBrowser")?"UC Browser":Ut(e,"CriOS")?o6:Ut(e,"CrMo")||Ut(e,Fc)?Fc:Ut(e,ho)&&Ut(e,Kp)?u6:Ut(e,"FxiOS")?c6:Ut(e.toLowerCase(),JS.toLowerCase())?JS:_X(e,t)?Ut(e,us)?d6:Kp:Ut(e,sd)?sd:Ut(e,"MSIE")||Ut(e,"Trident/")?J2:Ut(e,"Gecko")?sd:""},SX={[i6]:[new RegExp("rv:"+Kn)],[l6]:[new RegExp(X2+"?\\/"+Kn)],[Fc]:[new RegExp("("+Fc+"|CrMo)\\/"+Kn)],[o6]:[new RegExp("CriOS\\/"+Kn)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Kn)],[Kp]:[u1],[d6]:[u1],[Y2]:[new RegExp("(Opera|OPR)\\/"+Kn)],[sd]:[new RegExp(sd+"\\/"+Kn)],[c6]:[new RegExp("FxiOS\\/"+Kn)],[JS]:[new RegExp("Konqueror[:/]?"+Kn,"i")],[Bd]:[new RegExp(Bd+" "+Kn),u1],[u6]:[new RegExp("android\\s"+Kn,"i")],[s6]:[new RegExp(a6+"\\/"+Kn)],[J2]:[new RegExp("(rv:|MSIE )"+Kn)],Mozilla:[new RegExp("rv:"+Kn)]},jX=function(e,t){var r=p6(e,t),n=SX[r];if(Je(n))return null;for(var a=0;a<n.length;a++){var s=n[a],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},$T=[[new RegExp(od+"; "+od+" (.*?)[);]","i"),e=>[od,e&&e[1]||""]],[new RegExp(Gp,"i"),[Gp,""]],[new RegExp(Jp,"i"),[Jp,""]],[Q2,[Bd,""]],[new RegExp(Gh,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[KS,""];if(new RegExp(us).test(t)&&!/IEMobile\b/.test(t))return[Gh+" "+us,""];var r=/Windows NT ([0-9.]+)/i.exec(t);if(r&&r[1]){var n=r[1],a=wX[n]||"";return/arm/i.test(t)&&(a="RT"),[Gh,a]}return[Gh,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Yv,t.join(".")]}return[Yv,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=Je(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+ho+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+ho+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[ho,t.join(".")]}return[ho,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var r=[e[1],e[2],e[3]||"0"];t[1]=r.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[mX,""]],[/Linux|debian/i,["Linux",""]]],RT=function(e){return bX.test(e)?Gp:xX.test(e)?Jp:vX.test(e)?od:new RegExp(GS,"i").test(e)?GS:new RegExp("("+KS+"|WPDesktop)","i").test(e)?KS:/iPad/.test(e)?e6:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?r6:Q2.test(e)?Bd:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(OT,"i").test(e)?OT:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(us).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?ho:ZD:ho:new RegExp("(pda|"+us+")","i").test(e)?yX:new RegExp(Vp,"i").test(e)&&!new RegExp(Vp+" pc","i").test(e)?h6:""},ty="https?://(.*)",jf=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],kX=Sf(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],jf),ag="<masked>",EX=["li_fat_id"];function m6(e,t,r){if(!Qe)return{};var n,a=t?Sf([],jf,r||[]):[],s=g6(ng(Qe.URL,a,ag),e),o=(n={},wr(EX,function(l){var c=vo.q(l);n[l]=c||null}),n);return Vr(o,s)}function g6(e,t){var r=kX.concat(t||[]),n={};return wr(r,function(a){var s=Kv(e,a);n[a]=s||null}),n}function y6(e){var t=function(s){return s?s.search(ty+"google.([^/?]*)")===0?"google":s.search(ty+"bing.com")===0?"bing":s.search(ty+"yahoo.com")===0?"yahoo":s.search(ty+"duckduckgo.com")===0?"duckduckgo":null:null}(e),r=t!="yahoo"?"q":"p",n={};if(!Gs(t)){n.$search_engine=t;var a=Qe?Kv(Qe.referrer,r):"";a.length&&(n.ph_keyword=a)}return n}function IT(){return navigator.language||navigator.userLanguage}function v6(){return(Qe==null?void 0:Qe.referrer)||"$direct"}function x6(e,t){var r=e?Sf([],jf,t||[]):[],n=va==null?void 0:va.href.substring(0,1e3);return{r:v6().substring(0,1e3),u:n?ng(n,r,ag):void 0}}function b6(e){var t,{r,u:n}=e,a={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(t=Vv(r))==null?void 0:t.host};if(n){a.$current_url=n;var s=Vv(n);a.$host=s==null?void 0:s.host,a.$pathname=s==null?void 0:s.pathname;var o=g6(n);Vr(a,o)}if(r){var l=y6(r);Vr(a,l)}return a}function w6(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function NX(){try{return new Date().getTimezoneOffset()}catch{return}}function CX(e,t){if(!ma)return{};var r,n,a,s=e?Sf([],jf,t||[]):[],[o,l]=function(c){for(var u=0;u<$T.length;u++){var[d,f]=$T[u],h=d.exec(c),g=h&&(ml(f)?f(h,c):f);if(g)return g}return["",""]}(ma);return Vr(H2({$os:o,$os_version:l,$browser:p6(ma,navigator.vendor),$device:RT(ma),$device_type:(n=ma,a=RT(n),a===e6||a===ZD||a==="Kobo"||a==="Kindle Fire"||a===h6?Vp:a===Gp||a===od||a===Jp||a===GS?"Console":a===r6?"Wearable":a?us:"Desktop"),$timezone:w6(),$timezone_offset:NX()}),{$current_url:ng(va==null?void 0:va.href,s,ag),$host:va==null?void 0:va.host,$pathname:va==null?void 0:va.pathname,$raw_user_agent:ma.length>1e3?ma.substring(0,997)+"...":ma,$browser_version:jX(ma,navigator.vendor),$browser_language:IT(),$browser_language_prefix:(r=IT(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:xe==null?void 0:xe.screen.height,$screen_width:xe==null?void 0:xe.screen.width,$viewport_height:xe==null?void 0:xe.innerHeight,$viewport_width:xe==null?void 0:xe.innerWidth,$lib:"web",$lib_version:Do.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Si=Yr("[Web Vitals]"),MT=9e5;class PX{constructor(t){var r;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce((n,a)=>lt({},n,{["$web_vitals_"+a.name+"_event"]:lt({},a),["$web_vitals_"+a.name+"_value"]:a.value}),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=n=>{var a,s=(a=this._instance.sessionManager)==null?void 0:a.checkAndGetSessionAndWindowId(!0);if(Je(s))Si.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.Tt();Je(o)||(Qt(n==null?void 0:n.name)||Qt(n==null?void 0:n.value)?Si.error("Invalid metric received",n):this.Ct&&n.value>=this.Ct?Si.error("Ignoring metric with value >= "+this.Ct,n):(this.N.url!==o&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),Je(this.N.url)&&(this.N.url=o),this.N.firstMetricTimestamp=Je(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,n.attribution&&n.attribution.interactionTargetElement&&(n.attribution.interactionTargetElement=void 0),this.N.metrics.push(lt({},n,{$current_url:o,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var n,a,s,o,l=jt.__PosthogExtensions__;Je(l)||Je(l.postHogWebVitalsCallbacks)||({onLCP:n,onCLS:a,onFCP:s,onINP:o}=l.postHogWebVitalsCallbacks),n&&a&&s&&o?(this.allowedMetrics.indexOf("LCP")>-1&&n(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.Pt.bind(this)),this.P=!0):Si.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.St=!((r=this._instance.persistence)==null||!r.props[xT]),this.startIfEnabled()}get allowedMetrics(){var t,r,n=xn(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return Je(n)?((r=this._instance.persistence)==null?void 0:r.props[bT])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(xn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ct(){var t=xn(this._instance.config.capture_performance)&&_o(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:MT;return 0<t&&t<=6e4?MT:t}get isEnabled(){var t=va==null?void 0:va.protocol;if(t!=="http:"&&t!=="https:")return Si.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=xn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Zo(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Zo(r)?r:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(Si.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(t){var r=xn(t.capturePerformance)&&!!t.capturePerformance.web_vitals,n=xn(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[xT]:r}),this._instance.persistence.register({[bT]:n})),this.St=r,this.startIfEnabled()}it(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&t(),(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"web-vitals",a=>{a?Si.error("failed to load script",a):t()})}Tt(){var t=xe?xe.location.href:void 0;if(t){var r=this._instance.config.mask_personal_data_properties,n=this._instance.config.custom_personal_data_properties,a=r?Sf([],jf,n||[]):[];return ng(t,a,ag)}Si.error("Could not determine current URL")}}var AX=Yr("[Heatmaps]");function LT(e){return xn(e)&&"clientX"in e&&"clientY"in e&&_o(e.clientX)&&_o(e.clientY)}class TX{constructor(t){var r;this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!((r=this.instance.persistence)==null||!r.props[DS]),this.rageclicks=new GD(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return xn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return Je(this.instance.config.capture_heatmaps)?Je(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;AX.info("starting..."),this.It(),this.Ft()}else{var t;clearInterval((t=this.Rt)!==null&&t!==void 0?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var r=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[DS]:r}),this.St=r,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,"deadclick")}Ft(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(Qe)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}It(){xe&&Qe&&(this.jt=this.Dt.bind(this),Zr(xe,"beforeunload",this.jt),this.Lt=t=>this.At(t||(xe==null?void 0:xe.event)),Zr(Qe,"click",this.Lt,{capture:!0}),this.Nt=t=>this.Ut(t||(xe==null?void 0:xe.event)),Zr(Qe,"mousemove",this.Nt,{capture:!0}),this.zt=new YD(this.instance,sX,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ft.bind(this),Zr(Qe,"visibilitychange",this.Ht),this.P=!0)}Mt(){var t;xe&&Qe&&(this.jt&&xe.removeEventListener("beforeunload",this.jt),this.Lt&&Qe.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&Qe.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&Qe.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(t=this.zt)==null||t.stop(),this.P=!1)}qt(t,r){var n=this.instance.scrollManager.scrollY(),a=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(l,c,u){for(var d=l;d&&Fx(d)&&!yl(d,"body");){if(d===u)return!1;if(Ut(c,xe==null?void 0:xe.getComputedStyle(d).position))return!0;d=UD(d)}return!1}(FD(t),["fixed","sticky"],s);return{x:t.clientX+(o?0:a),y:t.clientY+(o?0:n),target_fixed:o,type:r}}At(t,r){var n;if(r===void 0&&(r="click"),!wT(t.target)&&LT(t)){var a=this.qt(t,r);(n=this.rageclicks)!=null&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Wt(lt({},a,{type:"rageclick"})),this.Wt(a)}}Ut(t){!wT(t.target)&&LT(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout(()=>{this.Wt(this.qt(t,"mousemove"))},500))}Wt(t){if(xe){var r=xe.location.href,n=this.instance.config.mask_personal_data_properties,a=this.instance.config.custom_personal_data_properties,s=n?Sf([],jf,a||[]):[],o=ng(r,s,ag);this.N=this.N||{},this.N[o]||(this.N[o]=[]),this.N[o].push(t)}}Dt(){this.N&&!Gu(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class OX{constructor(t){this._instance=t}doPageView(t,r){var n,a=this.Gt(t,r);return this.Vt={pathname:(n=xe==null?void 0:xe.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:t},this._instance.scrollManager.resetContext(),a}doPageLeave(t){var r;return this.Gt(t,(r=this.Vt)==null?void 0:r.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.Vt)==null?void 0:t.pageViewId}}Gt(t,r){var n=this.Vt;if(!n)return{$pageview_id:r};var a={$pageview_id:r,$prev_pageview_id:n.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:d,maxContentY:f}=s;if(!(Je(o)||Je(l)||Je(c)||Je(u)||Je(d)||Je(f))){o=Math.ceil(o),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f);var h=o<=1?1:fo(l/o,0,1,et),g=o<=1?1:fo(c/o,0,1,et),y=u<=1?1:fo(d/u,0,1,et),m=u<=1?1:fo(f/u,0,1,et);a=Vr(a,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:g,$prev_pageview_last_content:d,$prev_pageview_last_content_percentage:y,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:m})}}return n.pathname&&(a.$prev_pageview_pathname=n.pathname),n.timestamp&&(a.$prev_pageview_duration=(t.getTime()-n.timestamp.getTime())/1e3),a}}var ds=Uint8Array,wa=Uint16Array,Ud=Uint32Array,Z2=new ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eN=new ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DT=new ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_6=function(e,t){for(var r=new wa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var a=new Ud(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return[r,a]},S6=_6(Z2,2),$X=S6[0],YS=S6[1];$X[28]=258,YS[258]=28;for(var FT=_6(eN,0)[1],j6=new wa(32768),Cr=0;Cr<32768;++Cr){var Wl=(43690&Cr)>>>1|(21845&Cr)<<1;Wl=(61680&(Wl=(52428&Wl)>>>2|(13107&Wl)<<2))>>>4|(3855&Wl)<<4,j6[Cr]=((65280&Wl)>>>8|(255&Wl)<<8)>>>1}var fp=function(e,t,r){for(var n=e.length,a=0,s=new wa(t);a<n;++a)++s[e[a]-1];var o,l=new wa(t);for(a=0;a<t;++a)l[a]=l[a-1]+s[a-1]<<1;for(o=new wa(n),a=0;a<n;++a)o[a]=j6[l[e[a]-1]++]>>>15-e[a];return o},Bc=new ds(288);for(Cr=0;Cr<144;++Cr)Bc[Cr]=8;for(Cr=144;Cr<256;++Cr)Bc[Cr]=9;for(Cr=256;Cr<280;++Cr)Bc[Cr]=7;for(Cr=280;Cr<288;++Cr)Bc[Cr]=8;var Xv=new ds(32);for(Cr=0;Cr<32;++Cr)Xv[Cr]=5;var RX=fp(Bc,9),IX=fp(Xv,5),k6=function(e){return(e/8>>0)+(7&e&&1)},E6=function(e,t,r){(r==null||r>e.length)&&(r=e.length);var n=new(e instanceof wa?wa:e instanceof Ud?Ud:ds)(r-t);return n.set(e.subarray(t,r)),n},Oo=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},fh=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},d1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return[new ds(0),0];if(a==1){var o=new ds(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort(function(S,E){return S.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};var h=s[0].s;for(n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var g=new wa(h+1),y=XS(r[d-1],g,0);if(y>t){n=0;var m=0,v=y-t,x=1<<v;for(s.sort(function(S,E){return g[E.s]-g[S.s]||S.f-E.f});n<a;++n){var w=s[n].s;if(!(g[w]>t))break;m+=x-(1<<y-g[w]),g[w]=t}for(m>>>=v;m>0;){var b=s[n].s;g[b]<t?m-=1<<t-g[b]++-1:++n}for(;n>=0&&m;--n){var _=s[n].s;g[_]==t&&(--g[_],++m)}y=t}return[new ds(g),y]},XS=function(e,t,r){return e.s==-1?Math.max(XS(e.l,t,r+1),XS(e.r,t,r+1)):t[e.s]=r},BT=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new wa(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return[r.subarray(0,n),t]},hh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},QS=function(e,t,r){var n=r.length,a=k6(t+2);e[a]=255&n,e[a+1]=n>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<n;++s)e[a+s+4]=r[s];return 8*(a+4+n)},UT=function(e,t,r,n,a,s,o,l,c,u,d){Oo(t,d++,r),++a[256];for(var f=d1(a,15),h=f[0],g=f[1],y=d1(s,15),m=y[0],v=y[1],x=BT(h),w=x[0],b=x[1],_=BT(m),S=_[0],E=_[1],j=new wa(19),k=0;k<w.length;++k)j[31&w[k]]++;for(k=0;k<S.length;++k)j[31&S[k]]++;for(var N=d1(j,7),P=N[0],A=N[1],R=19;R>4&&!P[DT[R-1]];--R);var U,z,F,D,q=u+5<<3,T=hh(a,Bc)+hh(s,Xv)+o,L=hh(a,h)+hh(s,m)+o+14+3*R+hh(j,P)+(2*j[16]+3*j[17]+7*j[18]);if(q<=T&&q<=L)return QS(t,d,e.subarray(c,c+u));if(Oo(t,d,1+(L<T)),d+=2,L<T){U=fp(h,g),z=h,F=fp(m,v),D=m;var ee=fp(P,A);for(Oo(t,d,b-257),Oo(t,d+5,E-1),Oo(t,d+10,R-4),d+=14,k=0;k<R;++k)Oo(t,d+3*k,P[DT[k]]);d+=3*R;for(var M=[w,S],G=0;G<2;++G){var V=M[G];for(k=0;k<V.length;++k){var Z=31&V[k];Oo(t,d,ee[Z]),d+=P[Z],Z>15&&(Oo(t,d,V[k]>>>5&127),d+=V[k]>>>12)}}}else U=RX,z=Bc,F=IX,D=Xv;for(k=0;k<l;++k)if(n[k]>255){Z=n[k]>>>18&31,fh(t,d,U[Z+257]),d+=z[Z+257],Z>7&&(Oo(t,d,n[k]>>>23&31),d+=Z2[Z]);var ie=31&n[k];fh(t,d,F[ie]),d+=D[ie],ie>3&&(fh(t,d,n[k]>>>5&8191),d+=eN[ie])}else fh(t,d,U[n[k]]),d+=z[n[k]];return fh(t,d,U[256]),d+z[256]},MX=new Ud([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),LX=function(){for(var e=new Ud(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),DX=function(e,t,r,n,a){return function(s,o,l,c,u,d){var f=s.length,h=new ds(c+f+5*(1+Math.floor(f/7e3))+u),g=h.subarray(c,h.length-u),y=0;if(!o||f<8)for(var m=0;m<=f;m+=65535){var v=m+65535;v<f?y=QS(g,y,s.subarray(m,v)):(g[m]=d,y=QS(g,y,s.subarray(m,f)))}else{for(var x=MX[o-1],w=x>>>13,b=8191&x,_=(1<<l)-1,S=new wa(32768),E=new wa(_+1),j=Math.ceil(l/3),k=2*j,N=function(je){return(s[je]^s[je+1]<<j^s[je+2]<<k)&_},P=new Ud(25e3),A=new wa(288),R=new wa(32),U=0,z=0,F=(m=0,0),D=0,q=0;m<f;++m){var T=N(m),L=32767&m,ee=E[T];if(S[L]=ee,E[T]=L,D<=m){var M=f-m;if((U>7e3||F>24576)&&M>423){y=UT(s,g,0,P,A,R,z,F,q,m-q,y),F=U=z=0,q=m;for(var G=0;G<286;++G)A[G]=0;for(G=0;G<30;++G)R[G]=0}var V=2,Z=0,ie=b,H=L-ee&32767;if(M>2&&T==N(m-H))for(var W=Math.min(w,M)-1,X=Math.min(32767,m),B=Math.min(258,M);H<=X&&--ie&&L!=ee;){if(s[m+V]==s[m+V-H]){for(var Q=0;Q<B&&s[m+Q]==s[m+Q-H];++Q);if(Q>V){if(V=Q,Z=H,Q>W)break;var se=Math.min(H,Q-2),J=0;for(G=0;G<se;++G){var le=m-H+G+32768&32767,ce=le-S[le]+32768&32767;ce>J&&(J=ce,ee=le)}}}H+=(L=ee)-(ee=S[L])+32768&32767}if(Z){P[F++]=268435456|YS[V]<<18|FT[Z];var ge=31&YS[V],he=31&FT[Z];z+=Z2[ge]+eN[he],++A[257+ge],++R[he],D=m+V,++U}else P[F++]=s[m],++A[s[m]]}}y=UT(s,g,d,P,A,R,z,F,q,m-q,y)}return E6(h,0,c+k6(y)+u)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!0)},f1=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function FX(e,t){t===void 0&&(t={});var r=function(){var l=4294967295;return{p:function(c){for(var u=l,d=0;d<c.length;++d)u=LX[255&u^c[d]]^u>>>8;l=u},d:function(){return 4294967295^l}}}(),n=e.length;r.p(e);var a,s=DX(e,t,10+((a=t).filename&&a.filename.length+1||0),8),o=s.length;return function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&f1(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var d=0;d<=u.length;++d)l[d+10]=u.charCodeAt(d)}}(s,t),f1(s,o-8,r.d()),f1(s,o-4,n),s}var BX=function(e){var t,r,n,a,s="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,a=0;a<n;a++){var o=e.charCodeAt(a),l=null;o<128?r++:l=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Gs(l)||(r>t&&(s+=e.substring(t,r)),s+=l,t=r=a+1)}return r>t&&(s+=e.substring(t,e.length)),s},UX=!!$S||!!OS,zT="text/plain",Qv=function(e,t,r){var n;r===void 0&&(r=!0);var[a,s]=e.split("?"),o=lt({},t),l=(n=s==null?void 0:s.split("&").map(u=>{var d,[f,h]=u.split("="),g=r&&(d=o[f])!==null&&d!==void 0?d:h;return delete o[f],f+"="+g}))!==null&&n!==void 0?n:[],c=VY(o);return c&&l.push(c),a+"?"+l.join("&")},Jh=(e,t)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,t),h1=e=>{var{data:t,compression:r}=e;if(t){if(r===Wo.GZipJS){var n=FX(function(c,u){var d=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new ds(c.length+(c.length>>>1)),h=0,g=function(x){f[h++]=x},y=0;y<d;++y){if(h+5>f.length){var m=new ds(h+8+(d-y<<1));m.set(f),f=m}var v=c.charCodeAt(y);v<128||u?g(v):v<2048?(g(192|v>>>6),g(128|63&v)):v>55295&&v<57344?(g(240|(v=65536+(1047552&v)|1023&c.charCodeAt(++y))>>>18),g(128|v>>>12&63),g(128|v>>>6&63),g(128|63&v)):(g(224|v>>>12),g(128|v>>>6&63),g(128|63&v))}return E6(f,0,h)}(Jh(t)),{mtime:0}),a=new Blob([n],{type:zT});return{contentType:zT,body:a,estimatedSize:a.size}}if(r===Wo.Base64){var s=function(c){var u,d,f,h,g,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,v=0,x="",w=[];if(!c)return c;c=BX(c);do u=(g=c.charCodeAt(m++)<<16|c.charCodeAt(m++)<<8|c.charCodeAt(m++))>>18&63,d=g>>12&63,f=g>>6&63,h=63&g,w[v++]=y.charAt(u)+y.charAt(d)+y.charAt(f)+y.charAt(h);while(m<c.length);switch(x=w.join(""),c.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x}(Jh(t)),o=(c=>"data="+encodeURIComponent(typeof c=="string"?c:Jh(c)))(s);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var l=Jh(t);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},ov=[];OS&&ov.push({transport:"fetch",method:e=>{var t,r,{contentType:n,body:a,estimatedSize:s}=(t=h1(e))!==null&&t!==void 0?t:{},o=new Headers;wr(e.headers,function(d,f){o.append(f,d)}),n&&o.append("Content-Type",n);var l=e.url,c=null;if(iT){var u=new iT;c={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}OS(l,lt({method:(e==null?void 0:e.method)||"GET",headers:o,keepalive:e.method==="POST"&&(s||0)<52428.8,body:a,signal:(r=c)==null?void 0:r.signal},e.fetchOptions)).then(d=>d.text().then(f=>{var h={statusCode:d.status,text:f};if(d.status===200)try{h.json=JSON.parse(f)}catch(g){et.error(g)}e.callback==null||e.callback(h)})).catch(d=>{et.error(d),e.callback==null||e.callback({statusCode:0,text:d})}).finally(()=>c?clearTimeout(c.timeout):null)}}),$S&&ov.push({transport:"XHR",method:e=>{var t,r=new $S;r.open(e.method||"GET",e.url,!0);var{contentType:n,body:a}=(t=h1(e))!==null&&t!==void 0?t:{};wr(e.headers,function(s,o){r.setRequestHeader(o,s)}),n&&r.setRequestHeader("Content-Type",n),e.timeout&&(r.timeout=e.timeout),e.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var s={statusCode:r.status,text:r.responseText};if(r.status===200)try{s.json=JSON.parse(r.responseText)}catch{}e.callback==null||e.callback(s)}},r.send(a)}}),Fa!=null&&Fa.sendBeacon&&ov.push({transport:"sendBeacon",method:e=>{var t=Qv(e.url,{beacon:"1"});try{var r,{contentType:n,body:a}=(r=h1(e))!==null&&r!==void 0?r:{},s=typeof a=="string"?new Blob([a],{type:n}):a;Fa.sendBeacon(t,s)}catch{}}});var Zv=function(e,t){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function qT(e,t,r){return Jh({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:r})}var N6={exact:(e,t)=>t.some(r=>e.some(n=>r===n)),is_not:(e,t)=>t.every(r=>e.every(n=>r!==n)),regex:(e,t)=>t.some(r=>e.some(n=>Zv(r,n))),not_regex:(e,t)=>t.every(r=>e.every(n=>!Zv(r,n))),icontains:(e,t)=>t.map(ry).some(r=>e.map(ry).some(n=>r.includes(n))),not_icontains:(e,t)=>t.map(ry).every(r=>e.map(ry).every(n=>!r.includes(n)))},ry=e=>e.toLowerCase();function C6(e,t){return!e||Object.entries(e).every(r=>{var[n,a]=r,s=t==null?void 0:t[n];if(Je(s)||Gs(s))return!1;var o=[String(s)],l=N6[a.operator];return!!l&&l(a.values,o)})}var p1=Yr("[Error tracking]");class zX{constructor(t){var r,n;this.Jt=[],this.Kt=new fY([new wY,new AY,new SY,new _Y,new CY,new NY,new kY,new PY],bY("web:javascript",gY,xY)),this._instance=t,this.Jt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(FS))!==null&&r!==void 0?r:[]}onRemoteConfig(t){var r,n,a,s=(r=(n=t.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],o=(a=t.errorTracking)==null?void 0:a.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[FS]:this.Jt,[vT]:o})}get Yt(){var t,r=!!this._instance.get_property(vT),n=this._instance.config.error_tracking.captureExtensionExceptions;return(t=n??r)!==null&&t!==void 0&&t}buildProperties(t,r){return this.Kt.buildFromUnknown(t,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(t){var r=t.$exception_list;if(this.Xt(r)){if(this.Qt(r))return void p1.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(r))return void p1.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(r))return void p1.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(t){if(t.length===0)return!1;var r=t.reduce((n,a)=>{var{type:s,value:o}=a;return dn(s)&&s.length>0&&n.$exception_types.push(s),dn(o)&&o.length>0&&n.$exception_values.push(o),n},{$exception_types:[],$exception_values:[]});return this.Jt.some(n=>{var a=n.values.map(s=>{var o,l=N6[s.operator],c=tr(s.value)?s.value:[s.value],u=(o=r[s.key])!==null&&o!==void 0?o:[];return c.length>0&&l(c,u)});return n.type==="OR"?a.some(Boolean):a.every(Boolean)})}Zt(t){return t.flatMap(r=>{var n,a;return(n=(a=r.stacktrace)==null?void 0:a.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}ti(t){if(t.length>0){var r,n,a,s,o=(r=(n=t[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],l=o[o.length-1];return(a=l==null||(s=l.filename)==null?void 0:s.includes("posthog.com/static"))!==null&&a!==void 0&&a}return!1}Xt(t){return!Qt(t)&&tr(t)}}var Ss=Yr("[FeatureFlags]"),ph=Yr("[FeatureFlags]",{debugEnabled:!0}),m1="$active_feature_flags",hu="$override_feature_flags",WT="$feature_flag_payloads",mh="$override_feature_flag_payloads",HT="$feature_flag_request_id",VT="$feature_flag_evaluated_at",KT=e=>{var t={};for(var[r,n]of sv(e||{}))n&&(t[r]=n);return t},qX=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(r=>{var n;return[r,(n=t[r].variant)!==null&&n!==void 0?n:t[r].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(r=>t[r].enabled).filter(r=>{var n;return(n=t[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=t[r].metadata)==null?void 0:n.payload]}))):Ss.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},WX=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});class HX{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return t!=null&&t.length?t.filter(r=>{var n=r&&typeof r=="string"&&r.trim().length>0;return n||Ss.error("Invalid evaluation environment found:",r,"Expected non-empty string"),n}):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(BS),r=this._instance.get_property(hu),n=this._instance.get_property(mh);if(!n&&!r)return t||{};var a=Vr({},t||{}),s=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var o of s){var l,c,u=a[o],d=r==null?void 0:r[o],f=Je(d)?(l=u==null?void 0:u.enabled)!==null&&l!==void 0&&l:!!d,h=Je(d)?u.variant:typeof d=="string"?d:void 0,g=n==null?void 0:n[o],y=lt({},u,{enabled:f,variant:f?h??(u==null?void 0:u.variant):void 0});f!==(u==null?void 0:u.enabled)&&(y.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(y.original_variant=u==null?void 0:u.variant),g&&(y.metadata=lt({},u==null?void 0:u.metadata,{payload:g,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),a[o]=y}return this.ii||(Ss.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:n,finalDetails:a}),this.ii=!0),a}getFlagVariants(){var t=this._instance.get_property(Ju),r=this._instance.get_property(hu);if(!r)return t||{};for(var n=Vr({},t),a=Object.keys(r),s=0;s<a.length;s++)n[a[s]]=r[a[s]];return this.ii||(Ss.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:r,finalFlags:n}),this.ii=!0),n}getFlagPayloads(){var t=this._instance.get_property(WT),r=this._instance.get_property(mh);if(!r)return t||{};for(var n=Vr({},t||{}),a=Object.keys(r),s=0;s<a.length;s++)n[a[s]]=r[a[s]];return this.ii||(Ss.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:r,finalPayloads:n}),this.ii=!0),n}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout(()=>{this.di()},5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var r;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var n=this._instance.config.token,a=this._instance.get_property("$device_id"),s={token:n,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:lt({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Kh)||{}),group_properties:this._instance.get_property(Xl)};Gs(a)||Je(a)||(s.$device_id=a),(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(s.disable_flags=!0),this.ui()&&(s.evaluation_environments=this.li());var o=this._instance.config.__preview_remote_config,l=o?"/flags/?v=2":"/flags/?v=2&config=true",c=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",u=this._instance.requestRouter.endpointFor("flags",l+c);o&&(s.timezone=w6()),this.ri=!0,this._instance._send_request({method:"POST",url:u,data:s,compression:this._instance.config.disable_compression?void 0:Wo.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:d=>{var f,h,g=!0;if(d.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),g=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.ci((h=d.json)!==null&&h!==void 0?h:{})),!s.disable_flags||this.ni)if(this.ai=!g,d.json&&(f=d.json.quotaLimited)!=null&&f.includes(WX.FeatureFlags))Ss.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var y;s.disable_flags||this.receivedFeatureFlags((y=d.json)!==null&&y!==void 0?y:{},g),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[t],a=""+n,s=this._instance.get_property(HT)||void 0,o=this._instance.get_property(VT)||void 0,l=this._instance.get_property(zv)||{};if((r.send_event||!("send_event"in r))&&(!(t in l)||!l[t].includes(a))){var c,u,d,f,h,g,y,m,v;tr(l[t])?l[t].push(a):l[t]=[a],(c=this._instance.persistence)==null||c.register({[zv]:l});var x=this.getFeatureFlagDetails(t),w={$feature_flag:t,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_evaluated_at:o,$feature_flag_bootstrapped_response:((u=this._instance.config.bootstrap)==null||(u=u.featureFlags)==null?void 0:u[t])||null,$feature_flag_bootstrapped_payload:((d=this._instance.config.bootstrap)==null||(d=d.featureFlagPayloads)==null?void 0:d[t])||null,$used_bootstrap_value:!this.ai};Je(x==null||(f=x.metadata)==null?void 0:f.version)||(w.$feature_flag_version=x.metadata.version);var b,_=(h=x==null||(g=x.reason)==null?void 0:g.description)!==null&&h!==void 0?h:x==null||(y=x.reason)==null?void 0:y.code;_&&(w.$feature_flag_reason=_),x!=null&&(m=x.metadata)!=null&&m.id&&(w.$feature_flag_id=x.metadata.id),Je(x==null?void 0:x.original_variant)&&Je(x==null?void 0:x.original_enabled)||(w.$feature_flag_original_response=Je(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(v=x.metadata)!=null&&v.original_payload&&(w.$feature_flag_original_payload=x==null||(b=x.metadata)==null?void 0:b.original_payload),this._instance.capture("$feature_flag_called",w)}return n}Ss.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,r){var n=this._instance.config.token,a={distinct_id:this._instance.get_distinct_id(),token:n};this.ui()&&(a.evaluation_environments=this.li()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:a,compression:this._instance.config.disable_compression?void 0:Wo.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var o,l=(o=s.json)==null?void 0:o.featureFlagPayloads;r((l==null?void 0:l[t])||void 0)}})}isFeatureEnabled(t,r){if(r===void 0&&(r={}),this.ei||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(t,r);return Je(n)?void 0:!!n}Ss.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==t)}receivedFeatureFlags(t,r){if(this._instance.persistence){this.ei=!0;var n=this.getFlagVariants(),a=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(o,l,c,u,d){c===void 0&&(c={}),u===void 0&&(u={}),d===void 0&&(d={});var f=qX(o),h=f.flags,g=f.featureFlags,y=f.featureFlagPayloads;if(g){var m=o.requestId,v=o.evaluatedAt;if(tr(g)){Ss.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(g)for(var w=0;w<g.length;w++)x[g[w]]=!0;l&&l.register({[m1]:g,[Ju]:x})}else{var b=g,_=y,S=h;o.errorsWhileComputingFlags&&(b=lt({},c,b),_=lt({},u,_),S=lt({},d,S)),l&&l.register(lt({[m1]:Object.keys(KT(b)),[Ju]:b||{},[WT]:_||{},[BS]:S||{}},m?{[HT]:m}:{},v?{[VT]:v}:{}))}}})(t,this._instance.persistence,n,a,s),this.fi(r)}}override(t,r){r===void 0&&(r=!1),Ss.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:r})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return Ss.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(hu),this._instance.persistence.unregister(mh),this.fi(),ph.info("All overrides cleared");if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var r,n=t;if(this.ii=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(hu),ph.info("Flag overrides cleared");else if(n.flags){if(tr(n.flags)){for(var a={},s=0;s<n.flags.length;s++)a[n.flags[s]]=!0;this._instance.persistence.register({[hu]:a})}else this._instance.persistence.register({[hu]:n.flags});ph.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(mh),ph.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[mh]:n.payloads}),ph.info("Payload overrides set",{payloads:n.payloads}))),void this.fi()}this.fi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:r,flagVariants:n}=this.pi();t(r,n)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,r,n){var a,s=(this._instance.get_property(Vh)||[]).find(u=>u.flagKey===t),o={["$feature_enrollment/"+t]:r},l={$feature_flag:t,$feature_enrollment:r,$set:o};s&&(l.$early_access_feature_name=s.name),n&&(l.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(o,!1);var c=lt({},this.getFlagVariants(),{[t]:r});(a=this._instance.persistence)==null||a.register({[m1]:Object.keys(KT(c)),[Ju]:c}),this.fi()}getEarlyAccessFeatures(t,r,n){r===void 0&&(r=!1);var a=this._instance.get_property(Vh),s=n?"&"+n.map(o=>"stage="+o).join("&"):"";if(a&&!r)return t(a);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:o=>{var l,c;if(o.json){var u=o.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(Vh),(c=this._instance.persistence)==null||c.register({[Vh]:u}),t(u)}}})}pi(){var t=this.getFlags(),r=this.getFlagVariants();return{flags:t.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,a)=>(n[a]=r[a],n),{})}}fi(t){var{flags:r,flagVariants:n}=this.pi();this.featureFlagEventHandlers.forEach(a=>a(r,n,{errorsLoading:t}))}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Kh)||{};this._instance.register({[Kh]:lt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Kh)}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0);var n=this._instance.get_property(Xl)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(a=>{n[a]=lt({},n[a],t[a]),delete t[a]}),this._instance.register({[Xl]:lt({},n,t)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var r=this._instance.get_property(Xl)||{};this._instance.register({[Xl]:lt({},r,{[t]:{}})})}else this._instance.unregister(Xl)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var VX=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class g1{constructor(t,r){this.I=t,this.props={},this.gi=!1,this.mi=(n=>{var a="";return n.token&&(a=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+a+"_posthog"})(t),this.Y=this.yi(t),this.load(),t.debug&&et.info("Persistence loaded",t.persistence,lt({},this.props)),this.update_config(t,t,r),this.save()}isDisabled(){return!!this.bi}yi(t){VX.indexOf(t.persistence.toLowerCase())===-1&&(et.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();return r==="localstorage"&&Ir.H()?Ir:r==="localstorage+cookie"&&Qg.H()?Qg:r==="sessionstorage"&&kn.H()?kn:r==="memory"?nX:r==="cookie"?vo:Qg.H()?Qg:vo}properties(){var t={};return wr(this.props,function(r,n){if(n===Ju&&xn(r))for(var a=Object.keys(r),s=0;s<a.length;s++)t["$feature/"+a[s]]=r[a[s]];else l=n,c=!1,(Gs(o=MY)?c:oT&&o.indexOf===oT?o.indexOf(l)!=-1:(wr(o,function(u){if(c||(c=u===l))return Bv}),c))||(t[n]=r);var o,l,c}),t}load(){if(!this.bi){var t=this.Y.W(this.mi);t&&(this.props=Vr({},t))}}save(){this.bi||this.Y.G(this.mi,this.props,this.wi,this.xi,this.Ei,this.I.debug)}remove(){this.Y.V(this.mi,!1),this.Y.V(this.mi,!0)}clear(){this.remove(),this.props={}}register_once(t,r,n){if(xn(t)){Je(r)&&(r="None"),this.wi=Je(n)?this.Si:n;var a=!1;if(wr(t,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==r||(this.props[o]=s,a=!0)}),a)return this.save(),!0}return!1}register(t,r){if(xn(t)){this.wi=Je(r)?this.Si:r;var n=!1;if(wr(t,(a,s)=>{t.hasOwnProperty(s)&&this.props[s]!==a&&(this.props[s]=a,n=!0)}),n)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.gi){var t=m6(this.I.custom_campaign_params,this.I.mask_personal_data_properties,this.I.custom_personal_data_properties);Gu(H2(t))||this.register(t),this.gi=!0}}update_search_keyword(){var t;this.register((t=Qe==null?void 0:Qe.referrer)?y6(t):{})}update_referrer_info(){var t;this.register_once({$referrer:v6(),$referring_domain:Qe!=null&&Qe.referrer&&((t=Vv(Qe.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[WS]||this.props[HS]||this.register_once({[qv]:x6(this.I.mask_personal_data_properties,this.I.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};wr([HS,WS],o=>{var l=this.props[o];l&&wr(l,function(c,u){t["$initial_"+RS(u)]=c})});var r,n,a=this.props[qv];if(a){var s=(r=b6(a),n={},wr(r,function(o,l){n["$initial_"+RS(l)]=o}),n);Vr(t,s)}return t}safe_merge(t){return wr(this.props,function(r,n){n in t||(t[n]=r)}),t}update_config(t,r,n){if(this.Si=this.wi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!n),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==r.persistence){var a=this.yi(t),s=this.props;this.clear(),this.Y=a,this.props=s,this.save()}}set_disabled(t){this.bi=t,this.bi?this.remove():this.save()}set_cross_subdomain(t){t!==this.xi&&(this.xi=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,r){var n=this.props[Hh]||{};n[t]=r,this.props[Hh]=n,this.save()}remove_event_timer(t){var r=(this.props[Hh]||{})[t];return Je(r)||(delete this.props[Hh][t],this.save()),r}get_property(t){return this.props[t]}set_property(t,r){this.props[t]=r,this.save()}}var Hn=Yr("[Product Tours]"),y1="ph_product_tours";class KX{constructor(t){this.$i=null,this.ki=null,this.Pi=void 0,this.Ti=!1,this._instance=t}onRemoteConfig(t){if(this._instance.config.disable_product_tours)Hn.info("Product tours disabled via config");else{var r=t.productTours;Qt(r)?Hn.info("Product tours not enabled in remote config"):(this.Pi=r,Hn.info("Remote config received, isProductToursEnabled: "+this.Pi),this.loadIfEnabled())}}loadIfEnabled(){var t;if(!this.ki)if(this.Ti)Hn.info("Already initializing product tours, skipping...");else if(this._instance.config.disable_product_tours)Hn.info("Product tours disabled via config");else{var r=jt==null?void 0:jt.__PosthogExtensions__;if(r){var n=(t=this._instance.featureFlags)==null?void 0:t.isFeatureEnabled("product-tours-2025");if(!Je(this.Pi)||n){var a=this.Pi||n;if(a){this.Ti=!0;try{var s=r.generateProductTours;if(s)return void this.Ci(s,a);var o=r.loadExternalDependency;if(!o)return Hn.error("PostHog loadExternalDependency extension not found."),void(this.Ti=!1);o(this._instance,"product-tours",l=>{l||!r.generateProductTours?Hn.error("Could not load product tours script",l):this.Ci(r.generateProductTours,a),this.Ti=!1})}catch(l){Hn.error("Error initializing product tours",l),this.Ti=!1}}else Hn.info("Product tours not enabled")}else Hn.info("Waiting for remote config or feature flag to enable product tours")}else Hn.error("PostHog Extensions not found.")}}Ci(t,r){this.ki=t(this._instance,r)||null,Hn.info("Product tours loaded successfully")}getProductTours(t,r){if(r===void 0&&(r=!1),!tr(this.$i)||r){var n=this._instance.persistence;if(n){var a=n.props[y1];if(tr(a)&&!r)return this.$i=a,void t(a,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:s=>{var o=s.statusCode;if(o!==200||!s.json){var l="Product Tours API could not be loaded, status: "+o;return Hn.error(l),void t([],{isLoaded:!1,error:l})}var c=tr(s.json.product_tours)?s.json.product_tours:[];this.$i=c,n&&n.register({[y1]:c}),t(c,{isLoaded:!0})}})}else t(this.$i,{isLoaded:!0})}getActiveProductTours(t){if(Qt(this.ki))return Hn.warn("Product tours not loaded yet"),void t([],{isLoaded:!1,error:"Product tours not loaded"});this.ki.getActiveProductTours(t)}showProductTour(t){var r;Hn.info("showProductTour("+t+")"),(r=this.ki)==null||r.showTourById(t)}dismissProductTour(){var t;(t=this.ki)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.ki)==null||t.nextStep()}previousStep(){var t;(t=this.ki)==null||t.previousStep()}clearCache(){this.$i=null;var t=this._instance.persistence;t&&t.unregister(y1)}resetTour(t){var r;(r=this.ki)==null||r.resetTour(t)}resetAllTours(){var t;(t=this.ki)==null||t.resetAllTours()}}var gh=function(e){return e.Activation="events",e.Cancellation="cancelEvents",e}({});(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var v1=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var iv=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),GT=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),P6=function(e){return e.Popover="popover",e.Inline="inline",e}({});class tN{constructor(){this.Ri={},this.Ri={}}on(t,r){return this.Ri[t]||(this.Ri[t]=[]),this.Ri[t].push(r),()=>{this.Ri[t]=this.Ri[t].filter(n=>n!==r)}}emit(t,r){for(var n of this.Ri[t]||[])n(r);for(var a of this.Ri["*"]||[])a(t,r)}}function pu(e,t,r){if(Qt(e))return!1;switch(r){case"exact":return e===t;case"contains":var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(e);case"regex":try{return new RegExp(t).test(e)}catch{return!1}default:return!1}}class GX{constructor(t){this.Ii=new tN,this.Fi=(r,n)=>this.Mi(r,n)&&this.Oi(r,n)&&this.Ai(r,n)&&this.Di(r,n),this.Mi=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=t,this.ji=new Set,this.Li=new Set}init(){var t;if(!Je((t=this._instance)==null?void 0:t.Ni)){var r;(r=this._instance)==null||r.Ni((n,a)=>{this.on(n,a)})}}register(t){var r,n;if(!Je((r=this._instance)==null?void 0:r.Ni)&&(t.forEach(o=>{var l,c;(l=this.Li)==null||l.add(o),(c=o.steps)==null||c.forEach(u=>{var d;(d=this.ji)==null||d.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var a,s=new Set;t.forEach(o=>{var l;(l=o.steps)==null||l.forEach(c=>{c!=null&&c.selector&&s.add(c==null?void 0:c.selector)})}),(a=this._instance)==null||a.autocapture.setElementSelectors(s)}}on(t,r){var n;r!=null&&t.length!=0&&(this.ji.has(t)||this.ji.has(r==null?void 0:r.event))&&this.Li&&((n=this.Li)==null?void 0:n.size)>0&&this.Li.forEach(a=>{this.Ui(r,a)&&this.Ii.emit("actionCaptured",a.name)})}zi(t){this.onAction("actionCaptured",r=>t(r))}Ui(t,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.Fi(t,n))return!0;return!1}onAction(t,r){return this.Ii.on(t,r)}Oi(t,r){if(r!=null&&r.url){var n,a=t==null||(n=t.properties)==null?void 0:n.$current_url;if(!a||typeof a!="string"||!pu(a,r.url,r.url_matching||"contains"))return!1}return!0}Ai(t,r){return!!this.Hi(t,r)&&!!this.Bi(t,r)&&!!this.qi(t,r)}Hi(t,r){var n;if(r==null||!r.href)return!0;var a=this.Wi(t);if(a.length>0)return a.some(l=>pu(l.href,r.href,r.href_matching||"exact"));var s,o=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!o&&pu((s=o.match(/(?::|")href="(.*?)"/))?s[1]:"",r.href,r.href_matching||"exact")}Bi(t,r){var n;if(r==null||!r.text)return!0;var a=this.Wi(t);if(a.length>0)return a.some(u=>pu(u.text,r.text,r.text_matching||"exact")||pu(u.$el_text,r.text,r.text_matching||"exact"));var s,o,l,c=(t==null||(n=t.properties)==null?void 0:n.$elements_chain)||"";return!!c&&(s=function(u){for(var d,f=[],h=/(?::|")text="(.*?)"/g;!Qt(d=h.exec(u));)f.includes(d[1])||f.push(d[1]);return f}(c),o=r.text,l=r.text_matching||"exact",s.some(u=>pu(u,o,l)))}qi(t,r){var n,a;if(r==null||!r.selector)return!0;var s=t==null||(n=t.properties)==null?void 0:n.$element_selectors;if(s!=null&&s.includes(r.selector))return!0;var o=(t==null||(a=t.properties)==null?void 0:a.$elements_chain)||"";if(r.selector_regex&&o)try{return new RegExp(r.selector_regex).test(o)}catch{return!1}return!1}Wi(t){var r;return(t==null||(r=t.properties)==null?void 0:r.$elements)==null?[]:t==null?void 0:t.properties.$elements}Di(t,r){return r==null||!r.properties||r.properties.length===0||C6(r.properties.reduce((n,a)=>{var s=tr(a.value)?a.value.map(String):a.value!=null?[String(a.value)]:[];return n[a.key]={values:s,operator:a.operator||"exact"},n},{}),t==null?void 0:t.properties)}}var sr=Yr("[Surveys]"),ZS="seenSurvey_",JX=(e,t)=>{var r="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(r="$survey_"+t+"/"+e.id+"/"+e.current_iteration),r},JT=e=>{var t=""+ZS+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+ZS+e.id+"_"+e.current_iteration),t},YX=[v1.Popover,v1.Widget,v1.API],XX={ignoreConditions:!1,ignoreDelay:!1,displayType:P6.Popover};class QX{constructor(t){this._instance=t,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(t,r){return!!t&&C6(t.propertyFilters,r==null?void 0:r.properties)}Yi(t,r){var n=new Map;return t.forEach(a=>{var s;(s=a.conditions)==null||(s=s[r])==null||(s=s.values)==null||s.forEach(o=>{if(o!=null&&o.name){var l=n.get(o.name)||[];l.push(a.id),n.set(o.name,l)}})}),n}Xi(t,r,n){var a,s=(n===gh.Activation?this.Gi:this.Vi).get(t),o=[];return(a=this._instance)==null||a.getSurveys(l=>{o=l.filter(c=>s==null?void 0:s.includes(c.id))}),o.filter(l=>{var c,u=(c=l.conditions)==null||(c=c[n])==null||(c=c.values)==null?void 0:c.find(d=>d.name===t);return this.Ki(u,r)})}register(t){var r;Je((r=this._instance)==null?void 0:r.Ni)||(this.Qi(t),this.Zi(t))}Zi(t){var r=t.filter(n=>{var a,s;return((a=n.conditions)==null?void 0:a.actions)&&((s=n.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0});r.length!==0&&(this.te==null&&(this.te=new GX(this._instance),this.te.init(),this.te.zi(n=>{this.onAction(n)})),r.forEach(n=>{var a,s,o,l,c;n.conditions&&(a=n.conditions)!=null&&a.actions&&(s=n.conditions)!=null&&(s=s.actions)!=null&&s.values&&((o=n.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((l=this.te)==null||l.register(n.conditions.actions.values),(c=n.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach(u=>{if(u&&u.name){var d=this.Ji.get(u.name);d&&d.push(n.id),this.Ji.set(u.name,d||[n.id])}}))}))}Qi(t){var r,n=t.filter(s=>{var o,l;return((o=s.conditions)==null?void 0:o.events)&&((l=s.conditions)==null||(l=l.events)==null||(l=l.values)==null?void 0:l.length)>0}),a=t.filter(s=>{var o,l;return((o=s.conditions)==null?void 0:o.cancelEvents)&&((l=s.conditions)==null||(l=l.cancelEvents)==null||(l=l.values)==null?void 0:l.length)>0});(n.length!==0||a.length!==0)&&((r=this._instance)==null||r.Ni((s,o)=>{this.onEvent(s,o)}),this.Gi=this.Yi(t,gh.Activation),this.Vi=this.Yi(t,gh.Cancellation))}onEvent(t,r){var n,a=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Xg])||[];if(iv.SHOWN===t&&r&&a.length>0){var s;sr.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:r,existingActivatedSurveys:a});var o=r==null||(s=r.properties)==null?void 0:s.$survey_id;if(o){var l=a.indexOf(o);l>=0&&(a.splice(l,1),this.ie(a))}}else{if(this.Vi.has(t)){var c=this.Xi(t,r,gh.Cancellation);c.length>0&&(sr.info("cancel event matched, cancelling surveys",{event:t,surveysToCancel:c.map(d=>d.id)}),c.forEach(d=>{var f,h=a.indexOf(d.id);h>=0&&a.splice(h,1),(f=this._instance)==null||f.cancelPendingSurvey(d.id)}),this.ie(a))}if(this.Gi.has(t)){sr.info("survey event name matched",{event:t,eventPayload:r,surveys:this.Gi.get(t)});var u=this.Xi(t,r,gh.Activation);this.ie(a.concat(u.map(d=>d.id)||[]))}}}onAction(t){var r,n=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Xg])||[];this.Ji.has(t)&&this.ie(n.concat(this.Ji.get(t)||[]))}ie(t){var r;sr.info("updating activated surveys",{activatedSurveys:t}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[Xg]:[...new Set(t)]})}getSurveys(){var t,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[Xg];return r||[]}getEventToSurveys(){return this.Gi}ee(){return this.te}}class ZX{constructor(t){this.re=void 0,this._surveyManager=null,this.se=!1,this.ne=!1,this.oe=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var r=t.surveys;if(Qt(r))return sr.warn("Flags not loaded yet. Not loading surveys.");var n=tr(r);this.re=n?r.length>0:r,sr.info("flags response received, isSurveysEnabled: "+this.re),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(ZS)||n!=null&&n.startsWith("inProgressSurvey_"))&&t.push(n)}t.forEach(a=>localStorage.removeItem(a))}loadIfEnabled(){if(!this._surveyManager)if(this.ne)sr.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)sr.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())sr.info("Not loading surveys in cookieless mode without consent.");else{var t=jt==null?void 0:jt.__PosthogExtensions__;if(t){if(!Je(this.re)||this._instance.config.advanced_enable_surveys){var r=this.re||this._instance.config.advanced_enable_surveys;this.ne=!0;try{var n=t.generateSurveys;if(n)return void this.ae(n,r);var a=t.loadExternalDependency;if(!a)return void this.le("PostHog loadExternalDependency extension not found.");a(this._instance,"surveys",s=>{s||!t.generateSurveys?this.le("Could not load surveys script",s):this.ae(t.generateSurveys,r)})}catch(s){throw this.le("Error initializing surveys",s),s}finally{this.ne=!1}}}else sr.error("PostHog Extensions not found.")}}ae(t,r){this._surveyManager=t(this._instance,r),this._surveyEventReceiver=new QX(this._instance),sr.info("Surveys loaded successfully"),this.ue({isLoaded:!0})}le(t,r){sr.error(t,r),this.ue({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.oe.push(t),this._surveyManager&&this.ue({isLoaded:!0}),()=>{this.oe=this.oe.filter(r=>r!==t)}}getSurveys(t,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return sr.info("Disabled. Not loading surveys."),t([]);var n=this._instance.get_property(US);if(n&&!r)return t(n,{isLoaded:!0});if(this.se)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.se=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:a=>{var s;this.se=!1;var o=a.statusCode;if(o!==200||!a.json){var l="Surveys API could not be loaded, status: "+o;return sr.error(l),t([],{isLoaded:!1,error:l})}var c,u=a.json.surveys||[],d=u.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var g;return!((g=h.conditions)==null||(g=g.events)==null||(g=g.values)==null||!g.length)}(f)||function(h){var g;return!((g=h.conditions)==null||(g=g.actions)==null||(g=g.values)==null||!g.length)}(f)));return d.length>0&&((c=this._surveyEventReceiver)==null||c.register(d)),(s=this._instance.persistence)==null||s.register({[US]:u}),t(u,{isLoaded:!0})}})}catch(a){throw this.se=!1,a}}ue(t){for(var r of this.oe)try{if(!t.isLoaded)return r([],t);this.getSurveys(r)}catch(n){sr.error("Error in survey callback",n)}}getActiveMatchingSurveys(t,r){if(r===void 0&&(r=!1),!Qt(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,r);sr.warn("init was not called")}he(t){var r=null;return this.getSurveys(n=>{var a;r=(a=n.find(s=>s.id===t))!==null&&a!==void 0?a:null}),r}de(t){if(Qt(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof t=="string"?this.he(t):t;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(Qt(this._surveyManager))return sr.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.de(t);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(t,r){return Qt(this._surveyManager)?(sr.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(a=>{var s,o=(s=a.find(c=>c.id===t))!==null&&s!==void 0?s:null;if(o){var l=this.de(o);n({visible:l.eligible,disabledReason:l.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(t,r){var n;if(Qt(this._surveyManager))sr.warn("init was not called");else{var a=typeof t=="string"?this.he(t):t;if(a!=null&&a.id)if(YX.includes(a.type)){var s=Qe==null?void 0:Qe.querySelector(r);if(s)return(n=a.appearance)!=null&&n.surveyPopupDelaySeconds?(sr.info("Rendering survey "+a.id+" with delay of "+a.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var o,l;sr.info("Rendering survey "+a.id+" with delay of "+((o=a.appearance)==null?void 0:o.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(a,s),sr.info("Survey "+a.id+" rendered")},1e3*a.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(a,s);sr.warn("Survey element not found")}else sr.warn("Surveys of type "+a.type+" cannot be rendered in the app");else sr.warn("Survey not found")}}displaySurvey(t,r){var n;if(Qt(this._surveyManager))sr.warn("init was not called");else{var a=this.he(t);if(a){var s=a;if((n=a.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(s=lt({},a,{appearance:lt({},a.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var o=this.canRenderSurvey(a);if(!o.visible)return void sr.warn("Survey is not eligible to be displayed: ",o.disabledReason)}r.displayType!==P6.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,r.selector)}else sr.warn("Survey not found")}}cancelPendingSurvey(t){Qt(this._surveyManager)?sr.warn("init was not called"):this._surveyManager.cancelSurvey(t)}}var yh=Yr("[Conversations]");class eQ{constructor(t){this.ve=void 0,this._conversationsManager=null,this.Ti=!1,this.ce=null,this._instance=t}onRemoteConfig(t){if(!this._instance.config.disable_conversations){var r=t.conversations;Qt(r)||(Zo(r)?this.ve=r:(this.ve=r.enabled,this.ce=r),this.loadIfEnabled())}}reset(){var t;(t=this._conversationsManager)==null||t.reset(),this._conversationsManager=null,this.ve=void 0,this.ce=null}loadIfEnabled(){if(!this._conversationsManager&&!this.Ti&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var t=jt==null?void 0:jt.__PosthogExtensions__;if(t&&!Je(this.ve)&&this.ve)if(this.ce&&this.ce.token){if(function(a){var s;if(!a||a.length===0)return!0;var o=xe==null||(s=xe.location)==null?void 0:s.hostname;return!o||a.some(l=>{var c=function(d){var f=d.replace(/^https?:\/\//,"");return(f=f.split("/")[0].split("?")[0].split(":")[0])||null}(l);if(!c)return!1;if(c.startsWith("*.")){var u=c.slice(2);return o.endsWith("."+u)||o===u}return o===c})}(this.ce.domains)){this.Ti=!0;try{var r=t.initConversations;if(r)return this.Ci(r),void(this.Ti=!1);var n=t.loadExternalDependency;if(!n)return void this.fe("PostHog loadExternalDependency extension not found.");n(this._instance,"conversations",a=>{a||!t.initConversations?this.fe("Could not load conversations script",a):this.Ci(t.initConversations),this.Ti=!1})}catch(a){this.fe("Error initializing conversations",a),this.Ti=!1}}}else yh.error("Conversations enabled but missing token in remote config.")}}Ci(t){if(this.ce)try{this._conversationsManager=t(this.ce,this._instance),yh.info("Conversations loaded successfully")}catch(r){this.fe("Error completing conversations initialization",r)}else yh.error("Cannot complete initialization: remote config is null")}fe(t,r){yh.error(t,r),this._conversationsManager=null,this.Ti=!1}enable(){this._conversationsManager?this._conversationsManager.enable():yh.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!Gs(this._conversationsManager)}isEnabled(){return this.ve===!0}}var YT=Yr("[RateLimiter]");class tQ{constructor(t){var r,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=a=>{var s=a.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(o=>{YT.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void YT.warn('could not rate limit - continuing. Error: "'+(o==null?void 0:o.message)+'"',{text:s})}},this.instance=t,this.captureEventsPerSecond=((r=t.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((n=t.config.rate_limiting)==null?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var r,n,a;t===void 0&&(t=!1);var s=new Date().getTime(),o=(r=(n=this.instance.persistence)==null?void 0:n.get_property(qS))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var l=o.tokens<1;return l||t||(o.tokens=Math.max(0,o.tokens-1)),!l||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(a=this.instance.persistence)==null||a.set_property(qS,o),{isRateLimited:l,remainingTokens:o.tokens}}isServerRateLimited(t){var r=this.serverLimits[t||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Hl=Yr("[RemoteConfig]");class rQ{constructor(t){this._instance=t}get remoteConfig(){var t;return(t=jt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.config}pe(t){var r,n;(r=jt.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(Hl.error("PostHog Extensions not found. Cannot load remote config."),t())}ge(t){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{t(r.json)}})}load(){try{if(this.remoteConfig)return Hl.info("Using preloaded remote config",this.remoteConfig),void this.ci(this.remoteConfig);if(this._instance.O())return void Hl.warn("Remote config is disabled. Falling back to local config.");this.pe(t=>{if(!t)return Hl.info("No config found after loading remote JS config. Falling back to JSON."),void this.ge(r=>{this.ci(r)});this.ci(t)})}catch(t){Hl.error("Error loading remote config",t)}}ci(t){t?this._instance.config.__preview_remote_config?(this._instance.ci(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Hl.info("__preview_remote_config is disabled. Logging config instead",t):Hl.error("Failed to fetch remote config from PostHog.")}}var ej=3e3;class nQ{constructor(t,r){this._e=!0,this.me=[],this.ye=fo((r==null?void 0:r.flush_interval_ms)||ej,250,5e3,et.createLogger("flush interval"),ej),this.be=t}enqueue(t){this.me.push(t),this.we||this.xe()}unload(){this.Ee();var t=this.me.length>0?this.Se():{},r=Object.values(t);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.be(lt({},n,{transport:"sendBeacon"}))})}enable(){this._e=!1,this.xe()}xe(){var t=this;this._e||(this.we=setTimeout(()=>{if(this.Ee(),this.me.length>0){var r=this.Se(),n=function(){var s=r[a],o=new Date().getTime();s.data&&tr(s.data)&&wr(s.data,l=>{l.offset=Math.abs(l.timestamp-o),delete l.timestamp}),t.be(s)};for(var a in r)n()}},this.ye))}Ee(){clearTimeout(this.we),this.we=void 0}Se(){var t={};return wr(this.me,r=>{var n,a=r,s=(a?a.batchKey:null)||a.url;Je(t[s])&&(t[s]=lt({},a,{data:[]})),(n=t[s].data)==null||n.push(a.data)}),this.me=[],t}}var aQ=["retriesPerformedSoFar"];class sQ{constructor(t){this.$e=!1,this.ke=3e3,this.me=[],this._instance=t,this.me=[],this.Pe=!0,!Je(xe)&&"onLine"in xe.navigator&&(this.Pe=xe.navigator.onLine,this.Te=()=>{this.Pe=!0,this.Dt()},this.Ce=()=>{this.Pe=!1},Zr(xe,"online",this.Te),Zr(xe,"offline",this.Ce))}get length(){return this.me.length}retriableRequest(t){var{retriesPerformedSoFar:r}=t,n=jD(t,aQ);_o(r)&&r>0&&(n.url=Qv(n.url,{retry_count:r})),this._instance._send_request(lt({},n,{callback:a=>{a.statusCode!==200&&(a.statusCode<400||a.statusCode>=500)&&(r??0)<10?this.Re(lt({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(a)}}))}Re(t){var r=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=r+1;var n=function(o){var l=3e3*Math.pow(2,o),c=l/2,u=Math.min(18e5,l),d=(Math.random()-.5)*(u-c);return Math.ceil(u+d)}(r),a=Date.now()+n;this.me.push({retryAt:a,requestOptions:t});var s="Enqueued failed request for retry in "+n;navigator.onLine||(s+=" (Browser is offline)"),et.warn(s),this.$e||(this.$e=!0,this.Ie())}Ie(){if(this.Fe&&clearTimeout(this.Fe),this.me.length===0)return this.$e=!1,void(this.Fe=void 0);this.Fe=setTimeout(()=>{this.Pe&&this.me.length>0&&this.Dt(),this.Ie()},this.ke)}Dt(){var t=Date.now(),r=[],n=this.me.filter(s=>s.retryAt<t||(r.push(s),!1));if(this.me=r,n.length>0)for(var{requestOptions:a}of n)this.retriableRequest(a)}unload(){for(var{requestOptions:t}of(this.Fe&&(clearTimeout(this.Fe),this.Fe=void 0),this.$e=!1,Je(xe)||(this.Te&&(xe.removeEventListener("online",this.Te),this.Te=void 0),this.Ce&&(xe.removeEventListener("offline",this.Ce),this.Ce=void 0)),this.me))try{this._instance._send_request(lt({},t,{transport:"sendBeacon"}))}catch(r){et.error(r)}this.me=[]}}class oQ{constructor(t){this.Me=()=>{var r,n,a,s;this.Oe||(this.Oe={});var o=this.scrollElement(),l=this.scrollY(),c=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=l+((o==null?void 0:o.clientHeight)||0),d=(o==null?void 0:o.scrollHeight)||0;this.Oe.lastScrollY=Math.ceil(l),this.Oe.maxScrollY=Math.max(l,(r=this.Oe.maxScrollY)!==null&&r!==void 0?r:0),this.Oe.maxScrollHeight=Math.max(c,(n=this.Oe.maxScrollHeight)!==null&&n!==void 0?n:0),this.Oe.lastContentY=u,this.Oe.maxContentY=Math.max(u,(a=this.Oe.maxContentY)!==null&&a!==void 0?a:0),this.Oe.maxContentHeight=Math.max(d,(s=this.Oe.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=t}getContext(){return this.Oe}resetContext(){var t=this.Oe;return setTimeout(this.Me,0),t}startMeasuringScrollPosition(){Zr(xe,"scroll",this.Me,{capture:!0}),Zr(xe,"scrollend",this.Me,{capture:!0}),Zr(xe,"resize",this.Me)}scrollElement(){if(!this._instance.config.scroll_root_selector)return xe==null?void 0:xe.document.documentElement;var t=tr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of t){var n=xe==null?void 0:xe.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return xe&&(xe.scrollY||xe.pageYOffset||xe.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return xe&&(xe.scrollX||xe.pageXOffset||xe.document.documentElement.scrollLeft)||0}}var iQ=e=>x6(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class XT{constructor(t,r,n,a){this.Ae=s=>{var o=this.De();if(!o||o.sessionId!==s){var l={sessionId:s,props:this.je(this._instance)};this.Le.register({[zS]:l})}},this._instance=t,this.Ne=r,this.Le=n,this.je=a||iQ,this.Ne.onSessionId(this.Ae)}De(){return this.Le.props[zS]}getSetOnceProps(){var t,r=(t=this.De())==null?void 0:t.props;return r?"r"in r?b6(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var t={};return wr(H2(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),t["$session_entry_"+RS(n)]=r}),t}}var x1=Yr("[SessionId]");class QT{on(t,r){return this.Ue.on(t,r)}constructor(t,r,n){var a;if(this.ze=[],this.He=void 0,this.Ue=new tN,this.Be=(d,f)=>Math.abs(d-f)>this.sessionTimeoutMs,!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.I=t.config,this.Le=t.persistence,this.qe=void 0,this.We=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ge=r||tl,this.Ve=n||tl;var s=this.I.persistence_name||this.I.token,o=this.I.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*fo(o,60,36e3,x1.createLogger("session_idle_timeout_seconds"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Je(),this.Ke="ph_"+s+"_window_id",this.Ye="ph_"+s+"_primary_window_exists",this.Xe()){var l=kn.W(this.Ke),c=kn.W(this.Ye);l&&!c?this.qe=l:kn.V(this.Ke),kn.G(this.Ye,!0)}if((a=this.I.bootstrap)!=null&&a.sessionID)try{var u=(d=>{var f=d.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.I.bootstrap.sessionID);this.Qe(this.I.bootstrap.sessionID,new Date().getTime(),u)}catch(d){x1.error("Invalid sessionID in bootstrap",d)}this.Ze()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return Je(this.ze)&&(this.ze=[]),this.ze.push(t),this.We&&t(this.We,this.qe),()=>{this.ze=this.ze.filter(r=>r!==t)}}Xe(){return this.I.persistence!=="memory"&&!this.Le.bi&&kn.H()}tr(t){t!==this.qe&&(this.qe=t,this.Xe()&&kn.G(this.Ke,t))}ir(){return this.qe?this.qe:this.Xe()?kn.W(this.Ke):null}Qe(t,r,n){t===this.We&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.We=t,this.Le.register({[Uv]:[r,t,n]}))}er(){var t=this.Le.props[Uv];return tr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Qe(null,null,null)}destroy(){clearTimeout(this.rr),this.rr=void 0,this.He&&xe&&(xe.removeEventListener("beforeunload",this.He,{capture:!1}),this.He=void 0),this.ze=[]}Ze(){this.He=()=>{this.Xe()&&kn.V(this.Ye)},Zr(xe,"beforeunload",this.He,{capture:!1})}checkAndGetSessionAndWindowId(t,r){if(t===void 0&&(t=!1),r===void 0&&(r=null),this.I.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[a,s,o]=this.er(),l=this.ir(),c=_o(o)&&o>0&&Math.abs(n-o)>864e5,u=!1,d=!s,f=!d&&!t&&this.Be(n,a);d||f||c?(s=this.Ge(),l=this.Ve(),x1.info("new session ID generated",{sessionId:s,windowId:l,changeReason:{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}}),o=n,u=!0):l||(l=this.Ve(),u=!0);var h=a===0||!t||c?n:a,g=o===0?new Date().getTime():o;return this.tr(l),this.Qe(s,h,g),t||this.Je(),u&&this.ze.forEach(y=>y(s,l,u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0)),{sessionId:s,windowId:l,sessionStartTimestamp:g,changeReason:u?{noSessionId:d,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:a}}Je(){clearTimeout(this.rr),this.rr=setTimeout(()=>{var[t]=this.er();if(this.Be(new Date().getTime(),t)){var r=this.We;this.resetSessionId(),this.Ue.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var lQ=["$set_once","$set"],ji=Yr("[SiteApps]");class cQ{constructor(t){this._instance=t,this.sr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}nr(t,r){if(r){var n=this.globalsForEvent(r);this.sr.push(n),this.sr.length>1e3&&(this.sr=this.sr.slice(10))}}get siteAppLoaders(){var t;return(t=jt._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ni(this.nr.bind(this));this.ar=()=>{t(),this.sr=[],this.ar=void 0}}}globalsForEvent(t){var r,n,a,s,o,l,c;if(!t)throw new Error("Event payload is required");var u={},d=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,g]of Object.entries(f))u[h]={id:d[h],type:h,properties:g};var{$set_once:y,$set:m}=t;return{event:lt({},jD(t,lQ),{properties:lt({},t.properties,m?{$set:lt({},(r=(n=t.properties)==null?void 0:n.$set)!==null&&r!==void 0?r:{},m)}:{},y?{$set_once:lt({},(a=(s=t.properties)==null?void 0:s.$set_once)!==null&&a!==void 0?a:{},y)}:{}),elements_chain:(o=(l=t.properties)==null?void 0:l.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(c=t.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(t){var r=this.apps[t.id],n=()=>{var l;!r.errored&&this.sr.length&&(ji.info("Processing "+this.sr.length+" events for site app with id "+t.id),this.sr.forEach(c=>r.processEvent==null?void 0:r.processEvent(c)),r.processedBuffer=!0),Object.values(this.apps).every(c=>c.processedBuffer||c.errored)&&((l=this.ar)==null||l.call(this))},a=!1,s=l=>{r.errored=!l,r.loaded=!0,ji.info("Site app with id "+t.id+" "+(l?"loaded":"errored")),a&&n()};try{var{processEvent:o}=t.init({posthog:this._instance,callback:l=>{s(l)}});o&&(r.processEvent=o),a=!0}catch(l){ji.error("Error while initializing PostHog app with config id "+t.id,l),s(!1)}if(a&&r.loaded)try{n()}catch(l){ji.error("Error while processing buffered events PostHog app with config id "+t.id,l),r.errored=!0}}lr(){var t=this.siteAppLoaders||[];for(var r of t)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of t)this.setupSiteApp(n)}ur(t){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(t);for(var n of Object.values(this.apps))try{n.processEvent==null||n.processEvent(r)}catch(a){ji.error("Error while processing event "+t.event+" for site app "+n.id,a)}}}onRemoteConfig(t){var r,n,a,s=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this.lr(),void this._instance.on("eventCaptured",u=>this.ur(u))):void ji.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((n=this.ar)==null||n.call(this),(a=t.siteApps)!=null&&a.length)if(this.isEnabled){var o=function(u){var d;jt["__$$ph_site_app_"+u]=s._instance,(d=jt.__PosthogExtensions__)==null||d.loadSiteApp==null||d.loadSiteApp(s._instance,c,f=>{if(f)return ji.error("Error while initializing PostHog app with config id "+u,f)})};for(var{id:l,url:c}of t.siteApps)o(l)}else ji.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var A6=function(e,t){if(!e)return!1;var r=e.userAgent;if(r&&uT(r,t))return!0;try{var n=e==null?void 0:e.userAgentData;if(n!=null&&n.brands&&n.brands.some(a=>uT(a==null?void 0:a.brand,t)))return!0}catch{}return!!e.webdriver},Yh=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),ZT="i.posthog.com";class uQ{constructor(t){this.hr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var t,r=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+ZT,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.hr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Yh.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=Yh.EU:this.hr[this.apiHost]=Yh.CUSTOM),this.hr[this.apiHost]}endpointFor(t,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),t==="ui")return this.uiHost+r;if(t==="flags")return this.flagsApiHost+r;if(this.region===Yh.CUSTOM)return this.apiHost+r;var n=ZT+r;switch(t){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var dQ={icontains:(e,t)=>!!xe&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!xe&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!xe&&Zv(t.href,e),not_regex:(e,t)=>!!xe&&!Zv(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class In{constructor(t){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(a=>{In.dr("retrieved web experiments from the server"),r.vr=new Map,a.forEach(s=>{if(s.feature_flag_key){var o;r.vr&&(In.dr("setting flag key ",s.feature_flag_key," to web experiment ",s),(o=r.vr)==null||o.set(s.feature_flag_key,s));var l=r._instance.getFeatureFlag(s.feature_flag_key);dn(l)&&s.variants[l]&&r.cr(s.name,l,s.variants[l].transforms)}else if(s.variants)for(var c in s.variants){var u=s.variants[c];In.pr(u)&&r.cr(s.name,c,u.transforms)}})},n)},this._instance=t,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(t){if(this._is_bot())In.dr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Qt(this.vr))return this.vr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();In.dr("applying feature flags",t),t.forEach(r=>{var n;if(this.vr&&(n=this.vr)!=null&&n.has(r)){var a,s=this._instance.getFeatureFlag(r),o=(a=this.vr)==null?void 0:a.get(r);s&&o!=null&&o.variants[s]&&this.cr(o.name,s,o.variants[s].transforms)}})}}previewWebExperiment(){var t=In.getWindowLocation();if(t!=null&&t.search){var r=Kv(t==null?void 0:t.search,"__experiment_id"),n=Kv(t==null?void 0:t.search,"__experiment_variant");r&&n&&(In.dr("previewing web experiments "+r+" && "+n),this.getWebExperiments(a=>{this.gr(parseInt(r),n,a)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,r,n){if(this._instance.config.disable_web_experiments&&!n)return t([]);var a=this._instance.get_property("$web_experiments");if(a&&!r)return t(a);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return t([]);var o=s.json.experiments||[];return t(o)}})}gr(t,r,n){var a=n.filter(s=>s.id===t);a&&a.length>0&&(In.dr("Previewing web experiment ["+a[0].name+"] with variant ["+r+"]"),this.cr(a[0].name,r,a[0].variants[r].transforms))}static pr(t){return!Qt(t.conditions)&&In._r(t)&&In.mr(t)}static _r(t){var r;if(Qt(t.conditions)||Qt((r=t.conditions)==null?void 0:r.url))return!0;var n,a,s,o=In.getWindowLocation();return!!o&&((n=t.conditions)==null||!n.url||dQ[(a=(s=t.conditions)==null?void 0:s.urlMatchType)!==null&&a!==void 0?a:"icontains"](t.conditions.url,o))}static getWindowLocation(){return xe==null?void 0:xe.location}static mr(t){var r;if(Qt(t.conditions)||Qt((r=t.conditions)==null?void 0:r.utm))return!0;var n=m6();if(n.utm_source){var a,s,o,l,c,u,d,f,h=(a=t.conditions)==null||(a=a.utm)==null||!a.utm_campaign||((s=t.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==n.utm_campaign,g=(o=t.conditions)==null||(o=o.utm)==null||!o.utm_source||((l=t.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==n.utm_source,y=(c=t.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=t.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,m=(d=t.conditions)==null||(d=d.utm)==null||!d.utm_term||((f=t.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==n.utm_term;return h&&y&&m&&g}return!1}static dr(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];et.info("[WebExperiments] "+t,n)}cr(t,r,n){this._is_bot()?In.dr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(a=>{if(a.selector){var s;In.dr("applying transform of variant "+r+" for experiment "+t+" ",a);var o=(s=document)==null?void 0:s.querySelectorAll(a.selector);o==null||o.forEach(l=>{var c=l;a.html&&(c.innerHTML=a.html),a.css&&c.setAttribute("style",a.css)})}}):In.dr("Control variants leave the page unmodified.")}_is_bot(){return Fa&&this._instance?A6(Fa,this._instance.config.custom_blocked_useragents):void 0}}var fQ=Yr("[PostHog ExternalIntegrations]"),hQ={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class pQ{constructor(t){this._instance=t}it(t,r){var n;(n=jt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,t,a=>{if(a)return fQ.error("failed to load script",a);r()})}startIfEnabledOrStop(){var t=this,r=function(o){var l,c,u;!a||(l=jt.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]||t.it(hQ[o],()=>{var d;(d=jt.__PosthogExtensions__)==null||(d=d.integrations)==null||(d=d[o])==null||d.start(t._instance)}),!a&&(c=jt.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[o]&&((u=jt.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.stop())};for(var[n,a]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;r(n)}}}var tj="[SessionRecording]",vh=Yr(tj);class eO{get started(){var t;return!((t=this.yr)==null||!t.isStarted)}get status(){return this.yr?this.yr.status:this.br&&!this.wr?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.br=!1,this.Er=void 0,this._instance=t,!this._instance.sessionManager)throw vh.error("started without valid sessionManager"),new Error(tj+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(tj+' cannot be used with cookieless_mode="always"')}get wr(){var t,r=!((t=this._instance.get_property(s1))==null||!t.enabled),n=!this._instance.config.disable_session_recording,a=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return xe&&r&&n&&!a}startIfEnabledOrStop(t){var r;if(!this.wr||(r=this.yr)==null||!r.isStarted){var n=!Je(Object.assign)&&!Je(Array.from);this.wr&&n?(this.Sr(t),vh.info("starting")):this.stopRecording()}}Sr(t){var r,n,a;this.wr&&(jt!=null&&(r=jt.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(n=jt.__PosthogExtensions__)!=null&&n.initSessionRecording?this.$r(t):(a=jt.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,this.kr,s=>{if(s)return vh.error("could not load recorder",s);this.$r(t)}))}stopRecording(){var t,r;(t=this.Er)==null||t.call(this),this.Er=void 0,(r=this.yr)==null||r.stop()}Pr(){var t;(t=this._instance.persistence)==null||t.unregister(RD)}Tr(t){if(this._instance.persistence){var r,n,a=this._instance.persistence,s=()=>{var o=t.sessionRecording===!1?void 0:t.sessionRecording,l=o==null?void 0:o.sampleRate,c=Qt(l)?null:parseFloat(l);Qt(c)&&this.Pr();var u=o==null?void 0:o.minimumDurationMilliseconds;a.register({[s1]:lt({enabled:!!o},o,{networkPayloadCapture:lt({capturePerformance:t.capturePerformance},o==null?void 0:o.networkPayloadCapture),canvasRecording:{enabled:o==null?void 0:o.recordCanvas,fps:o==null?void 0:o.canvasFps,quality:o==null?void 0:o.canvasQuality},sampleRate:c,minimumDurationMilliseconds:Je(u)?null:u,endpoint:o==null?void 0:o.endpoint,triggerMatchType:o==null?void 0:o.triggerMatchType,masking:o==null?void 0:o.masking,urlTriggers:o==null?void 0:o.urlTriggers})})};s(),(r=this.Er)==null||r.call(this),this.Er=(n=this._instance.sessionManager)==null?void 0:n.onSessionId(s)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.Tr(t),this.br=!0,this.startIfEnabledOrStop()):this.br=!0:vh.info("skipping remote config with no sessionRecording",t)}log(t,r){var n;r===void 0&&(r="log"),(n=this.yr)!=null&&n.log?this.yr.log(t,r):vh.warn("log called before recorder was ready")}get kr(){var t,r,n=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(s1);return(n==null||(r=n.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}$r(t){var r,n;if((r=jt.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.yr||(this.yr=(n=jt.__PosthogExtensions__)==null?void 0:n.initSessionRecording(this._instance),this.yr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.yr.start(t)}onRRwebEmit(t){var r;(r=this.yr)==null||r.onRRwebEmit==null||r.onRRwebEmit(t)}overrideLinkedFlag(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(t=this.yr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,r;this.yr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(t=this.yr)==null||t.overrideSampling()}overrideTrigger(t){var r,n;this.yr||(n=this._instance.persistence)==null||n.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.yr)==null||r.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.yr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,r){var n;return!((n=this.yr)==null||!n.tryAddCustomEvent(t,r))}}var hp={},rj=()=>{},$u="posthog",T6=!UX&&(ma==null?void 0:ma.indexOf("MSIE"))===-1&&(ma==null?void 0:ma.indexOf("Mozilla"))===-1,tO=e=>{var t;return lt({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:IY(Qe==null?void 0:Qe.location),persistence:"localStorage+cookie",persistence_name:"",loaded:rj,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:va&&dn(va==null?void 0:va.search)&&va.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(xe==null||(t=xe.location)==null?void 0:t.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;et.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:ej},error_tracking:{},_onCapture:rj,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},rO=e=>{var t={};Je(e.process_person)||(t.person_profiles=e.process_person),Je(e.xhr_headers)||(t.request_headers=e.xhr_headers),Je(e.cookie_name)||(t.persistence_name=e.cookie_name),Je(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),Je(e.store_google)||(t.save_campaign_params=e.store_google),Je(e.verbose)||(t.debug=e.verbose);var r=Vr({},t,e);return tr(e.property_blacklist)&&(Je(e.property_denylist)?r.property_denylist=e.property_blacklist:tr(e.property_denylist)?r.property_denylist=[...e.property_blacklist,...e.property_denylist]:et.error("Invalid value for property_denylist config: "+e.property_denylist)),r};class mQ{constructor(){this.__forceAllowLocalhost=!1}get Cr(){return this.__forceAllowLocalhost}set Cr(t){et.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Bx{get decideEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}get flagsEndpointWasHit(){var t,r;return(t=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new mQ,this.Rr=!1,this.version=Do.LIB_VERSION,this.Ir=new tN,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=tO(),this.SentryIntegration=uX,this.sentryIntegration=t=>function(r,n){var a=QD(r,n);return{name:XD,processEvent:s=>a(s)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Fr=!1,this.Mr=null,this.Or=null,this.Ar=null,this.featureFlags=new HX(this),this.toolbar=new fX(this),this.scrollManager=new oQ(this),this.pageViewManager=new OX(this),this.surveys=new ZX(this),this.conversations=new eQ(this),this.productTours=new KX(this),this.experiments=new In(this),this.exceptions=new zX(this),this.rateLimiter=new tQ(this),this.requestRouter=new uQ(this),this.consent=new aX(this),this.externalIntegrations=new pQ(this),this.people={set:(t,r,n)=>{var a=dn(t)?{[t]:r}:t;this.setPersonProperties(a),n==null||n({})},set_once:(t,r,n)=>{var a=dn(t)?{[t]:r}:t;this.setPersonProperties(void 0,a),n==null||n({})}},this.on("eventCaptured",t=>et.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,r,n){if(n&&n!==$u){var a,s=(a=hp[n])!==null&&a!==void 0?a:new Bx;return s._init(t,r,n),hp[n]=s,hp[$u][n]=s,s}return this._init(t,r,n)}_init(t,r,n){var a;if(r===void 0&&(r={}),Je(t)||IS(t))return et.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.Dr(r.debug),this.jr=r,this.Lr=[],r.person_profiles&&(this.Or=r.person_profiles),this.set_config(Vr({},tO(r.defaults),rO(r),{name:n,token:t})),this.config.on_xhr_error&&et.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:Wo.GZipJS;var s=this.Nr();this.persistence=new g1(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new g1(lt({},this.config,{persistence:"sessionStorage"}),s);var o=lt({},this.persistence.props),l=lt({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ur=new nQ(w=>this.zr(w),this.config.request_queue_config),this.Hr=new sQ(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new QT(this),this.sessionPropsManager=new XT(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(et.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.Br(c)},0)):(et.info("Initializing extensions synchronously"),this.Br(c)),Do.DEBUG=Do.DEBUG||this.config.debug,Do.DEBUG&&et.info("Starting in debug mode",{this:this,config:r,thisC:lt({},this.config),p:o,s:l}),((a=r.bootstrap)==null?void 0:a.distinctID)!==void 0){var u,d,f=this.config.get_device_id(tl()),h=(u=r.bootstrap)!=null&&u.isIdentifiedID?f:r.bootstrap.distinctID;this.persistence.set_property(Fo,(d=r.bootstrap)!=null&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:h})}if(this.qr()){var g,y,m=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlags)||{}).filter(w=>{var b;return!((b=r.bootstrap)==null||(b=b.featureFlags)==null||!b[w])}).reduce((w,b)=>{var _;return w[b]=((_=r.bootstrap)==null||(_=_.featureFlags)==null?void 0:_[b])||!1,w},{}),v=Object.keys(((y=r.bootstrap)==null?void 0:y.featureFlagPayloads)||{}).filter(w=>m[w]).reduce((w,b)=>{var _,S;return(_=r.bootstrap)!=null&&(_=_.featureFlagPayloads)!=null&&_[b]&&(w[b]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[b]),w},{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:v})}if(c)this.register_once({distinct_id:ch,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id(tl());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(Fo,"anonymous")}return Zr(xe,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?cX(this,()=>this.Wr()):this.Wr(),ml(this.config._onCapture)&&this.config._onCapture!==rj&&(et.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",w=>this.config._onCapture(w.event,w))),this.config.ip&&et.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Br(t){var r=performance.now();this.historyAutocapture=new lX(this),this.historyAutocapture.startIfEnabled();var n=[];n.push(()=>{new pX(this).startIfEnabledOrStop()}),n.push(()=>{var a;this.siteApps=new cQ(this),(a=this.siteApps)==null||a.init()}),t||n.push(()=>{this.sessionRecording=new eO(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||n.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),n.push(()=>{this.autocapture=new YY(this),this.autocapture.startIfEnabled()}),n.push(()=>{this.surveys.loadIfEnabled()}),n.push(()=>{this.conversations.loadIfEnabled()}),n.push(()=>{this.productTours.loadIfEnabled()}),n.push(()=>{this.heatmaps=new TX(this),this.heatmaps.startIfEnabled()}),n.push(()=>{this.webVitalsAutocapture=new PX(this)}),n.push(()=>{this.exceptionObserver=new iX(this),this.exceptionObserver.startIfEnabled()}),n.push(()=>{this.deadClicksAutocapture=new YD(this,oX),this.deadClicksAutocapture.startIfEnabled()}),n.push(()=>{if(this.Gr){var a=this.Gr;this.Gr=void 0,this.ci(a)}}),this.Vr(n,r)}Vr(t,r){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&t.length>0)return void setTimeout(()=>{this.Vr(t,r)},0);var n=t.shift();if(n)try{n()}catch(s){et.error("Error initializing extension:",s)}}var a=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:a}),this.config.__preview_deferred_init_extensions&&et.info("PostHog extensions initialized ("+a+"ms)")}ci(t){var r,n,a,s,o,l,c,u;if(!Qe||!Qe.body)return et.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.ci(t)},500);this.config.__preview_deferred_init_extensions&&(this.Gr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Ut(t.supportedCompression,Wo.GZipJS)?Wo.GZipJS:Ut(t.supportedCompression,Wo.Base64)?Wo.Base64:void 0),(r=t.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.Or?this.Or:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(t),(a=this.sessionRecording)==null||a.onRemoteConfig(t),(s=this.autocapture)==null||s.onRemoteConfig(t),(o=this.heatmaps)==null||o.onRemoteConfig(t),this.surveys.onRemoteConfig(t),this.conversations.onRemoteConfig(t),this.productTours.onRemoteConfig(t),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(t),(c=this.exceptionObserver)==null||c.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(t)}Wr(){try{this.config.loaded(this)}catch(t){et.critical("`loaded` function failed",t)}this.Jr(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Kr()},1),new rQ(this).load(),this.featureFlags.flags()}Jr(){var t;this.is_capturing()&&this.config.request_batching&&((t=this.Ur)==null||t.enable())}_dom_loaded(){this.is_capturing()&&gl(this.__request_queue,t=>this.zr(t)),this.__request_queue=[],this.Jr()}_handle_unload(){var t,r;this.config.request_batching?(this.Yr()&&this.capture("$pageleave"),(t=this.Ur)==null||t.unload(),(r=this.Hr)==null||r.unload()):this.Yr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(t){this.__loaded&&(T6?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=Qv(t.url,{ip:this.config.ip?1:0}),t.headers=lt({},this.config.request_headers,t.headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=["sendBeacon"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(r=>{var n,a,s,o=lt({},r);o.timeout=o.timeout||6e4,o.url=Qv(o.url,{_:new Date().getTime().toString(),ver:Do.LIB_VERSION,compression:o.compression});var l=(n=o.transport)!==null&&n!==void 0?n:"fetch",c=ov.filter(d=>!o.disableTransport||!d.transport||!o.disableTransport.includes(d.transport)),u=(a=(s=TD(c,d=>d.transport===l))==null?void 0:s.method)!==null&&a!==void 0?a:c[0].method;if(!u)throw new Error("No available transport method");u(o)})(lt({},t,{callback:r=>{var n,a;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(a=this.config).on_request_error)==null||n.call(a,r)),t.callback==null||t.callback(r)}}))))}zr(t){this.Hr?this.Hr.retriableRequest(t):this._send_request(t)}_execute_array(t){var r,n=[],a=[],s=[];gl(t,l=>{l&&(r=l[0],tr(r)?s.push(l):ml(l)?l.call(this):tr(l)&&r==="alias"?n.push(l):tr(l)&&r.indexOf("capture")!==-1&&ml(this[r])?s.push(l):a.push(l))});var o=function(l,c){gl(l,function(u){if(tr(u[0])){var d=c;wr(u,function(f){d=d[f[0]].apply(d,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};o(n,this),o(a,this),o(s,this)}qr(){var t,r;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,r,n){var a;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ur){if(this.is_capturing())if(!Je(t)&&dn(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var o=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){r!=null&&r.$current_url&&!dn(r==null?void 0:r.$current_url)&&(et.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=(n==null?void 0:n.timestamp)||l,u=tl(),d={uuid:u,event:t,properties:this.calculateEventProperties(t,r||{},c,u)};t==="$pageview"&&this.config.__preview_capture_bot_pageviews&&s&&(d.event="$bot_pageview",d.properties.$browser_type="bot"),o&&(d.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),n!=null&&n.$set&&(d.$set=n==null?void 0:n.$set);var f,h=t!=="$groupidentify",g=this.Xr(n==null?void 0:n.$set_once,h);if(g&&(d.$set_once=g),(d=$Y(d,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,Je(n==null?void 0:n.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=l),t===iv.DISMISSED||t===iv.SENT){var y=r==null?void 0:r[GT.SURVEY_ID],m=r==null?void 0:r[GT.SURVEY_ITERATION];f={id:y,current_iteration:m},localStorage.getItem(JT(f))||localStorage.setItem(JT(f),"true"),d.$set=lt({},d.$set,{[JX({id:y,current_iteration:m},t===iv.SENT?"responded":"dismissed")]:!0})}var v=lt({},d.properties.$set,d.$set);if(Gu(v)||this.setPersonPropertiesForFlags(v),!Qt(this.config.before_send)){var x=this.Qr(d);if(!x)return;d=x}this.Ir.emit("eventCaptured",d);var w={method:"POST",url:(a=n==null?void 0:n._url)!==null&&a!==void 0?a:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.zr(w):this.Ur.enqueue(w),d}et.critical("This capture call is ignored due to client rate limiting.")}}else et.error("No event name provided to posthog.capture")}else et.uninitializedWarning("posthog.capture")}Ni(t){return this.on("eventCaptured",r=>t(r.event,r))}calculateEventProperties(t,r,n,a,s){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var o=s?void 0:this.persistence.remove_event_timer(t),l=lt({},r);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),t==="$snapshot"){var c=lt({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!dn(l.distinct_id)&&!_o(l.distinct_id)||IS(l.distinct_id))&&et.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,d=CX(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(s,n.getTime());l.$session_id=f,l.$window_id=h}this.sessionPropsManager&&Vr(l,this.sessionPropsManager.getSessionProps());try{var g;this.sessionRecording&&Vr(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(g=this.Hr)==null?void 0:g.length}catch(x){l.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===Yh.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=t!=="$pageview"||s?t!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,a),l=Vr(l,u),t==="$pageview"&&Qe&&(l.title=Qe.title),!Je(o)){var y=n.getTime()-o;l.$duration=parseFloat((y/1e3).toFixed(3))}ma&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=Vr({},d,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),tr(this.config.property_denylist)?wr(this.config.property_denylist,function(x){delete l[x]}):et.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var m=this.config.sanitize_properties;m&&(et.error("sanitize_properties is deprecated. Use before_send instead"),l=m(l,t));var v=this.Zr();return l.$process_person_profile=v,v&&!s&&this.ts("_calculate_event_properties"),l}Xr(t,r){var n;if(r===void 0&&(r=!0),!this.persistence||!this.Zr()||this.Rr)return t;var a=this.persistence.get_initial_props(),s=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),o=Vr({},a,s||{},t||{}),l=this.config.sanitize_properties;return l&&(et.error("sanitize_properties is deprecated. Use before_send instead"),o=l(o,"$set_once")),r&&(this.Rr=!0),Gu(o)?void 0:o}register(t,r){var n;(n=this.persistence)==null||n.register(t,r)}register_once(t,r,n){var a;(a=this.persistence)==null||a.register_once(t,r,n)}register_for_session(t){var r;(r=this.sessionPersistence)==null||r.register(t)}unregister(t){var r;(r=this.persistence)==null||r.unregister(t)}unregister_for_session(t){var r;(r=this.sessionPersistence)==null||r.unregister(t)}es(t,r){this.register({[t]:r})}getFeatureFlag(t,r){return this.featureFlags.getFeatureFlag(t,r)}getFeatureFlagPayload(t){var r=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(t,r){return this.featureFlags.isFeatureEnabled(t,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,r,n)}getEarlyAccessFeatures(t,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(t,r,n)}on(t,r){return this.Ir.on(t,r)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(t))!==null&&r!==void 0?r:()=>{}}getSurveys(t,r){r===void 0&&(r=!1),this.surveys.getSurveys(t,r)}getActiveMatchingSurveys(t,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(t,r)}renderSurvey(t,r){this.surveys.renderSurvey(t,r)}displaySurvey(t,r){r===void 0&&(r=XX),this.surveys.displaySurvey(t,r)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(t,r)}identify(t,r,n){if(!this.__loaded||!this.persistence)return et.uninitializedWarning("posthog.identify");if(_o(t)&&(t=t.toString(),et.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t)if(["distinct_id","distinctid"].includes(t.toLowerCase()))et.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==ch){if(this.ts("posthog.identify")){var a=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var s=a;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}t!==a&&t!==this.get_property(Wh)&&(this.unregister(Wh),this.register({distinct_id:t}));var o=(this.persistence.get_property(Fo)||"anonymous")==="anonymous";t!==a&&o?(this.persistence.set_property(Fo,"identified"),this.setPersonPropertiesForFlags(lt({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:a},{$set:r||{},$set_once:n||{}}),this.Ar=qT(t,r,n),this.featureFlags.setAnonymousDistinctId(a)):(r||n)&&this.setPersonProperties(r,n),t!==a&&(this.reloadFeatureFlags(),this.unregister(zv))}}else et.critical('The string "'+ch+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else et.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,r){if((t||r)&&this.ts("posthog.setPersonProperties")){var n=qT(this.get_distinct_id(),t,r);this.Ar!==n?(this.setPersonPropertiesForFlags(lt({},r||{},t||{})),this.capture("$set",{$set:t||{},$set_once:r||{}}),this.Ar=n):et.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,r,n){if(t&&r){var a=this.getGroups();a[t]!==r&&this.resetGroupPropertiesForFlags(t),this.register({$groups:lt({},a,{[t]:r})}),n&&(this.capture("$groupidentify",{$group_type:t,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[t]:n})),a[t]===r||n||this.reloadFeatureFlags()}else et.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(t,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,r){r===void 0&&(r=!0),this.ts("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,r)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var r,n,a,s;if(et.info("reset"),!this.__loaded)return et.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),this.featureFlags.reset(),(a=this.persistence)==null||a.set_property(Fo,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Ar=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:ch,$device_id:null},"");else{var l=this.config.get_device_id(tl());this.register_once({distinct_id:l,$device_id:t?l:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),a=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(t!=null&&t.withTimestamp&&n){var s,o=(s=t.timestampLookBack)!==null&&s!==void 0?s:10;if(!n)return a;a+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-o,0)}return a}alias(t,r){return t===this.get_property(OD)?(et.critical("Attempting to create alias for existing People user - aborting."),-2):this.ts("posthog.alias")?(Je(r)&&(r=this.get_distinct_id()),t!==r?(this.es(Wh,t),this.capture("$create_alias",{alias:t,distinct_id:r})):(et.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var r=lt({},this.config);if(xn(t)){var n,a,s,o,l;Vr(this.config,rO(t));var c=this.Nr();(n=this.persistence)==null||n.update_config(this.config,r,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new g1(lt({},this.config,{persistence:"sessionStorage"}),c);var u=this.Dr(this.config.debug);Zo(u)&&(this.config.debug=u),Zo(this.config.debug)&&(this.config.debug?(Do.DEBUG=!0,Ir.H()&&Ir.G("ph_debug","true"),et.info("set_config",{config:t,oldConfig:r,newConfig:lt({},this.config)})):(Do.DEBUG=!1,Ir.H()&&Ir.V("ph_debug"))),(a=this.sessionRecording)==null||a.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.rs(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(t){var r=t===!0,n={sampling:r||!(t==null||!t.sampling),linked_flag:r||!(t==null||!t.linked_flag),url_trigger:r||!(t==null||!t.url_trigger),event_trigger:r||!(t==null||!t.event_trigger)};if(Object.values(n).some(Boolean)){var a,s,o,l,c;(a=this.sessionManager)==null||a.checkAndGetSessionAndWindowId(),n.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),n.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),n.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),n.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,r){var n=new Error("PostHog syntheticException"),a=this.exceptions.buildProperties(t,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(lt({},a,r))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var r;return(r=this.persistence)==null?void 0:r.props[t]}getSessionProperty(t){var r;return(r=this.sessionPersistence)==null?void 0:r.props[t]}toString(){var t,r=(t=this.config.name)!==null&&t!==void 0?t:$u;return r!==$u&&(r=$u+"."+r),r}_isIdentified(){var t,r;return((t=this.persistence)==null?void 0:t.get_property(Fo))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(Fo))==="identified"}Zr(){var t,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Gu(this.getGroups())&&((t=this.persistence)==null||(t=t.props)==null||!t[Wh])&&((r=this.persistence)==null||(r=r.props)==null||!r[Wv]))}Yr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Zr()||this.ts("posthog.createPersonProfile")&&this.setPersonProperties({},{})}ts(t){return this.config.person_profiles==="never"?(et.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.es(Wv,!0),!0)}Nr(){if(this.config.cookieless_mode==="always")return!0;var t=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||t&&!!r}rs(){var t,r,n,a,s=this.Nr();return((t=this.persistence)==null?void 0:t.bi)!==s&&((n=this.persistence)==null||n.set_disabled(s)),((r=this.sessionPersistence)==null?void 0:r.bi)!==s&&((a=this.sessionPersistence)==null||a.set_disabled(s)),s}opt_in_capturing(t){var r;if(this.config.cookieless_mode!=="always"){var n,a;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=new QT(this),this.persistence&&(this.sessionPropsManager=new XT(this,this.sessionManager,this.persistence)),this.sessionRecording=new eO(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.rs(),this.Jr(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(Je(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((a=t==null?void 0:t.captureEventName)!==null&&a!==void 0?a:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Kr()}else et.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var t,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.rs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:ch,$device_id:null}),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.Kr())):et.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===Bo.GRANTED?"granted":t===Bo.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.rs()}_is_bot(){return Fa?A6(Fa,this.config.custom_blocked_useragents):void 0}Kr(){Qe&&(Qe.visibilityState==="visible"?this.Fr||(this.Fr=!0,this.capture("$pageview",{title:Qe.title},{send_instantly:!0}),this.Mr&&(Qe.removeEventListener("visibilitychange",this.Mr),this.Mr=null)):this.Mr||(this.Mr=this.Kr.bind(this),Zr(Qe,"visibilitychange",this.Mr)))}debug(t){t===!1?(xe==null||xe.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(xe==null||xe.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var t,r,n,a,s,o,l,c=this.jr||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(et.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",a=!1,s=et,o=(r="advanced_disable_flags")in(t=c)&&!Je(t[r]),l=n in t&&!Je(t[n]),o?t[r]:l?(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),t[n]):a)}Qr(t){if(Qt(this.config.before_send))return t;var r=tr(this.config.before_send)?this.config.before_send:[this.config.before_send],n=t;for(var a of r){if(n=a(n),Qt(n)){var s="Event '"+t.event+"' was rejected in beforeSend function";return oY(t.event)?et.warn(s+". This can cause unexpected behavior."):et.info(s),null}n.properties&&!Gu(n.properties)||et.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var t;return(t=this.pageViewManager.Vt)==null?void 0:t.pageViewId}captureTraceFeedback(t,r){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:r})}captureTraceMetric(t,r,n){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:r,$ai_metric_value:String(n)})}Dr(t){var r=Zo(t)&&!t,n=Ir.H()&&Ir.q("ph_debug")==="true";return!r&&(!!n||t)}}(function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=OY(e.prototype[t[r]])})(Bx,["identify"]);var nO,Ru=(nO=hp[$u]=new Bx,function(){function e(){e.done||(e.done=!0,T6=!1,wr(hp,function(t){t._dom_loaded()}))}Qe!=null&&Qe.addEventListener?Qe.readyState==="complete"?e():Zr(Qe,"DOMContentLoaded",e,{capture:!1}):xe&&et.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),nO),O6=p.createContext({client:Ru,bootstrap:void 0});function $6(e,t,r){if(r===void 0&&(r=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(r.has(e)&&r.get(e)===t)return!0;r.set(e,t);var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var s=0,o=n;s<o.length;s++){var l=o[s];if(!a.includes(l)||!$6(e[l],t[l],r))return!1}return!0}function gQ(e){var t,r,n=e.children,a=e.client,s=e.apiKey,o=e.options,l=p.useRef(null),c=p.useMemo(function(){return a?(s&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),o&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),a):(s||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),Ru)},[a,s,JSON.stringify(o)]);return p.useEffect(function(){if(!a){var u=l.current;u?(s!==u.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),o&&!$6(o,u.options)&&Ru.set_config(o),l.current={apiKey:s,options:o??{}}):(Ru.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),Ru.init(s,o),l.current={apiKey:s,options:o??{}})}},[a,s,JSON.stringify(o)]),$.createElement(O6.Provider,{value:{client:c,bootstrap:(t=o==null?void 0:o.bootstrap)!==null&&t!==void 0?t:(r=a==null?void 0:a.config)===null||r===void 0?void 0:r.bootstrap}},n)}var b1=function(e){return typeof e=="function"},nj=function(e,t){return nj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},nj(e,t)};function yQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var vQ={componentStack:null,exceptionEvent:null,error:null},xQ={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){yQ(t,e);function t(r){var n=e.call(this,r)||this;return n.state=vQ,n}return t.prototype.componentDidCatch=function(r,n){var a=this.props.additionalProperties,s;b1(a)?s=a(r):typeof a=="object"&&(s=a);var o=this.context.client,l=o.captureException(r,s),c=n.componentStack;this.setState({error:r,componentStack:c??null,exceptionEvent:l})},t.prototype.render=function(){var r=this.props,n=r.children,a=r.fallback,s=this.state;if(s.componentStack==null)return b1(n)?n():n;var o=b1(a)?$.createElement(a,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):a;return $.isValidElement(o)?o:(console.warn(xQ.INVALID_FALLBACK),$.createElement($.Fragment,null))},t.contextType=O6,t})($.Component);var bQ=e=>{switch(e){case"success":return SQ;case"info":return kQ;case"warning":return jQ;case"error":return EQ;default:return null}},wQ=Array(12).fill(0),_Q=({visible:e})=>$.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},$.createElement("div",{className:"sonner-spinner"},wQ.map((t,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),SQ=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jQ=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kQ=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EQ=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),NQ=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},aj=1,CQ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:aj++,s=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async s=>{if(AQ(s)&&!s.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(s):t.success,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async s=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(s):t.error,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var s;a&&(this.dismiss(r),r=void 0),(s=t.finally)==null||s.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||aj++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Oa=new CQ,PQ=(e,t)=>{let r=(t==null?void 0:t.id)||aj++;return Oa.addToast({title:e,...t,id:r}),r},AQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",TQ=PQ,OQ=()=>Oa.toasts,ue=Object.assign(TQ,{success:Oa.success,info:Oa.info,warning:Oa.warning,error:Oa.error,custom:Oa.custom,message:Oa.message,promise:Oa.promise,dismiss:Oa.dismiss,loading:Oa.loading},{getHistory:OQ});function $Q(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}$Q(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ny(e){return e.label!==void 0}var RQ=3,IQ="32px",MQ=4e3,LQ=356,DQ=14,FQ=20,BQ=200;function UQ(...e){return e.filter(Boolean).join(" ")}var zQ=e=>{var t,r,n,a,s,o,l,c,u,d;let{invert:f,toast:h,unstyled:g,interacting:y,setHeights:m,visibleToasts:v,heights:x,index:w,toasts:b,expanded:_,removeToast:S,defaultRichColors:E,closeButton:j,style:k,cancelButtonStyle:N,actionButtonStyle:P,className:A="",descriptionClassName:R="",duration:U,position:z,gap:F,loadingIcon:D,expandByDefault:q,classNames:T,icons:L,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:M,cn:G}=e,[V,Z]=$.useState(!1),[ie,H]=$.useState(!1),[W,X]=$.useState(!1),[B,Q]=$.useState(!1),[se,J]=$.useState(0),[le,ce]=$.useState(0),ge=$.useRef(null),he=$.useRef(null),je=w===0,Ke=w+1<=v,Xe=h.type,gt=h.dismissible!==!1,I=h.className||"",Y=h.descriptionClassName||"",we=$.useMemo(()=>x.findIndex(_e=>_e.toastId===h.id)||0,[x,h.id]),Ae=$.useMemo(()=>{var _e;return(_e=h.closeButton)!=null?_e:j},[h.closeButton,j]),Ue=$.useMemo(()=>h.duration||U||MQ,[h.duration,U]),We=$.useRef(0),Ye=$.useRef(0),He=$.useRef(0),ye=$.useRef(null),[Ce,Ee]=z.split("-"),Oe=$.useMemo(()=>x.reduce((_e,De,Re)=>Re>=we?_e:_e+De.height,0),[x,we]),tt=NQ(),st=h.invert||f,bt=Xe==="loading";Ye.current=$.useMemo(()=>we*F+Oe,[we,Oe]),$.useEffect(()=>{Z(!0)},[]),$.useLayoutEffect(()=>{if(!V)return;let _e=he.current,De=_e.style.height;_e.style.height="auto";let Re=_e.getBoundingClientRect().height;_e.style.height=De,ce(Re),m(ze=>ze.find(re=>re.toastId===h.id)?ze.map(re=>re.toastId===h.id?{...re,height:Re}:re):[{toastId:h.id,height:Re,position:h.position},...ze])},[V,h.title,h.description,m,h.id]);let at=$.useCallback(()=>{H(!0),J(Ye.current),m(_e=>_e.filter(De=>De.toastId!==h.id)),setTimeout(()=>{S(h)},BQ)},[h,S,m,Ye]);$.useEffect(()=>{if(h.promise&&Xe==="loading"||h.duration===1/0||h.type==="loading")return;let _e,De=Ue;return _||y||M&&tt?(()=>{if(He.current<We.current){let Re=new Date().getTime()-We.current;De=De-Re}He.current=new Date().getTime()})():De!==1/0&&(We.current=new Date().getTime(),_e=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),at()},De)),()=>clearTimeout(_e)},[_,y,q,h,Ue,at,h.promise,Xe,M,tt]),$.useEffect(()=>{let _e=he.current;if(_e){let De=_e.getBoundingClientRect().height;return ce(De),m(Re=>[{toastId:h.id,height:De,position:h.position},...Re]),()=>m(Re=>Re.filter(ze=>ze.toastId!==h.id))}},[m,h.id]),$.useEffect(()=>{h.delete&&at()},[at,h.delete]);function Nt(){return L!=null&&L.loading?$.createElement("div",{className:"sonner-loader","data-visible":Xe==="loading"},L.loading):D?$.createElement("div",{className:"sonner-loader","data-visible":Xe==="loading"},D):$.createElement(_Q,{visible:Xe==="loading"})}return $.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:he,className:G(A,I,T==null?void 0:T.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Xe],(r=h==null?void 0:h.classNames)==null?void 0:r[Xe]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":V,"data-promise":!!h.promise,"data-removed":ie,"data-visible":Ke,"data-y-position":Ce,"data-x-position":Ee,"data-index":w,"data-front":je,"data-swiping":W,"data-dismissible":gt,"data-type":Xe,"data-invert":st,"data-swipe-out":B,"data-expanded":!!(_||q&&V),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${ie?se:Ye.current}px`,"--initial-height":q?"auto":`${le}px`,...k,...h.style},onPointerDown:_e=>{bt||!gt||(ge.current=new Date,J(Ye.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(X(!0),ye.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,De,Re,ze;if(B||!gt)return;ye.current=null;let re=Number(((_e=he.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),K=new Date().getTime()-((De=ge.current)==null?void 0:De.getTime()),C=Math.abs(re)/K;if(Math.abs(re)>=FQ||C>.11){J(Ye.current),(Re=h.onDismiss)==null||Re.call(h,h),at(),Q(!0);return}(ze=he.current)==null||ze.style.setProperty("--swipe-amount","0px"),X(!1)},onPointerMove:_e=>{var De;if(!ye.current||!gt)return;let Re=_e.clientY-ye.current.y,ze=_e.clientX-ye.current.x,re=(Ce==="top"?Math.min:Math.max)(0,Re),K=_e.pointerType==="touch"?10:2;Math.abs(re)>K?(De=he.current)==null||De.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(ze)>K&&(ye.current=null)}},Ae&&!h.jsx?$.createElement("button",{"aria-label":ee,"data-disabled":bt,"data-close-button":!0,onClick:bt||!gt?()=>{}:()=>{var _e;at(),(_e=h.onDismiss)==null||_e.call(h,h)},className:G(T==null?void 0:T.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||$.isValidElement(h.title)?h.jsx||h.title:$.createElement($.Fragment,null,Xe||h.icon||h.promise?$.createElement("div",{"data-icon":"",className:G(T==null?void 0:T.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Nt():null,h.type!=="loading"?h.icon||(L==null?void 0:L[Xe])||bQ(Xe):null):null,$.createElement("div",{"data-content":"",className:G(T==null?void 0:T.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:G(T==null?void 0:T.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?$.createElement("div",{"data-description":"",className:G(R,Y,T==null?void 0:T.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),$.isValidElement(h.cancel)?h.cancel:h.cancel&&ny(h.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:_e=>{var De,Re;ny(h.cancel)&&gt&&((Re=(De=h.cancel).onClick)==null||Re.call(De,_e),at())},className:G(T==null?void 0:T.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,$.isValidElement(h.action)?h.action:h.action&&ny(h.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:_e=>{var De,Re;ny(h.action)&&(_e.defaultPrevented||((Re=(De=h.action).onClick)==null||Re.call(De,_e),at()))},className:G(T==null?void 0:T.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function aO(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var qQ=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=RQ,toastOptions:g,dir:y=aO(),gap:m=DQ,loadingIcon:v,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:_=UQ}=e,[S,E]=$.useState([]),j=$.useMemo(()=>Array.from(new Set([r].concat(S.filter(M=>M.position).map(M=>M.position)))),[S,r]),[k,N]=$.useState([]),[P,A]=$.useState(!1),[R,U]=$.useState(!1),[z,F]=$.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=$.useRef(null),q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=$.useRef(null),L=$.useRef(!1),ee=$.useCallback(M=>{var G;(G=S.find(V=>V.id===M.id))!=null&&G.delete||Oa.dismiss(M.id),E(V=>V.filter(({id:Z})=>Z!==M.id))},[S]);return $.useEffect(()=>Oa.subscribe(M=>{if(M.dismiss){E(G=>G.map(V=>V.id===M.id?{...V,delete:!0}:V));return}setTimeout(()=>{tg.flushSync(()=>{E(G=>{let V=G.findIndex(Z=>Z.id===M.id);return V!==-1?[...G.slice(0,V),{...G[V],...M},...G.slice(V+1)]:[M,...G]})})})}),[]),$.useEffect(()=>{if(c!=="system"){F(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:M})=>{F(M?"dark":"light")})},[c]),$.useEffect(()=>{S.length<=1&&A(!1)},[S]),$.useEffect(()=>{let M=G=>{var V,Z;n.every(ie=>G[ie]||G.code===ie)&&(A(!0),(V=D.current)==null||V.focus()),G.code==="Escape"&&(document.activeElement===D.current||(Z=D.current)!=null&&Z.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[n]),$.useEffect(()=>{if(D.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,L.current=!1)}},[D.current]),S.length?$.createElement("section",{"aria-label":`${w} ${q}`,tabIndex:-1},j.map((M,G)=>{var V;let[Z,ie]=M.split("-");return $.createElement("ol",{key:M,dir:y==="auto"?aO():y,tabIndex:-1,ref:D,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Z,"data-x-position":ie,style:{"--front-toast-height":`${((V=k[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||IQ,"--width":`${LQ}px`,"--gap":`${m}px`,...f},onBlur:H=>{L.current&&!H.currentTarget.contains(H.relatedTarget)&&(L.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||L.current||(L.current=!0,T.current=H.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{R||A(!1)},onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},S.filter(H=>!H.position&&G===0||H.position===M).map((H,W)=>{var X,B;return $.createElement(zQ,{key:H.id,icons:x,index:W,toast:H,defaultRichColors:u,duration:(X=g==null?void 0:g.duration)!=null?X:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(B=g==null?void 0:g.closeButton)!=null?B:s,interacting:R,position:M,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ee,toasts:S.filter(Q=>Q.position==H.position),heights:k.filter(Q=>Q.position==H.position),setHeights:N,expandByDefault:a,gap:m,loadingIcon:v,expanded:P,pauseWhenPageIsHidden:b,cn:_})}))})):null};const WQ=({...e})=>{const{theme:t="light"}=$l();return i.jsx(qQ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:rounded-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-md",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground group-[.toast]:rounded-md"}},...e})};function Le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function HQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ux(...e){return t=>e.forEach(r=>HQ(r,t))}function xt(...e){return p.useCallback(Ux(...e),e)}function VQ(e,t){const r=p.createContext(t),n=s=>{const{children:o,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Ka(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:g,...y}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:v,children:g})};u.displayName=s+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,KQ(a,...t)]}function KQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var jl=p.forwardRef((e,t)=>{const{children:r,...n}=e,a=p.Children.toArray(r),s=a.find(GQ);if(s){const o=s.props.children,l=a.map(c=>c===s?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return i.jsx(sj,{...n,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return i.jsx(sj,{...n,ref:t,children:r})});jl.displayName="Slot";var sj=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const a=YQ(r);return p.cloneElement(r,{...JQ(n,r.props),ref:t?Ux(t,a):a})}return p.Children.count(r)>1?p.Children.only(null):null});sj.displayName="SlotClone";var rN=({children:e})=>i.jsx(i.Fragment,{children:e});function GQ(e){return p.isValidElement(e)&&e.type===rN}function JQ(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function YQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var XQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=XQ.reduce((e,t)=>{const r=p.forwardRef((n,a)=>{const{asChild:s,...o}=n,l=s?jl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sg(e,t){e&&ru.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function QQ(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ZQ="DismissableLayer",oj="dismissableLayer.update",eZ="dismissableLayer.pointerDownOutside",tZ="dismissableLayer.focusOutside",sO,R6=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),I6=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(R6),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=xt(t,j=>f(j)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=aZ(j=>{const k=j.target,N=[...u.branches].some(P=>P.contains(k));!_||N||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),E=sZ(j=>{const k=j.target;[...u.branches].some(P=>P.contains(k))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return QQ(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),oO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sO)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),oO())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(oj,j),()=>document.removeEventListener(oj,j)},[]),i.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});I6.displayName=ZQ;var rZ="DismissableLayerBranch",nZ=p.forwardRef((e,t)=>{const r=p.useContext(R6),n=p.useRef(null),a=xt(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(nt.div,{...e,ref:a})});nZ.displayName=rZ;function aZ(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){M6(eZ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function sZ(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&M6(tZ,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function oO(){const e=new CustomEvent(oj);document.dispatchEvent(e)}function M6(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sg(a,s):a.dispatchEvent(s)}var Jr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},oZ=bf.useId||(()=>{}),iZ=0;function Fs(e){const[t,r]=p.useState(oZ());return Jr(()=>{r(n=>n??String(iZ++))},[e]),t?`radix-${t}`:""}const lZ=["top","right","bottom","left"],kl=Math.min,Ia=Math.max,e0=Math.round,ay=Math.floor,xo=e=>({x:e,y:e}),cZ={left:"right",right:"left",bottom:"top",top:"bottom"},uZ={start:"end",end:"start"};function ij(e,t,r){return Ia(e,kl(t,r))}function li(e,t){return typeof e=="function"?e(t):e}function ci(e){return e.split("-")[0]}function kf(e){return e.split("-")[1]}function nN(e){return e==="x"?"y":"x"}function aN(e){return e==="y"?"height":"width"}const dZ=new Set(["top","bottom"]);function po(e){return dZ.has(ci(e))?"y":"x"}function sN(e){return nN(po(e))}function fZ(e,t,r){r===void 0&&(r=!1);const n=kf(e),a=sN(e),s=aN(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=t0(o)),[o,t0(o)]}function hZ(e){const t=t0(e);return[lj(e),t,lj(t)]}function lj(e){return e.replace(/start|end/g,t=>uZ[t])}const iO=["left","right"],lO=["right","left"],pZ=["top","bottom"],mZ=["bottom","top"];function gZ(e,t,r){switch(e){case"top":case"bottom":return r?t?lO:iO:t?iO:lO;case"left":case"right":return t?pZ:mZ;default:return[]}}function yZ(e,t,r,n){const a=kf(e);let s=gZ(ci(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(lj)))),s}function t0(e){return e.replace(/left|right|bottom|top/g,t=>cZ[t])}function vZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function L6(e){return typeof e!="number"?vZ(e):{top:e,right:e,bottom:e,left:e}}function r0(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function cO(e,t,r){let{reference:n,floating:a}=e;const s=po(t),o=sN(t),l=aN(o),c=ci(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-a.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-a.width,y:f};break;default:g={x:n.x,y:n.y}}switch(kf(t)){case"start":g[o]-=h*(r&&u?-1:1);break;case"end":g[o]+=h*(r&&u?-1:1);break}return g}const xZ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=cO(u,n,c),h=n,g={},y=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:w,y:b,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,f=b??f,g={...g,[v]:{...g[v],..._}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=cO(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:g}};async function Yp(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=li(t,e),y=L6(g),v=l[h?f==="floating"?"reference":"floating":f],x=r0(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=r0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-S.top+y.top)/_.y,bottom:(S.bottom-x.bottom+y.bottom)/_.y,left:(x.left-S.left+y.left)/_.x,right:(S.right-x.right+y.right)/_.x}}const bZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=li(e,t)||{};if(u==null)return{};const f=L6(d),h={x:r,y:n},g=sN(a),y=aN(g),m=await o.getDimensions(u),v=g==="y",x=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=s.reference[y]+s.reference[g]-h[g]-s.floating[y],S=h[g]-s.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=E?E[b]:0;(!j||!await(o.isElement==null?void 0:o.isElement(E)))&&(j=l.floating[b]||s.floating[y]);const k=_/2-S/2,N=j/2-m[y]/2-1,P=kl(f[x],N),A=kl(f[w],N),R=P,U=j-m[y]-A,z=j/2-m[y]/2+k,F=ij(R,z,U),D=!c.arrow&&kf(a)!=null&&z!==F&&s.reference[y]/2-(z<R?P:A)-m[y]/2<0,q=D?z<R?z-R:z-U:0;return{[g]:h[g]+q,data:{[g]:F,centerOffset:z-F-q,...D&&{alignmentOffset:q}},reset:D}}}),wZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...v}=li(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=ci(a),w=po(l),b=ci(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!m?[t0(l)]:hZ(l)),E=y!=="none";!h&&E&&S.push(...yZ(l,m,y,_));const j=[l,...S],k=await Yp(t,v),N=[];let P=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&N.push(k[x]),f){const z=fZ(a,o,_);N.push(k[z[0]],k[z[1]])}if(P=[...P,{placement:a,overflows:N}],!N.every(z=>z<=0)){var A,R;const z=(((A=s.flip)==null?void 0:A.index)||0)+1,F=j[z];if(F&&(!(f==="alignment"?w!==po(F):!1)||P.every(T=>po(T.placement)===w?T.overflows[0]>0:!0)))return{data:{index:z,overflows:P},reset:{placement:F}};let D=(R=P.filter(q=>q.overflows[0]<=0).sort((q,T)=>q.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!D)switch(g){case"bestFit":{var U;const q=(U=P.filter(T=>{if(E){const L=po(T.placement);return L===w||L==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(L=>L>0).reduce((L,ee)=>L+ee,0)]).sort((T,L)=>T[1]-L[1])[0])==null?void 0:U[0];q&&(D=q);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function uO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dO(e){return lZ.some(t=>e[t]>=0)}const _Z=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=li(e,t);switch(n){case"referenceHidden":{const s=await Yp(t,{...a,elementContext:"reference"}),o=uO(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dO(o)}}}case"escaped":{const s=await Yp(t,{...a,altBoundary:!0}),o=uO(s,r.floating);return{data:{escapedOffsets:o,escaped:dO(o)}}}default:return{}}}}},D6=new Set(["left","top"]);async function SZ(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ci(r),l=kf(r),c=po(r)==="y",u=D6.has(o)?-1:1,d=s&&c?-1:1,f=li(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const jZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await SZ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},kZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=li(e,t),u={x:r,y:n},d=await Yp(t,c),f=po(ci(a)),h=nN(f);let g=u[h],y=u[f];if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=g+d[v],b=g-d[x];g=ij(w,g,b)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=y+d[v],b=y-d[x];y=ij(w,y,b)}const m=l.fn({...t,[h]:g,[f]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:o}}}}}},EZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=li(e,t),d={x:r,y:n},f=po(a),h=nN(f);let g=d[h],y=d[f];const m=li(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=s.reference[h]-s.floating[b]+v.mainAxis,S=s.reference[h]+s.reference[b]-v.mainAxis;g<_?g=_:g>S&&(g=S)}if(u){var x,w;const b=h==="y"?"width":"height",_=D6.has(ci(a)),S=s.reference[f]-s.floating[b]+(_&&((x=o.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),E=s.reference[f]+s.reference[b]+(_?0:((w=o.offset)==null?void 0:w[f])||0)-(_?v.crossAxis:0);y<S?y=S:y>E&&(y=E)}return{[h]:g,[f]:y}}}},NZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=li(e,t),d=await Yp(t,u),f=ci(a),h=kf(a),g=po(a)==="y",{width:y,height:m}=s.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const w=m-d.top-d.bottom,b=y-d.left-d.right,_=kl(m-d[v],w),S=kl(y-d[x],b),E=!t.middlewareData.shift;let j=_,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=w),E&&!h){const P=Ia(d.left,0),A=Ia(d.right,0),R=Ia(d.top,0),U=Ia(d.bottom,0);g?k=y-2*(P!==0||A!==0?P+A:Ia(d.left,d.right)):j=m-2*(R!==0||U!==0?R+U:Ia(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:j});const N=await o.getDimensions(l.floating);return y!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function zx(){return typeof window<"u"}function Ef(e){return F6(e)?(e.nodeName||"").toLowerCase():"#document"}function za(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function No(e){var t;return(t=(F6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F6(e){return zx()?e instanceof Node||e instanceof za(e).Node:!1}function qs(e){return zx()?e instanceof Element||e instanceof za(e).Element:!1}function So(e){return zx()?e instanceof HTMLElement||e instanceof za(e).HTMLElement:!1}function fO(e){return!zx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof za(e).ShadowRoot}const CZ=new Set(["inline","contents"]);function og(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!CZ.has(a)}const PZ=new Set(["table","td","th"]);function AZ(e){return PZ.has(Ef(e))}const TZ=[":popover-open",":modal"];function qx(e){return TZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const OZ=["transform","translate","scale","rotate","perspective"],$Z=["transform","translate","scale","rotate","perspective","filter"],RZ=["paint","layout","strict","content"];function oN(e){const t=iN(),r=qs(e)?Ws(e):e;return OZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$Z.some(n=>(r.willChange||"").includes(n))||RZ.some(n=>(r.contain||"").includes(n))}function IZ(e){let t=El(e);for(;So(t)&&!zd(t);){if(oN(t))return t;if(qx(t))return null;t=El(t)}return null}function iN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MZ=new Set(["html","body","#document"]);function zd(e){return MZ.has(Ef(e))}function Ws(e){return za(e).getComputedStyle(e)}function Wx(e){return qs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function El(e){if(Ef(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fO(e)&&e.host||No(e);return fO(t)?t.host:t}function B6(e){const t=El(e);return zd(t)?e.ownerDocument?e.ownerDocument.body:e.body:So(t)&&og(t)?t:B6(t)}function Xp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=B6(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=za(a);if(s){const l=cj(o);return t.concat(o,o.visualViewport||[],og(a)?a:[],l&&r?Xp(l):[])}return t.concat(a,Xp(a,[],r))}function cj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U6(e){const t=Ws(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=So(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=e0(r)!==s||e0(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function lN(e){return qs(e)?e:e.contextElement}function id(e){const t=lN(e);if(!So(t))return xo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=U6(t);let o=(s?e0(r.width):r.width)/n,l=(s?e0(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const LZ=xo(0);function z6(e){const t=za(e);return!iN()||!t.visualViewport?LZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==za(e)?!1:t}function Uc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=lN(e);let o=xo(1);t&&(n?qs(n)&&(o=id(n)):o=id(e));const l=DZ(s,r,n)?z6(s):xo(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=za(s),g=n&&qs(n)?za(n):n;let y=h,m=cj(y);for(;m&&n&&g!==y;){const v=id(m),x=m.getBoundingClientRect(),w=Ws(m),b=x.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=_,y=za(m),m=cj(y)}}return r0({width:d,height:f,x:c,y:u})}function Hx(e,t){const r=Wx(e).scrollLeft;return t?t.left+r:Uc(No(e)).left+r}function q6(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Hx(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function FZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=No(n),l=t?qx(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=xo(1);const d=xo(0),f=So(n);if((f||!f&&!s)&&((Ef(n)!=="body"||og(o))&&(c=Wx(n)),So(n))){const g=Uc(n);u=id(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=o&&!f&&!s?q6(o,c):xo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function BZ(e){return Array.from(e.getClientRects())}function UZ(e){const t=No(e),r=Wx(e),n=e.ownerDocument.body,a=Ia(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ia(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Hx(e);const l=-r.scrollTop;return Ws(n).direction==="rtl"&&(o+=Ia(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}const hO=25;function zZ(e,t){const r=za(e),n=No(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const d=iN();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Hx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(n.clientWidth-f.clientWidth-g);y<=hO&&(s-=y)}else u<=hO&&(s+=u);return{width:s,height:o,x:l,y:c}}const qZ=new Set(["absolute","fixed"]);function WZ(e,t){const r=Uc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=So(e)?id(e):xo(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function pO(e,t,r){let n;if(t==="viewport")n=zZ(e,r);else if(t==="document")n=UZ(No(e));else if(qs(t))n=WZ(t,r);else{const a=z6(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return r0(n)}function W6(e,t){const r=El(e);return r===t||!qs(r)||zd(r)?!1:Ws(r).position==="fixed"||W6(r,t)}function HZ(e,t){const r=t.get(e);if(r)return r;let n=Xp(e,[],!1).filter(l=>qs(l)&&Ef(l)!=="body"),a=null;const s=Ws(e).position==="fixed";let o=s?El(e):e;for(;qs(o)&&!zd(o);){const l=Ws(o),c=oN(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&qZ.has(a.position)||og(o)&&!c&&W6(e,o))?n=n.filter(d=>d!==o):a=l,o=El(o)}return t.set(e,n),n}function VZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?qx(t)?[]:HZ(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=pO(t,d,a);return u.top=Ia(f.top,u.top),u.right=kl(f.right,u.right),u.bottom=kl(f.bottom,u.bottom),u.left=Ia(f.left,u.left),u},pO(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KZ(e){const{width:t,height:r}=U6(e);return{width:t,height:r}}function GZ(e,t,r){const n=So(t),a=No(t),s=r==="fixed",o=Uc(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=xo(0);function u(){c.x=Hx(a)}if(n||!n&&!s)if((Ef(t)!=="body"||og(a))&&(l=Wx(t)),n){const g=Uc(t,!0,s,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?q6(a,l):xo(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function w1(e){return Ws(e).position==="static"}function mO(e,t){if(!So(e)||Ws(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return No(e)===r&&(r=r.ownerDocument.body),r}function H6(e,t){const r=za(e);if(qx(e))return r;if(!So(e)){let a=El(e);for(;a&&!zd(a);){if(qs(a)&&!w1(a))return a;a=El(a)}return r}let n=mO(e,t);for(;n&&AZ(n)&&w1(n);)n=mO(n,t);return n&&zd(n)&&w1(n)&&!oN(n)?r:n||IZ(e)||r}const JZ=async function(e){const t=this.getOffsetParent||H6,r=this.getDimensions,n=await r(e.floating);return{reference:GZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function YZ(e){return Ws(e).direction==="rtl"}const XZ={convertOffsetParentRelativeRectToViewportRelativeRect:FZ,getDocumentElement:No,getClippingRect:VZ,getOffsetParent:H6,getElementRects:JZ,getClientRects:BZ,getDimensions:KZ,getScale:id,isElement:qs,isRTL:YZ};function V6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QZ(e,t){let r=null,n;const a=No(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const y=ay(f),m=ay(a.clientWidth-(d+h)),v=ay(a.clientHeight-(f+g)),x=ay(d),b={rootMargin:-y+"px "+-m+"px "+-v+"px "+-x+"px",threshold:Ia(0,kl(1,c))||1};let _=!0;function S(E){const j=E[0].intersectionRatio;if(j!==c){if(!_)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!V6(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return o(!0),s}function ZZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=lN(e),d=a||s?[...u?Xp(u):[],...Xp(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?QZ(u,r):null;let h=-1,g=null;o&&(g=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let y,m=c?Uc(e):null;c&&v();function v(){const x=Uc(e);m&&!V6(m,x)&&r(),m=x,y=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(w=>{a&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const eee=jZ,tee=kZ,ree=wZ,nee=NZ,aee=_Z,gO=bZ,see=EZ,oee=(e,t,r)=>{const n=new Map,a={platform:XZ,...r},s={...a.platform,_c:n};return xZ(e,t,{...a,platform:s})};var iee=typeof document<"u",lee=function(){},lv=iee?p.useLayoutEffect:lee;function n0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!n0(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!n0(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function K6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yO(e,t){const r=K6(e);return Math.round(t*r)/r}function _1(e){const t=p.useRef(e);return lv(()=>{t.current=e}),t}function cee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=p.useState(n);n0(h,n)||g(n);const[y,m]=p.useState(null),[v,x]=p.useState(null),w=p.useCallback(T=>{T!==E.current&&(E.current=T,m(T))},[]),b=p.useCallback(T=>{T!==j.current&&(j.current=T,x(T))},[]),_=s||y,S=o||v,E=p.useRef(null),j=p.useRef(null),k=p.useRef(d),N=c!=null,P=_1(c),A=_1(a),R=_1(u),U=p.useCallback(()=>{if(!E.current||!j.current)return;const T={placement:t,strategy:r,middleware:h};A.current&&(T.platform=A.current),oee(E.current,j.current,T).then(L=>{const ee={...L,isPositioned:R.current!==!1};z.current&&!n0(k.current,ee)&&(k.current=ee,ru.flushSync(()=>{f(ee)}))})},[h,t,r,A,R]);lv(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const z=p.useRef(!1);lv(()=>(z.current=!0,()=>{z.current=!1}),[]),lv(()=>{if(_&&(E.current=_),S&&(j.current=S),_&&S){if(P.current)return P.current(_,S,U);U()}},[_,S,U,P,N]);const F=p.useMemo(()=>({reference:E,floating:j,setReference:w,setFloating:b}),[w,b]),D=p.useMemo(()=>({reference:_,floating:S}),[_,S]),q=p.useMemo(()=>{const T={position:r,left:0,top:0};if(!D.floating)return T;const L=yO(D.floating,d.x),ee=yO(D.floating,d.y);return l?{...T,transform:"translate("+L+"px, "+ee+"px)",...K6(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:ee}},[r,l,D.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:U,refs:F,elements:D,floatingStyles:q}),[d,U,F,D,q])}const uee=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gO({element:n.current,padding:a}).fn(r):{}:n?gO({element:n,padding:a}).fn(r):{}}}},dee=(e,t)=>({...eee(e),options:[e,t]}),fee=(e,t)=>({...tee(e),options:[e,t]}),hee=(e,t)=>({...see(e),options:[e,t]}),pee=(e,t)=>({...ree(e),options:[e,t]}),mee=(e,t)=>({...nee(e),options:[e,t]}),gee=(e,t)=>({...aee(e),options:[e,t]}),yee=(e,t)=>({...uee(e),options:[e,t]});var vee="Arrow",G6=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(nt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});G6.displayName=vee;var xee=G6;function bee(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,wee(a,...t)]}function wee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Vx(e){const[t,r]=p.useState(void 0);return Jr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var cN="Popper",[J6,Nf]=bee(cN),[_ee,Y6]=J6(cN),X6=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return i.jsx(_ee,{scope:t,anchor:n,onAnchorChange:a,children:r})};X6.displayName=cN;var Q6="PopperAnchor",Z6=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=Y6(Q6,r),o=p.useRef(null),l=xt(t,o);return p.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(nt.div,{...a,ref:l})});Z6.displayName=Q6;var uN="PopperContent",[See,jee]=J6(uN),eF=p.forwardRef((e,t)=>{var W,X,B,Q,se,J;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:y,...m}=e,v=Y6(uN,r),[x,w]=p.useState(null),b=xt(t,le=>w(le)),[_,S]=p.useState(null),E=Vx(_),j=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,N=n+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],R=A.length>0,U={padding:P,boundary:A.filter(Eee),altBoundary:R},{refs:z,floatingStyles:F,placement:D,isPositioned:q,middlewareData:T}=cee({strategy:"fixed",placement:N,whileElementsMounted:(...le)=>ZZ(...le,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[dee({mainAxis:a+k,alignmentAxis:o}),c&&fee({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hee():void 0,...U}),c&&pee({...U}),mee({...U,apply:({elements:le,rects:ce,availableWidth:ge,availableHeight:he})=>{const{width:je,height:Ke}=ce.reference,Xe=le.floating.style;Xe.setProperty("--radix-popper-available-width",`${ge}px`),Xe.setProperty("--radix-popper-available-height",`${he}px`),Xe.setProperty("--radix-popper-anchor-width",`${je}px`),Xe.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),_&&yee({element:_,padding:l}),Nee({arrowWidth:j,arrowHeight:k}),h&&gee({strategy:"referenceHidden",...U})]}),[L,ee]=nF(D),M=Jt(y);Jr(()=>{q&&(M==null||M())},[q,M]);const G=(W=T.arrow)==null?void 0:W.x,V=(X=T.arrow)==null?void 0:X.y,Z=((B=T.arrow)==null?void 0:B.centerOffset)!==0,[ie,H]=p.useState();return Jr(()=>{x&&H(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:q?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Q=T.transformOrigin)==null?void 0:Q.x,(se=T.transformOrigin)==null?void 0:se.y].join(" "),...((J=T.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(See,{scope:r,placedSide:L,onArrowChange:S,arrowX:G,arrowY:V,shouldHideArrow:Z,children:i.jsx(nt.div,{"data-side":L,"data-align":ee,...m,ref:b,style:{...m.style,animation:q?void 0:"none"}})})})});eF.displayName=uN;var tF="PopperArrow",kee={top:"bottom",right:"left",bottom:"top",left:"right"},rF=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=jee(tF,n),o=kee[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(xee,{...a,ref:r,style:{...a.style,display:"block"}})})});rF.displayName=tF;function Eee(e){return e!==null}var Nee=e=>({name:"transformOrigin",options:e,fn(t){var v,x,w;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=nF(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,g=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?f:`${h}px`,m=`${-c}px`):u==="top"?(y=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?f:`${g}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=o?f:`${g}px`),{data:{x:y,y:m}}}});function nF(e){const[t,r="center"]=e.split("-");return[t,r]}var aF=X6,dN=Z6,fN=eF,hN=rF;function Cee(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var ua=e=>{const{present:t,children:r}=e,n=Pee(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=xt(n.ref,Aee(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};ua.displayName="Presence";function Pee(e){const[t,r]=p.useState(),n=p.useRef({}),a=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Cee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=sy(n.current);s.current=l==="mounted"?u:"none"},[l]),Jr(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,g=sy(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=sy(n.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=g=>{g.target===t&&(s.current=sy(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function sy(e){return(e==null?void 0:e.animationName)||"none"}function Aee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Hs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Tee({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,l=Jt(r),c=p.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[o,c]}function Tee({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,a=p.useRef(n),s=Jt(t);return p.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var Oee="VisuallyHidden",pN=p.forwardRef((e,t)=>i.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));pN.displayName=Oee;var $ee=pN,[Kx,dFe]=Ka("Tooltip",[Nf]),mN=Nf(),sF="TooltipProvider",Ree=700,vO="tooltip.open",[Iee,oF]=Kx(sF),iF=e=>{const{__scopeTooltip:t,delayDuration:r=Ree,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,[o,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(Iee,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:s})};iF.displayName=sF;var lF="Tooltip",[fFe,Gx]=Kx(lF),uj="TooltipTrigger",Mee=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Gx(uj,r),s=oF(uj,r),o=mN(r),l=p.useRef(null),c=xt(t,l,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(dN,{asChild:!0,...o,children:i.jsx(nt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Le(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Le(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Le(e.onBlur,a.onClose),onClick:Le(e.onClick,a.onClose)})})});Mee.displayName=uj;var Lee="TooltipPortal",[hFe,Dee]=Kx(Lee,{forceMount:void 0}),qd="TooltipContent",cF=p.forwardRef((e,t)=>{const r=Dee(qd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,o=Gx(qd,e.__scopeTooltip);return i.jsx(ua,{present:n||o.open,children:o.disableHoverableContent?i.jsx(uF,{side:a,...s,ref:t}):i.jsx(Fee,{side:a,...s,ref:t})})}),Fee=p.forwardRef((e,t)=>{const r=Gx(qd,e.__scopeTooltip),n=oF(qd,e.__scopeTooltip),a=p.useRef(null),s=xt(t,a),[o,l]=p.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((y,m)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},w=qee(x,v.getBoundingClientRect()),b=Wee(x,w),_=Hee(m.getBoundingClientRect()),S=Kee([...b,..._]);l(S),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const y=v=>g(v,d),m=v=>g(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,g,h]),p.useEffect(()=>{if(o){const y=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!Vee(x,o);w?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),i.jsx(uF,{...e,ref:s})}),[Bee,Uee]=Kx(lF,{isInside:!1}),uF=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=Gx(qd,r),u=mN(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(vO,d),()=>document.removeEventListener(vO,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(I6,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(fN,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(rN,{children:n}),i.jsx(Bee,{scope:r,isInside:!0,children:i.jsx($ee,{id:c.contentId,role:"tooltip",children:a||n})})]})})});cF.displayName=qd;var dF="TooltipArrow",zee=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=mN(r);return Uee(dF,r).isInside?null:i.jsx(hN,{...a,...n,ref:t})});zee.displayName=dF;function qee(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Wee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Hee(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Vee(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function Kee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Gee(t)}function Gee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Jee=iF,fF=cF;function hF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=hF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Yt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=hF(e))&&(n&&(n+=" "),n+=t);return n}const gN="-",Yee=e=>{const t=Qee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(gN);return l[0]===""&&l.length!==1&&l.shift(),pF(l,t)||Xee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},pF=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?pF(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(gN);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},xO=/^\[(.+)\]$/,Xee=e=>{if(xO.test(e)){const t=xO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Qee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ete(Object.entries(e.classGroups),r).forEach(([s,o])=>{dj(o,n,s,t)}),n},dj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:bO(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Zee(a)){dj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{dj(o,bO(t,s),r,n)})})},bO=(e,t)=>{let r=e;return t.split(gN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Zee=e=>e.isThemeGetter,ete=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,tte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},mF="!",rte=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),g=h.startsWith(mF),y=g?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},nte=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ate=e=>({cache:tte(e.cacheSize),parseClassName:rte(e),...Yee(e)}),ste=/\s+/,ote=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(ste);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=r(u);let y=!!g,m=n(y?h.substring(0,g):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=nte(d).join(":"),x=f?v+mF:v,w=x+m;if(s.includes(w))continue;s.push(w);const b=a(m,y);for(let _=0;_<b.length;++_){const S=b[_];s.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function ite(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=gF(t))&&(n&&(n+=" "),n+=r);return n}const gF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=gF(e[n]))&&(r&&(r+=" "),r+=t);return r};function lte(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=ate(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=ote(c,r);return a(c,d),d}return function(){return s(ite.apply(null,arguments))}}const jr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yF=/^\[(?:([a-z-]+):)?(.+)\]$/i,cte=/^\d+\/\d+$/,ute=new Set(["px","full","screen"]),dte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=e=>ld(e)||ute.has(e)||cte.test(e),ki=e=>Cf(e,"length",Ste),ld=e=>!!e&&!Number.isNaN(Number(e)),S1=e=>Cf(e,"number",ld),xh=e=>!!e&&Number.isInteger(Number(e)),gte=e=>e.endsWith("%")&&ld(e.slice(0,-1)),It=e=>yF.test(e),Ei=e=>dte.test(e),yte=new Set(["length","size","percentage"]),vte=e=>Cf(e,yte,vF),xte=e=>Cf(e,"position",vF),bte=new Set(["image","url"]),wte=e=>Cf(e,bte,kte),_te=e=>Cf(e,"",jte),bh=()=>!0,Cf=(e,t,r)=>{const n=yF.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Ste=e=>fte.test(e)&&!hte.test(e),vF=()=>!1,jte=e=>pte.test(e),kte=e=>mte.test(e),Ete=()=>{const e=jr("colors"),t=jr("spacing"),r=jr("blur"),n=jr("brightness"),a=jr("borderColor"),s=jr("borderRadius"),o=jr("borderSpacing"),l=jr("borderWidth"),c=jr("contrast"),u=jr("grayscale"),d=jr("hueRotate"),f=jr("invert"),h=jr("gap"),g=jr("gradientColorStops"),y=jr("gradientColorStopPositions"),m=jr("inset"),v=jr("margin"),x=jr("opacity"),w=jr("padding"),b=jr("saturate"),_=jr("scale"),S=jr("sepia"),E=jr("skew"),j=jr("space"),k=jr("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",It,t],R=()=>[It,t],U=()=>["",$o,ki],z=()=>["auto",ld,It],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",It],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[ld,It];return{cacheSize:500,separator:":",theme:{colors:[bh],spacing:[$o,ki],blur:["none","",Ei,It],brightness:M(),borderColor:[e],borderRadius:["none","","full",Ei,It],borderSpacing:R(),borderWidth:U(),contrast:M(),grayscale:L(),hueRotate:M(),invert:L(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[gte,ki],inset:A(),margin:A(),opacity:M(),padding:R(),saturate:M(),scale:M(),sepia:L(),skew:M(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),It]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xh,It]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",xh,It]}],"grid-cols":[{"grid-cols":[bh]}],"col-start-end":[{col:["auto",{span:["full",xh,It]},It]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[bh]}],"row-start-end":[{row:["auto",{span:[xh,It]},It]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[Ei]},Ei]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ei,ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",S1]}],"font-family":[{font:[bh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",ld,S1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$o,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$o,ki]}],"underline-offset":[{"underline-offset":["auto",$o,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),xte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:D()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[$o,It]}],"outline-w":[{outline:[$o,ki]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[$o,ki]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ei,_te]}],"shadow-color":[{shadow:[bh]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ei,It]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[xh,It]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$o,ki,S1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nte=lte(Ete);function fe(...e){return Nte(Yt(e))}function pp(e){const t=String(e),n=parseInt(t,10).toString(16).padStart(8,"0").toLowerCase(),a=n.slice(0,8),s=n.slice(0,4),o="4"+n.slice(1,4),l="8"+n.slice(2,5),c=n+n+n+n;return`${a}-${s}-${o}-${l}-${c.slice(0,12)}`}const Cte=Jee,Pte=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(fF,{ref:n,sideOffset:t,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Pte.displayName=fF.displayName;var Pf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zc=typeof window>"u"||"Deno"in globalThis;function ts(){}function Ate(e,t){return typeof e=="function"?e(t):e}function fj(e){return typeof e=="number"&&e>=0&&e!==1/0}function xF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cd(e,t){return typeof e=="function"?e(t):e}function Os(e,t){return typeof e=="function"?e(t):e}function wO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yN(o,t.options))return!1}else if(!Qp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function _O(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(qc(t.options.mutationKey)!==qc(s))return!1}else if(!Qp(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function yN(e,t){return((t==null?void 0:t.queryKeyHashFn)||qc)(e)}function qc(e){return JSON.stringify(e,(t,r)=>hj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Qp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Qp(e[r],t[r])):!1}function bF(e,t){if(e===t)return e;const r=SO(e)&&SO(t);if(r||hj(e)&&hj(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=bF(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function a0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function SO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hj(e){if(!jO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jO(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tte(e){return new Promise(t=>{setTimeout(t,e)})}function pj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?bF(e,t):t}function Ote(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function $te(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var vN=Symbol();function wF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var pc,Wi,xd,t5,Rte=(t5=class extends Pf{constructor(){super();St(this,pc);St(this,Wi);St(this,xd);rt(this,xd,t=>{if(!zc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Wi)||this.setEventListener(te(this,xd))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Wi))==null||t.call(this),rt(this,Wi,void 0))}setEventListener(t){var r;rt(this,xd,t),(r=te(this,Wi))==null||r.call(this),rt(this,Wi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,pc)!==t&&(rt(this,pc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,pc)=="boolean"?te(this,pc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},pc=new WeakMap,Wi=new WeakMap,xd=new WeakMap,t5),xN=new Rte,bd,Hi,wd,r5,Ite=(r5=class extends Pf{constructor(){super();St(this,bd,!0);St(this,Hi);St(this,wd);rt(this,wd,t=>{if(!zc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,Hi)||this.setEventListener(te(this,wd))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Hi))==null||t.call(this),rt(this,Hi,void 0))}setEventListener(t){var r;rt(this,wd,t),(r=te(this,Hi))==null||r.call(this),rt(this,Hi,t(this.setOnline.bind(this)))}setOnline(t){te(this,bd)!==t&&(rt(this,bd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,bd)}},bd=new WeakMap,Hi=new WeakMap,wd=new WeakMap,r5),s0=new Ite;function mj(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Mte(e){return Math.min(1e3*2**e,3e4)}function _F(e){return(e??"online")==="online"?s0.isOnline():!0}var SF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function j1(e){return e instanceof SF}function jF(e){let t=!1,r=0,n=!1,a;const s=mj(),o=m=>{var v;n||(h(new SF(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>xN.isFocused()&&(e.networkMode==="always"||s0.isOnline())&&e.canRun(),d=()=>_F(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),s.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),s.reject(m))},g=()=>new Promise(m=>{var v;a=x=>{(n||u())&&m(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var E;if(n)return;const w=e.retry??(zc?0:3),b=e.retryDelay??Mte,_=typeof b=="function"?b(r,x):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(t||!S){h(x);return}r++,(E=e.onFail)==null||E.call(e,r,x),Tte(_).then(()=>u()?void 0:g()).then(()=>{t?h(x):y()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),s)}}function Lte(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var cn=Lte(),mc,n5,kF=(n5=class{constructor(){St(this,mc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fj(this.gcTime)&&rt(this,mc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zc?1/0:5*60*1e3))}clearGcTimeout(){te(this,mc)&&(clearTimeout(te(this,mc)),rt(this,mc,void 0))}},mc=new WeakMap,n5),_d,Sd,es,Mn,Vm,gc,Ns,Io,a5,Dte=(a5=class extends kF{constructor(t){super();St(this,Ns);St(this,_d);St(this,Sd);St(this,es);St(this,Mn);St(this,Vm);St(this,gc);rt(this,gc,!1),rt(this,Vm,t.defaultOptions),this.setOptions(t.options),this.observers=[],rt(this,es,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,rt(this,_d,Fte(this.options)),this.state=t.state??te(this,_d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Mn))==null?void 0:t.promise}setOptions(t){this.options={...te(this,Vm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,es).remove(this)}setData(t,r){const n=pj(this.state.data,t,this.options);return Lt(this,Ns,Io).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Lt(this,Ns,Io).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=te(this,Mn))==null?void 0:n.promise;return(a=te(this,Mn))==null||a.cancel(t),r?r.then(ts).catch(ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,_d))}isActive(){return this.observers.some(t=>Os(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!xF(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Mn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Mn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,es).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,Mn)&&(te(this,gc)?te(this,Mn).cancel({revert:!0}):te(this,Mn).cancelRetry()),this.scheduleGc()),te(this,es).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Ns,Io).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Mn))return te(this,Mn).continueRetry(),te(this,Mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(rt(this,gc,!0),n.signal)})},s=()=>{const f=wF(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),rt(this,gc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),rt(this,Sd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Lt(this,Ns,Io).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,g,y,m;j1(f)&&f.silent||Lt(this,Ns,Io).call(this,{type:"error",error:f}),j1(f)||((g=(h=te(this,es).config).onError)==null||g.call(h,f,this),(m=(y=te(this,es).config).onSettled)==null||m.call(y,this.state.data,f,this)),this.scheduleGc()};return rt(this,Mn,jF({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,g,y,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(g=(h=te(this,es).config).onSuccess)==null||g.call(h,f,this),(m=(y=te(this,es).config).onSettled)==null||m.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Lt(this,Ns,Io).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Lt(this,Ns,Io).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Ns,Io).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),te(this,Mn).start()}},_d=new WeakMap,Sd=new WeakMap,es=new WeakMap,Mn=new WeakMap,Vm=new WeakMap,gc=new WeakMap,Ns=new WeakSet,Io=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...EF(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return j1(a)&&a.revert&&te(this,Sd)?{...te(this,Sd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),cn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,es).notify({query:this,type:"updated",action:t})})},a5);function EF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_F(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Fte(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var so,s5,Bte=(s5=class extends Pf{constructor(t={}){super();St(this,so);this.config=t,rt(this,so,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??yN(a,r);let o=this.get(s);return o||(o=new Dte({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){te(this,so).has(t.queryHash)||(te(this,so).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,so).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,so).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,so).get(t)}getAll(){return[...te(this,so).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>wO(t,n)):r}notify(t){cn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},so=new WeakMap,s5),oo,Jn,yc,io,Ai,o5,Ute=(o5=class extends kF{constructor(t){super();St(this,io);St(this,oo);St(this,Jn);St(this,yc);this.mutationId=t.mutationId,rt(this,Jn,t.mutationCache),rt(this,oo,[]),this.state=t.state||NF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,oo).includes(t)||(te(this,oo).push(t),this.clearGcTimeout(),te(this,Jn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){rt(this,oo,te(this,oo).filter(r=>r!==t)),this.scheduleGc(),te(this,Jn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,oo).length||(this.state.status==="pending"?this.scheduleGc():te(this,Jn).remove(this))}continue(){var t;return((t=te(this,yc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,o,l,c,u,d,f,h,g,y,m,v,x,w,b,_,S,E,j;rt(this,yc,jF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,N)=>{Lt(this,io,Ai).call(this,{type:"failed",failureCount:k,error:N})},onPause:()=>{Lt(this,io,Ai).call(this,{type:"pause"})},onContinue:()=>{Lt(this,io,Ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Jn).canRun(this)}));const r=this.state.status==="pending",n=!te(this,yc).canStart();try{if(!r){Lt(this,io,Ai).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=te(this,Jn).config).onMutate)==null?void 0:s.call(a,t,this));const N=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));N!==this.state.context&&Lt(this,io,Ai).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const k=await te(this,yc).start();return await((u=(c=te(this,Jn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((g=(h=te(this,Jn).config).onSettled)==null?void 0:g.call(h,k,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,k,null,t,this.state.context)),Lt(this,io,Ai).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=te(this,Jn).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,k,t,this.state.context)),await((S=(_=te(this,Jn).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this)),await((j=(E=this.options).onSettled)==null?void 0:j.call(E,void 0,k,t,this.state.context)),k}finally{Lt(this,io,Ai).call(this,{type:"error",error:k})}}finally{te(this,Jn).runNext(this)}}},oo=new WeakMap,Jn=new WeakMap,yc=new WeakMap,io=new WeakSet,Ai=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cn.batch(()=>{te(this,oo).forEach(n=>{n.onMutationUpdate(t)}),te(this,Jn).notify({mutation:this,type:"updated",action:t})})},o5);function NF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ta,Km,i5,zte=(i5=class extends Pf{constructor(t={}){super();St(this,Ta);St(this,Km);this.config=t,rt(this,Ta,new Map),rt(this,Km,Date.now())}build(t,r,n){const a=new Ute({mutationCache:this,mutationId:++Og(this,Km)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=oy(t),n=te(this,Ta).get(r)??[];n.push(t),te(this,Ta).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=oy(t);if(te(this,Ta).has(r)){const a=(n=te(this,Ta).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?te(this,Ta).delete(r):te(this,Ta).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=te(this,Ta).get(oy(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=te(this,Ta).get(oy(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...te(this,Ta).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_O(r,n))}findAll(t={}){return this.getAll().filter(r=>_O(t,r))}notify(t){cn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return cn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ts))))}},Ta=new WeakMap,Km=new WeakMap,i5);function oy(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function kO(e){return{onFetch:(t,r)=>{var d,f,h,g,y;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((g=t.state.data)==null?void 0:g.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=wF(t.options,t.fetchOptions),w=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};v(E);const j=await x(E),{maxPages:k}=t.options,N=S?$te:Ote;return{pages:N(b.pages,j,k),pageParams:N(b.pageParams,_,k)}};if(a&&s.length){const b=a==="backward",_=b?qte:EO,S={pages:s,pageParams:o},E=_(n,S);l=await w(S,E,b)}else{const b=e??s.length;do{const _=c===0?o[0]??n.initialPageParam:EO(n,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function EO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function qte(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ur,Vi,Ki,jd,kd,Gi,Ed,Nd,l5,Wte=(l5=class{constructor(e={}){St(this,Ur);St(this,Vi);St(this,Ki);St(this,jd);St(this,kd);St(this,Gi);St(this,Ed);St(this,Nd);rt(this,Ur,e.queryCache||new Bte),rt(this,Vi,e.mutationCache||new zte),rt(this,Ki,e.defaultOptions||{}),rt(this,jd,new Map),rt(this,kd,new Map),rt(this,Gi,0)}mount(){Og(this,Gi)._++,te(this,Gi)===1&&(rt(this,Ed,xN.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Ur).onFocus())})),rt(this,Nd,s0.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Ur).onOnline())})))}unmount(){var e,t;Og(this,Gi)._--,te(this,Gi)===0&&((e=te(this,Ed))==null||e.call(this),rt(this,Ed,void 0),(t=te(this,Nd))==null||t.call(this),rt(this,Nd,void 0))}isFetching(e){return te(this,Ur).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,Vi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Ur).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=te(this,Ur).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(cd(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return te(this,Ur).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=te(this,Ur).get(n.queryHash),s=a==null?void 0:a.state.data,o=Ate(t,s);if(o!==void 0)return te(this,Ur).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return cn.batch(()=>te(this,Ur).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Ur).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,Ur);cn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,Ur),n={type:"active",...e};return cn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=cn.batch(()=>te(this,Ur).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ts).catch(ts)}invalidateQueries(e={},t={}){return cn.batch(()=>{if(te(this,Ur).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=cn.batch(()=>te(this,Ur).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(ts)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ts)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,Ur).build(this,t);return r.isStaleByTime(cd(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ts).catch(ts)}fetchInfiniteQuery(e){return e.behavior=kO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ts).catch(ts)}ensureInfiniteQueryData(e){return e.behavior=kO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return s0.isOnline()?te(this,Vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Ur)}getMutationCache(){return te(this,Vi)}getDefaultOptions(){return te(this,Ki)}setDefaultOptions(e){rt(this,Ki,e)}setQueryDefaults(e,t){te(this,jd).set(qc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,jd).values()];let r={};return t.forEach(n=>{Qp(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){te(this,kd).set(qc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,kd).values()];let r={};return t.forEach(n=>{Qp(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,Ki).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===vN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,Ki).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,Ur).clear(),te(this,Vi).clear()}},Ur=new WeakMap,Vi=new WeakMap,Ki=new WeakMap,jd=new WeakMap,kd=new WeakMap,Gi=new WeakMap,Ed=new WeakMap,Nd=new WeakMap,l5),ha,Ht,Gm,Yn,vc,Cd,Ji,lo,Jm,Pd,Ad,xc,bc,Yi,Td,ar,Xh,gj,yj,vj,xj,bj,wj,_j,CF,c5,Hte=(c5=class extends Pf{constructor(t,r){super();St(this,ar);St(this,ha);St(this,Ht);St(this,Gm);St(this,Yn);St(this,vc);St(this,Cd);St(this,Ji);St(this,lo);St(this,Jm);St(this,Pd);St(this,Ad);St(this,xc);St(this,bc);St(this,Yi);St(this,Td,new Set);this.options=r,rt(this,ha,t),rt(this,lo,null),rt(this,Ji,mj()),this.options.experimental_prefetchInRender||te(this,Ji).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,Ht).addObserver(this),NO(te(this,Ht),this.options)?Lt(this,ar,Xh).call(this):this.updateResult(),Lt(this,ar,xj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sj(te(this,Ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sj(te(this,Ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,ar,bj).call(this),Lt(this,ar,wj).call(this),te(this,Ht).removeObserver(this)}setOptions(t,r){const n=this.options,a=te(this,Ht);if(this.options=te(this,ha).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Os(this.options.enabled,te(this,Ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,ar,_j).call(this),te(this,Ht).setOptions(this.options),n._defaulted&&!a0(this.options,n)&&te(this,ha).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,Ht),observer:this});const s=this.hasListeners();s&&CO(te(this,Ht),a,this.options,n)&&Lt(this,ar,Xh).call(this),this.updateResult(r),s&&(te(this,Ht)!==a||Os(this.options.enabled,te(this,Ht))!==Os(n.enabled,te(this,Ht))||cd(this.options.staleTime,te(this,Ht))!==cd(n.staleTime,te(this,Ht)))&&Lt(this,ar,gj).call(this);const o=Lt(this,ar,yj).call(this);s&&(te(this,Ht)!==a||Os(this.options.enabled,te(this,Ht))!==Os(n.enabled,te(this,Ht))||o!==te(this,Yi))&&Lt(this,ar,vj).call(this,o)}getOptimisticResult(t){const r=te(this,ha).getQueryCache().build(te(this,ha),t),n=this.createResult(r,t);return Kte(this,n)&&(rt(this,Yn,n),rt(this,Cd,this.options),rt(this,vc,te(this,Ht).state)),n}getCurrentResult(){return te(this,Yn)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){te(this,Td).add(t)}getCurrentQuery(){return te(this,Ht)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=te(this,ha).defaultQueryOptions(t),n=te(this,ha).getQueryCache().build(te(this,ha),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Lt(this,ar,Xh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,Yn)))}createResult(t,r){var k;const n=te(this,Ht),a=this.options,s=te(this,Yn),o=te(this,vc),l=te(this,Cd),u=t!==n?t.state:te(this,Gm),{state:d}=t;let f={...d},h=!1,g;if(r._optimisticResults){const N=this.hasListeners(),P=!N&&NO(t,r),A=N&&CO(t,n,r,a);(P||A)&&(f={...f,...EF(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:v}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&r.select===te(this,Jm))g=te(this,Pd);else try{rt(this,Jm,r.select),g=r.select(f.data),g=pj(s==null?void 0:s.data,g,r),rt(this,Pd,g),rt(this,lo,null)}catch(N){rt(this,lo,N)}else g=f.data;if(r.placeholderData!==void 0&&g===void 0&&v==="pending"){let N;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=s.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((k=te(this,Ad))==null?void 0:k.state.data,te(this,Ad)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),rt(this,lo,null)}catch(P){rt(this,lo,P)}N!==void 0&&(v="success",g=pj(s==null?void 0:s.data,N,r),h=!0)}te(this,lo)&&(y=te(this,lo),g=te(this,Pd),m=Date.now(),v="error");const x=f.fetchStatus==="fetching",w=v==="pending",b=v==="error",_=w&&x,S=g!==void 0,j={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:b,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:b&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:bN(t,r),refetch:this.refetch,promise:te(this,Ji)};if(this.options.experimental_prefetchInRender){const N=R=>{j.status==="error"?R.reject(j.error):j.data!==void 0&&R.resolve(j.data)},P=()=>{const R=rt(this,Ji,j.promise=mj());N(R)},A=te(this,Ji);switch(A.status){case"pending":t.queryHash===n.queryHash&&N(A);break;case"fulfilled":(j.status==="error"||j.data!==A.value)&&P();break;case"rejected":(j.status!=="error"||j.error!==A.reason)&&P();break}}return j}updateResult(t){const r=te(this,Yn),n=this.createResult(te(this,Ht),this.options);if(rt(this,vc,te(this,Ht).state),rt(this,Cd,this.options),te(this,vc).data!==void 0&&rt(this,Ad,te(this,Ht)),a0(n,r))return;rt(this,Yn,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!te(this,Td).size)return!0;const c=new Set(l??te(this,Td));return this.options.throwOnError&&c.add("error"),Object.keys(te(this,Yn)).some(u=>{const d=u;return te(this,Yn)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),Lt(this,ar,CF).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,ar,xj).call(this)}},ha=new WeakMap,Ht=new WeakMap,Gm=new WeakMap,Yn=new WeakMap,vc=new WeakMap,Cd=new WeakMap,Ji=new WeakMap,lo=new WeakMap,Jm=new WeakMap,Pd=new WeakMap,Ad=new WeakMap,xc=new WeakMap,bc=new WeakMap,Yi=new WeakMap,Td=new WeakMap,ar=new WeakSet,Xh=function(t){Lt(this,ar,_j).call(this);let r=te(this,Ht).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ts)),r},gj=function(){Lt(this,ar,bj).call(this);const t=cd(this.options.staleTime,te(this,Ht));if(zc||te(this,Yn).isStale||!fj(t))return;const n=xF(te(this,Yn).dataUpdatedAt,t)+1;rt(this,xc,setTimeout(()=>{te(this,Yn).isStale||this.updateResult()},n))},yj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,Ht)):this.options.refetchInterval)??!1},vj=function(t){Lt(this,ar,wj).call(this),rt(this,Yi,t),!(zc||Os(this.options.enabled,te(this,Ht))===!1||!fj(te(this,Yi))||te(this,Yi)===0)&&rt(this,bc,setInterval(()=>{(this.options.refetchIntervalInBackground||xN.isFocused())&&Lt(this,ar,Xh).call(this)},te(this,Yi)))},xj=function(){Lt(this,ar,gj).call(this),Lt(this,ar,vj).call(this,Lt(this,ar,yj).call(this))},bj=function(){te(this,xc)&&(clearTimeout(te(this,xc)),rt(this,xc,void 0))},wj=function(){te(this,bc)&&(clearInterval(te(this,bc)),rt(this,bc,void 0))},_j=function(){const t=te(this,ha).getQueryCache().build(te(this,ha),this.options);if(t===te(this,Ht))return;const r=te(this,Ht);rt(this,Ht,t),rt(this,Gm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},CF=function(t){cn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(te(this,Yn))}),te(this,ha).getQueryCache().notify({query:te(this,Ht),type:"observerResultsUpdated"})})},c5);function Vte(e,t){return Os(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function NO(e,t){return Vte(e,t)||e.state.data!==void 0&&Sj(e,t,t.refetchOnMount)}function Sj(e,t,r){if(Os(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&bN(e,t)}return!1}function CO(e,t,r,n){return(e!==t||Os(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&bN(e,r)}function bN(e,t){return Os(t.enabled,e)!==!1&&e.isStaleByTime(cd(t.staleTime,e))}function Kte(e,t){return!a0(e.getCurrentResult(),t)}var Xi,Qi,pa,qo,ni,cv,jj,u5,Gte=(u5=class extends Pf{constructor(r,n){super();St(this,ni);St(this,Xi);St(this,Qi);St(this,pa);St(this,qo);rt(this,Xi,r),this.setOptions(n),this.bindMethods(),Lt(this,ni,cv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=te(this,Xi).defaultMutationOptions(r),a0(this.options,n)||te(this,Xi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,pa),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&qc(n.mutationKey)!==qc(this.options.mutationKey)?this.reset():((a=te(this,pa))==null?void 0:a.state.status)==="pending"&&te(this,pa).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=te(this,pa))==null||r.removeObserver(this)}onMutationUpdate(r){Lt(this,ni,cv).call(this),Lt(this,ni,jj).call(this,r)}getCurrentResult(){return te(this,Qi)}reset(){var r;(r=te(this,pa))==null||r.removeObserver(this),rt(this,pa,void 0),Lt(this,ni,cv).call(this),Lt(this,ni,jj).call(this)}mutate(r,n){var a;return rt(this,qo,n),(a=te(this,pa))==null||a.removeObserver(this),rt(this,pa,te(this,Xi).getMutationCache().build(te(this,Xi),this.options)),te(this,pa).addObserver(this),te(this,pa).execute(r)}},Xi=new WeakMap,Qi=new WeakMap,pa=new WeakMap,qo=new WeakMap,ni=new WeakSet,cv=function(){var n;const r=((n=te(this,pa))==null?void 0:n.state)??NF();rt(this,Qi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},jj=function(r){cn.batch(()=>{var n,a,s,o,l,c,u,d;if(te(this,qo)&&this.hasListeners()){const f=te(this,Qi).variables,h=te(this,Qi).context;(r==null?void 0:r.type)==="success"?((a=(n=te(this,qo)).onSuccess)==null||a.call(n,r.data,f,h),(o=(s=te(this,qo)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=te(this,qo)).onError)==null||c.call(l,r.error,f,h),(d=(u=te(this,qo)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(te(this,Qi))})})},u5),PF=p.createContext(void 0),Wa=e=>{const t=p.useContext(PF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Jte=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(PF.Provider,{value:e,children:t})),AF=p.createContext(!1),Yte=()=>p.useContext(AF);AF.Provider;function Xte(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Qte=p.createContext(Xte()),Zte=()=>p.useContext(Qte);function TF(e,t){return typeof e=="function"?e(...t):!!e}function OF(){}var ere=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},tre=e=>{p.useEffect(()=>{e.clearReset()},[e])},rre=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&TF(r,[e.error,n]),nre=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},are=(e,t)=>e.isLoading&&e.isFetching&&!t,sre=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ore(e,t,r){var d,f,h,g,y;const n=Wa(),a=Yte(),s=Zte(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",nre(o),ere(o,s),tre(s);const l=!n.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(m=>{const v=a?()=>{}:c.subscribe(cn.batchCalls(m));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),sre(o,u))throw PO(o,c,s);if(rre({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,u),o.experimental_prefetchInRender&&!zc&&are(u,a)){const m=l?PO(o,c,s):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;m==null||m.catch(OF).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function gr(e,t){return ore(e,Hte)}function Vs(e,t){const r=Wa(),[n]=p.useState(()=>new Gte(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const a=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(cn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=p.useCallback((o,l)=>{n.mutate(o,l).catch(OF)},[n]);if(a.error&&TF(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}var rl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rl||(rl={}));const AO="popstate";function ire(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return kj("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:o0(a)}return cre(t,r,null,e)}function Gr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $F(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lre(){return Math.random().toString(36).substr(2,8)}function TO(e,t){return{usr:e.state,key:e.key,idx:t}}function kj(e,t,r,n){return r===void 0&&(r=null),Zp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Af(t):t,{state:r,key:t&&t.key||n||lre()})}function o0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Af(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cre(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=rl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Zp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=rl.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:x})}function h(v,x){l=rl.Push;let w=kj(m.location,v,x);u=d()+1;let b=TO(w,u),_=m.createHref(w);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:l,location:m.location,delta:1})}function g(v,x){l=rl.Replace;let w=kj(m.location,v,x);u=d();let b=TO(w,u),_=m.createHref(w);o.replaceState(b,"",_),s&&c&&c({action:l,location:m.location,delta:0})}function y(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:o0(v);return w=w.replace(/ $/,"%20"),Gr(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(AO,f),c=v,()=>{a.removeEventListener(AO,f),c=null}},createHref(v){return t(a,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(v){return o.go(v)}};return m}var OO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(OO||(OO={}));function ure(e,t,r){return r===void 0&&(r="/"),dre(e,t,r,!1)}function dre(e,t,r,n){let a=typeof t=="string"?Af(t):t,s=wN(a.pathname||"/",r);if(s==null)return null;let o=RF(e);fre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Sre(s);l=wre(o[c],u,n)}return l}function RF(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Gr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vl([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Gr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RF(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:xre(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of IF(s.path))a(s,o,c)}),t}function IF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=IF(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function fre(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bre(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hre=/^:[\w-]+$/,pre=3,mre=2,gre=1,yre=10,vre=-2,$O=e=>e==="*";function xre(e,t){let r=e.split("/"),n=r.length;return r.some($O)&&(n+=vre),t&&(n+=mre),r.filter(a=>!$O(a)).reduce((a,s)=>a+(hre.test(s)?pre:s===""?gre:yre),n)}function bre(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wre(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=RO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=RO({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:vl([s,f.pathname]),pathnameBase:Nre(vl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=vl([s,f.pathnameBase]))}return o}function RO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_re(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let m=l[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[f];return g&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function _re(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$F(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Sre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $F(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wN(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function jre(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Af(e):e;return{pathname:r?r.startsWith("/")?r:kre(r,t):t,search:Cre(n),hash:Pre(a)}}function kre(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function k1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ere(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _N(e,t){let r=Ere(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function SN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Af(e):(a=Zp({},e),Gr(!a.pathname||!a.pathname.includes("?"),k1("?","pathname","search",a)),Gr(!a.pathname||!a.pathname.includes("#"),k1("#","pathname","hash",a)),Gr(!a.search||!a.search.includes("#"),k1("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=jre(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vl=e=>e.join("/").replace(/\/\/+/g,"/"),Nre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Are(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const MF=["post","put","patch","delete"];new Set(MF);const Tre=["get",...MF];new Set(Tre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}const jN=p.createContext(null),Ore=p.createContext(null),Rl=p.createContext(null),Jx=p.createContext(null),mi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),LF=p.createContext(null);function $re(e,t){let{relative:r}=t===void 0?{}:t;Tf()||Gr(!1);let{basename:n,navigator:a}=p.useContext(Rl),{hash:s,pathname:o,search:l}=FF(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:vl([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Tf(){return p.useContext(Jx)!=null}function Ga(){return Tf()||Gr(!1),p.useContext(Jx).location}function DF(e){p.useContext(Rl).static||p.useLayoutEffect(e)}function lr(){let{isDataRoute:e}=p.useContext(mi);return e?Vre():Rre()}function Rre(){Tf()||Gr(!1);let e=p.useContext(jN),{basename:t,future:r,navigator:n}=p.useContext(Rl),{matches:a}=p.useContext(mi),{pathname:s}=Ga(),o=JSON.stringify(_N(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return DF(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=SN(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}function Of(){let{matches:e}=p.useContext(mi),t=e[e.length-1];return t?t.params:{}}function FF(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Rl),{matches:a}=p.useContext(mi),{pathname:s}=Ga(),o=JSON.stringify(_N(a,n.v7_relativeSplatPath));return p.useMemo(()=>SN(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Ire(e,t){return Mre(e,t)}function Mre(e,t,r,n){Tf()||Gr(!1);let{navigator:a}=p.useContext(Rl),{matches:s}=p.useContext(mi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ga(),d;if(t){var f;let v=typeof t=="string"?Af(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Gr(!1),d=v}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=ure(e,{pathname:g}),m=Ure(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:vl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:vl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&m?p.createElement(Jx.Provider,{value:{location:em({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rl.Pop}},m):m}function Lre(){let e=Hre(),t=Are(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const Dre=p.createElement(Lre,null);class Fre extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(mi.Provider,{value:this.props.routeContext},p.createElement(LF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bre(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(jN);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(mi.Provider,{value:t},n)}function Ure(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Gr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,y=!1,m=null,v=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Dre,c&&(u<0&&h===0?(y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),w=()=>{let b;return g?b=m:y?b=v:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(Bre,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Fre,{location:r.location,revalidation:r.revalidation,component:m,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var BF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BF||{}),i0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(i0||{});function zre(e){let t=p.useContext(jN);return t||Gr(!1),t}function qre(e){let t=p.useContext(Ore);return t||Gr(!1),t}function Wre(e){let t=p.useContext(mi);return t||Gr(!1),t}function UF(e){let t=Wre(),r=t.matches[t.matches.length-1];return r.route.id||Gr(!1),r.route.id}function Hre(){var e;let t=p.useContext(LF),r=qre(i0.UseRouteError),n=UF(i0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vre(){let{router:e}=zre(BF.UseNavigateStable),t=UF(i0.UseNavigateStable),r=p.useRef(!1);return DF(()=>{r.current=!0}),p.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,em({fromRouteId:t},s)))},[e,t])}function Kre(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uv(e){let{to:t,replace:r,state:n,relative:a}=e;Tf()||Gr(!1);let{future:s,static:o}=p.useContext(Rl),{matches:l}=p.useContext(mi),{pathname:c}=Ga(),u=lr(),d=SN(t,_N(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ga(e){Gr(!1)}function Gre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=rl.Pop,navigator:s,static:o=!1,future:l}=e;Tf()&&Gr(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:s,static:o,future:em({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Af(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:y="default"}=n,m=p.useMemo(()=>{let v=wN(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:g,key:y},navigationType:a}},[c,d,f,h,g,y,a]);return m==null?null:p.createElement(Rl.Provider,{value:u},p.createElement(Jx.Provider,{children:r,value:m}))}function Jre(e){let{children:t,location:r}=e;return Ire(Ej(t),r)}new Promise(()=>{});function Ej(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let s=[...t,a];if(n.type===p.Fragment){r.push.apply(r,Ej(n.props.children,s));return}n.type!==ga&&Gr(!1),!n.props.index||!n.props.children||Gr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ej(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nj.apply(this,arguments)}function Yre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Xre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qre(e,t){return e.button===0&&(!t||t==="_self")&&!Xre(e)}function Cj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Zre(e,t){let r=Cj(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const ene=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tne="6";try{window.__reactRouterVersion=tne}catch{}const rne="startTransition",IO=bf[rne];function nne(e){let{basename:t,children:r,future:n,window:a}=e,s=p.useRef();s.current==null&&(s.current=ire({window:a,v5Compat:!0}));let o=s.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&IO?IO(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>Kre(n),[n]),p.createElement(Gre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const ane=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Yre(t,ene),{basename:g}=p.useContext(Rl),y,m=!1;if(typeof u=="string"&&sne.test(u)&&(y=u,ane))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=wN(_.pathname,g);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let v=$re(u,{relative:a}),x=one(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||x(b)}return p.createElement("a",Nj({},h,{href:y||v,onClick:m||s?n:w,ref:r,target:c}))});var MO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MO||(MO={}));var LO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(LO||(LO={}));function one(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=lr(),u=Ga(),d=FF(e,{relative:o});return p.useCallback(f=>{if(Qre(f,r)){f.preventDefault();let h=n!==void 0?n:o0(u)===o0(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function Yx(e){let t=p.useRef(Cj(e)),r=p.useRef(!1),n=Ga(),a=p.useMemo(()=>Zre(n.search,r.current?null:t.current),[n.search]),s=lr(),o=p.useCallback((l,c)=>{const u=Cj(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}function zF(e,t){return function(){return e.apply(t,arguments)}}const{toString:ine}=Object.prototype,{getPrototypeOf:kN}=Object,{iterator:Xx,toStringTag:qF}=Symbol,Qx=(e=>t=>{const r=ine.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Js=e=>(e=e.toLowerCase(),t=>Qx(t)===e),Zx=e=>t=>typeof t===e,{isArray:$f}=Array,Wd=Zx("undefined");function ig(e){return e!==null&&!Wd(e)&&e.constructor!==null&&!Wd(e.constructor)&&Ea(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WF=Js("ArrayBuffer");function lne(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WF(e.buffer),t}const cne=Zx("string"),Ea=Zx("function"),HF=Zx("number"),lg=e=>e!==null&&typeof e=="object",une=e=>e===!0||e===!1,dv=e=>{if(Qx(e)!=="object")return!1;const t=kN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(qF in e)&&!(Xx in e)},dne=e=>{if(!lg(e)||ig(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fne=Js("Date"),hne=Js("File"),pne=Js("Blob"),mne=Js("FileList"),gne=e=>lg(e)&&Ea(e.pipe),yne=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ea(e.append)&&((t=Qx(e))==="formdata"||t==="object"&&Ea(e.toString)&&e.toString()==="[object FormData]"))},vne=Js("URLSearchParams"),[xne,bne,wne,_ne]=["ReadableStream","Request","Response","Headers"].map(Js),Sne=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cg(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),$f(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(ig(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function VF(e,t){if(ig(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const cc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KF=e=>!Wd(e)&&e!==cc;function Pj(){const{caseless:e,skipUndefined:t}=KF(this)&&this||{},r={},n=(a,s)=>{const o=e&&VF(r,s)||s;dv(r[o])&&dv(a)?r[o]=Pj(r[o],a):dv(a)?r[o]=Pj({},a):$f(a)?r[o]=a.slice():(!t||!Wd(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&cg(arguments[a],n);return r}const jne=(e,t,r,{allOwnKeys:n}={})=>(cg(t,(a,s)=>{r&&Ea(a)?e[s]=zF(a,r):e[s]=a},{allOwnKeys:n}),e),kne=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ene=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Nne=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&kN(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Cne=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Pne=e=>{if(!e)return null;if($f(e))return e;let t=e.length;if(!HF(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Ane=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&kN(Uint8Array)),Tne=(e,t)=>{const n=(e&&e[Xx]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},One=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},$ne=Js("HTMLFormElement"),Rne=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),DO=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ine=Js("RegExp"),GF=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};cg(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},Mne=e=>{GF(e,(t,r)=>{if(Ea(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ea(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Lne=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return $f(e)?n(e):n(String(e).split(t)),r},Dne=()=>{},Fne=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Bne(e){return!!(e&&Ea(e.append)&&e[qF]==="FormData"&&e[Xx])}const Une=e=>{const t=new Array(10),r=(n,a)=>{if(lg(n)){if(t.indexOf(n)>=0)return;if(ig(n))return n;if(!("toJSON"in n)){t[a]=n;const s=$f(n)?[]:{};return cg(n,(o,l)=>{const c=r(o,a+1);!Wd(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},zne=Js("AsyncFunction"),qne=e=>e&&(lg(e)||Ea(e))&&Ea(e.then)&&Ea(e.catch),JF=((e,t)=>e?setImmediate:t?((r,n)=>(cc.addEventListener("message",({source:a,data:s})=>{a===cc&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),cc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ea(cc.postMessage)),Wne=typeof queueMicrotask<"u"?queueMicrotask.bind(cc):typeof process<"u"&&process.nextTick||JF,Hne=e=>e!=null&&Ea(e[Xx]),ve={isArray:$f,isArrayBuffer:WF,isBuffer:ig,isFormData:yne,isArrayBufferView:lne,isString:cne,isNumber:HF,isBoolean:une,isObject:lg,isPlainObject:dv,isEmptyObject:dne,isReadableStream:xne,isRequest:bne,isResponse:wne,isHeaders:_ne,isUndefined:Wd,isDate:fne,isFile:hne,isBlob:pne,isRegExp:Ine,isFunction:Ea,isStream:gne,isURLSearchParams:vne,isTypedArray:Ane,isFileList:mne,forEach:cg,merge:Pj,extend:jne,trim:Sne,stripBOM:kne,inherits:Ene,toFlatObject:Nne,kindOf:Qx,kindOfTest:Js,endsWith:Cne,toArray:Pne,forEachEntry:Tne,matchAll:One,isHTMLForm:$ne,hasOwnProperty:DO,hasOwnProp:DO,reduceDescriptors:GF,freezeMethods:Mne,toObjectSet:Lne,toCamelCase:Rne,noop:Dne,toFiniteNumber:Fne,findKey:VF,global:cc,isContextDefined:KF,isSpecCompliantForm:Bne,toJSONObject:Une,isAsyncFn:zne,isThenable:qne,setImmediate:JF,asap:Wne,isIterable:Hne};function Rt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ve.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const YF=Rt.prototype,XF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{XF[e]={value:e}});Object.defineProperties(Rt,XF);Object.defineProperty(YF,"isAxiosError",{value:!0});Rt.from=(e,t,r,n,a,s)=>{const o=Object.create(YF);ve.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Rt.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const Vne=null;function Aj(e){return ve.isPlainObject(e)||ve.isArray(e)}function QF(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function FO(e,t,r){return e?e.concat(t).map(function(a,s){return a=QF(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function Kne(e){return ve.isArray(e)&&!e.some(Aj)}const Gne=ve.toFlatObject(ve,{},null,function(t){return/^is[A-Z]/.test(t)});function eb(e,t,r){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!ve.isUndefined(v[m])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ve.isDate(y))return y.toISOString();if(ve.isBoolean(y))return y.toString();if(!c&&ve.isBlob(y))throw new Rt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(y)||ve.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,m,v){let x=y;if(y&&!v&&typeof y=="object"){if(ve.endsWith(m,"{}"))m=n?m:m.slice(0,-2),y=JSON.stringify(y);else if(ve.isArray(y)&&Kne(y)||(ve.isFileList(y)||ve.endsWith(m,"[]"))&&(x=ve.toArray(y)))return m=QF(m),x.forEach(function(b,_){!(ve.isUndefined(b)||b===null)&&t.append(o===!0?FO([m],_,s):o===null?m:m+"[]",u(b))}),!1}return Aj(y)?!0:(t.append(FO(v,m,s),u(y)),!1)}const f=[],h=Object.assign(Gne,{defaultVisitor:d,convertValue:u,isVisitable:Aj});function g(y,m){if(!ve.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(y),ve.forEach(y,function(x,w){(!(ve.isUndefined(x)||x===null)&&a.call(t,x,ve.isString(w)?w.trim():w,m,h))===!0&&g(x,m?m.concat(w):[w])}),f.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return g(e),t}function BO(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function EN(e,t){this._pairs=[],e&&eb(e,this,t)}const ZF=EN.prototype;ZF.append=function(t,r){this._pairs.push([t,r])};ZF.toString=function(t){const r=t?function(n){return t.call(this,n,BO)}:BO;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Jne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function e8(e,t,r){if(!t)return e;const n=r&&r.encode||Jne;ve.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=ve.isURLSearchParams(t)?t.toString():new EN(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class UO{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(n){n!==null&&t(n)})}}const t8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yne=typeof URLSearchParams<"u"?URLSearchParams:EN,Xne=typeof FormData<"u"?FormData:null,Qne=typeof Blob<"u"?Blob:null,Zne={isBrowser:!0,classes:{URLSearchParams:Yne,FormData:Xne,Blob:Qne},protocols:["http","https","file","blob","url","data"]},NN=typeof window<"u"&&typeof document<"u",Tj=typeof navigator=="object"&&navigator||void 0,eae=NN&&(!Tj||["ReactNative","NativeScript","NS"].indexOf(Tj.product)<0),tae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rae=NN&&window.location.href||"http://localhost",nae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:NN,hasStandardBrowserEnv:eae,hasStandardBrowserWebWorkerEnv:tae,navigator:Tj,origin:rae},Symbol.toStringTag,{value:"Module"})),Un={...nae,...Zne};function aae(e,t){return eb(e,new Un.classes.URLSearchParams,{visitor:function(r,n,a,s){return Un.isNode&&ve.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function sae(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oae(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function r8(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&ve.isArray(a)?a.length:o,c?(ve.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!ve.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&ve.isArray(a[o])&&(a[o]=oae(a[o])),!l)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const r={};return ve.forEachEntry(e,(n,a)=>{t(sae(n),a,r,0)}),r}return null}function iae(e,t,r){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const ug={transitional:t8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=ve.isObject(t);if(s&&ve.isHTMLForm(t)&&(t=new FormData(t)),ve.isFormData(t))return a?JSON.stringify(r8(t)):t;if(ve.isArrayBuffer(t)||ve.isBuffer(t)||ve.isStream(t)||ve.isFile(t)||ve.isBlob(t)||ve.isReadableStream(t))return t;if(ve.isArrayBufferView(t))return t.buffer;if(ve.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aae(t,this.formSerializer).toString();if((l=ve.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return eb(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),iae(t)):t}],transformResponse:[function(t){const r=this.transitional||ug.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ve.isResponse(t)||ve.isReadableStream(t))return t;if(t&&ve.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Rt.from(l,Rt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{ug.headers[e]={}});const lae=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cae=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&lae[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},zO=Symbol("internals");function wh(e){return e&&String(e).trim().toLowerCase()}function fv(e){return e===!1||e==null?e:ve.isArray(e)?e.map(fv):String(e)}function uae(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const dae=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function E1(e,t,r,n,a){if(ve.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ve.isString(t)){if(ve.isString(n))return t.indexOf(n)!==-1;if(ve.isRegExp(n))return n.test(t)}}function fae(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function hae(e,t){const r=ve.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class Na{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=wh(c);if(!d)throw new Error("header name must be a non-empty string");const f=ve.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=fv(l))}const o=(l,c)=>ve.forEach(l,(u,d)=>s(u,d,c));if(ve.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ve.isString(t)&&(t=t.trim())&&!dae(t))o(cae(t),r);else if(ve.isObject(t)&&ve.isIterable(t)){let l={},c,u;for(const d of t){if(!ve.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ve.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=wh(t),t){const n=ve.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return uae(a);if(ve.isFunction(r))return r.call(this,a,n);if(ve.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=wh(t),t){const n=ve.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||E1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=wh(o),o){const l=ve.findKey(n,o);l&&(!r||E1(n,n[l],l,r))&&(delete n[l],a=!0)}}return ve.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||E1(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return ve.forEach(this,(a,s)=>{const o=ve.findKey(n,s);if(o){r[o]=fv(a),delete r[s];return}const l=t?fae(s):String(s).trim();l!==s&&delete r[s],r[l]=fv(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ve.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ve.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[zO]=this[zO]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=wh(o);n[l]||(hae(a,o),n[l]=!0)}return ve.isArray(t)?t.forEach(s):s(t),this}}Na.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Na.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ve.freezeMethods(Na);function N1(e,t){const r=this||ug,n=t||r,a=Na.from(n.headers);let s=n.data;return ve.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function n8(e){return!!(e&&e.__CANCEL__)}function Rf(e,t,r){Rt.call(this,e??"canceled",Rt.ERR_CANCELED,t,r),this.name="CanceledError"}ve.inherits(Rf,Rt,{__CANCEL__:!0});function a8(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Rt("Request failed with status code "+r.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pae(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mae(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function gae(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const l0=(e,t,r=3)=>{let n=0;const a=mae(50,250);return gae(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},qO=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},WO=e=>(...t)=>ve.asap(()=>e(...t)),yae=Un.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Un.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Un.origin),Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent)):()=>!0,vae=Un.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];ve.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ve.isString(n)&&o.push("path="+n),ve.isString(a)&&o.push("domain="+a),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xae(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bae(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function s8(e,t,r){let n=!xae(t);return e&&(n||r==!1)?bae(e,t):t}const HO=e=>e instanceof Na?{...e}:e;function Wc(e,t){t=t||{};const r={};function n(u,d,f,h){return ve.isPlainObject(u)&&ve.isPlainObject(d)?ve.merge.call({caseless:h},u,d):ve.isPlainObject(d)?ve.merge({},d):ve.isArray(d)?d.slice():d}function a(u,d,f,h){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!ve.isUndefined(d))return n(void 0,d)}function o(u,d){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(HO(u),HO(d),f,!0)};return ve.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);ve.isUndefined(h)&&f!==l||(r[d]=h)}),r}const o8=e=>{const t=Wc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Na.from(o),t.url=e8(s8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ve.isFormData(r)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ve.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Un.hasStandardBrowserEnv&&(n&&ve.isFunction(n)&&(n=n(t)),n||n!==!1&&yae(t.url))){const c=a&&s&&vae.read(s);c&&o.set(a,c)}return t},wae=typeof XMLHttpRequest<"u",_ae=wae&&function(e){return new Promise(function(r,n){const a=o8(e);let s=a.data;const o=Na.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,g,y;function m(){g&&g(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function x(){if(!v)return;const b=Na.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};a8(function(j){r(j),m()},function(j){n(j),m()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(n(new Rt("Request aborted",Rt.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const S=_&&_.message?_.message:"Network Error",E=new Rt(S,Rt.ERR_NETWORK,e,v);E.event=_||null,n(E),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||t8;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new Rt(_,S.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&ve.forEach(o.toJSON(),function(_,S){v.setRequestHeader(S,_)}),ve.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,y]=l0(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,g]=l0(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new Rf(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=pae(a.url);if(w&&Un.protocols.indexOf(w)===-1){n(new Rt("Unsupported protocol "+w+":",Rt.ERR_BAD_REQUEST,e));return}v.send(s||null)})},Sae=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Rt?d:new Rf(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new Rt(`timeout ${t} of ms exceeded`,Rt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>ve.asap(l),c}},jae=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},kae=async function*(e,t){for await(const r of Eae(e))yield*jae(r,t)},Eae=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},VO=(e,t,r,n)=>{const a=kae(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},KO=64*1024,{isFunction:iy}=ve,Nae=(({Request:e,Response:t})=>({Request:e,Response:t}))(ve.global),{ReadableStream:GO,TextEncoder:JO}=ve.global,YO=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Cae=e=>{e=ve.merge.call({skipUndefined:!0},Nae,e);const{fetch:t,Request:r,Response:n}=e,a=t?iy(t):typeof fetch=="function",s=iy(r),o=iy(n);if(!a)return!1;const l=a&&iy(GO),c=a&&(typeof JO=="function"?(y=>m=>y.encode(m))(new JO):async y=>new Uint8Array(await new r(y).arrayBuffer())),u=s&&l&&YO(()=>{let y=!1;const m=new r(Un.origin,{body:new GO,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!m}),d=o&&l&&YO(()=>ve.isReadableStream(new n("").body)),f={stream:d&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(m,v)=>{let x=m&&m[y];if(x)return x.call(m);throw new Rt(`Response type '${y}' is not supported`,Rt.ERR_NOT_SUPPORT,v)})});const h=async y=>{if(y==null)return 0;if(ve.isBlob(y))return y.size;if(ve.isSpecCompliantForm(y))return(await new r(Un.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(y)||ve.isArrayBuffer(y))return y.byteLength;if(ve.isURLSearchParams(y)&&(y=y+""),ve.isString(y))return(await c(y)).byteLength},g=async(y,m)=>{const v=ve.toFiniteNumber(y.getContentLength());return v??h(m)};return async y=>{let{url:m,method:v,data:x,signal:w,cancelToken:b,timeout:_,onDownloadProgress:S,onUploadProgress:E,responseType:j,headers:k,withCredentials:N="same-origin",fetchOptions:P}=o8(y),A=t||fetch;j=j?(j+"").toLowerCase():"text";let R=Sae([w,b&&b.toAbortSignal()],_),U=null;const z=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let F;try{if(E&&u&&v!=="get"&&v!=="head"&&(F=await g(k,x))!==0){let M=new r(m,{method:"POST",body:x,duplex:"half"}),G;if(ve.isFormData(x)&&(G=M.headers.get("content-type"))&&k.setContentType(G),M.body){const[V,Z]=qO(F,l0(WO(E)));x=VO(M.body,KO,V,Z)}}ve.isString(N)||(N=N?"include":"omit");const D=s&&"credentials"in r.prototype,q={...P,signal:R,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:D?N:void 0};U=s&&new r(m,q);let T=await(s?A(U,P):A(m,q));const L=d&&(j==="stream"||j==="response");if(d&&(S||L&&z)){const M={};["status","statusText","headers"].forEach(ie=>{M[ie]=T[ie]});const G=ve.toFiniteNumber(T.headers.get("content-length")),[V,Z]=S&&qO(G,l0(WO(S),!0))||[];T=new n(VO(T.body,KO,V,()=>{Z&&Z(),z&&z()}),M)}j=j||"text";let ee=await f[ve.findKey(f,j)||"text"](T,y);return!L&&z&&z(),await new Promise((M,G)=>{a8(M,G,{data:ee,headers:Na.from(T.headers),status:T.status,statusText:T.statusText,config:y,request:U})})}catch(D){throw z&&z(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,y,U),{cause:D.cause||D}):Rt.from(D,D&&D.code,y,U)}}},Pae=new Map,i8=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=Pae;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Cae(t)),d=u;return u};i8();const Oj={http:Vne,xhr:_ae,fetch:{get:i8}};ve.forEach(Oj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const XO=e=>`- ${e}`,Aae=e=>ve.isFunction(e)||e===null||e===!1,l8={getAdapter:(e,t)=>{e=ve.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!Aae(n)&&(a=Oj[(l=String(n)).toLowerCase()],a===void 0))throw new Rt(`Unknown adapter '${l}'`);if(a&&(ve.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(XO).join(`
`):" "+XO(o[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:Oj};function C1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rf(null,e)}function QO(e){return C1(e),e.headers=Na.from(e.headers),e.data=N1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),l8.getAdapter(e.adapter||ug.adapter,e)(e).then(function(n){return C1(e),n.data=N1.call(e,e.transformResponse,n),n.headers=Na.from(n.headers),n},function(n){return n8(n)||(C1(e),n&&n.response&&(n.response.data=N1.call(e,e.transformResponse,n.response),n.response.headers=Na.from(n.response.headers))),Promise.reject(n)})}const c8="1.12.2",tb={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tb[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ZO={};tb.transitional=function(t,r,n){function a(s,o){return"[Axios v"+c8+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new Rt(a(o," has been removed"+(r?" in "+r:"")),Rt.ERR_DEPRECATED);return r&&!ZO[o]&&(ZO[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};tb.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Tae(e,t,r){if(typeof e!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new Rt("option "+s+" must be "+c,Rt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Rt("Unknown option "+s,Rt.ERR_BAD_OPTION)}}const hv={assertOptions:Tae,validators:tb},to=hv.validators;class Sc{constructor(t){this.defaults=t||{},this.interceptors={request:new UO,response:new UO}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Wc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&hv.assertOptions(n,{silentJSONParsing:to.transitional(to.boolean),forcedJSONParsing:to.transitional(to.boolean),clarifyTimeoutError:to.transitional(to.boolean)},!1),a!=null&&(ve.isFunction(a)?r.paramsSerializer={serialize:a}:hv.assertOptions(a,{encode:to.function,serialize:to.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hv.assertOptions(r,{baseUrl:to.spelling("baseURL"),withXsrfToken:to.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&ve.merge(s.common,s[r.method]);s&&ve.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=Na.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const y=[QO.bind(this),void 0];for(y.unshift(...l),y.push(...u),h=y.length,d=Promise.resolve(r);f<h;)d=d.then(y[f++],y[f++]);return d}h=l.length;let g=r;for(;f<h;){const y=l[f++],m=l[f++];try{g=y(g)}catch(v){m.call(this,v);break}}try{d=QO.call(this,g)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Wc(this.defaults,t);const r=s8(t.baseURL,t.url,t.allowAbsoluteUrls);return e8(r,t.params,t.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(t){Sc.prototype[t]=function(r,n){return this.request(Wc(n||{},{method:t,url:r,data:(n||{}).data}))}});ve.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(Wc(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Sc.prototype[t]=r(),Sc.prototype[t+"Form"]=r(!0)});class CN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Rf(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new CN(function(a){t=a}),cancel:t}}}function Oae(e){return function(r){return e.apply(null,r)}}function $ae(e){return ve.isObject(e)&&e.isAxiosError===!0}const $j={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($j).forEach(([e,t])=>{$j[t]=e});function u8(e){const t=new Sc(e),r=zF(Sc.prototype.request,t);return ve.extend(r,Sc.prototype,t,{allOwnKeys:!0}),ve.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return u8(Wc(e,a))},r}const Vt=u8(ug);Vt.Axios=Sc;Vt.CanceledError=Rf;Vt.CancelToken=CN;Vt.isCancel=n8;Vt.VERSION=c8;Vt.toFormData=eb;Vt.AxiosError=Rt;Vt.Cancel=Vt.CanceledError;Vt.all=function(t){return Promise.all(t)};Vt.spread=Oae;Vt.isAxiosError=$ae;Vt.mergeConfig=Wc;Vt.AxiosHeaders=Na;Vt.formToJSON=e=>r8(ve.isHTMLForm(e)?new FormData(e):e);Vt.getAdapter=l8.getAdapter;Vt.HttpStatusCode=$j;Vt.default=Vt;const Rae="https://breneo.onrender.com";let ly=!1;const un={setTokens:(e,t)=>{e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+"",localStorage.setItem("authToken",e),localStorage.setItem("refreshToken",t),localStorage.getItem("authToken")},getAccessToken:()=>{const e=localStorage.getItem("authToken");return e&&(e.length>30?`${e.substring(0,20)}${e.substring(e.length-10)}`:e.substring(0,20)+""),e},getRefreshToken:()=>localStorage.getItem("refreshToken"),clearTokens:(e=!1)=>{localStorage.getItem("authToken"),localStorage.getItem("refreshToken"),localStorage.getItem("userRole"),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),e||localStorage.removeItem("userRole")},isTokenExpired:e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch{return!0}},refreshAccessToken:async()=>{var t;const e=un.getRefreshToken();if(!e)return null;try{const n=(await Vt.post(`${Rae}/api/refresh/`,{refresh:e})).data.access;if(n)return localStorage.setItem("authToken",n),n}catch(r){const n=(t=r==null?void 0:r.response)==null?void 0:t.status,a=n>=500,s=n===401||n===403;console.error("Token refresh failed:",{status:n,isServerError:a,isAuthError:s,error:r==null?void 0:r.message}),!ly&&s?un.clearTokens(!1):a||ly&&un.clearTokens(!0)}return null},setSessionRestoration:e=>{ly=e},isInSessionRestoration:()=>ly},Iae="https://breneo.onrender.com",Te=Vt.create({baseURL:Iae,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Te.interceptors.request.use(async e=>{var r,n,a,s,o,l;const t=un.getAccessToken();if(t&&!((r=e.url)!=null&&r.includes("/api/login/"))&&!((n=e.url)!=null&&n.includes("/api/academy/login/"))&&!((a=e.url)!=null&&a.includes("/api/register/"))&&!((s=e.url)!=null&&s.includes("/api/refresh/"))&&!((o=e.url)!=null&&o.includes("/api/verify-code/"))&&!((l=e.headers)!=null&&l.Authorization))if(un.isTokenExpired(t)){const c=await un.refreshAccessToken();c?e.headers.Authorization=`Bearer ${c}`:e.headers.Authorization=`Bearer ${t}`}else e.headers.Authorization=`Bearer ${t}`;return e},e=>Promise.reject(e));Te.interceptors.response.use(e=>e,async e=>{var r,n,a,s,o,l,c,u,d;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/api/login/")||(a=t.url)!=null&&a.includes("/api/academy/login/")||(s=t.url)!=null&&s.includes("/api/register/")||(o=t.url)!=null&&o.includes("/api/refresh/"))return Promise.reject(e);t._retry=!0;const f=un.isInSessionRestoration(),h=(l=t.url)==null?void 0:l.includes("/api/academy/profile/"),g=(c=t.url)==null?void 0:c.includes("/api/academy/");try{const y=await un.refreshAccessToken(),m=un.getAccessToken();if(y){t.headers.Authorization=`Bearer ${y}`;try{return await Te(t)}catch(v){if(((u=v.response)==null?void 0:u.status)===401&&g)return Promise.reject(v);throw v}}else if(m){if(g&&!f)return Promise.reject(e);t.headers.Authorization=`Bearer ${m}`;try{return await Te(t)}catch(v){return Promise.reject(v)}}else if(g&&!f)return Promise.reject(e)}catch(y){if(console.error(" Token refresh threw an error:",y),un.getAccessToken()&&g||g&&!f)return Promise.reject(e)}if(!f&&!g)((d=e.response)==null?void 0:d.status)===401&&(un.clearTokens(!1),window.location.pathname.includes("/auth/")||(window.location.href="/auth/login"));else if(h)return Promise.reject(e)}return Promise.reject(e)});const vt={AUTH:{LOGIN:"/api/login/",ACADEMY_LOGIN:"/api/academy/login/",REGISTER:"/api/register/",PROFILE:"/api/profile/",VERIFY_CODE:"/api/verify-code/",VERIFY_ACADEMY_EMAIL:"/api/verify-academy-email/",PASSWORD_RESET:"/password-reset/request/",PASSWORD_RESET_VERIFY:"/password-reset/verify/",PASSWORD_RESET_CONFIRM:"/password-reset/set-new/",TOKEN_REFRESH:"/api/refresh/"},USER:{PROFILE:"/api/user/profile/",SKILLS:"/api/user/skills/",TESTS:"/api/user/tests/"},ACADEMY:{PROFILE:"/api/academy/profile/",DETAIL:"/api/academy/",COURSES:"/api/academy/courses/",STUDENTS:"/api/academy/students/"},PAYMENTS:{BOG_AUTH:"/api/payments/bog/auth/",BOG_CREATE_ORDER:"/api/payments/bog/orders/"},JOBS:{SAVE_JOB:"/api/save-job/"}};var PN="Avatar",[Mae,mFe]=Ka(PN),[Lae,d8]=Mae(PN),f8=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=p.useState("idle");return i.jsx(Lae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(nt.span,{...n,ref:t})})});f8.displayName=PN;var h8="AvatarImage",p8=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=d8(h8,r),l=Dae(n,s.referrerPolicy),c=Jt(u=>{a(u),o.onImageLoadingStatusChange(u)});return Jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(nt.img,{...s,ref:t,src:n}):null});p8.displayName=h8;var m8="AvatarFallback",g8=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=d8(m8,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(nt.span,{...a,ref:t}):null});g8.displayName=m8;function Dae(e,t){const[r,n]=p.useState("idle");return Jr(()=>{if(!e){n("error");return}let a=!0;const s=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var y8=f8,v8=p8,x8=g8;const b8=p.forwardRef(({className:e,...t},r)=>i.jsx(y8,{ref:r,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));b8.displayName=y8.displayName;const w8=p.forwardRef(({className:e,...t},r)=>i.jsx(v8,{ref:r,className:fe("aspect-square h-full w-full",e),...t}));w8.displayName=v8.displayName;const _8=p.forwardRef(({className:e,...t},r)=>i.jsx(x8,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));_8.displayName=x8.displayName;const Fae={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-16 w-16",xl:"h-32 w-32"},e$=new Map,tm=({src:e,alt:t="Profile photo",fallback:r="U",className:n,size:a="md",loading:s="lazy"})=>i.jsxs(b8,{className:fe(Fae[a],n,"rounded-3xl"),children:[e&&i.jsx(w8,{src:e,alt:t,className:"aspect-square h-full w-full rounded-3xl",loading:s}),i.jsx(_8,{className:"bg-[#AAF0FF] text-[#099DBC] text-2xl font-semibold rounded-3xl",children:r})]}),S8=()=>{const e=p.useCallback(r=>new Promise((n,a)=>{if(e$.has(r)){n();return}const s=new Image;s.onload=()=>{e$.set(r,!0),n()},s.onerror=a,!r.includes("supabase.co")&&!r.includes(window.location.origin)&&(s.crossOrigin="anonymous"),s.src=r}),[]),t=p.useCallback(async r=>{const n=r.map(a=>e(a));await Promise.allSettled(n)},[e]);return{preloadImage:e,preloadImages:t}};function t$(e){return e==="ka"?"ka":"en"}function jc(e){const r=e.split("/").filter(Boolean)[0];if(r==="ka"||r==="en")return r;if(typeof window<"u"){const n=localStorage.getItem("appLanguage");if(n==="en"||n==="ka")return n}return"en"}function rm(e){const t=e.split("/").filter(Boolean),r=t[0];return r==="ka"||r==="en"?"/"+t.slice(1).join("/"):e}function Rj(e,t){return e.startsWith("/auth/")||e==="/auth"||e.startsWith("/en/")||e.startsWith("/ka/")?e:e==="/"?`/${t$(t)}`:`/${t$(t)}${e}`}function rs(e,t){return Rj(e,t)}const j8=p.createContext(void 0),cy=e=>{if(e&&typeof e=="object"){const t=e,r=n=>{if(n.user_type)return String(n.user_type);if(n.role)return String(n.role);if(n.user_role)return String(n.user_role);if(Array.isArray(n.roles)&&n.roles.length>0){const a=n.roles.find(s=>typeof s=="string"&&(s==="academy"||s.toLowerCase()==="academy"));return String(a||n.roles[0])}};if(t.user&&typeof t.user=="object"){const n=t.user,a=r(n);return a&&!n.user_type&&!n.role&&(n.user_type=a),n}if(t.profile&&typeof t.profile=="object"){const n=t.profile,a=r(n);return a&&!n.user_type&&!n.role&&(n.user_type=a),n}if(t.email||t.username||t.id||t.user_type||t.role||t.name){const n={};t.id&&(n.id=typeof t.id=="string"||typeof t.id=="number"?t.id:String(t.id)),t.email&&(n.email=t.email),t.username&&(n.username=t.username),t.first_name&&(n.first_name=t.first_name),t.last_name&&(n.last_name=t.last_name),t.name&&!t.first_name&&(n.first_name=t.name),t.phone_number&&(n.phone_number=t.phone_number),t.profile_image!==void 0&&(n.profile_image=t.profile_image);const a=r(t);return a&&(n.user_type=a),n}}return null},r$=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_id||r.sub||r.id||null}catch(t){return console.error("Failed to decode JWT token:",t),null}},Bae=({children:e})=>{const[t,r]=p.useState(null),[n,a]=p.useState(!0),s=lr(),{preloadImage:o}=S8(),l=p.useRef(o);p.useEffect(()=>{l.current=o},[o]),p.useEffect(()=>{(async()=>{un.setSessionRestoration(!0);try{const y=un.getAccessToken();if(!y){a(!1),un.setSessionRestoration(!1);return}const m=localStorage.getItem("userRole");let v=null;try{const _=y.split(".");if(_.length===3){const S=JSON.parse(atob(_[1])),E=S.user_id||S.sub||S.id||"";let k=S.user_type||S.role||S.user_role;!k&&Array.isArray(S.roles)&&(k=S.roles.find(P=>typeof P=="string"&&(P==="academy"||P.toLowerCase()==="academy"))||S.roles[0]),v={id:E||String(S.username)||"",email:S.email||S.username||"",username:S.username||S.email||"",first_name:S.first_name||S.name||"",user_type:k||"user",profile_image:S.profile_image||null}}}catch(_){console.error("Failed to decode JWT token:",_),console.warn(" JWT decode failed, but preserving token and attempting API call"),v=null}let x=null;try{const _=await Te.get(vt.AUTH.PROFILE),S=_.data;if(S.user_roles&&Array.isArray(S.user_roles)&&S.user_roles.find(j=>j.role==="academy"||j.role==="academy")&&!S.user_type&&!S.role&&(S.user_type="academy"),x=cy(_.data),x){const E=r$(y);E?x.id=E:!x.id&&x.email&&(x.id=x.email)}}catch(_){console.warn(" Profile API call failed, using JWT data:",_),x=v}x||(x=v);const w=localStorage.getItem("userRole");let b=!1;if(!(x!=null&&x.user_type)&&!w)try{const _=await Te.get(vt.ACADEMY.PROFILE);_.data&&_.status!==404&&(b=!0)}catch{}if(w){const _=x==null?void 0:x.user_type;w==="user"&&_&&_!=="user"?(x.user_type=_,localStorage.setItem("userRole",_)):x.user_type=w}else x!=null&&x.user_type?localStorage.setItem("userRole",x.user_type):b?(x.user_type="academy",localStorage.setItem("userRole","academy")):v!=null&&v.user_type&&v.user_type!=="user"?(x.user_type=v.user_type,localStorage.setItem("userRole",v.user_type)):(x.user_type=x.user_type||"user",localStorage.setItem("userRole",x.user_type));if(x&&(x.id||x.email)){if(!x.id&&x.email&&(x.id=x.email),x.user_type){const _=localStorage.getItem("userRole");(!_||_!==x.user_type)&&localStorage.setItem("userRole",x.user_type)}r(x)}else r(null)}catch{r(null)}finally{un.setSessionRestoration(!1),a(!1)}})()},[]),p.useEffect(()=>{t!=null&&t.profile_image&&l.current(t.profile_image).catch(console.error)},[t==null?void 0:t.profile_image]),p.useEffect(()=>{if(!n&&t){const g=window.location.pathname,y=jc(g)||localStorage.getItem("appLanguage")||"en",m=localStorage.getItem("userRole")||t.user_type||"user",x=["/auth/login","/auth/signup","/auth/reset-password","/email-verification","/email-confirmed"].includes(g),b=["/terms-of-use","/help"].includes(g);if(g==="/"||x){if(m==="academy"){const k=rs("/academy/dashboard",y);s(k,{replace:!0})}else{const k=rs("/home",y);s(k,{replace:!0})}return}if(b)return;const _=rm(g),S=_.startsWith("/academy/"),E=/^\/academy\/[^/]+$/.test(_)&&_!=="/academy/dashboard"&&_!=="/academy/profile"&&_!=="/academy/settings"&&_!=="/academy/register",j=!S&&!b&&(_==="/dashboard"||_==="/home"||_.startsWith("/profile")||_.startsWith("/settings")||_.startsWith("/notifications")||_.startsWith("/jobs")||_.startsWith("/courses")||_.startsWith("/skill")||_.startsWith("/interests"));if(E||m==="academy"&&S&&!E||m==="academy"&&S||m==="user"&&j||_==="/dashboard"||_==="/home"||g.includes("/dashboard")||g.includes("/home"))return;if(S&&m!=="academy"&&!E){const k=rs("/home",y);s(k,{replace:!0})}else if(m==="academy"&&(_==="/dashboard"||_==="/home"||j)){const k=rs("/academy/dashboard",y);s(k,{replace:!0})}else if(m==="academy"&&!S&&!b){const k=rs("/academy/dashboard",y);s(k,{replace:!0})}}},[t,n,s]);const c=async(g,y)=>{a(!0);try{const m=await Te.post(vt.AUTH.LOGIN,{username:g,password:y}),v=m.data.access||m.data.token,x=m.data.refresh;if(!v)throw new Error("Login succeeded but did not return the required token (access or token field).");x?un.setTokens(v,x):localStorage.setItem("authToken",v);const w=typeof window<"u"?localStorage.getItem("authToken"):null;await new Promise(j=>setTimeout(j,100));let b=null;const _=cy(m.data);if(_&&_.email)b=_;else try{const j=await Te.get(vt.AUTH.PROFILE);b=cy(j.data)}catch{}if(!b)throw new Error("Failed to fetch user profile.");const S=r$(v);if(S?b.id=S:!b.id&&b.email&&(b.id=b.email),!b.user_type){let j=!1;try{const k=await Te.get(vt.ACADEMY.PROFILE);k.data&&k.status!==404&&(j=!0)}catch{}j?b.user_type="academy":b.user_type="user"}b.user_type&&localStorage.setItem("userRole",b.user_type),r(b),b!=null&&b.profile_image&&l.current(b.profile_image).catch(console.error);const E=jc(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(b.user_type==="academy"){const j=rs("/academy/dashboard",E);s(j)}else{const j=rs("/home",E);s(j)}}catch(m){throw console.error("Login failed:",m),m}finally{a(!1)}},u=async(g,y)=>{try{await Te.post(vt.AUTH.REGISTER,{email:g,password:y}),s("/auth/email-verification")}catch(m){throw console.error("Registration failed:",m),m}},d=()=>{un.clearTokens(),r(null),s("/auth/login")},f=g=>{t&&r({...t,...g})},h=async()=>{try{const g=await Te.get(vt.AUTH.PROFILE),y=cy(g.data);y&&r(y)}catch(g){console.error("Failed to refresh user:",g)}};return i.jsx(j8.Provider,{value:{user:t,loading:n,login:c,logout:d,register:u,updateUser:f,refreshUser:h},children:e})},vr=()=>{const e=p.useContext(j8);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Uae={nav:{home:"Home",jobs:"Vacancies",courses:"Courses",webinars:"Webinars",profile:"Profile",settings:"Settings",help:"Help Center",notifications:"Notifications"},common:{loading:"Loading...",error:"Error",success:"Success",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",submit:"Submit",search:"Search",filter:"Filter",clear:"Clear",apply:"Apply",close:"Close",yes:"Yes",no:"No",ok:"OK",view:"View",more:"More",less:"Less"},auth:{login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",rememberMe:"Remember me",createAccount:"Create Account",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcome:"Welcome",welcomeBack:"Welcome Back"},dashboard:{welcome:"Welcome",jobOffers:"Job Offers",courses:"Courses",skillTest:"Skill Test",skillPath:"Skill Path",interests:"Interests"},jobs:{title:"Vacancies",noJobs:"No jobs found",apply:"Apply",applied:"Applied",save:"Save",saved:"Saved",location:"Location",salary:"Salary",salaryRange:"Salary Range",minimum:"Minimum",maximum:"Maximum",byAgreement:"By Agreement",workType:"Work Type",country:"Country",interests:"Interests / Skills",type:"Type",posted:"Posted",deadline:"Deadline",description:"Description",requirements:"Requirements",benefits:"Benefits",company:"Company",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",remote:"Remote",hybrid:"Hybrid",filter:"Filter Jobs",clearFilters:"Clear Filters",search:"Search",searchPlaceholder:"Search",filters:"Filters",vacancy:"vacancy",vacancies:"vacancies",dateDescending:"Date Descending",dateAscending:"Date Ascending",dateDescendingFull:"Date Descending",dateAscendingFull:"Date Ascending",tryAdjustingFilters:"Try adjusting your search terms or filters",showing:"Showing",of:"of",page:"Page",previous:"Previous",next:"Next",errorLoading:"Error loading jobs. Please try again."},courses:{title:"Courses",noCourses:"No courses found",enroll:"Enroll",enrolled:"Enrolled",save:"Save",saved:"Saved",duration:"Duration",level:"Level",instructor:"Instructor",academy:"Academy",description:"Description",curriculum:"Curriculum",reviews:"Reviews",price:"Price",free:"Free",filter:"Filter Courses",clearFilters:"Clear Filters"},profile:{title:"Profile",editProfile:"Edit Profile",personalInfo:"Personal Information",contactInfo:"Contact Information",skills:"Skills",experience:"Experience",education:"Education",bio:"Bio",saveChanges:"Save Changes"},settings:{title:"Settings",account:"Account",preferences:"Preferences",notifications:"Notifications",privacy:"Privacy",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode"},notifications:{title:"Notifications",noNotifications:"No notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",browserNotifications:"Browser Notifications",enableBrowserNotifications:"Enable Browser Notifications",browserNotificationsDescription:"Get notified when new jobs matching your skills are posted. You'll receive browser notifications even when you're not on the site.",notificationPermissionGranted:"Browser notifications are enabled",notificationPermissionDenied:"Browser notifications are blocked. Please enable them in your browser settings.",notificationPermissionDefault:"Click the button below to enable browser notifications for new job matches.",requestPermission:"Enable Notifications",checkingForJobs:"Checking for new jobs...",notificationsEnabled:"Notifications Enabled",notificationsDisabled:"Notifications Disabled"},subscription:{title:"Subscription",upgrade:"Upgrade to Breneo Pro",currentPlan:"Current Plan",features:"Features",subscribe:"Subscribe"},help:{title:"Help Center",faq:"FAQ",contact:"Contact Support"},terms:{title:"Terms of Use",lastUpdated:"Last updated"},skillTest:{title:"Skill Test",start:"Start Test",next:"Next",previous:"Previous",finish:"Finish",results:"Results"},skillPath:{title:"Your Personalized Skill Path"},home:{skillTestTitle:"Begin Your Skill Assessment Journey",skillTestSubtitle:"Take our skill test to unlock personalized recommendations.",skillPathTitle:"Explore your personalized career path",skillPathSubtitle:"Get personalized recommendations for your career."},errors:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",notFound:"Not found",pageNotFound:"Page Not Found",pageNotFoundDescription:"The page you're looking for doesn't exist or has been moved."},webinars:{title:"Webinars",noWebinars:"No webinars found",upcoming:"Upcoming",past:"Past",register:"Register",registered:"Registered",comingsoon:"Coming Soon",comingsoondescription:"Were adding a brand new page to Breneo very soon! Stay tuned for fresh features and updates that will make your experience even better."},beta:{title:"Youre using the beta version",message:"Some features may be limited or change as we continue improving the platform. We appreciate your feedback. it helps us build a better experience."}},zae={nav:{home:"",jobs:"",courses:"",webinars:"",profile:"",settings:"",help:" ",notifications:""},common:{loading:"...",error:"",success:"",save:"",cancel:"",delete:"",edit:"",back:"",next:"",previous:"",submit:"",search:"",filter:"",clear:"",apply:"",close:"",yes:"",no:"",ok:"",view:"",more:"",less:""},auth:{login:"",signup:"",logout:"",email:"",password:"",confirmPassword:" ",forgotPassword:" ?",resetPassword:" ",rememberMe:"",createAccount:" ",alreadyHaveAccount:"  ?",dontHaveAccount:"  ?",firstName:"",lastName:"",phone:"",welcome:"",welcomeBack:"   "},dashboard:{welcome:"",jobOffers:"",courses:"",skillTest:" ",skillPath:" ",interests:""},jobs:{title:"",noJobs:"  ",apply:"",applied:" ",save:"",saved:"",location:"",salary:"",salaryRange:" ",minimum:"",maximum:"",byAgreement:"",workType:" ",country:"",interests:" / ",type:"",posted:"",deadline:"",description:"",requirements:"",benefits:"",company:"",fullTime:" ",partTime:" ",contract:"",remote:"",hybrid:"",filter:" ",clearFilters:" ",search:"",searchPlaceholder:"",filters:"",vacancy:"",vacancies:"",dateDescending:" ",dateAscending:" ",dateDescendingFull:" ",dateAscendingFull:" ",tryAdjustingFilters:"     ",showing:"",of:"",page:"",previous:"",next:"",errorLoading:"  . ,  ."},courses:{title:"",noCourses:"  ",enroll:"",enrolled:"",save:"",saved:"",duration:"",level:"",instructor:"",academy:"",description:"",curriculum:" ",reviews:"",price:"",free:"",filter:" ",clearFilters:" "},profile:{title:"",editProfile:" ",personalInfo:" ",contactInfo:" ",skills:"",experience:"",education:"",bio:"",saveChanges:" "},settings:{title:"",account:"",preferences:"",notifications:"",privacy:"",language:"",theme:"",darkMode:" ",lightMode:" "},notifications:{title:"",noNotifications:"  ",markAsRead:" ",markAllAsRead:"  ",browserNotifications:" ",enableBrowserNotifications:"  ",browserNotificationsDescription:" ,    ,    .    ,  ,    .",notificationPermissionGranted:"  ",notificationPermissionDenied:"  . ,     .",notificationPermissionDefault:"   ,       .",requestPermission:" ",checkingForJobs:"  ...",notificationsEnabled:" ",notificationsDisabled:" "},subscription:{title:"",upgrade:"Breneo Pro- ",currentPlan:" ",features:"",subscribe:""},help:{title:" ",faq:"  ",contact:" "},terms:{title:" ",lastUpdated:" "},skillTest:{title:" ",start:" ",next:"",previous:"",finish:"",results:""},skillPath:{title:"   "},home:{skillTestTitle:"    ",skillTestSubtitle:"      .",skillPathTitle:"    ",skillPathSubtitle:"    ."},errors:{somethingWentWrong:"  ",tryAgain:" ",notFound:" ",pageNotFound:"  ",pageNotFoundDescription:",  ,    ."},webinars:{title:"",noWebinars:"  ",upcoming:"",past:"",register:"",registered:"",comingsoon:" ",comingsoondescription:"Breneo-    !     ,       ."},beta:{title:"   ",message:"      ,    .      ."}},k8=p.createContext(void 0),qae={en:Uae,ka:zae};function Wae({children:e}){const t=Ga(),r=lr(),[n,a]=p.useState(()=>{if(typeof window<"u"){const u=jc(t.pathname);if(u)return u;const d=localStorage.getItem("appLanguage");if(d==="en"||d==="ka")return d}return"en"}),[s,o]=p.useState(!1);p.useEffect(()=>{o(!0)},[]),p.useEffect(()=>{if(!s||typeof window>"u")return;const u=jc(t.pathname);u&&u!==n&&(a(u),localStorage.setItem("appLanguage",u),document.documentElement.lang=u)},[t.pathname,s,n]);const l=u=>{if(a(u),typeof window<"u"){localStorage.setItem("appLanguage",u),document.documentElement.lang=u;const d=rm(t.pathname),f=Rj(d,u);f!==t.pathname&&r(f,{replace:!0})}};p.useEffect(()=>{if(s&&typeof window<"u"){document.documentElement.lang=n;const u=setTimeout(()=>{if(!t.pathname.startsWith("/auth/")&&t.pathname!=="/auth"&&t.pathname!=="/"&&jc(t.pathname)!==n){const f=rm(t.pathname),h=Rj(f,n);h!==t.pathname&&!t.pathname.includes("undefined")&&r(h,{replace:!0})}},100);return()=>clearTimeout(u)}},[n,s,t.pathname,r]);const c=p.useMemo(()=>qae[n],[n]);return i.jsx(k8.Provider,{value:{language:n,setLanguage:l,t:c},children:e})}function Ys(){const e=p.useContext(k8);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function Co(){const{t:e}=Ys();return e}const E8=p.createContext(void 0),n$="breneo-font-size",a$={small:.875,medium:1,big:1.125};function Hae({children:e}){const[t,r]=p.useState(()=>{const s=localStorage.getItem(n$)||"medium",o=a$[s];return typeof document<"u"&&document.documentElement.style.setProperty("--font-size-base",`${o}rem`),s});p.useEffect(()=>{const a=a$[t];document.documentElement.style.setProperty("--font-size-base",`${a}rem`),localStorage.setItem(n$,t)},[t]);const n=a=>{r(a)};return i.jsx(E8.Provider,{value:{fontSize:t,setFontSize:n},children:e})}function Vae(){const e=p.useContext(E8);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e}const Kae=un,Gae=()=>{try{const e=Kae.getAccessToken();if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1]));return r.user_type||r.role||null}catch(e){return console.error("Error extracting role from token:",e),null}},Jae=()=>{try{return localStorage.getItem("userRole")}catch(e){return console.error("Error getting role from storage:",e),null}},Yae=()=>{const e=Jae();if(e)return e;const t=Gae();return t||null};function pr({children:e,requiredRole:t,redirectTo:r="/auth/login"}){const{user:n,loading:a}=vr(),s=jc(window.location.pathname)||localStorage.getItem("appLanguage")||"en",o=typeof window<"u"&&!!localStorage.getItem("authToken");if(a)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-breneo-lightgray dark:bg-[#181818]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!n&&!o)return i.jsx(uv,{to:r,replace:!0});if(t){const l=(n==null?void 0:n.user_type)||localStorage.getItem("userRole")||Yae()||"user";if(l!==t)if(l==="academy"){const c=rs("/academy/dashboard",s);return i.jsx(uv,{to:c,replace:!0})}else{const c=rs("/home",s);return i.jsx(uv,{to:c,replace:!0})}}return i.jsx(i.Fragment,{children:e})}const s$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,o$=Yt,rb=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return o$(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=s$(d)||s$(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(y=>{let[m,v]=y;return Array.isArray(v)?v.includes({...s,...l}[m]):{...s,...l}[m]===v})?[...u,f,h]:u},[]);return o$(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},AN=rb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] font-normal ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 dark:focus-visible:ring-primary/40 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90 active:bg-primary/80 dark:bg-primary dark:hover:bg-primary/90 dark:active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent text-breneo-blue hover:bg-breneo-blue/10 dark:border-white/20 dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"text-breneo-blue hover:bg-breneo-blue/10 hover:text-breneo-blue dark:text-breneo-blue-dark dark:hover:bg-breneo-blue-dark/10 dark:hover:text-breneo-blue-dark",link:"text-breneo-blue underline-offset-4 hover:underline dark:text-breneo-blue-dark"},size:{default:"h-12 px-8 text-[15px] leading-[22px]",sm:"h-10 px-6 text-sm leading-[20px] [&_svg]:size-4",xs:"h-11 px-5 text-sm leading-[20px] [&_svg]:size-4",lg:"h-14 px-10 text-lg leading-[26px] [&_svg]:size-6",icon:"h-12 w-12 p-0 [&_svg]:size-5"}},defaultVariants:{variant:"default",size:"default"}}),ae=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?jl:"button";return i.jsx(o,{className:fe(AN({variant:t,size:r,className:e})),ref:s,...a})});ae.displayName="Button";const pt=p.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));pt.displayName="Input";var Xae="Label",N8=p.forwardRef((e,t)=>i.jsx(nt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));N8.displayName=Xae;var C8=N8;const Qae=rb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qe=p.forwardRef(({className:e,...t},r)=>i.jsx(C8,{ref:r,className:fe(Qae(),e),...t}));qe.displayName=C8.displayName;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ese={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...ese,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:P8("lucide",a),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const r=p.forwardRef(({className:n,...a},s)=>p.createElement(tse,{ref:s,iconNode:t,className:P8(`lucide-${Zae(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=Ve("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=Ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Ve("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Ve("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=Ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Ve("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=Ve("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=Ve("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Ve("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=Ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Ve("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=Ve("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=Ve("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=Ve("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=Ve("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=Ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=Ve("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ve("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=Ve("LibraryBig",[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ve("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=Ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=Ve("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=Ve("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Ve("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=Ve("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=Ve("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=Ve("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=Ve("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=Ve("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function jo(){const{theme:e,setTheme:t}=$l(),[r,n]=p.useState(!1);if(p.useEffect(()=>{n(!0)},[]),!r)return i.jsx(ae,{variant:"ghost",size:"icon",className:"h-10 w-10",children:i.jsx(u0,{size:22})});const a=e==="dark";return i.jsx(ae,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:()=>t(a?"light":"dark"),children:a?i.jsx(RN,{size:22}):i.jsx(u0,{size:22})})}const f$=()=>{const e=lr(),{login:t,loading:r,user:n}=vr(),[a,s]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,g]=p.useState(!1),[y,m]=p.useState(!1),v=p.useCallback(b=>new Promise((_,S)=>{const E=new Image;E.onload=()=>_(),E.onerror=()=>S(new Error(`Failed to load image: ${b}`)),E.src=b}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([v("/lovable-uploads/breneo_logo.png"),v("/lovable-uploads/future.png")])}catch(_){console.warn("Some images failed to preload:",_),m(!0)}})()},[v]),p.useEffect(()=>{if(!r&&n){const b=n.user_type||localStorage.getItem("userRole")||"user",_=jc(window.location.pathname)||localStorage.getItem("appLanguage")||"en";if(b==="academy"){const S=rs("/academy/dashboard",_);e(S,{replace:!0})}else{const S=rs("/home",_);e(S,{replace:!0})}}},[n,r,e]),p.useEffect(()=>{document.title="Login | Breneo",(document.querySelector('meta[name="description"]')||(()=>{const S=document.createElement("meta");return S.setAttribute("name","description"),document.head.appendChild(S),S})()).setAttribute("content","Log in to your Breneo account."),(document.querySelector('link[rel="canonical"]')||(()=>{const S=document.createElement("link");return S.setAttribute("rel","canonical"),document.head.appendChild(S),S})()).setAttribute("href",`${window.location.origin}/auth/login`)},[]);const x=async b=>{b.preventDefault();let _=!1;try{const S=await Te.post(vt.AUTH.ACADEMY_LOGIN,{email:a,password:o}),E=S.data.access||S.data.token,j=S.data.refresh;if(!E)throw new Error("Login succeeded but did not return the required token.");j?un.setTokens(E,j):localStorage.setItem("authToken",E),localStorage.setItem("userRole","academy"),window.location.href="/academy/dashboard";return}catch{console.log("Academy login failed, trying regular login..."),_=!0}if(_)try{await t(a,o)}catch(S){let E="Login failed. Please try again.",j=!1;if(Vt.isAxiosError(S)&&S.response&&S.response.data){const k=S.response.data;let N="";if(typeof k.detail=="string"?N=k.detail:typeof k.message=="string"?N=k.message:typeof k.error=="string"?N=k.error:Array.isArray(k.non_field_errors)&&k.non_field_errors.length>0&&typeof k.non_field_errors[0]=="string"&&(N=k.non_field_errors[0]),N){E=N;const P=N.toLowerCase();(P.includes("email not verified")||P.includes("account not active")||P.includes("please verify your email")||P.includes("e-mail address not verified")||P.includes("user is inactive"))&&(j=!0)}else console.error("Unknown error format from server:",k)}j?(ue.info("Your account is not verified. Redirecting to verification..."),sessionStorage.setItem("tempEmail",a),sessionStorage.setItem("tempPassword",o),e("/auth/email-verification")):(ue.error(E),console.error("Login page caught error (see details below):",S instanceof Error?S.message:String(S)),Vt.isAxiosError(S)&&S.response&&console.error("Server response data:",S.response.data))}},w=r;return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[i.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[i.jsxs("div",{className:"flex items-center",children:[!d&&!y&&i.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),y&&i.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsxs("div",{className:"flex flex-1",children:[i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[!d&&!y&&i.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{m(!0),f(!0)}}),y&&i.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-border rounded flex items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-500 dark:text-muted-foreground",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Sign In"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Welcome back to your Breneo account"}),i.jsxs("form",{onSubmit:x,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"emailOrUsername",children:"Email or Username"}),i.jsx(pt,{id:"emailOrUsername",type:"text",placeholder:"Enter your email or username",className:"mt-1 h-12",value:a,onChange:b=>s(b.target.value),required:!0,disabled:w})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(pt,{id:"password",type:c?"text":"password",placeholder:"Enter your password",className:"pr-10 h-12",value:o,onChange:b=>l(b.target.value),required:!0,disabled:w}),i.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:w,children:c?i.jsx(nm,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):i.jsx(Nl,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>e("/auth/reset-password"),children:"Forgot Password?"})})]}),i.jsx(ae,{type:"submit",className:"w-full h-14",disabled:w,children:w?"Signing In...":"Sign In"})]}),i.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Don't have an account?"," ",i.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/signup"),children:"Sign Up"})]})]})}),i.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:i.jsxs("div",{className:"relative w-full h-full rounded-xl overflow-hidden",children:[!h&&!y&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:i.jsx(en,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),i.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,style:{backgroundImage:h?"url('/lovable-uploads/future.png')":"none"}}),i.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>g(!0),onError:()=>{m(!0),g(!0)}}),y&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[i.jsx(en,{className:"h-16 w-16 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})};function yp(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function h$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function M8(...e){return t=>{let r=!1;const n=e.map(a=>{const s=h$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():h$(e[a],null)}}}}function sb(...e){return p.useCallback(M8(...e),e)}function Ese(e,t){const r=p.createContext(t),n=s=>{const{children:o,...l}=s,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Nse(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:g,...y}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:v,children:g})};u.displayName=s+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Cse(a,...t)]}function Cse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var f0=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Pse=bf[" useId ".trim().toString()]||(()=>{}),Ase=0;function P1(e){const[t,r]=p.useState(Pse());return f0(()=>{e||r(n=>n??String(Ase++))},[e]),e||(t?`radix-${t}`:"")}var Tse=bf[" useInsertionEffect ".trim().toString()]||f0;function Ose({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=$se({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=Rse(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function $se({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),s=p.useRef(t);return Tse(()=>{s.current=t},[t]),p.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function Rse(e){return typeof e=="function"}function A1(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function p$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function L8(...e){return t=>{let r=!1;const n=e.map(a=>{const s=p$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():p$(e[a],null)}}}}function D8(...e){return p.useCallback(L8(...e),e)}function Ise(e){const t=Mse(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Dse);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Mse(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Bse(a),l=Fse(s,a.props);return a.type!==p.Fragment&&(l.ref=n?L8(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lse=Symbol("radix.slottable");function Dse(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lse}function Fse(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Bse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Use=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F8=Use.reduce((e,t)=>{const r=Ise(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function zse(e,t){e&&ru.flushSync(()=>e.dispatchEvent(t))}function B8(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function qse(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Wse(e,t=globalThis==null?void 0:globalThis.document){const r=qse(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Hse="DismissableLayer",Fj="dismissableLayer.update",Vse="dismissableLayer.pointerDownOutside",Kse="dismissableLayer.focusOutside",m$,U8=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),z8=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(U8),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=D8(t,j=>f(j)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=Yse(j=>{const k=j.target,N=[...u.branches].some(P=>P.contains(k));!_||N||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),E=Xse(j=>{const k=j.target;[...u.branches].some(P=>P.contains(k))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return Wse(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(m$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),g$(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=m$)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),g$())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(Fj,j),()=>document.removeEventListener(Fj,j)},[]),i.jsx(F8.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:A1(e.onFocusCapture,E.onFocusCapture),onBlurCapture:A1(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:A1(e.onPointerDownCapture,S.onPointerDownCapture)})});z8.displayName=Hse;var Gse="DismissableLayerBranch",Jse=p.forwardRef((e,t)=>{const r=p.useContext(U8),n=p.useRef(null),a=D8(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(F8.div,{...e,ref:a})});Jse.displayName=Gse;function Yse(e,t=globalThis==null?void 0:globalThis.document){const r=B8(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){q8(Vse,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Xse(e,t=globalThis==null?void 0:globalThis.document){const r=B8(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&q8(Kse,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function g$(){const e=new CustomEvent(Fj);document.dispatchEvent(e)}function q8(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?zse(a,s):a.dispatchEvent(s)}function y$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function W8(...e){return t=>{let r=!1;const n=e.map(a=>{const s=y$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():y$(e[a],null)}}}}function Qse(...e){return p.useCallback(W8(...e),e)}function Zse(e){const t=eoe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(roe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function eoe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=aoe(a),l=noe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?W8(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var toe=Symbol("radix.slottable");function roe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===toe}function noe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function aoe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var soe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ooe=soe.reduce((e,t)=>{const r=Zse(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function v$(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var T1="focusScope.autoFocusOnMount",O1="focusScope.autoFocusOnUnmount",x$={bubbles:!1,cancelable:!0},ioe="FocusScope",H8=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=v$(a),d=v$(s),f=p.useRef(null),h=Qse(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ti(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ti(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ti(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){w$.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(T1,x$);l.addEventListener(T1,u),l.dispatchEvent(x),x.defaultPrevented||(loe(hoe(V8(l)),{select:!0}),document.activeElement===m&&Ti(l))}return()=>{l.removeEventListener(T1,u),setTimeout(()=>{const x=new CustomEvent(O1,x$);l.addEventListener(O1,d),l.dispatchEvent(x),x.defaultPrevented||Ti(m??document.body,{select:!0}),l.removeEventListener(O1,d),w$.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=coe(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Ti(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Ti(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return i.jsx(ooe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});H8.displayName=ioe;function loe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ti(n,{select:t}),document.activeElement!==r)return}function coe(e){const t=V8(e),r=b$(t,e),n=b$(t.reverse(),e);return[r,n]}function V8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b$(e,t){for(const r of e)if(!uoe(r,{upTo:t}))return r}function uoe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function doe(e){return e instanceof HTMLInputElement&&"select"in e}function Ti(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&doe(e)&&t&&e.select()}}var w$=foe();function foe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_$(e,t),e.unshift(t)},remove(t){var r;e=_$(e,t),(r=e[0])==null||r.resume()}}}function _$(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hoe(e){return e.filter(t=>t.tagName!=="A")}function S$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function poe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=S$(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():S$(e[a],null)}}}}function moe(e){const t=goe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(voe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function goe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=boe(a),l=xoe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?poe(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yoe=Symbol("radix.slottable");function voe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yoe}function xoe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function boe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var woe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_oe=woe.reduce((e,t)=>{const r=moe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Soe=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},joe="Portal",K8=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);Soe(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tg.createPortal(i.jsx(_oe.div,{...n,ref:t}),o):null});K8.displayName=joe;function koe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var ob=e=>{const{present:t,children:r}=e,n=Eoe(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=sb(n.ref,Noe(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};ob.displayName="Presence";function Eoe(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=koe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=fy(n.current);s.current=l==="mounted"?u:"none"},[l]),f0(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,g=fy(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),f0(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=fy(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=g=>{g.target===t&&(s.current=fy(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function fy(e){return(e==null?void 0:e.animationName)||"none"}function Noe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function G8(e){const t=Coe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find(Aoe);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function Coe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=Ooe(a),l=Toe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?M8(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Poe=Symbol("radix.slottable");function Aoe(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Poe}function Toe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Ooe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $oe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fg=$oe.reduce((e,t)=>{const r=G8(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),$1=0;function Roe(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j$()),document.body.insertAdjacentElement("beforeend",e[1]??j$()),$1++,()=>{$1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$1--}},[])}function j$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dr=function(){return dr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},dr.apply(this,arguments)};function hg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ib(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Pc="right-scroll-bar-position",Ac="width-before-scroll-bar",Ioe="with-scroll-bars-hidden",Moe="--removed-body-scroll-bar-size";function R1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Loe(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Doe=typeof window<"u"?p.useLayoutEffect:p.useEffect,k$=new WeakMap;function lb(e,t){var r=Loe(null,function(n){return e.forEach(function(a){return R1(a,n)})});return Doe(function(){var n=k$.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||R1(l,null)}),s.forEach(function(l){a.has(l)||R1(l,o)})}k$.set(r,e)},[e]),r}function Foe(e){return e}function Boe(e,t){t===void 0&&(t=Foe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function cb(e){e===void 0&&(e={});var t=Boe(null);return t.options=dr({async:!0,ssr:!1},e),t}var J8=function(e){var t=e.sideCar,r=hg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,dr({},r))};J8.isSideCarExport=!0;function ub(e,t){return e.useMedium(t),J8}var Y8=cb(),I1=function(){},db=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:I1,onWheelCapture:I1,onTouchMoveCapture:I1}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,y=e.noIsolation,m=e.inert,v=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,_=hg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=lb([r,t]),j=dr(dr({},_),a);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:Y8,removeScrollBar:u,shards:f,noRelative:g,noIsolation:y,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:b}),o?p.cloneElement(p.Children.only(l),dr(dr({},j),{ref:E})):p.createElement(w,dr({},j,{className:c,ref:E}),l))});db.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};db.classNames={fullWidth:Ac,zeroRight:Pc};var Uoe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zoe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Uoe();return t&&e.setAttribute("nonce",t),e}function qoe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Woe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Hoe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zoe())&&(qoe(t,r),Woe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Voe=function(){var e=Hoe();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pg=function(){var e=Voe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Koe={left:0,top:0,right:0,gap:0},M1=function(e){return parseInt(e||"",10)||0},Goe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[M1(r),M1(n),M1(a)]},Joe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Koe;var t=Goe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Yoe=pg(),ud="data-scroll-locked",Xoe=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ioe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ud,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ac,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ud,`] {
    `).concat(Moe,": ").concat(l,`px;
  }
`)},E$=function(){var e=parseInt(document.body.getAttribute(ud)||"0",10);return isFinite(e)?e:0},Qoe=function(){p.useEffect(function(){return document.body.setAttribute(ud,(E$()+1).toString()),function(){var e=E$()-1;e<=0?document.body.removeAttribute(ud):document.body.setAttribute(ud,e.toString())}},[])},fb=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Qoe();var s=p.useMemo(function(){return Joe(a)},[a]);return p.createElement(Yoe,{styles:Xoe(s,!t,a,r?"":"!important")})},Bj=!1;if(typeof window<"u")try{var hy=Object.defineProperty({},"passive",{get:function(){return Bj=!0,!0}});window.addEventListener("test",hy,hy),window.removeEventListener("test",hy,hy)}catch{Bj=!1}var mu=Bj?{passive:!1}:!1,Zoe=function(e){return e.tagName==="TEXTAREA"},X8=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Zoe(e)&&r[t]==="visible")},eie=function(e){return X8(e,"overflowY")},tie=function(e){return X8(e,"overflowX")},N$=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Q8(e,n);if(a){var s=Z8(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rie=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},nie=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Q8=function(e,t){return e==="v"?eie(t):tie(t)},Z8=function(e,t){return e==="v"?rie(t):nie(t)},aie=function(e,t){return e==="h"&&t==="rtl"?-1:1},sie=function(e,t,r,n,a){var s=aie(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var g=Z8(e,l),y=g[0],m=g[1],v=g[2],x=m-v-s*y;(y||x)&&Q8(e,l)&&(f+=x,h+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},py=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},C$=function(e){return[e.deltaX,e.deltaY]},P$=function(e){return e&&"current"in e?e.current:e},oie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lie=0,gu=[];function cie(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(lie++)[0],s=p.useState(pg)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=ib([e.lockRef.current],(e.shards||[]).map(P$),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=py(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=N$(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=N$(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return sie(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!gu.length||gu[gu.length-1]!==s)){var x="deltaY"in v?C$(v):py(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&oie(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(P$).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:uie(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=py(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,C$(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,py(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return gu.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,mu),document.addEventListener("touchmove",c,mu),document.addEventListener("touchstart",d,mu),function(){gu=gu.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,mu),document.removeEventListener("touchmove",c,mu),document.removeEventListener("touchstart",d,mu)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(s,{styles:iie(a)}):null,g?p.createElement(fb,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const die=ub(Y8,cie);var eB=p.forwardRef(function(e,t){return p.createElement(db,dr({},e,{ref:t,sideCar:die}))});eB.classNames=db.classNames;var fie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yu=new WeakMap,my=new WeakMap,gy={},L1=0,tB=function(e){return e&&(e.host||tB(e.parentNode))},hie=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=tB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pie=function(e,t,r,n){var a=hie(t,Array.isArray(e)?e:[e]);gy[r]||(gy[r]=new WeakMap);var s=gy[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),y=g!==null&&g!=="false",m=(yu.get(h)||0)+1,v=(s.get(h)||0)+1;yu.set(h,m),s.set(h,v),o.push(h),m===1&&y&&my.set(h,!0),v===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),L1++,function(){o.forEach(function(f){var h=yu.get(f)-1,g=s.get(f)-1;yu.set(f,h),s.set(f,g),h||(my.has(f)||f.removeAttribute(n),my.delete(f)),g||f.removeAttribute(r)}),L1--,L1||(yu=new WeakMap,yu=new WeakMap,my=new WeakMap,gy={})}},hb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=fie(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),pie(n,a,r,"aria-hidden")):function(){return null}},pb="Dialog",[rB,gFe]=Nse(pb),[mie,Xs]=rB(pb),nB=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Ose({prop:n,defaultProp:a??!1,onChange:s,caller:pb});return i.jsx(mie,{scope:t,triggerRef:l,contentRef:c,contentId:P1(),titleId:P1(),descriptionId:P1(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};nB.displayName=pb;var aB="DialogTrigger",sB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(aB,r),s=sb(t,a.triggerRef);return i.jsx(fg.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":BN(a.open),...n,ref:s,onClick:yp(e.onClick,a.onOpenToggle)})});sB.displayName=aB;var DN="DialogPortal",[gie,oB]=rB(DN,{forceMount:void 0}),iB=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Xs(DN,t);return i.jsx(gie,{scope:t,forceMount:r,children:p.Children.map(n,o=>i.jsx(ob,{present:r||s.open,children:i.jsx(K8,{asChild:!0,container:a,children:o})}))})};iB.displayName=DN;var h0="DialogOverlay",lB=p.forwardRef((e,t)=>{const r=oB(h0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Xs(h0,e.__scopeDialog);return s.modal?i.jsx(ob,{present:n||s.open,children:i.jsx(vie,{...a,ref:t})}):null});lB.displayName=h0;var yie=G8("DialogOverlay.RemoveScroll"),vie=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(h0,r);return i.jsx(eB,{as:yie,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(fg.div,{"data-state":BN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Kc="DialogContent",cB=p.forwardRef((e,t)=>{const r=oB(Kc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Xs(Kc,e.__scopeDialog);return i.jsx(ob,{present:n||s.open,children:s.modal?i.jsx(xie,{...a,ref:t}):i.jsx(bie,{...a,ref:t})})});cB.displayName=Kc;var xie=p.forwardRef((e,t)=>{const r=Xs(Kc,e.__scopeDialog),n=p.useRef(null),a=sb(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return hb(s)},[]),i.jsx(uB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yp(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:yp(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:yp(e.onFocusOutside,s=>s.preventDefault())})}),bie=p.forwardRef((e,t)=>{const r=Xs(Kc,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return i.jsx(uB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),uB=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Xs(Kc,r),c=p.useRef(null),u=sb(t,c);return Roe(),i.jsxs(i.Fragment,{children:[i.jsx(H8,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(z8,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":BN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(wie,{titleId:l.titleId}),i.jsx(Sie,{contentRef:c,descriptionId:l.descriptionId})]})]})}),FN="DialogTitle",dB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(FN,r);return i.jsx(fg.h2,{id:a.titleId,...n,ref:t})});dB.displayName=FN;var fB="DialogDescription",hB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(fB,r);return i.jsx(fg.p,{id:a.descriptionId,...n,ref:t})});hB.displayName=fB;var pB="DialogClose",mB=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xs(pB,r);return i.jsx(fg.button,{type:"button",...n,ref:t,onClick:yp(e.onClick,()=>a.onOpenChange(!1))})});mB.displayName=pB;function BN(e){return e?"open":"closed"}var gB="DialogTitleWarning",[yFe,yB]=Ese(gB,{contentName:Kc,titleName:FN,docsSlug:"dialog"}),wie=({titleId:e})=>{const t=yB(gB),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_ie="DialogDescriptionWarning",Sie=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yB(_ie).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},vB=nB,jie=sB,xB=iB,UN=lB,zN=cB,qN=dB,WN=hB,bB=mB;const zn=vB,kie=xB,wB=p.forwardRef(({className:e,...t},r)=>i.jsx(UN,{ref:r,className:fe("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wB.displayName=UN.displayName;const En=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(kie,{children:[i.jsx(wB,{}),i.jsxs(zN,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background/90 backdrop-blur-md p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-[36px]",e),...r,children:[t,i.jsxs(bB,{className:"absolute right-6 top-6 rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0",children:[i.jsx(ln,{className:"h-3.5 w-3.5"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));En.displayName=zN.displayName;const Nn=({className:e,...t})=>i.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Nn.displayName="DialogHeader";const ea=({className:e,...t})=>i.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ea.displayName="DialogFooter";const Cn=p.forwardRef(({className:e,...t},r)=>i.jsx(qN,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));Cn.displayName=qN.displayName;const dd=p.forwardRef(({className:e,...t},r)=>i.jsx(WN,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));dd.displayName=WN.displayName;function Eie(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const _B=$.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),If=()=>{const e=$.useContext(_B);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Eie(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Nie=24,Cie=typeof window<"u"?p.useLayoutEffect:p.useEffect;function A$(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function Pie(){return HN(/^Mac/)}function Aie(){return HN(/^iPhone/)}function T$(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Tie(){return HN(/^iPad/)||Pie()&&navigator.maxTouchPoints>1}function SB(){return Aie()||Tie()}function HN(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const D1=typeof document<"u"&&window.visualViewport;function O$(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function jB(e){for(O$(e)&&(e=e.parentElement);e&&!O$(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Oie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let yy=0,F1;function $ie(e={}){let{isDisabled:t}=e;Cie(()=>{if(!t)return yy++,yy===1&&SB()&&(F1=Rie()),()=>{yy--,yy===0&&(F1==null||F1())}},[t])}function Rie(){let e,t=0,r=f=>{e=jB(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let h=f.changedTouches[0].pageY,g=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((g<=0&&h>t||g>=y&&h<t)&&f.preventDefault(),t=h)},a=f=>{let h=f.target;Uj(h)&&h!==document.activeElement&&(f.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},s=f=>{let h=f.target;Uj(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",D1&&(D1.height<window.innerHeight?requestAnimationFrame(()=>{$$(h)}):D1.addEventListener("resize",()=>$$(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=A$(Iie(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=A$(_h(document,"touchstart",r,{passive:!1,capture:!0}),_h(document,"touchmove",n,{passive:!1,capture:!0}),_h(document,"touchend",a,{passive:!1,capture:!0}),_h(document,"focus",s,!0),_h(window,"scroll",o));return()=>{u(),d(),window.scrollTo(l,c)}}function Iie(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function _h(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function $$(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=jB(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,a=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+Nie;s>o&&(r.scrollTop+=a-n)}e=r.parentElement}}function Uj(e){return e instanceof HTMLInputElement&&!Oie.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Mie(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Lie(...e){return t=>e.forEach(r=>Mie(r,t))}function kB(...e){return p.useCallback(Lie(...e),e)}const EB=new WeakMap;function an(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([a,s])=>{if(a.startsWith("--")){e.style.setProperty(a,s);return}n[a]=e.style[a],e.style[a]=s}),!r&&EB.set(e,n)}function Die(e,t){if(!e||!(e instanceof HTMLElement))return;let r=EB.get(e);r&&(e.style[t]=r[t])}const sn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function vy(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[sn(t)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[sn(t)?5:4]):null)}function Fie(e){return 8*(Math.log(e+1)-2)}function B1(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Bie(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const $r={DURATION:.5,EASE:[.32,.72,0,1]},NB=.4,Uie=.25,zie=100,CB=8,Vl=16,zj=26,U1="vaul-dragging";function PB(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e}),$.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function qie({defaultProp:e,onChange:t}){const r=$.useState(e),[n]=r,a=$.useRef(n),s=PB(t);return $.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}function AB({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=qie({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:n,l=PB(r),c=$.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[o,c]}function Wie({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:a,fadeFromIndex:s,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[d,f]=AB({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,g]=$.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);$.useEffect(()=>{function j(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const y=$.useMemo(()=>d===(r==null?void 0:r[r.length-1])||null,[r,d]),m=$.useMemo(()=>r==null?void 0:r.findIndex(j=>j===d),[r,d]),v=r&&r.length>0&&(s||s===0)&&!Number.isNaN(s)&&r[s]===d||!r,x=$.useMemo(()=>{const j=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var k;return(k=r==null?void 0:r.map(N=>{const P=typeof N=="string";let A=0;if(P&&(A=parseInt(N,10)),sn(l)){const U=P?A:h?N*j.height:0;return h?l==="bottom"?j.height-U:-j.height+U:U}const R=P?A:h?N*j.width:0;return h?l==="right"?j.width-R:-j.width+R:R}))!=null?k:[]},[r,h,c]),w=$.useMemo(()=>m!==null?x==null?void 0:x[m]:null,[x,m]),b=$.useCallback(j=>{var k;const N=(k=x==null?void 0:x.findIndex(P=>P===j))!=null?k:null;o(N),an(n.current,{transition:`transform ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`,transform:sn(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`}),x&&N!==x.length-1&&N!==s&&N<s?an(a.current,{transition:`opacity ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`,opacity:"0"}):an(a.current,{transition:`opacity ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`,opacity:"1"}),f(r==null?void 0:r[Math.max(N,0)])},[n.current,r,x,s,a,f]);$.useEffect(()=>{if(d||e){var j;const k=(j=r==null?void 0:r.findIndex(N=>N===e||N===d))!=null?j:-1;x&&k!==-1&&typeof x[k]=="number"&&b(x[k])}},[d,e,r,x,b]);function _({draggedDistance:j,closeDrawer:k,velocity:N,dismissible:P}){if(s===void 0)return;const A=l==="bottom"||l==="right"?(w??0)-j:(w??0)+j,R=m===s-1,U=m===0,z=j>0;if(R&&an(a.current,{transition:`opacity ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`}),!u&&N>2&&!z){P?k():b(x[0]);return}if(!u&&N>2&&z&&x&&r){b(x[r.length-1]);return}const F=x==null?void 0:x.reduce((q,T)=>typeof q!="number"||typeof T!="number"?q:Math.abs(T-A)<Math.abs(q-A)?T:q),D=sn(l)?window.innerHeight:window.innerWidth;if(N>NB&&Math.abs(j)<D*.4){const q=z?1:-1;if(q>0&&y){b(x[r.length-1]);return}if(U&&q<0&&P&&k(),m===null)return;b(x[m+q]);return}b(F)}function S({draggedDistance:j}){if(w===null)return;const k=l==="bottom"||l==="right"?w-j:w+j;(l==="bottom"||l==="right")&&k<x[x.length-1]||(l==="top"||l==="left")&&k>x[x.length-1]||an(n.current,{transform:sn(l)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`})}function E(j,k){if(!r||typeof m!="number"||!x||s===void 0)return null;const N=m===s-1;if(m>=s&&k)return 0;if(N&&!k)return 1;if(!v&&!N)return null;const A=N?m+1:m-1,R=N?x[A]-x[A-1]:x[A+1]-x[A],U=j/Math.abs(R);return N?1-U:U}return{isLastSnapPoint:y,activeSnapPoint:d,shouldFade:v,getPercentageDragged:E,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:S,snapPointsOffset:x}}const Hie=()=>()=>{};function Vie(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:a}=If(),s=$.useRef(null),o=p.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-zj)/window.innerWidth}$.useEffect(()=>{if(t&&r){s.current&&clearTimeout(s.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Bie(n&&!a?B1(document.body,{background:"black"}):Hie,B1(c,{transformOrigin:sn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${$r.DURATION}s`,transitionTimingFunction:`cubic-bezier(${$r.EASE.join(",")})`}));const u=B1(c,{borderRadius:`${CB}px`,overflow:"hidden",...sn(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),s.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},$r.DURATION*1e3)}}},[t,r,o])}let Sh=null;function Kie({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:s}){const[o,l]=$.useState(()=>typeof window<"u"?window.location.href:""),c=$.useRef(0),u=$.useCallback(()=>{if(T$()&&Sh===null&&e&&!s){Sh={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&c.current>=h&&(document.body.style.top=`${-(c.current+g)}px`)}),300)}},[e]),d=$.useCallback(()=>{if(T$()&&Sh!==null&&!s){const f=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Sh),window.requestAnimationFrame(()=>{if(a&&o!==window.location.href){l(window.location.href);return}window.scrollTo(h,f)}),Sh=null}},[o]);return $.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),$.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,n,o,t,r,u,d]),{restorePositionSetting:d}}function TB({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:a,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Uie,scrollLockTimeout:u=zie,dismissible:d=!0,handleOnly:f=!1,fadeFromIndex:h=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:y,fixed:m,modal:v=!0,onClose:x,nested:w,noBodyStyles:b,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:E=!0,snapToSequentialPoint:j=!1,preventScrollRestoration:k=!1,repositionInputs:N=!0,onAnimationEnd:P,container:A,autoFocus:R=!1}){var U,z;const[F=!1,D]=AB({defaultProp:S,prop:e,onChange:_e=>{t==null||t(_e),!_e&&!w&&We(),setTimeout(()=>{P==null||P(_e)},$r.DURATION*1e3),_e&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),_e||(document.body.style.pointerEvents="auto")}}),[q,T]=$.useState(!1),[L,ee]=$.useState(!1),[M,G]=$.useState(!1),V=$.useRef(null),Z=$.useRef(null),ie=$.useRef(null),H=$.useRef(null),W=$.useRef(null),X=$.useRef(!1),B=$.useRef(null),Q=$.useRef(0),se=$.useRef(!1),J=$.useRef(0),le=$.useRef(null),ce=$.useRef(((U=le.current)==null?void 0:U.getBoundingClientRect().height)||0),ge=$.useRef(((z=le.current)==null?void 0:z.getBoundingClientRect().width)||0),he=$.useRef(0),je=$.useCallback(_e=>{s&&_e===Y.length-1&&(Z.current=new Date)},[]),{activeSnapPoint:Ke,activeSnapPointIndex:Xe,setActiveSnapPoint:gt,onRelease:I,snapPointsOffset:Y,onDrag:we,shouldFade:Ae,getPercentageDragged:Ue}=Wie({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:y,drawerRef:le,fadeFromIndex:h,overlayRef:V,onSnapPointChange:je,direction:_,container:A,snapToSequentialPoint:j});$ie({isDisabled:!F||L||!v||M||!q||!N||!E});const{restorePositionSetting:We}=Kie({isOpen:F,modal:v,nested:w,hasBeenOpened:q,preventScrollRestoration:k,noBodyStyles:b});function Ye(){return(window.innerWidth-zj)/window.innerWidth}function He(_e){var De,Re;!d&&!s||le.current&&!le.current.contains(_e.target)||(ce.current=((De=le.current)==null?void 0:De.getBoundingClientRect().height)||0,ge.current=((Re=le.current)==null?void 0:Re.getBoundingClientRect().width)||0,ee(!0),ie.current=new Date,SB()&&window.addEventListener("touchend",()=>X.current=!1,{once:!0}),_e.target.setPointerCapture(_e.pointerId),Q.current=sn(_)?_e.pageY:_e.pageX)}function ye(_e,De){var Re,ze;let re=_e;const K=(Re=window.getSelection())==null?void 0:Re.toString(),C=le.current?vy(le.current,_):null,O=new Date;if(re.hasAttribute("data-vaul-no-drag")||re.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Z.current&&O.getTime()-Z.current.getTime()<500)return!1;if(C!==null&&(_==="bottom"?C>0:C<0))return!0;if(K&&K.length>0)return!1;if(O.getTime()-((ze=W.current)==null?void 0:ze.getTime())<u&&C===0||De)return W.current=O,!1;for(;re;){if(re.scrollHeight>re.clientHeight){if(re.scrollTop!==0)return W.current=new Date,!1;if(re.getAttribute("role")==="dialog")return!0}re=re.parentNode}return!0}function Ce(_e){if(le.current&&L){const De=_==="bottom"||_==="right"?1:-1,Re=(Q.current-(sn(_)?_e.pageY:_e.pageX))*De,ze=Re>0,re=s&&!d&&!ze;if(re&&Xe===0)return;const K=Math.abs(Re),C=document.querySelector("[data-vaul-drawer-wrapper]"),O=_==="bottom"||_==="top"?ce.current:ge.current;let ne=K/O;const pe=Ue(K,ze);if(pe!==null&&(ne=pe),re&&ne>=1||!X.current&&!ye(_e.target,ze))return;if(le.current.classList.add(U1),X.current=!0,an(le.current,{transition:"none"}),an(V.current,{transition:"none"}),s&&we({draggedDistance:Re}),ze&&!s){const Be=Fie(Re),dt=Math.min(Be*-1,0)*De;an(le.current,{transform:sn(_)?`translate3d(0, ${dt}px, 0)`:`translate3d(${dt}px, 0, 0)`});return}const Me=1-ne;if((Ae||h&&Xe===h-1)&&(n==null||n(_e,ne),an(V.current,{opacity:`${Me}`,transition:"none"},!0)),C&&V.current&&o){const Be=Math.min(Ye()+ne*(1-Ye()),1),dt=8-ne*8,wt=Math.max(0,14-ne*14);an(C,{borderRadius:`${dt}px`,transform:sn(_)?`scale(${Be}) translate3d(0, ${wt}px, 0)`:`scale(${Be}) translate3d(${wt}px, 0, 0)`,transition:"none"},!0)}if(!s){const Be=K*De;an(le.current,{transform:sn(_)?`translate3d(0, ${Be}px, 0)`:`translate3d(${Be}px, 0, 0)`})}}}$.useEffect(()=>{var _e;function De(){if(!le.current||!N)return;const Re=document.activeElement;if(Uj(Re)||se.current){var ze;const re=((ze=window.visualViewport)==null?void 0:ze.height)||0,K=window.innerHeight;let C=K-re;const O=le.current.getBoundingClientRect().height||0,ne=O>K*.8;he.current||(he.current=O);const pe=le.current.getBoundingClientRect().top;if(Math.abs(J.current-C)>60&&(se.current=!se.current),s&&s.length>0&&Y&&Xe){const Me=Y[Xe]||0;C+=Me}if(J.current=C,O>re||se.current){const Me=le.current.getBoundingClientRect().height;let Be=Me;Me>re&&(Be=re-(ne?pe:zj)),m?le.current.style.height=`${Me-Math.max(C,0)}px`:le.current.style.height=`${Math.max(Be,re-pe)}px`}else le.current.style.height=`${he.current}px`;s&&s.length>0&&!se.current?le.current.style.bottom="0px":le.current.style.bottom=`${Math.max(C,0)}px`}}return(_e=window.visualViewport)==null||_e.addEventListener("resize",De),()=>{var Re;return(Re=window.visualViewport)==null?void 0:Re.removeEventListener("resize",De)}},[Xe,s,Y]);function Ee(_e){tt(),x==null||x(),_e||D(!1),setTimeout(()=>{s&&gt(s[0])},$r.DURATION*1e3)}function Oe(){if(!le.current)return;const _e=document.querySelector("[data-vaul-drawer-wrapper]"),De=vy(le.current,_);an(le.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`}),an(V.current,{transition:`opacity ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`,opacity:"1"}),o&&De&&De>0&&F&&an(_e,{borderRadius:`${CB}px`,overflow:"hidden",...sn(_)?{transform:`scale(${Ye()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ye()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${$r.DURATION}s`,transitionTimingFunction:`cubic-bezier(${$r.EASE.join(",")})`},!0)}function tt(){!L||!le.current||(le.current.classList.remove(U1),X.current=!1,ee(!1),H.current=new Date)}function st(_e){if(!L||!le.current)return;le.current.classList.remove(U1),X.current=!1,ee(!1),H.current=new Date;const De=vy(le.current,_);if(!ye(_e.target,!1)||!De||Number.isNaN(De)||ie.current===null)return;const Re=H.current.getTime()-ie.current.getTime(),ze=Q.current-(sn(_)?_e.pageY:_e.pageX),re=Math.abs(ze)/Re;if(re>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),s){I({draggedDistance:ze*(_==="bottom"||_==="right"?1:-1),closeDrawer:Ee,velocity:re,dismissible:d}),a==null||a(_e,!0);return}if(_==="bottom"||_==="right"?ze>0:ze<0){Oe(),a==null||a(_e,!0);return}if(re>NB){Ee(),a==null||a(_e,!1);return}var K;const C=Math.min((K=le.current.getBoundingClientRect().height)!=null?K:0,window.innerHeight);var O;const ne=Math.min((O=le.current.getBoundingClientRect().width)!=null?O:0,window.innerWidth),pe=_==="left"||_==="right";if(Math.abs(De)>=(pe?ne:C)*c){Ee(),a==null||a(_e,!1);return}a==null||a(_e,!0),Oe()}$.useEffect(()=>(F&&(an(document.documentElement,{scrollBehavior:"auto"}),Z.current=new Date),()=>{Die(document.documentElement,"scrollBehavior")}),[F]);function bt(_e){const De=_e?(window.innerWidth-Vl)/window.innerWidth:1,Re=_e?-Vl:0;B.current&&window.clearTimeout(B.current),an(le.current,{transition:`transform ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`,transform:`scale(${De}) translate3d(0, ${Re}px, 0)`}),!_e&&le.current&&(B.current=setTimeout(()=>{const ze=vy(le.current,_);an(le.current,{transition:"none",transform:sn(_)?`translate3d(0, ${ze}px, 0)`:`translate3d(${ze}px, 0, 0)`})},500))}function at(_e,De){if(De<0)return;const Re=(window.innerWidth-Vl)/window.innerWidth,ze=Re+De*(1-Re),re=-Vl+De*Vl;an(le.current,{transform:sn(_)?`scale(${ze}) translate3d(0, ${re}px, 0)`:`scale(${ze}) translate3d(${re}px, 0, 0)`,transition:"none"})}function Nt(_e,De){const Re=sn(_)?window.innerHeight:window.innerWidth,ze=De?(Re-Vl)/Re:1,re=De?-Vl:0;De&&an(le.current,{transition:`transform ${$r.DURATION}s cubic-bezier(${$r.EASE.join(",")})`,transform:sn(_)?`scale(${ze}) translate3d(0, ${re}px, 0)`:`scale(${ze}) translate3d(${re}px, 0, 0)`})}return $.createElement(vB,{defaultOpen:S,onOpenChange:_e=>{!d&&!_e||(_e?T(!0):Ee(!0),D(_e))},open:F},$.createElement(_B.Provider,{value:{activeSnapPoint:Ke,snapPoints:s,setActiveSnapPoint:gt,drawerRef:le,overlayRef:V,onOpenChange:t,onPress:He,onRelease:st,onDrag:Ce,dismissible:d,handleOnly:f,isOpen:F,isDragging:L,shouldFade:Ae,closeDrawer:Ee,onNestedDrag:at,onNestedOpenChange:bt,onNestedRelease:Nt,keyboardIsOpen:se,modal:v,snapPointsOffset:Y,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:b,container:A,autoFocus:R}},r))}const OB=$.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:a,shouldFade:s,isOpen:o,modal:l}=If(),c=kB(t,r),u=n&&n.length>0;return l?$.createElement(UN,{onMouseUp:a,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&u?"true":"false","data-vaul-snap-points-overlay":o&&s?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});OB.displayName="Drawer.Overlay";const $B=$.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},a){const{drawerRef:s,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,modal:f,isOpen:h,direction:g,snapPoints:y,container:m,handleOnly:v,autoFocus:x}=If(),[w,b]=$.useState(!1),_=kB(a,s),S=$.useRef(null),E=$.useRef(null),j=$.useRef(!1),k=y&&y.length>0;Vie();const N=(A,R,U=0)=>{if(j.current)return!0;const z=Math.abs(A.y),F=Math.abs(A.x),D=F>z,q=["bottom","right"].includes(R)?1:-1;if(R==="left"||R==="right"){if(!(A.x*q<0)&&F>=0&&F<=U)return D}else if(!(A.y*q<0)&&z>=0&&z<=U)return!D;return j.current=!0,!0};$.useEffect(()=>{k&&window.requestAnimationFrame(()=>{b(!0)})},[]);function P(A){S.current=null,j.current=!1,l(A)}return $.createElement(zN,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":h&&k?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:d&&d.length>0?{"--snap-point-height":`${d[0]}px`,...t}:t,onPointerDown:A=>{v||(n.onPointerDown==null||n.onPointerDown.call(n,A),S.current={x:A.pageX,y:A.pageY},o(A))},onOpenAutoFocus:A=>{r==null||r(A),x||A.preventDefault()},onPointerDownOutside:A=>{if(e==null||e(A),!f||A.defaultPrevented){A.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:A=>{if(!f){A.preventDefault();return}},onPointerMove:A=>{if(E.current=A,v||(n.onPointerMove==null||n.onPointerMove.call(n,A),!S.current))return;const R=A.pageY-S.current.y,U=A.pageX-S.current.x,z=A.pointerType==="touch"?10:2;N({x:U,y:R},g,z)?c(A):(Math.abs(U)>z||Math.abs(R)>z)&&(S.current=null)},onPointerUp:A=>{n.onPointerUp==null||n.onPointerUp.call(n,A),S.current=null,j.current=!1,l(A)},onPointerOut:A=>{n.onPointerOut==null||n.onPointerOut.call(n,A),P(E.current)},onContextMenu:A=>{n.onContextMenu==null||n.onContextMenu.call(n,A),P(E.current)}})});$B.displayName="Drawer.Content";const Gie=250,Jie=120,RB=$.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:a,isDragging:s,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:g}=If(),y=$.useRef(null),m=$.useRef(!1);function v(){if(m.current){b();return}window.setTimeout(()=>{x()},Jie)}function x(){if(s||e||m.current){b();return}if(b(),(!o||o.length===0)&&u){a();return}if(l===o[o.length-1]&&u){a();return}const S=o.findIndex(j=>j===l);if(S===-1)return;const E=o[S+1];c(E)}function w(){y.current=window.setTimeout(()=>{m.current=!0},Gie)}function b(){window.clearTimeout(y.current),m.current=!1}return $.createElement("div",{onClick:v,onPointerCancel:b,onPointerDown:_=>{d&&h(_),w()},onPointerMove:_=>{d&&g(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},$.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});RB.displayName="Drawer.Handle";function Yie({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:a,onNestedRelease:s}=If();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return $.createElement(TB,{nested:!0,onClose:()=>{a(!1)},onDrag:(o,l)=>{n(o,l),e==null||e(o,l)},onOpenChange:o=>{o&&a(o)},onRelease:s,...r})}function Xie(e){const t=If(),{container:r=t.container,...n}=e;return $.createElement(xB,{container:r,...n})}const Po={Root:TB,NestedRoot:Yie,Content:$B,Overlay:OB,Trigger:jie,Portal:Xie,Handle:RB,Close:bB,Title:qN,Description:WN},ta=({shouldScaleBackground:e=!0,...t})=>i.jsx(Po.Root,{shouldScaleBackground:e,...t});ta.displayName="Drawer";const Qie=Po.Portal,Go=Po.Close,IB=p.forwardRef(({className:e,...t},r)=>i.jsx(Po.Overlay,{ref:r,className:fe("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm",e),...t}));IB.displayName=Po.Overlay.displayName;const ra=p.forwardRef(({className:e,children:t,showOverlay:r=!0,...n},a)=>i.jsxs(Qie,{children:[r&&i.jsx(IB,{}),i.jsx(Po.Content,{ref:a,className:fe("fixed left-2 right-2 bottom-4 z-50 mt-24 flex h-auto flex-col rounded-[36px] border-t border-l border-r bg-background/90 backdrop-blur-md",e),...n,children:t})]}));ra.displayName="DrawerContent";const na=({className:e,children:t,...r})=>i.jsxs("div",{className:fe("flex items-center justify-between gap-4 px-6 pt-6 pb-4",e),...r,children:[i.jsx("div",{className:"flex-1",children:t}),i.jsx(Go,{asChild:!0,children:i.jsx("button",{className:"rounded-full bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-gray-100 h-7 w-7 flex items-center justify-center shrink-0 transition-colors p-0","aria-label":"Close",children:i.jsx(ln,{className:"h-3.5 w-3.5"})})})]});na.displayName="DrawerHeader";const Ba=({className:e,...t})=>i.jsx("div",{className:fe("mt-auto flex flex-col gap-3 px-6 pt-4 pb-6",e),...t});Ba.displayName="DrawerFooter";const aa=p.forwardRef(({className:e,...t},r)=>i.jsx(Po.Title,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",e),...t}));aa.displayName=Po.Title.displayName;const MB=p.forwardRef(({className:e,...t},r)=>i.jsx(Po.Description,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));MB.displayName=Po.Description.displayName;var Zie=p.createContext(void 0);function Mf(e){const t=p.useContext(Zie);return e||t||"ltr"}function om(e,[t,r]){return Math.min(r,Math.max(t,e))}function ele(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var VN="ScrollArea",[LB,vFe]=Ka(VN),[tle,ys]=LB(VN),DB=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[g,y]=p.useState(null),[m,v]=p.useState(null),[x,w]=p.useState(0),[b,_]=p.useState(0),[S,E]=p.useState(!1),[j,k]=p.useState(!1),N=xt(t,A=>c(A)),P=Mf(a);return i.jsx(tle,{scope:r,type:n,dir:P,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:j,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:_,children:i.jsx(nt.div,{dir:P,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});DB.displayName=VN;var FB="ScrollAreaViewport",BB=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:s,...o}=e,l=ys(FB,r),c=p.useRef(null),u=xt(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),i.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:dle({asChild:a,children:n},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});BB.displayName=FB;var Ao="ScrollAreaScrollbar",KN=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ys(Ao,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(rle,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(nle,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(UB,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(GN,{...n,ref:t}):null});KN.displayName=Ao;var rle=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ys(Ao,e.__scopeScrollArea),[s,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(ua,{present:r||s,children:i.jsx(UB,{"data-state":s?"visible":"hidden",...n,ref:t})})}),nle=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ys(Ao,e.__scopeScrollArea),s=e.orientation==="horizontal",o=gb(()=>c("SCROLL_END"),100),[l,c]=ele("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),o()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(ua,{present:r||l!=="hidden",children:i.jsx(GN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),UB=p.forwardRef((e,t)=>{const r=ys(Ao,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=p.useState(!1),l=e.orientation==="horizontal",c=gb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Kd(r.viewport,c),Kd(r.content,c),i.jsx(ua,{present:n||s,children:i.jsx(GN,{"data-state":s?"visible":"hidden",...a,ref:t})})}),GN=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ys(Ao,e.__scopeScrollArea),s=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=VB(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,g){return cle(h,o.current,l,g)}return r==="horizontal"?i.jsx(ale,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,g=R$(h,l,a.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(sle,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,g=R$(h,l);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),ale=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ys(Ao,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=xt(t,c,s.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(qB,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),GB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:m0(o.paddingLeft),paddingEnd:m0(o.paddingRight)}})}})}),sle=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ys(Ao,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=xt(t,c,s.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(qB,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),GB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:m0(o.paddingTop),paddingEnd:m0(o.paddingBottom)}})}})}),[ole,zB]=LB(Ao),qB=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=ys(Ao,r),[y,m]=p.useState(null),v=xt(t,N=>m(N)),x=p.useRef(null),w=p.useRef(""),b=g.viewport,_=n.content-n.viewport,S=Jt(d),E=Jt(c),j=gb(f,10);function k(N){if(x.current){const P=N.clientX-x.current.left,A=N.clientY-x.current.top;u({x:P,y:A})}}return p.useEffect(()=>{const N=P=>{const A=P.target;(y==null?void 0:y.contains(A))&&S(P,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,y,_,S]),p.useEffect(E,[n,E]),Kd(y,j),Kd(g.content,j),i.jsx(ole,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Jt(s),onThumbPointerUp:Jt(o),onThumbPositionChange:E,onThumbPointerDown:Jt(l),children:i.jsx(nt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Le(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),k(N))}),onPointerMove:Le(e.onPointerMove,k),onPointerUp:Le(e.onPointerUp,N=>{const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),p0="ScrollAreaThumb",WB=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zB(p0,e.__scopeScrollArea);return i.jsx(ua,{present:r||a.hasThumb,children:i.jsx(ile,{ref:t,...n})})}),ile=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=ys(p0,r),o=zB(p0,r),{onThumbPositionChange:l}=o,c=xt(t,f=>o.onThumbChange(f)),u=p.useRef(),d=gb(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const g=ule(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(nt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Le(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),y=f.clientX-g.left,m=f.clientY-g.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:Le(e.onPointerUp,o.onThumbPointerUp)})});WB.displayName=p0;var JN="ScrollAreaCorner",HB=p.forwardRef((e,t)=>{const r=ys(JN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(lle,{...e,ref:t}):null});HB.displayName=JN;var lle=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ys(JN,r),[s,o]=p.useState(0),[l,c]=p.useState(0),u=!!(s&&l);return Kd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Kd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(nt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function m0(e){return e?parseInt(e,10):0}function VB(e,t){const r=e/t;return isNaN(r)?0:r}function mb(e){const t=VB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function cle(e,t,r,n="ltr"){const a=mb(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return KB([c,u],f)(e)}function R$(e,t,r="ltr"){const n=mb(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=om(e,c);return KB([0,o],[0,l])(u)}function KB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function GB(e,t){return e>0&&e<t}var ule=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function gb(e,t){const r=Jt(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Kd(e,t){const r=Jt(t);Jr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}function dle(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const a=p.Children.only(n);return p.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var JB=DB,fle=BB,hle=HB;const qj=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(JB,{ref:n,className:fe("relative overflow-hidden",e),...r,children:[i.jsx(fle,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(YB,{}),i.jsx(hle,{})]}));qj.displayName=JB.displayName;const YB=p.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(KN,{ref:n,orientation:t,className:fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(WB,{className:"relative flex-1 rounded-full bg-border"})}));YB.displayName=KN.displayName;const I$=768;function Ja(){const[e,t]=p.useState(window.innerWidth<I$);return p.useEffect(()=>{function r(){t(window.innerWidth<I$)}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}const tn=[{name:"Afghanistan",flag:"",code:"AF",dial_code:"+93"},{name:"land Islands",flag:"",code:"AX",dial_code:"+358"},{name:"Albania",flag:"",code:"AL",dial_code:"+355"},{name:"Algeria",flag:"",code:"DZ",dial_code:"+213"},{name:"American Samoa",flag:"",code:"AS",dial_code:"+1684"},{name:"Andorra",flag:"",code:"AD",dial_code:"+376"},{name:"Angola",flag:"",code:"AO",dial_code:"+244"},{name:"Anguilla",flag:"",code:"AI",dial_code:"+1264"},{name:"Antarctica",flag:"",code:"AQ",dial_code:"+672"},{name:"Antigua and Barbuda",flag:"",code:"AG",dial_code:"+1268"},{name:"Argentina",flag:"",code:"AR",dial_code:"+54"},{name:"Armenia",flag:"",code:"AM",dial_code:"+374"},{name:"Aruba",flag:"",code:"AW",dial_code:"+297"},{name:"Australia",flag:"",code:"AU",dial_code:"+61"},{name:"Austria",flag:"",code:"AT",dial_code:"+43"},{name:"Azerbaijan",flag:"",code:"AZ",dial_code:"+994"},{name:"Bahamas",flag:"",code:"BS",dial_code:"+1242"},{name:"Bahrain",flag:"",code:"BH",dial_code:"+973"},{name:"Bangladesh",flag:"",code:"BD",dial_code:"+880"},{name:"Barbados",flag:"",code:"BB",dial_code:"+1246"},{name:"Belarus",flag:"",code:"BY",dial_code:"+375"},{name:"Belgium",flag:"",code:"BE",dial_code:"+32"},{name:"Belize",flag:"",code:"BZ",dial_code:"+501"},{name:"Benin",flag:"",code:"BJ",dial_code:"+229"},{name:"Bermuda",flag:"",code:"BM",dial_code:"+1441"},{name:"Bhutan",flag:"",code:"BT",dial_code:"+975"},{name:"Bolivia",flag:"",code:"BO",dial_code:"+591"},{name:"Bosnia and Herzegovina",flag:"",code:"BA",dial_code:"+387"},{name:"Botswana",flag:"",code:"BW",dial_code:"+267"},{name:"Bouvet Island",flag:"",code:"BV",dial_code:"+47"},{name:"Brazil",flag:"",code:"BR",dial_code:"+55"},{name:"British Indian Ocean Territory",flag:"",code:"IO",dial_code:"+246"},{name:"Brunei Darussalam",flag:"",code:"BN",dial_code:"+673"},{name:"Bulgaria",flag:"",code:"BG",dial_code:"+359"},{name:"Burkina Faso",flag:"",code:"BF",dial_code:"+226"},{name:"Burundi",flag:"",code:"BI",dial_code:"+257"},{name:"Cambodia",flag:"",code:"KH",dial_code:"+855"},{name:"Cameroon",flag:"",code:"CM",dial_code:"+237"},{name:"Canada",flag:"",code:"CA",dial_code:"+1"},{name:"Cape Verde",flag:"",code:"CV",dial_code:"+238"},{name:"Cayman Islands",flag:"",code:"KY",dial_code:"+345"},{name:"Central African Republic",flag:"",code:"CF",dial_code:"+236"},{name:"Chad",flag:"",code:"TD",dial_code:"+235"},{name:"Chile",flag:"",code:"CL",dial_code:"+56"},{name:"China",flag:"",code:"CN",dial_code:"+86"},{name:"Christmas Island",flag:"",code:"CX",dial_code:"+61"},{name:"Cocos (Keeling) Islands",flag:"",code:"CC",dial_code:"+61"},{name:"Colombia",flag:"",code:"CO",dial_code:"+57"},{name:"Comoros",flag:"",code:"KM",dial_code:"+269"},{name:"Congo",flag:"",code:"CG",dial_code:"+242"},{name:"Congo, The Democratic Republic of the",flag:"",code:"CD",dial_code:"+243"},{name:"Cook Islands",flag:"",code:"CK",dial_code:"+682"},{name:"Costa Rica",flag:"",code:"CR",dial_code:"+506"},{name:"Cote d'Ivoire",flag:"",code:"CI",dial_code:"+225"},{name:"Croatia",flag:"",code:"HR",dial_code:"+385"},{name:"Cuba",flag:"",code:"CU",dial_code:"+53"},{name:"Cyprus",flag:"",code:"CY",dial_code:"+357"},{name:"Czech Republic",flag:"",code:"CZ",dial_code:"+420"},{name:"Denmark",flag:"",code:"DK",dial_code:"+45"},{name:"Djibouti",flag:"",code:"DJ",dial_code:"+253"},{name:"Dominica",flag:"",code:"DM",dial_code:"+1767"},{name:"Dominican Republic",flag:"",code:"DO",dial_code:"+1849"},{name:"Ecuador",flag:"",code:"EC",dial_code:"+593"},{name:"Egypt",flag:"",code:"EG",dial_code:"+20"},{name:"El Salvador",flag:"",code:"SV",dial_code:"+503"},{name:"Equatorial Guinea",flag:"",code:"GQ",dial_code:"+240"},{name:"Eritrea",flag:"",code:"ER",dial_code:"+291"},{name:"Estonia",flag:"",code:"EE",dial_code:"+372"},{name:"Ethiopia",flag:"",code:"ET",dial_code:"+251"},{name:"Falkland Islands (Malvinas)",flag:"",code:"FK",dial_code:"+500"},{name:"Faroe Islands",flag:"",code:"FO",dial_code:"+298"},{name:"Fiji",flag:"",code:"FJ",dial_code:"+679"},{name:"Finland",flag:"",code:"FI",dial_code:"+358"},{name:"France",flag:"",code:"FR",dial_code:"+33"},{name:"French Guiana",flag:"",code:"GF",dial_code:"+594"},{name:"French Polynesia",flag:"",code:"PF",dial_code:"+689"},{name:"French Southern Territories",flag:"",code:"TF",dial_code:"+262"},{name:"Gabon",flag:"",code:"GA",dial_code:"+241"},{name:"Gambia",flag:"",code:"GM",dial_code:"+220"},{name:"Georgia",flag:"",code:"GE",dial_code:"+995"},{name:"Germany",flag:"",code:"DE",dial_code:"+49"},{name:"Ghana",flag:"",code:"GH",dial_code:"+233"},{name:"Gibraltar",flag:"",code:"GI",dial_code:"+350"},{name:"Greece",flag:"",code:"GR",dial_code:"+30"},{name:"Greenland",flag:"",code:"GL",dial_code:"+299"},{name:"Grenada",flag:"",code:"GD",dial_code:"+1473"},{name:"Guadeloupe",flag:"",code:"GP",dial_code:"+590"},{name:"Guam",flag:"",code:"GU",dial_code:"+1671"},{name:"Guatemala",flag:"",code:"GT",dial_code:"+502"},{name:"Guernsey",flag:"",code:"GG",dial_code:"+44"},{name:"Guinea",flag:"",code:"GN",dial_code:"+224"},{name:"Guinea-Bissau",flag:"",code:"GW",dial_code:"+245"},{name:"Guyana",flag:"",code:"GY",dial_code:"+592"},{name:"Haiti",flag:"",code:"HT",dial_code:"+509"},{name:"Heard Island and Mcdonald Islands",flag:"",code:"HM",dial_code:"+672"},{name:"Holy See (Vatican City State)",flag:"",code:"VA",dial_code:"+379"},{name:"Honduras",flag:"",code:"HN",dial_code:"+504"},{name:"Hong Kong",flag:"",code:"HK",dial_code:"+852"},{name:"Hungary",flag:"",code:"HU",dial_code:"+36"},{name:"Iceland",flag:"",code:"IS",dial_code:"+354"},{name:"India",flag:"",code:"IN",dial_code:"+91"},{name:"Indonesia",flag:"",code:"ID",dial_code:"+62"},{name:"Iran, Islamic Republic of",flag:"",code:"IR",dial_code:"+98"},{name:"Iraq",flag:"",code:"IQ",dial_code:"+964"},{name:"Ireland",flag:"",code:"IE",dial_code:"+353"},{name:"Isle of Man",flag:"",code:"IM",dial_code:"+44"},{name:"Israel",flag:"",code:"IL",dial_code:"+972"},{name:"Italy",flag:"",code:"IT",dial_code:"+39"},{name:"Jamaica",flag:"",code:"JM",dial_code:"+1876"},{name:"Japan",flag:"",code:"JP",dial_code:"+81"},{name:"Jersey",flag:"",code:"JE",dial_code:"+44"},{name:"Jordan",flag:"",code:"JO",dial_code:"+962"},{name:"Kazakhstan",flag:"",code:"KZ",dial_code:"+7"},{name:"Kenya",flag:"",code:"KE",dial_code:"+254"},{name:"Kiribati",flag:"",code:"KI",dial_code:"+686"},{name:"Korea, Democratic People's Republic of",flag:"",code:"KP",dial_code:"+850"},{name:"Korea, Republic of",flag:"",code:"KR",dial_code:"+82"},{name:"Kuwait",flag:"",code:"KW",dial_code:"+965"},{name:"Kyrgyzstan",flag:"",code:"KG",dial_code:"+996"},{name:"Lao People's Democratic Republic",flag:"",code:"LA",dial_code:"+856"},{name:"Latvia",flag:"",code:"LV",dial_code:"+371"},{name:"Lebanon",flag:"",code:"LB",dial_code:"+961"},{name:"Lesotho",flag:"",code:"LS",dial_code:"+266"},{name:"Liberia",flag:"",code:"LR",dial_code:"+231"},{name:"Libyan Arab Jamahiriya",flag:"",code:"LY",dial_code:"+218"},{name:"Liechtenstein",flag:"",code:"LI",dial_code:"+423"},{name:"Lithuania",flag:"",code:"LT",dial_code:"+370"},{name:"Luxembourg",flag:"",code:"LU",dial_code:"+352"},{name:"Macao",flag:"",code:"MO",dial_code:"+853"},{name:"Macedonia, The Former Yugoslav Republic of",flag:"",code:"MK",dial_code:"+389"},{name:"Madagascar",flag:"",code:"MG",dial_code:"+261"},{name:"Malawi",flag:"",code:"MW",dial_code:"+265"},{name:"Malaysia",flag:"",code:"MY",dial_code:"+60"},{name:"Maldives",flag:"",code:"MV",dial_code:"+960"},{name:"Mali",flag:"",code:"ML",dial_code:"+223"},{name:"Malta",flag:"",code:"MT",dial_code:"+356"},{name:"Marshall Islands",flag:"",code:"MH",dial_code:"+692"},{name:"Martinique",flag:"",code:"MQ",dial_code:"+596"},{name:"Mauritania",flag:"",code:"MR",dial_code:"+222"},{name:"Mauritius",flag:"",code:"MU",dial_code:"+230"},{name:"Mayotte",flag:"",code:"YT",dial_code:"+262"},{name:"Mexico",flag:"",code:"MX",dial_code:"+52"},{name:"Micronesia, Federated States of",flag:"",code:"FM",dial_code:"+691"},{name:"Moldova, Republic of",flag:"",code:"MD",dial_code:"+373"},{name:"Monaco",flag:"",code:"MC",dial_code:"+377"},{name:"Mongolia",flag:"",code:"MN",dial_code:"+976"},{name:"Montserrat",flag:"",code:"MS",dial_code:"+1664"},{name:"Morocco",flag:"",code:"MA",dial_code:"+212"},{name:"Mozambique",flag:"",code:"MZ",dial_code:"+258"},{name:"Myanmar",flag:"",code:"MM",dial_code:"+95"},{name:"Namibia",flag:"",code:"NA",dial_code:"+264"},{name:"Nauru",flag:"",code:"NR",dial_code:"+674"},{name:"Nepal",flag:"",code:"NP",dial_code:"+977"},{name:"Netherlands",flag:"",code:"NL",dial_code:"+31"},{name:"Netherlands Antilles",flag:"",code:"AN",dial_code:"+599"},{name:"New Caledonia",flag:"",code:"NC",dial_code:"+687"},{name:"New Zealand",flag:"",code:"NZ",dial_code:"+64"},{name:"Nicaragua",flag:"",code:"NI",dial_code:"+505"},{name:"Niger",flag:"",code:"NE",dial_code:"+227"},{name:"Nigeria",flag:"",code:"NG",dial_code:"+234"},{name:"Niue",flag:"",code:"NU",dial_code:"+683"},{name:"Norfolk Island",flag:"",code:"NF",dial_code:"+672"},{name:"Northern Mariana Islands",flag:"",code:"MP",dial_code:"+1670"},{name:"Norway",flag:"",code:"NO",dial_code:"+47"},{name:"Oman",flag:"",code:"OM",dial_code:"+968"},{name:"Pakistan",flag:"",code:"PK",dial_code:"+92"},{name:"Palau",flag:"",code:"PW",dial_code:"+680"},{name:"Palestinian Territory, Occupied",flag:"",code:"PS",dial_code:"+970"},{name:"Panama",flag:"",code:"PA",dial_code:"+507"},{name:"Papua New Guinea",flag:"",code:"PG",dial_code:"+675"},{name:"Paraguay",flag:"",code:"PY",dial_code:"+595"},{name:"Peru",flag:"",code:"PE",dial_code:"+51"},{name:"Philippines",flag:"",code:"PH",dial_code:"+63"},{name:"Pitcairn",flag:"",code:"PN",dial_code:"+870"},{name:"Poland",flag:"",code:"PL",dial_code:"+48"},{name:"Portugal",flag:"",code:"PT",dial_code:"+351"},{name:"Puerto Rico",flag:"",code:"PR",dial_code:"+1939"},{name:"Qatar",flag:"",code:"QA",dial_code:"+974"},{name:"Reunion",flag:"",code:"RE",dial_code:"+262"},{name:"Romania",flag:"",code:"RO",dial_code:"+40"},{name:"Russia",flag:"",code:"RU",dial_code:"+7"},{name:"Rwanda",flag:"",code:"RW",dial_code:"+250"},{name:"Saint Helena",flag:"",code:"SH",dial_code:"+290"},{name:"Saint Kitts and Nevis",flag:"",code:"KN",dial_code:"+1869"},{name:"Saint Lucia",flag:"",code:"LC",dial_code:"+1758"},{name:"Saint Pierre and Miquelon",flag:"",code:"PM",dial_code:"+508"},{name:"Saint Vincent and the Grenadines",flag:"",code:"VC",dial_code:"+1784"},{name:"Samoa",flag:"",code:"WS",dial_code:"+685"},{name:"San Marino",flag:"",code:"SM",dial_code:"+378"},{name:"Sao Tome and Principe",flag:"",code:"ST",dial_code:"+239"},{name:"Saudi Arabia",flag:"",code:"SA",dial_code:"+966"},{name:"Senegal",flag:"",code:"SN",dial_code:"+221"},{name:"Serbia and Montenegro",flag:"",code:"CS",dial_code:"+381"},{name:"Seychelles",flag:"",code:"SC",dial_code:"+248"},{name:"Sierra Leone",flag:"",code:"SL",dial_code:"+232"},{name:"Singapore",flag:"",code:"SG",dial_code:"+65"},{name:"Slovakia",flag:"",code:"SK",dial_code:"+421"},{name:"Slovenia",flag:"",code:"SI",dial_code:"+386"},{name:"Solomon Islands",flag:"",code:"SB",dial_code:"+677"},{name:"Somalia",flag:"",code:"SO",dial_code:"+252"},{name:"South Africa",flag:"",code:"ZA",dial_code:"+27"},{name:"South Georgia and the South Sandwich Islands",flag:"",code:"GS",dial_code:"+500"},{name:"Spain",flag:"",code:"ES",dial_code:"+34"},{name:"Sri Lanka",flag:"",code:"LK",dial_code:"+94"},{name:"Sudan",flag:"",code:"SD",dial_code:"+249"},{name:"Suriname",flag:"",code:"SR",dial_code:"+597"},{name:"Svalbard and Jan Mayen",flag:"",code:"SJ",dial_code:"+47"},{name:"Swaziland",flag:"",code:"SZ",dial_code:"+268"},{name:"Sweden",flag:"",code:"SE",dial_code:"+46"},{name:"Switzerland",flag:"",code:"CH",dial_code:"+41"},{name:"Syrian Arab Republic",flag:"",code:"SY",dial_code:"+963"},{name:"Taiwan, Province of China",flag:"",code:"TW",dial_code:"+886"},{name:"Tajikistan",flag:"",code:"TJ",dial_code:"+992"},{name:"Tanzania, United Republic of",flag:"",code:"TZ",dial_code:"+255"},{name:"Thailand",flag:"",code:"TH",dial_code:"+66"},{name:"Timor-Leste",flag:"",code:"TL",dial_code:"+670"},{name:"Togo",flag:"",code:"TG",dial_code:"+228"},{name:"Tokelau",flag:"",code:"TK",dial_code:"+690"},{name:"Tonga",flag:"",code:"TO",dial_code:"+676"},{name:"Trinidad and Tobago",flag:"",code:"TT",dial_code:"+1868"},{name:"Tunisia",flag:"",code:"TN",dial_code:"+216"},{name:"Turkey",flag:"",code:"TR",dial_code:"+90"},{name:"Turkmenistan",flag:"",code:"TM",dial_code:"+993"},{name:"Turks and Caicos Islands",flag:"",code:"TC",dial_code:"+1649"},{name:"Tuvalu",flag:"",code:"TV",dial_code:"+688"},{name:"Uganda",flag:"",code:"UG",dial_code:"+256"},{name:"Ukraine",flag:"",code:"UA",dial_code:"+380"},{name:"United Arab Emirates",flag:"",code:"AE",dial_code:"+971"},{name:"United Kingdom",flag:"",code:"GB",dial_code:"+44"},{name:"United States",flag:"",code:"US",dial_code:"+1"},{name:"United States Minor Outlying Islands",flag:"",code:"UM",dial_code:"+1"},{name:"Uruguay",flag:"",code:"UY",dial_code:"+598"},{name:"Uzbekistan",flag:"",code:"UZ",dial_code:"+998"},{name:"Vanuatu",flag:"",code:"VU",dial_code:"+678"},{name:"Venezuela",flag:"",code:"VE",dial_code:"+58"},{name:"Viet Nam",flag:"",code:"VN",dial_code:"+84"},{name:"Virgin Islands, British",flag:"",code:"VG",dial_code:"+1284"},{name:"Virgin Islands, U.S.",flag:"",code:"VI",dial_code:"+1340"},{name:"Wallis and Futuna",flag:"",code:"WF",dial_code:"+681"},{name:"Western Sahara",flag:"",code:"EH",dial_code:"+212"},{name:"Yemen",flag:"",code:"YE",dial_code:"+967"},{name:"Zambia",flag:"",code:"ZM",dial_code:"+260"},{name:"Zimbabwe",flag:"",code:"ZW",dial_code:"+263"}],M$=({countries:e,onSelect:t,selectedCountry:r})=>i.jsx("div",{className:"space-y-1",children:e.map(n=>i.jsxs("button",{onClick:()=>t(n),className:`w-full text-left px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3 ${(r==null?void 0:r.code)===n.code?"bg-primary/10 text-primary":""}`,children:[i.jsx("span",{className:"text-lg",children:n.flag}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:n.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:n.dial_code})]})]},n.code))}),ple=({isOpen:e,onClose:t,onSelect:r,selectedCountry:n})=>{const a=Ja(),[s,o]=p.useState(""),l=p.useMemo(()=>{if(!s)return tn;const d=s.toLowerCase();return tn.filter(f=>f.name.toLowerCase().includes(d)||f.dial_code.includes(s)||f.code.toLowerCase().includes(d))},[s]),c=d=>{r(d),t()},u=()=>{o("")};return a?i.jsx(ta,{open:e,onOpenChange:t,children:i.jsxs(ra,{className:"h-[85vh]",children:[i.jsx(na,{children:i.jsx(aa,{children:"Select Country"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(pt,{placeholder:"Search countries or dial codes...",value:s,onChange:d=>o(d.target.value),className:"pl-10 pr-10 w-full"}),s&&i.jsx(ae,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:i.jsx(ln,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx(qj,{className:"h-full px-4",children:i.jsx(M$,{countries:l,onSelect:c,selectedCountry:n})})}),i.jsx("div",{className:"p-4 border-t",children:i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"outline",className:"w-full",children:"Cancel"})})})]})}):i.jsx(zn,{open:e,onOpenChange:t,children:i.jsxs(En,{className:"max-w-md max-h-[80vh]",children:[i.jsx(Nn,{children:i.jsx(Cn,{children:"Select Country"})}),i.jsx("div",{className:"mt-4 pb-4",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(pt,{placeholder:"Search countries or dial codes...",value:s,onChange:d=>o(d.target.value),className:"pl-10 pr-10 w-full"}),s&&i.jsx(ae,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:i.jsx(ln,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"overflow-hidden",children:i.jsx(qj,{className:"h-[400px]",children:i.jsx(M$,{countries:l,onSelect:c,selectedCountry:n})})})]})})},XB=({value:e,onChange:t,placeholder:r="Select country",className:n=""})=>{const[a,s]=p.useState(!1),o=tn.find(c=>c.code==="GE"),l=e||o;return i.jsxs(i.Fragment,{children:[i.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":a,className:`justify-between shrink-0 ${n}`,onClick:()=>s(!0),children:[l?i.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[i.jsx("span",{className:"text-lg shrink-0",children:l.flag}),i.jsx("span",{className:"text-muted-foreground whitespace-nowrap",children:l.dial_code})]}):r,i.jsx(ise,{className:"ml-1.5 h-4 w-4 shrink-0 opacity-50 text-muted-foreground"})]}),i.jsx(ple,{isOpen:a,onClose:()=>s(!1),onSelect:t,selectedCountry:l})]})},mle=()=>{const e=lr(),[t,r]=p.useState(!1),[n,a]=p.useState(tn.find(N=>N.code==="GE")),[s,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[g,y]=p.useState(""),[m,v]=p.useState(!1),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(!1),j=p.useCallback(N=>new Promise((P,A)=>{const R=new Image;R.onload=()=>P(),R.onerror=()=>A(new Error(`Failed to load image: ${N}`)),R.src=N}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([j("/lovable-uploads/breneo_logo.png"),j("/lovable-uploads/way.png")])}catch(P){console.warn("Some images failed to preload:",P),E(!0)}})()},[j]);const k=async N=>{N.preventDefault(),v(!0);const P=`${n==null?void 0:n.dial_code}${f}`;try{await Te.post(vt.AUTH.REGISTER,{first_name:s,last_name:l,email:u,phone_number:P,password:g}),sessionStorage.setItem("tempEmail",u),sessionStorage.setItem("tempPassword",g),e("/email-verification"),ue.success("Registration successful! Verify your email.")}catch(A){let R="Registration failed. Please try again.";Vt.isAxiosError(A)&&A.response&&(R=A.response.data.detail||A.response.data.message||A.response.data.error||R),ue.error(R)}finally{v(!1)}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[i.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[i.jsxs("div",{className:"flex items-center",children:[!x&&!S&&i.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),S&&i.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsxs("div",{className:"flex flex-1",children:[i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[!x&&!S&&i.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${x?"opacity-100":"opacity-0"}`,onLoad:()=>w(!0),onError:()=>{E(!0),w(!0)}}),S&&i.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Create Account"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:"Sign up for your Breneo account"}),i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{className:"mt-1 flex gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(qe,{htmlFor:"firstName",children:"First Name"}),i.jsx(pt,{id:"firstName",placeholder:"John",className:"mt-1 h-12",value:s,onChange:N=>o(N.target.value),required:!0})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(qe,{htmlFor:"lastName",children:"Last Name"}),i.jsx(pt,{id:"lastName",placeholder:"Doe",className:"mt-1 h-12",value:l,onChange:N=>c(N.target.value),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"email",children:"Email Address"}),i.jsx(pt,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-12",value:u,onChange:N=>d(N.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"phone",children:"Phone Number"}),i.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[i.jsx(XB,{value:n,onChange:a,className:"max-w-fit px-3 h-12 border-0 bg-transparent hover:bg-transparent rounded-r-none"}),i.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),i.jsx(pt,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-12 border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:N=>h(N.target.value),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(pt,{id:"password",type:t?"text":"password",placeholder:"Create a password",className:"pr-10 h-12",value:g,onChange:N=>y(N.target.value),required:!0}),i.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?i.jsx(nm,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):i.jsx(Nl,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]}),i.jsx(ae,{type:"submit",className:"w-full h-14",disabled:m,children:m?"Signing Up...":"Sign Up"})]}),i.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",i.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),i.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:i.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!b&&!S&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:i.jsx(en,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),i.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${b?"opacity-100":"opacity-0"}`,style:{backgroundImage:b?"url('/lovable-uploads/way.png')":"none"}}),i.jsx("img",{src:"/lovable-uploads/way.png",alt:"",className:"hidden",onLoad:()=>_(!0),onError:()=>{E(!0),_(!0)}}),S&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[i.jsx(en,{className:"h-16 w-16 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"Way"})]})})]})})]})]})},z1="https://breneo.onrender.com",gle=()=>{const e=lr(),[t,r]=p.useState(1),[n,a]=p.useState(""),[s,o]=p.useState(["","","","","",""]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),[g,y]=p.useState(!1),[m,v]=p.useState(!1),x=p.useRef([]),[w,b]=p.useState(!1),[_,S]=p.useState(!1),[E,j]=p.useState(!1),k=p.useCallback(z=>new Promise((F,D)=>{const q=new Image;q.onload=()=>F(),q.onerror=()=>D(new Error(`Failed to load image: ${z}`)),q.src=z}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([k("/lovable-uploads/breneo_logo.png"),k("/lovable-uploads/future.png")])}catch(F){console.warn("Some images failed to preload:",F),j(!0)}})()},[k]),p.useEffect(()=>{document.title="Reset Password | Breneo"},[]);const N=async z=>{var F,D;z.preventDefault(),v(!0);try{const q=await Vt.post(`${z1}/password-reset/request/`,{email:n});ue.success(q.data.message||"Code sent to your email!"),r(2)}catch(q){ue.error(((D=(F=q.response)==null?void 0:F.data)==null?void 0:D.error)||"Error sending code")}finally{v(!1)}},P=async z=>{var D,q;z.preventDefault();const F=s.join("");if(F.length!==6){ue.error("Please enter a 6-digit code.");return}v(!0);try{const T=await Vt.post(`${z1}/password-reset/verify/`,{email:n,code:F});ue.success(T.data.message||"Code verified!"),r(3)}catch(T){ue.error(((q=(D=T.response)==null?void 0:D.data)==null?void 0:q.error)||"Invalid code")}finally{v(!1)}},A=(z,F)=>{var q;if(F&&!/^\d$/.test(F))return;const D=[...s];D[z]=F,o(D),F&&z<5&&((q=x.current[z+1])==null||q.focus())},R=(z,F)=>{var D;F.key==="Backspace"&&!s[z]&&z>0&&((D=x.current[z-1])==null||D.focus())},U=async z=>{var F,D;if(z.preventDefault(),l!==u){ue.error("Passwords do not match");return}v(!0);try{const q=s.join(""),T=await Vt.post(`${z1}/password-reset/set-new/`,{email:n,code:q,new_password:l,confirm_password:u});ue.success(T.data.message||"Password reset successfully!"),e("/auth/login")}catch(q){ue.error(((D=(F=q.response)==null?void 0:F.data)==null?void 0:D.error)||"Error setting new password")}finally{v(!1)}};return i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[i.jsxs("div",{className:"flex items-center",children:[!w&&!E&&i.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{j(!0),b(!0)}}),E&&i.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsxs("div",{className:"flex flex-1",children:[i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[!w&&!E&&i.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onLoad:()=>b(!0),onError:()=>{j(!0),b(!0)}}),E&&i.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Reset Password"}),t===1&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your email to receive a verification code."}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"email",children:"Email Address"}),i.jsx(pt,{id:"email",type:"email",placeholder:"Enter your email",className:"mt-1 h-12",value:n,onChange:z=>a(z.target.value),required:!0,disabled:m})]}),i.jsx(ae,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Sending Code...":"Send Code"})]})]}),t===2&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-muted-foreground mb-8",children:["A code was sent to ",n,". Please enter it below."]}),i.jsxs("form",{onSubmit:P,className:"space-y-6",children:[i.jsx("div",{className:"w-full sm:w-[23.5rem]",children:i.jsx("div",{className:"flex gap-2 sm:gap-2",children:s.map((z,F)=>i.jsx(pt,{ref:D=>x.current[F]=D,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:z,onChange:D=>A(F,D.target.value),onKeyDown:D=>R(F,D),maxLength:1,required:!0,disabled:m,autoFocus:F===0},F))})}),i.jsx(ae,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Verifying...":"Verify Code"})]})]}),t===3&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground mb-8",children:"Enter your new password."}),i.jsxs("form",{onSubmit:U,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"newPassword",children:"New Password"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(pt,{id:"newPassword",type:f?"text":"password",placeholder:"Enter new password",className:"pr-10 h-12",value:l,onChange:z=>c(z.target.value),required:!0,disabled:m}),i.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!f),disabled:m,children:f?i.jsx(nm,{className:"h-4 w-4 text-gray-500"}):i.jsx(Nl,{className:"h-4 w-4 text-gray-500"})})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(pt,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirm new password",className:"pr-10 h-12",value:u,onChange:z=>d(z.target.value),required:!0,disabled:m}),i.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!g),disabled:m,children:g?i.jsx(nm,{className:"h-4 w-4 text-gray-500"}):i.jsx(Nl,{className:"h-4 w-4 text-gray-500"})})]})]}),i.jsx(ae,{type:"submit",className:"w-full h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:m,children:m?"Setting...":"Set New Password"})]})]}),i.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Remembered your password?"," ",i.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),i.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:i.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!_&&!E&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:i.jsx(en,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),i.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${_?"opacity-100":"opacity-0"}`,style:{backgroundImage:_?"url('/lovable-uploads/future.png')":"none"}}),i.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>S(!0),onError:()=>{j(!0),S(!0)}}),E&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[i.jsx(en,{className:"h-16 w-16 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},yle=()=>{var E,j;const e=lr(),t=Ga(),{login:r}=vr(),[n,a]=p.useState(["","","","","",""]),[s,o]=p.useState(!1),l=p.useRef([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,g]=p.useState(!1),y=((E=t.state)==null?void 0:E.email)||sessionStorage.getItem("tempEmail")||sessionStorage.getItem("tempAcademyEmail"),m=sessionStorage.getItem("tempPassword"),v=((j=t.state)==null?void 0:j.isAcademy)||!1,x=p.useCallback(k=>new Promise((N,P)=>{const A=new Image;A.onload=()=>N(),A.onerror=()=>P(new Error(`Failed to load image: ${k}`)),A.src=k}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([x("/lovable-uploads/breneo_logo.png"),x("/lovable-uploads/future.png")])}catch(N){console.warn("Some images failed to preload:",N),g(!0)}})()},[x]),p.useEffect(()=>{document.title="Email Verification | Breneo"},[]);const w=async()=>{var k,N,P,A,R;if(!y||!m){ue.error("Session expired. Please log in manually."),e("/auth/login");return}try{console.log("Attempting auto-login with:",{email:y,passwordLength:m.length}),await r(y,m),ue.success("Email verified and logged in!"),sessionStorage.removeItem("tempEmail"),sessionStorage.removeItem("tempPassword")}catch(U){console.error("Auto-login failed:",U),Vt.isAxiosError(U)&&console.error("Login error details:",{status:(k=U.response)==null?void 0:k.status,statusText:(N=U.response)==null?void 0:N.statusText,data:(P=U.response)==null?void 0:P.data,url:(A=U.config)==null?void 0:A.url,method:(R=U.config)==null?void 0:R.method}),ue.error("Verification successful, but auto-login failed. Please log in manually."),e("/auth/login")}},b=(k,N)=>{var A;if(N&&!/^\d$/.test(N))return;const P=[...n];P[k]=N,a(P),N&&k<5&&((A=l.current[k+1])==null||A.focus())},_=(k,N)=>{var P;N.key==="Backspace"&&!n[k]&&k>0&&((P=l.current[k-1])==null||P.focus())},S=async k=>{if(k.preventDefault(),!y){ue.error("Email missing. Please register again."),e("/auth/signup");return}const N=n.join("");if(N.length!==6){ue.error("Please enter a 6-digit code.");return}o(!0);try{const P=v?vt.AUTH.VERIFY_ACADEMY_EMAIL:vt.AUTH.VERIFY_CODE;await Te.post(P,{email:y,code:N}),v?(ue.success("Email verified successfully!"),sessionStorage.removeItem("tempAcademyEmail"),e("/auth/login")):m?await w():(ue.success("Email verified successfully!"),sessionStorage.removeItem("tempEmail"),e("/auth/login"))}catch(P){let A="Verification failed. Please try again.",R=!1;if(Vt.isAxiosError(P)&&P.response){const U=P.response.data,z=U.detail||U.message||U.error||Array.isArray(U.email)&&U.email[0]||"";A=typeof z=="string"?z:A,P.response.status===400&&A.toLowerCase().includes("user with this email already exists")&&(R=!0)}R&&!v&&m?(ue.info("Verification processed, attempting login..."),await w()):ue.error(A)}finally{o(!1)}};return i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[i.jsxs("div",{className:"flex items-center",children:[!c&&!h&&i.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&i.jsx("div",{className:"h-7 w-20 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsxs("div",{className:"flex flex-1",children:[i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-8 hidden lg:flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[!c&&!h&&i.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,onLoad:()=>u(!0),onError:()=>{g(!0),u(!0)}}),h&&i.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Breneo"})})]}),i.jsx(jo,{})]}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Verify Your Email"}),i.jsxs("p",{className:"text-muted-foreground mb-8",children:["Enter the 6-digit code sent to your email"," ",v&&"(academy registration)"," (",y||"your-email",")"]}),i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsx("div",{className:"w-full sm:w-[23.5rem]",children:i.jsx("div",{className:"flex gap-2 sm:gap-2",children:n.map((k,N)=>i.jsx(pt,{ref:P=>l.current[N]=P,type:"text",inputMode:"numeric",className:"flex-1 sm:flex-none h-12 sm:h-14 w-0 sm:w-14 text-center text-xl sm:text-2xl font-semibold",value:k,onChange:P=>b(N,P.target.value),onKeyDown:P=>_(N,P),maxLength:1,required:!0,disabled:s,autoFocus:N===0},N))})}),i.jsx(ae,{type:"submit",className:"w-full sm:w-[23.5rem] h-12 sm:h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90",disabled:s,children:s?"Verifying...":"Verify Email"})]}),i.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Didn't receive a code?"," ",i.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Back to Login"})]})]})}),i.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:i.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!d&&!h&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:i.jsx(en,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),i.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,style:{backgroundImage:d?"url('/lovable-uploads/future.png')":"none"}}),i.jsx("img",{src:"/lovable-uploads/future.png",alt:"",className:"hidden",onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-blue-600 dark:text-gray-400",children:[i.jsx(en,{className:"h-16 w-16 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"Future Technology"})]})})]})})]})]})},Ne=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fe("rounded-lg border bg-card text-card-foreground",e),...t}));Ne.displayName="Card";const ht=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",e),...t}));ht.displayName="CardHeader";const At=p.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));At.displayName="CardTitle";const Hr=p.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));Hr.displayName="CardDescription";const Pe=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fe("p-6 pt-0",e),...t}));Pe.displayName="CardContent";const vle=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",e),...t}));vle.displayName="CardFooter";const xle=()=>(p.useEffect(()=>{const e="Email Confirmed | Breneo",t="Your email has been confirmed. You can now log in to your Breneo account.";document.title=e;let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content",t);let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n)),n.setAttribute("href",`${window.location.origin}/email-confirmed`)},[]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("main",{className:"w-full max-w-md px-4",children:[i.jsx("h1",{className:"sr-only",children:"Email confirmation successful"}),i.jsxs(Ne,{className:"shadow-md",children:[i.jsxs(ht,{className:"text-center pt-8",children:[i.jsx("div",{className:"mx-auto mb-4 rounded-full bg-primary/10 p-3 text-primary",children:i.jsx(Ec,{className:"h-8 w-8","aria-hidden":"true"})}),i.jsx("p",{className:"text-xl font-semibold text-foreground",children:"Your email is confirmed"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Thank you! Your account is now verified."})]}),i.jsx(Pe,{className:"pb-8 pt-2",children:i.jsx("div",{className:"mt-6",children:i.jsx(ae,{asChild:!0,className:"w-full",children:i.jsx(Lr,{to:"/auth/login","aria-label":"Go to login page",children:"Go to Login"})})})})]})]})}));function ro({to:e,...t}){const{language:r}=Ys(),n=typeof e=="string"?e:e.pathname||"",a=n.startsWith("/auth")||n==="/auth"?e:rs(n,r);return i.jsx(Lr,{to:a,...t})}const ble=rb("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rr({className:e,variant:t,...r}){return i.jsx("div",{className:fe(ble({variant:t}),e),...r})}function YN({collapsed:e,toggleSidebar:t}){const r=Ga(),{loading:n,user:a}=vr(),{theme:s,setTheme:o}=$l(),{language:l,setLanguage:c}=Ys(),u=Co(),[d,f]=$.useState(!1),h=rm(r.pathname),g=l==="ka"?"GEO":"EN",y=r.pathname,m=(a==null?void 0:a.user_type)==="academy"||typeof window<"u"&&localStorage.getItem("userRole")==="academy";if($.useEffect(()=>{f(!0)},[]),n)return null;const v=()=>{if(!a)return"Member";const{first_name:j,last_name:k,email:N}=a;if(j&&k){const P=A=>A?A.charAt(0).toUpperCase()+A.slice(1).toLowerCase():"";return`${P(j)} ${P(k)}`}return N??"Member"},x=()=>a!=null&&a.first_name&&(a!=null&&a.last_name)?`${a.first_name.charAt(0)}${a.last_name.charAt(0)}`.toUpperCase():a!=null&&a.email?a.email.charAt(0).toUpperCase():"U",w=m?[{icon:Dj,label:u.nav.home,href:"/academy/home"},{icon:u$,label:u.nav.courses,href:"/academy/courses"}]:[{icon:Dj,label:u.nav.home,href:"/home"},{icon:hn,label:u.nav.jobs,href:"/jobs"},{icon:u$,label:u.nav.courses,href:"/courses"},{icon:I8,label:u.nav.webinars,href:"/webinars"}],b=m?"/academy/profile":"/profile",_=m?"/academy/settings":"/settings",S=m?"/academy/home":"/home",E=[...w,{icon:T8,label:u.nav.profile,href:b}];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-[#F6F9F9]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-b border-black/[0.03] dark:border-white/[0.03] px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ro,{to:S,className:"flex items-center",children:i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-7"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ae,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full !text-gray-500 hover:!text-gray-700 dark:!text-gray-400 dark:hover:!text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:!bg-black/[0.08] dark:hover:!bg-white/[0.05] transition-colors
                         text-sm font-medium flex items-center gap-2`,children:[i.jsx(Cl,{className:"h-4 w-4"}),i.jsx("span",{children:g})]}),i.jsx("button",{onClick:()=>o(s==="dark"?"light":"dark"),className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:d&&s==="dark"?i.jsx(RN,{size:20}):i.jsx(u0,{size:20})}),i.jsx(ro,{to:"/notifications",className:`h-10 w-10 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 
                         bg-black/[0.06] dark:bg-white/[0.03] hover:bg-black/[0.08] dark:hover:bg-white/[0.05] transition-colors rounded-full`,children:i.jsx(TN,{size:20})})]})]})}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[#F6F9F9]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-t border-black/[0.03] dark:border-white/[0.03]",children:i.jsx("nav",{className:"flex justify-around items-center py-2",children:E.map((j,k)=>{let N=h===j.href;return j.href==="/home"?N=h==="/home"||h==="/dashboard"||y.includes("/home")||y.includes("/dashboard"):j.href==="/academy/home"?N=h==="/academy/home"||h==="/academy/dashboard"||y.includes("/academy/home")||y.includes("/academy/dashboard"):N=h===j.href||y.endsWith(j.href),i.jsxs(ro,{to:j.href,className:fe("flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-200 min-w-0 flex-1 mx-1",N?"text-gray-600":"text-gray-600 hover:text-breneo-blue"),children:[i.jsx(j.icon,{size:20,className:fe("transition-colors duration-200 mb-1",N?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue")}),i.jsx("span",{className:fe("text-xs font-medium transition-colors duration-200 text-center",N?"text-gray-600":"text-gray-600 group-hover:text-breneo-blue"),children:j.label})]},k)})})}),i.jsxs("div",{className:fe("hidden md:flex fixed top-4 left-4 bottom-4 z-40 bg-[#FFFFFF] dark:bg-card border border-gray-200 dark:border-border transition-all duration-300 flex-col rounded-2xl",e?"w-20":"w-64"),children:[i.jsx("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 dark:border-border",children:e?i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-5 w-10 object-cover object-left"}):i.jsx(ro,{to:S,className:"flex items-center space-x-2",children:i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-8"})})}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsx("div",{className:"flex-1 overflow-y-auto pt-8",children:i.jsx("nav",{className:"space-y-2 px-4",children:w.map((j,k)=>{let N=h===j.href;return j.href==="/home"?N=h==="/home"||h==="/dashboard"||y.includes("/home")||y.includes("/dashboard"):j.href==="/academy/home"?N=h==="/academy/home"||h==="/academy/dashboard"||y.includes("/academy/home")||y.includes("/academy/dashboard"):N=h===j.href||y.endsWith(j.href),i.jsxs(ro,{to:j.href,className:fe("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",N?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[i.jsx(j.icon,{size:22,className:fe("transition-colors duration-200 flex-shrink-0",N?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&i.jsxs("span",{className:fe("font-medium text-base transition-colors duration-200 flex items-center gap-3",N?"text-breneo-blue":"text-gray-600 group-hover:text-breneo-blue"),children:[j.label,j.href==="/webinars"&&i.jsx(rr,{className:"bg-breneo-blue text-white border-0 px-3 py-0.8 text-[12px] font-semibold hidden md:inline-flex",children:"Soon"})]})]},k)})})}),i.jsxs("div",{className:"px-4 pb-4",children:[i.jsx("div",{className:"border-t border-gray-200 dark:border-border mb-4"}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs(ro,{to:_,className:fe("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",h===_?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[i.jsx(ab,{size:22,className:fe("flex-shrink-0 transition-colors duration-200",h===_?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&i.jsx("span",{className:"font-medium text-base",children:u.nav.settings})]}),i.jsxs(ro,{to:"/help",className:fe("flex items-center space-x-4 px-4 py-4 rounded-xl transition-all duration-200 group",h==="/help"?"bg-breneo-blue/10 text-breneo-blue":"text-gray-600 hover:bg-gray-50 dark:hover:bg-[#2d2d2d] hover:text-breneo-blue"),children:[i.jsx(lse,{size:22,className:fe("flex-shrink-0 transition-colors duration-200",h==="/help"?"text-breneo-blue":"text-gray-400 group-hover:text-breneo-blue dark:text-gray-400 dark:group-hover:text-breneo-blue")}),!e&&i.jsx("span",{className:"font-medium text-base",children:u.nav.help})]}),!m&&i.jsx(ro,{to:"/subscription",className:fe("flex items-center justify-between px-3 py-2 rounded-md transition-all duration-200 group","bg-gradient-to-r from-breneo-blue/10 to-purple-500/10 dark:from-breneo-blue/20 dark:to-purple-500/20","border border-breneo-blue/20 dark:border-breneo-blue/30","hover:from-breneo-blue/15 hover:to-purple-500/15 dark:hover:from-breneo-blue/25 dark:hover:to-purple-500/25",e&&"justify-center px-2"),children:e?i.jsx(c0,{size:14,className:"text-breneo-blue"}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[i.jsx(c0,{size:14,className:"text-breneo-blue flex-shrink-0"}),i.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-200 truncate",children:u.subscription.upgrade})]}),i.jsx(Ma,{size:14,className:"text-breneo-blue flex-shrink-0 group-hover:translate-x-0.5 transition-transform"})]})})]}),i.jsx("div",{className:"border-t border-gray-200 dark:border-border mt-4 pt-4",children:i.jsxs(ro,{to:b,className:"flex items-center space-x-4 px-4 py-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group",children:[i.jsx("div",{className:fe("flex items-center justify-center w-8 h-8 rounded-[12px] text-sm font-semibold shrink-0",a!=null&&a.profile_image?"overflow-hidden":"bg-[#AAF0FF] text-[#099DBC]"),children:a!=null&&a.profile_image?i.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-full h-full object-cover rounded-[12px]"}):x()}),!e&&i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm text-gray-700",children:v()}),i.jsx("p",{className:"text-xs text-gray-400",children:a==null?void 0:a.email})]})]})})]})]})]})]})}const QB=e=>/^(\/(en|ka))?\/jobs\/[^/]+$/.test(e),ZB=e=>/^(\/(en|ka))?\/course\/[^/]+$/.test(e),wle=e=>e.includes("/skill-path"),_le=e=>/^(\/(en|ka))?\/academy\/courses\/(add|edit\/[^/]+)$/.test(e),Sle=(e,t,r)=>r?QB(e)||ZB(e)?null:e.startsWith("/home")||e.startsWith("/academy/home")?i.jsxs(i.Fragment,{children:[r.dashboard.welcome,","," ",i.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/dashboard")||e.startsWith("/academy/dashboard")?i.jsxs(i.Fragment,{children:[r.dashboard.welcome,","," ",i.jsx("span",{className:"font-bold",children:t||"User"}),"!"]}):e.startsWith("/jobs")?r.jobs.title:e.startsWith("/courses")?r.courses.title:e.startsWith("/settings")||e.startsWith("/academy/settings")?r.settings.title:e.startsWith("/profile")||e.startsWith("/academy/profile")?r.profile.title:e.startsWith("/notifications")?r.notifications.title:e.startsWith("/skill-test")?r.skillTest.title:e.startsWith("/skill-path")?null:r.nav.home:"Home";function jle({sidebarCollapsed:e,isVisible:t}){var E;const r=Ga(),n=lr(),{user:a}=vr(),{theme:s,setTheme:o}=$l(),{language:l,setLanguage:c}=Ys(),u=Co(),[d,f]=$.useState(!1),h=(a==null?void 0:a.first_name)||((E=a==null?void 0:a.email)==null?void 0:E.split("@")[0])||"User",g=rm(r.pathname),y=Sle(g,h,u),m=QB(g),v=ZB(g),x=wle(g),w=_le(g),_=(()=>{if(w){if(g.includes("/edit/"))return"Edit Course";if(g.includes("/add"))return"Add Course"}return null})(),S=l==="ka"?"GEO":"EN";return $.useEffect(()=>{f(!0)},[]),i.jsx("header",{className:fe("fixed top-0 right-0 z-30","bg-gradient-to-b from-breneo-lightgray dark:from-background to-transparent","transition-opacity duration-300 ease-in-out",e?"md:left-24":"md:left-[17rem]","left-0",t?"opacity-100":"opacity-0 pointer-events-none"),children:i.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-9 md:px-12 lg:px-14 pt-6 pb-4",children:[i.jsx("div",{className:"hidden md:flex items-center space-x-3",children:m||v||x||w?i.jsxs(i.Fragment,{children:[i.jsxs(ae,{variant:"ghost",onClick:()=>n(-1),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                           text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                           text-sm font-medium flex items-center gap-2 transition-colors`,children:[i.jsx(mp,{className:"h-4 w-4"}),i.jsx("span",{children:u.common.back})]}),_&&i.jsx("h1",{className:"text-2xl font-semibold text-foreground ml-4",children:_})]}):y&&i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:y})}),i.jsx("div",{className:"md:hidden"}),i.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[i.jsxs(ae,{variant:"ghost",onClick:()=>c(l==="en"?"ka":"en"),className:`relative h-10 px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200
                       text-sm font-medium flex items-center gap-2 transition-colors`,children:[i.jsx(Cl,{className:"h-4 w-4"}),i.jsx("span",{children:S})]}),i.jsxs(ae,{variant:"ghost",size:"icon",onClick:()=>o(s==="dark"?"light":"dark"),className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                       text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[d&&s==="dark"?i.jsx(RN,{className:"h-5 w-5"}):i.jsx(u0,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),i.jsx(ro,{to:"/notifications",children:i.jsxs(ae,{variant:"ghost",size:"icon",className:`relative h-10 w-10 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70
                         text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors`,children:[i.jsx(TN,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:"Notifications"})]})})]})]})})}function Mt({children:e,showSidebar:t=!0,showHeader:r=!0,background:n="default"}){const[a,s]=p.useState(!1),[o,l]=p.useState(!0),c=p.useRef(null),u=()=>{s(d=>!d)};return p.useEffect(()=>{const d=c.current;if(!d)return;const f=()=>{d.scrollTop>50?l(!1):l(!0)};return d.addEventListener("scroll",f),()=>{d.removeEventListener("scroll",f)}},[]),i.jsxs("div",{className:fe("h-screen overflow-hidden",n==="white"?"bg-white":"bg-breneo-lightgray"),children:[t&&i.jsx(YN,{collapsed:a,toggleSidebar:u}),r&&i.jsx(jle,{sidebarCollapsed:a,isVisible:o}),i.jsx("main",{ref:c,className:fe("h-full overflow-y-auto transition-all duration-300",t&&(a?"md:ml-24":"md:ml-[17rem]"),r&&"pt-24 pb-32 md:pt-24 md:pb-0",(t||r)&&"px-3 md:px-6"),children:i.jsx("div",{className:"h-full",children:e})})]})}function Mr({className:e,...t}){return i.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",e),...t})}const Gd=p.forwardRef(({value:e,size:t=60,strokeWidth:r=3,className:n,showLabel:a=!0,matchLabel:s,percentageTextSize:o="lg"},l)=>{const c=(t-r)/2,u=2*Math.PI*c,d=Math.max(0,Math.min(100,e)),f=u-d/100*u,h=s||(e>=70?"GOOD MATCH":"FAIR MATCH"),g={sm:"text-xs",md:"text-sm",lg:"text-lg",xl:"text-xl"};return i.jsxs("div",{ref:l,className:fe("flex items-center gap-2",n),children:[a&&i.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:h}),i.jsxs("div",{className:"relative",style:{width:t,height:t},children:[i.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",style:{overflow:"visible"},children:[i.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-gray-200/40 dark:text-gray-700/40"}),i.jsx("circle",{cx:t/2,cy:t/2,r:c,fill:"none",stroke:"currentColor",strokeWidth:r,strokeDasharray:u,strokeDashoffset:f,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:fe("font-bold text-gray-700 dark:text-gray-300",g[o]),children:[Math.round(e),"%"]})})]})]})});Gd.displayName="RadialProgress";const kle="modulepreload",Ele=function(e){return"/"+e},L$={},mg=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Ele(c),c in L$)return;L$[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":kle,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Nle=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mg(async()=>{const{default:n}=await Promise.resolve().then(()=>Lf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class XN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Cle extends XN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ple extends XN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ale extends XN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wj||(Wj={}));var Tle=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Ole{constructor(t,{headers:r={},customFetch:n,region:a=Wj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Nle(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Tle(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(y=>{throw new Cle(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Ple(d);if(!d.ok)throw new Ale(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(a){return{data:null,error:a}}})}}var xa={},QN={},yb={},gg={},vb={},xb={},$le=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jd=$le();const Rle=Jd.fetch,e7=Jd.fetch.bind(Jd),t7=Jd.Headers,Ile=Jd.Request,Mle=Jd.Response,Lf=Object.freeze(Object.defineProperty({__proto__:null,Headers:t7,Request:Ile,Response:Mle,default:e7,fetch:Rle},Symbol.toStringTag,{value:"Module"})),Lle=SK(Lf);var bb={};Object.defineProperty(bb,"__esModule",{value:!0});let Dle=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bb.default=Dle;var r7=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xb,"__esModule",{value:!0});const Fle=r7(Lle),Ble=r7(bb);let Ule=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Fle.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c;let u=null,d=null,f=null,h=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,g="OK")}catch{s.status===404&&m===""?(h=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new Ble.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,c;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};xb.default=Ule;var zle=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vb,"__esModule",{value:!0});const qle=zle(xb);let Wle=class extends qle.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vb.default=Wle;var Hle=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gg,"__esModule",{value:!0});const Vle=Hle(vb);let Kle=class extends Vle.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};gg.default=Kle;var Gle=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yb,"__esModule",{value:!0});const jh=Gle(gg);let Jle=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new jh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new jh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new jh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new jh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yb.default=Jle;var wb={},_b={};Object.defineProperty(_b,"__esModule",{value:!0});_b.version=void 0;_b.version="0.0.0-automated";Object.defineProperty(wb,"__esModule",{value:!0});wb.DEFAULT_HEADERS=void 0;const Yle=_b;wb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yle.version}`};var n7=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(QN,"__esModule",{value:!0});const Xle=n7(yb),Qle=n7(gg),Zle=wb;let ece=class a7{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Zle.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Xle.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new a7(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Qle.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};QN.default=ece;var Df=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xa,"__esModule",{value:!0});xa.PostgrestError=xa.PostgrestBuilder=xa.PostgrestTransformBuilder=xa.PostgrestFilterBuilder=xa.PostgrestQueryBuilder=xa.PostgrestClient=void 0;const s7=Df(QN);xa.PostgrestClient=s7.default;const o7=Df(yb);xa.PostgrestQueryBuilder=o7.default;const i7=Df(gg);xa.PostgrestFilterBuilder=i7.default;const l7=Df(vb);xa.PostgrestTransformBuilder=l7.default;const c7=Df(xb);xa.PostgrestBuilder=c7.default;const u7=Df(bb);xa.PostgrestError=u7.default;var tce=xa.default={PostgrestClient:s7.default,PostgrestQueryBuilder:o7.default,PostgrestFilterBuilder:i7.default,PostgrestTransformBuilder:l7.default,PostgrestBuilder:c7.default,PostgrestError:u7.default};const{PostgrestClient:rce,PostgrestQueryBuilder:jFe,PostgrestFilterBuilder:kFe,PostgrestTransformBuilder:EFe,PostgrestBuilder:NFe,PostgrestError:CFe}=tce;let Hj;typeof window>"u"?Hj=require("ws"):Hj=window.WebSocket;const nce=Hj,ace="2.11.10",sce={"X-Client-Info":`realtime-js/${ace}`},oce="1.0.0",d7=1e4,ice=1e3;var fd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fd||(fd={}));var Gn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gn||(Gn={}));var Ps;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ps||(Ps={}));var Vj;(function(e){e.websocket="websocket"})(Vj||(Vj={}));var sc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sc||(sc={}));class lce{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class f7{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xr||(xr={}));const D$=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=cce(o,e,t,a),s),{})},cce=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?h7(s,o):Kj(o)},h7=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return hce(t,r)}switch(e){case xr.bool:return uce(t);case xr.float4:case xr.float8:case xr.int2:case xr.int4:case xr.int8:case xr.numeric:case xr.oid:return dce(t);case xr.json:case xr.jsonb:return fce(t);case xr.timestamp:return pce(t);case xr.abstime:case xr.date:case xr.daterange:case xr.int4range:case xr.int8range:case xr.money:case xr.reltime:case xr.text:case xr.time:case xr.timestamptz:case xr.timetz:case xr.tsrange:case xr.tstzrange:return Kj(t);default:return Kj(t)}},Kj=e=>e,uce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hce=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>h7(t,l))}return e},pce=e=>typeof e=="string"?e.replace(" ","T"):e,p7=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class q1{constructor(t,r,n={},a=d7){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var F$;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(F$||(F$={}));class vp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vp.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=vp.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=vp.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),g=f.map(v=>v.presence_ref),y=d.filter(v=>g.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B$;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(B$||(B$={}));var U$;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(U$||(U$={}));var Uo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Uo||(Uo={}));class ZN{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new q1(this,Ps.join,this.params,this.timeout),this.rejoinTimer=new f7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ps.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new vp(this),this.broadcastEndpointURL=p7(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Uo.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Uo.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Uo.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let m=0;m<g;m++){const v=h[m],{filter:{event:x,schema:w,table:b,filter:_}}=v,S=d&&d[m];if(S&&S.event===x&&S.schema===w&&S.table===b&&S.filter===_)y.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=Gn.errored,t==null||t(Uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Uo.SUBSCRIBED);return}}).receive("error",d=>{this.state=Gn.errored,t==null||t(Uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ps.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new q1(this,Ps.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new q1(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ps;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var y,m,v;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(m=g.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var y,m,v,x,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:v,commit_timestamp:x,type:w,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===Gn.closed}_isJoined(){return this.state===Gn.joined}_isJoining(){return this.state===Gn.joining}_isLeaving(){return this.state===Gn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ZN.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ps.close,{},t)}_onError(t){this._on(Ps.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=D$(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=D$(t.columns,t.old_record)),r}}const z$=()=>{},mce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gce{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=sce,this.params={},this.timeout=d7,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=z$,this.ref=0,this.logger=z$,this.conn=null,this.sendBuffer=[],this.serializer=new lce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>mg(async()=>{const{default:c}=await Promise.resolve().then(()=>Lf);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Vj.websocket}`,this.httpEndpoint=p7(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new f7(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=nce),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new yce(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oce}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fd.connecting:return sc.Connecting;case fd.open:return sc.Open;case fd.closing:return sc.Closing;default:return sc.Closed}}isConnected(){return this.connectionState()===sc.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new ZN(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ps.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(ice,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:s,ref:o}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ps.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mce],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class yce{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class eC extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vce extends eC{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gj extends eC{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var xce=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const m7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mg(async()=>{const{default:n}=await Promise.resolve().then(()=>Lf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},bce=()=>xce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mg(()=>Promise.resolve().then(()=>Lf),void 0)).Response:Response}),Jj=e=>{if(Array.isArray(e))return e.map(r=>Jj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Jj(n)}),t};var nu=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const W1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wce=(e,t,r)=>nu(void 0,void 0,void 0,function*(){const n=yield bce();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new vce(W1(a),e.status||500))}).catch(a=>{t(new Gj(W1(a),a))}):t(new Gj(W1(e),e))}),_ce=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function yg(e,t,r,n,a,s){return nu(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,_ce(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>wce(c,l,n))})})}function g0(e,t,r,n){return nu(this,void 0,void 0,function*(){return yg(e,"GET",t,r,n)})}function Di(e,t,r,n,a){return nu(this,void 0,void 0,function*(){return yg(e,"POST",t,n,a,r)})}function Sce(e,t,r,n,a){return nu(this,void 0,void 0,function*(){return yg(e,"PUT",t,n,a,r)})}function jce(e,t,r,n){return nu(this,void 0,void 0,function*(){return yg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function g7(e,t,r,n,a){return nu(this,void 0,void 0,function*(){return yg(e,"DELETE",t,n,a,r)})}var fa=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const kce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ece{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=m7(a)}uploadOrUpdate(t,r,n,a){return fa(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},q$),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(gn(s))return{data:null,error:s};throw s}})}upload(t,r,n){return fa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return fa(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:q$.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(gn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return fa(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield Di(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new eC("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}update(t,r,n){return fa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return fa(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}copy(t,r,n){return fa(this,void 0,void 0,function*(){try{return{data:{path:(yield Di(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return fa(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Di(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return fa(this,void 0,void 0,function*(){try{const a=yield Di(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}download(t,r){return fa(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield g0(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}info(t){return fa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield g0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jj(n),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}exists(t){return fa(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield jce(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gn(n)&&n instanceof Gj){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return fa(this,void 0,void 0,function*(){try{return{data:yield g7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}list(t,r,n){return fa(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},kce),r),{prefix:t||""});return{data:yield Di(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Nce="2.7.1",Cce={"X-Client-Info":`storage-js/${Nce}`};var vu=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Pce{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Cce),r),this.fetch=m7(n)}listBuckets(){return vu(this,void 0,void 0,function*(){try{return{data:yield g0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gn(t))return{data:null,error:t};throw t}})}getBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield g0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return vu(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return vu(this,void 0,void 0,function*(){try{return{data:yield Sce(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vu(this,void 0,void 0,function*(){try{return{data:yield g7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}}class Ace extends Pce{constructor(t,r={},n){super(t,r,n)}from(t){return new Ece(this.url,this.headers,t,this.fetch)}}const Tce="2.50.0";let Qh="";typeof Deno<"u"?Qh="deno":typeof document<"u"?Qh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qh="react-native":Qh="node";const Oce={"X-Client-Info":`supabase-js-${Qh}/${Tce}`},$ce={headers:Oce},Rce={schema:"public"},Ice={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mce={};var Lce=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Dce=e=>{let t;return e?t=e:typeof fetch>"u"?t=e7:t=fetch,(...r)=>t(...r)},Fce=()=>typeof Headers>"u"?t7:Headers,Bce=(e,t,r)=>{const n=Dce(r),a=Fce();return(s,o)=>Lce(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var Uce=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function zce(e){return e.endsWith("/")?e:e+"/"}function qce(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Uce(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const y7="2.70.0",Iu=30*1e3,Yj=3,H1=Yj*Iu,Wce="http://localhost:9999",Hce="supabase.auth.token",Vce={"X-Client-Info":`gotrue-js/${y7}`},Xj="X-Supabase-Api-Version",v7={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gce=6e5;class tC extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $t(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Jce extends tC{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Yce(e){return $t(e)&&e.name==="AuthApiError"}class x7 extends tC{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Il extends tC{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Oi extends Il{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xce(e){return $t(e)&&e.name==="AuthSessionMissingError"}class xy extends Il{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class by extends Il{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wy extends Il{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qce(e){return $t(e)&&e.name==="AuthImplicitGrantRedirectError"}class W$ extends Il{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qj extends Il{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function V1(e){return $t(e)&&e.name==="AuthRetryableFetchError"}class H$ extends Il{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xp extends Il{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const y0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),V$=` 	
\r=`.split(""),Zce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<V$.length;t+=1)e[V$[t].charCodeAt(0)]=-2;for(let t=0;t<y0.length;t+=1)e[y0[t].charCodeAt(0)]=t;return e})();function K$(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(y0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(y0[n]),t.queuedBits-=6}}function b7(e,t,r){const n=Zce[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function G$(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{rue(o,n,r)};for(let o=0;o<e.length;o+=1)b7(e.charCodeAt(o),a,s);return t.join("")}function eue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tue(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}eue(n,t)}}function rue(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function nue(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)b7(e.charCodeAt(a),r,n);return new Uint8Array(t)}function aue(e){const t=[];return tue(e,r=>t.push(r)),new Uint8Array(t)}function sue(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>K$(a,r,n)),K$(null,r,n),t.join("")}function oue(e){return Math.round(Date.now()/1e3)+e}function iue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const js=()=>typeof window<"u"&&typeof document<"u",Kl={tested:!1,writable:!1},bp=()=>{if(!js())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kl.tested)return Kl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kl.tested=!0,Kl.writable=!0}catch{Kl.tested=!0,Kl.writable=!1}return Kl.writable};function lue(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const w7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mg(async()=>{const{default:n}=await Promise.resolve().then(()=>Lf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_7=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_y=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sy=async(e,t)=>{await e.removeItem(t)};class Sb{constructor(){this.promise=new Sb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sb.promiseConstructor=Promise;function K1(e){const t=e.split(".");if(t.length!==3)throw new xp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Kce.test(t[n]))throw new xp("JWT not in base64url format");return{header:JSON.parse(G$(t[0])),payload:JSON.parse(G$(t[1])),signature:nue(t[2]),raw:{header:t[0],payload:t[1]}}}async function uue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function due(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function fue(e){return("0"+e.toString(16)).substr(-2)}function hue(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,fue).join("")}async function pue(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function mue(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await pue(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xu(e,t,r=!1){const n=hue();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await _7(e,`${t}-code-verifier`,a);const s=await mue(n);return[s,n===s?"plain":"s256"]}const gue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yue(e){const t=e.headers.get(Xj);if(!t||!t.match(gue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xue(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bu(e){if(!bue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var wue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ql=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_ue=[502,503,504];async function J$(e){var t;if(!cue(e))throw new Qj(Ql(e),0);if(_ue.includes(e.status))throw new Qj(Ql(e),e.status);let r;try{r=await e.json()}catch(s){throw new x7(Ql(s),s)}let n;const a=yue(e);if(a&&a.getTime()>=v7["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new H$(Ql(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Oi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new H$(Ql(r),e.status,r.weak_password.reasons);throw new Jce(Ql(r),e.status||500,n)}const Sue=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Bt(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Xj]||(s[Xj]=v7["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await jue(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function jue(e,t,r,n,a,s){const o=Sue(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Qj(Ql(c),0)}if(l.ok||await J$(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await J$(c)}}function Mo(e){var t;let r=null;Cue(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=oue(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Y$(e){const t=Mo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kue(e){return{data:e,error:null}}function Eue(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=wue(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Nue(e){return e}function Cue(e){return e.access_token&&e.refresh_token&&e.expires_in}const G1=["global","local","others"];var Pue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Aue{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=w7(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=G1[0]){if(G1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${G1.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zi})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Pue(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Eue,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zi})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Nue});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($t(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){bu(t);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zi})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bu(t);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zi})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bu(t);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zi})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bu(t.userId);try{const{data:r,error:n}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bu(t.userId),bu(t.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}}const Tue={getItem:e=>bp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{bp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{bp()&&globalThis.localStorage.removeItem(e)}};function X$(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Oue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wu={debug:!!(globalThis&&bp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class S7 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $ue extends S7{}async function Rue(e,t,r){wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $ue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Oue();const Iue={url:Wce,storageKey:Hce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Q$(e,t,r){return await r()}class im{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=im.nextInstanceID,im.nextInstanceID+=1,this.instanceID>0&&js()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Iue),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Aue({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=w7(a.fetch),this.lock=a.lock||Q$,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:js()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Rue:this.lock=Q$,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:bp()?this.storage=Tue:(this.memoryStorage={},this.storage=X$(this.memoryStorage)):(this.memoryStorage={},this.storage=X$(this.memoryStorage)),js()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${y7}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=lue(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),js()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qce(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $t(r)?{error:r}:{error:new x7("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Mo}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($t(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await xu(this.storage,this.storageKey)),s=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Mo})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Mo})}else throw new by("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($t(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Y$})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Y$})}else throw new by("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xy}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,s,o,l,c,u,d,f,h,g;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:v,wallet:x,statement:w,options:b}=t;let _;if(js())if(typeof x=="object")_=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),m=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=E}}try{const{data:v,error:x}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:sue(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Mo});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new xy}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if($t(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await _y(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mo});if(await Sy(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new xy}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if($t(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new xy}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xu(this.storage,this.storageKey));const{error:f}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new by("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Mo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await xu(this.storage,this.storageKey)),await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:kue})}catch(s){if($t(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Oi;const{error:a}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if($t(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new by("You must provide either an email or phone number and a type")}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _y(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<H1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zi}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oi}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:zi})})}catch(r){if($t(r))return Xce(r)&&(await this._removeSession(),await Sy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Oi;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xu(this.storage,this.storageKey));const{data:u,error:d}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:zi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($t(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Oi;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=K1(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if($t(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Oi;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!js())throw new wy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new W$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new W$("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new wy("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Iu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:m,error:v}=await this._getUser(s);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if($t(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _y(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Yce(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Sy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=iue(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await xu(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if($t(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return js()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($t(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await due(async a=>(a>0&&await uue(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mo})),(a,s)=>{const o=200*Math.pow(2,a);return s&&V1(s)&&Date.now()+o-n<Iu})}catch(n){if(this._debug(r,"error",n),$t(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),js()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await _y(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<H1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${H1}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),V1(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Oi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sb;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Oi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),$t(s)){const o={session:null,error:s};return V1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _7(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Sy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&js()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Iu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Iu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Iu}ms, refresh threshold is ${Yj} ticks`),a<=Yj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof S7)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!js()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await xu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=K1(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Gce>Date.now()))return n;const{data:a,error:s}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new xp("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new xp("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=K1(n);if(vue(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:a,signature:o},error:null}}const u=xue(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,aue(`${l}.${c}`)))throw new xp("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}}}im.nextInstanceID=0;const Mue=im;class Lue extends Mue{constructor(t){super(t)}}var Due=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Fue{constructor(t,r,n){var a,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=zce(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Rce,realtime:Mce,auth:Object.assign(Object.assign({},Ice),{storageKey:u}),global:$ce},f=qce(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Bce(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new rce(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ole(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ace(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Due(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lue({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bue=(e,t,r)=>new Fue(e,t,r),Uue="https://kwvpfetgerukuglqeuzl.supabase.co",zue="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3dnBmZXRnZXJ1a3VnbHFldXpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNDYzNjEsImV4cCI6MjA2NTgyMjM2MX0.oQNRxz5hNqp_YVkIJ0KOtVSgAksQ0km6iESqiWI8wHw",Kt=Bue(Uue,zue),au=async e=>{const t=String(e),r=[pp(t),t],n=parseInt(t,10);!isNaN(n)&&n.toString()===t&&r.push(pp(n)),console.log(" getUserTestAnswers - Trying variants:",{originalUserId:e,userIdStr:t,variants:r});for(const a of r)try{const{data:s,error:o}=await Kt.from("usertestanswers").select("*").eq("userid",a).order("answeredat",{ascending:!0});if(o){console.warn(` Error fetching with variant ${a}:`,o.message);continue}if(s&&s.length>0)return console.log(` Found ${s.length} test answers for user ${a}`),s;console.log(` No answers found for variant ${a}`)}catch(s){console.warn(` Exception with variant ${a}:`,s);continue}try{const{data:{user:a}}=await Kt.auth.getUser();if(a){console.log(" Trying with auth user ID:",a.id);const{data:s,error:o}=await Kt.from("usertestanswers").select("*").eq("userid",a.id).order("answeredat",{ascending:!0});if(!o&&s&&s.length>0)return console.log(` Found ${s.length} test answers using auth user ID`),s}}catch(a){console.warn(" Could not get auth user:",a)}return console.log(" No test answers found with any variant"),[]},su=e=>{const t={};return!e||!Array.isArray(e)?(console.error("Invalid answers array:",e),t):(e.forEach(r=>{const n=r.relatedSkills||r.relatedskills||[];Array.isArray(n)&&n.forEach(a=>{a&&typeof a=="string"&&(t[a]=(t[a]||0)+1)})}),t)},jb=(e,t=3)=>Object.entries(e).sort(([,r],[,n])=>n-r).slice(0,t).map(([r,n])=>({skill:r,score:n})),wp=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"];return e.filter(r=>{const n=r.toLowerCase().trim();return!t.some(a=>n.includes(a)||a.includes(n))})},Zj="https://breneo-job-aggregator-k7ti.onrender.com/api/search";let Z$=0;const eR=1e3,j7=async(e,t)=>{const n=Date.now()-Z$;if(n<eR){const a=eR-n;await new Promise(s=>setTimeout(s,a))}return Z$=Date.now(),fetch(e,t)},tR=e=>{const t={id:String(e.id),job_id:String(e.id),title:e.title,job_title:e.title,company:e.company_name,company_logo:e.company_logo,companyLogo:e.company_logo,company_name:e.company_name,employer_name:e.company_name,location:e.location,job_location:e.location,description:e.description,job_description:e.description,apply_url:e.apply_url,job_apply_link:e.apply_url,url:e.apply_url,date_posted:e.posted_at||e.fetched_at,posted_date:e.posted_at||e.fetched_at,posted_at:e.posted_at||e.fetched_at,fetched_at:e.fetched_at,status:e.is_active?"active":"inactive"};return e.raw&&typeof e.raw=="object"&&!Array.isArray(e.raw)?{...t,...e.raw}:t},kb=async e=>{const{query:t,filters:r,page:n=1,pageSize:a=12}=e,s=new URLSearchParams,o=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted||r.skills.length>0,l=t&&t.trim()?t.trim():"";l?s.set("query",l):o?s.set("query","developer"):s.set("query",""),s.set("page",String(n));let c;!l&&!o?c=100:c=Math.max(1,Math.min(100,Math.ceil((a||200)/20))),s.set("num_pages",String(c)),console.log(` Fetching ${c} pages of jobs (pageSize: ${a||200}, query: "${l||"(empty - all jobs)"}", hasFilters: ${o})`),r.countries.length>0?s.set("country",r.countries[0].toLowerCase()):s.set("country","us"),s.set("date_posted",r.datePosted||"all");const u=`${Zj}?${s.toString()}`;console.log(" Full API Endpoint URL:",u),console.log(" Query Parameters:",Object.fromEntries(s.entries())),console.log(" Breneo Job API Request:",{url:u,filters:{countries:r.countries,jobTypes:r.jobTypes,isRemote:r.isRemote,datePosted:r.datePosted||"all",skills:r.skills},query:t,page:n});try{console.log(" Making API request to:",u);const d=await j7(u,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log(" API Response Status:",d.status,d.statusText),console.log(" API Response Headers:",{contentType:d.headers.get("content-type"),contentLength:d.headers.get("content-length")}),d.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!d.ok){let x=`Failed to fetch jobs: ${d.status} ${d.statusText}`;try{const w=await d.text();if(console.error(" API Error Response:",w),w)try{const b=JSON.parse(w);b.message?x=b.message:b.error&&(x=b.error),console.error(" API Error Details:",b)}catch{x=`${x} - ${w}`}}catch(w){console.error(" Could not read error response body:",w)}throw new Error(x)}const f=await d.text();console.log(" API Response text length:",f.length),console.log(" API Response text preview (first 500 chars):",f.substring(0,500));let h;try{h=JSON.parse(f)}catch(x){throw console.error(" Failed to parse API response as JSON:",x),console.error(" Full response text:",f),new Error(`Invalid JSON response from API: ${f.substring(0,200)}`)}console.log(" API Response parsed, type:",Array.isArray(h)?"Array":typeof h),console.log(" API Response preview:",{isArray:Array.isArray(h),hasResults:h&&typeof h=="object"&&"results"in h,keys:h&&typeof h=="object"?Object.keys(h):[],arrayLength:Array.isArray(h)?h.length:null,firstItem:Array.isArray(h)&&h.length>0?h[0]:null});let g=[],y;if(Array.isArray(h)){const x=h;if(console.log(` Received ${x.length} total jobs from API (legacy array format)`),x.length===0)return console.warn(" API returned empty array"),console.log(" Full API response:",JSON.stringify(h,null,2)),{jobs:[],pagination:void 0};const w=x.filter(b=>b.is_active!==!1);console.log(` ${w.length} active jobs after filtering`),g=w.map(tR),console.log(` Mapped ${g.length} jobs to ApiJob format`)}else if(h&&typeof h=="object"&&"results"in h){const x=h,w=x.results||[];if(console.log(` Received ${w.length} jobs from paginated API response`),console.log(" Pagination info:",x.pagination),console.log(" Applied filters:",x.filters),w.length===0)return console.warn(" API returned empty results array"),console.log(" Full API response:",JSON.stringify(h,null,2)),{jobs:[],pagination:x.pagination};y=x.pagination;const b=w.filter(_=>_.is_active!==!1);console.log(` ${b.length} active jobs after filtering`),g=b.map(tR),console.log(` Mapped ${g.length} jobs to ApiJob format`)}else throw console.error(" Unexpected API response format:",h),console.error(" Full response:",JSON.stringify(h,null,2)),new Error("Invalid response format from API - expected array of jobs or object with results array");if(g.length===0)return console.warn(" No jobs returned from API after processing"),console.warn(" This could mean:"),console.warn("  1. API returned empty array"),console.warn("  2. All jobs were filtered out (is_active = false)"),console.warn("  3. Response format doesn't match expected structure"),console.log(" Full API response:",JSON.stringify(h,null,2)),{jobs:[],pagination:y};console.log(` Starting frontend filtering for ${g.length} jobs`);const m=r.countries.length>0||r.jobTypes.length>0||r.isRemote||r.datePosted&&r.datePosted!=="all"||r.skills.length>0;let v=g;if(l&&l.trim()){const x=l.toLowerCase().trim().split(/\s+/).filter(w=>w.length>0);x.length>0&&(v=v.filter(w=>{const b=String(w.title||w.job_title||w.position||"").toLowerCase(),_=String(w.company_name||w.employer_name||(typeof w.company=="string"?w.company:"")||"").toLowerCase();return x.every(S=>b.includes(S)||_.includes(S)||b.split(/\s+/).some(E=>E.includes(S))||_.split(/\s+/).some(E=>E.includes(S)))}),console.log(` Client-side search filtering: ${v.length} jobs match "${l}"`))}if(!m&&(!l||!l.trim()))return console.log(" No filters or search query - returning all jobs without additional client-side filtering"),{jobs:v,pagination:y};if(r.countries.length>0&&(v=v.filter(x=>{const w=String(x.location||x.job_location||"").toLowerCase();return r.countries.some(b=>{const _=tn.find(S=>S.code.toLowerCase()===b.toLowerCase());return _?w.includes(_.name.toLowerCase())||w.includes(b.toLowerCase()):!1})})),r.isRemote&&(v=v.filter(x=>String(x.location||x.job_location||"").toLowerCase().includes("remote")||x.is_remote===!0||x.remote===!0||x.job_is_remote===!0)),r.jobTypes.length>0&&(v=v.filter(x=>{const w=(x.employment_type||x.job_employment_type||x.type||"").toUpperCase().replace(/[-\s]/g,"");return r.jobTypes.some(b=>{const _=b.toUpperCase().replace(/[-\s]/g,"");return w.includes(_)})})),r.datePosted&&r.datePosted!=="all"){const x=Date.now(),b={day:1,week:7,month:30}[r.datePosted]||30,_=x-b*24*60*60*1e3;v=v.filter(S=>{const E=S.date_posted||S.posted_date||S.job_posted_at_datetime_utc||S.postedAt;if(E)try{return new Date(E).getTime()>=_}catch{return!0}return!0})}return r.skills.length>0&&(v=v.filter(x=>{const w=[x.title||x.job_title||"",x.description||x.job_description||"",x.job_required_experience||""].join(" ").toLowerCase();return r.skills.some(b=>w.includes(b.toLowerCase()))})),console.log(" Breneo Job API Final Response:",{totalJobsFromAPI:g.length,afterFiltering:v.length,filters:{query:t||"(none)",countries:r.countries.length,jobTypes:r.jobTypes.length,isRemote:r.isRemote,skills:r.skills.length},sampleJob:v.length>0?{id:v[0].id||v[0].job_id,title:v[0].title||v[0].job_title,company:v[0].company||v[0].company_name}:null}),{jobs:v,pagination:y}}catch(d){throw console.error(" Error in fetchJobsFromBreneoAPI:",d),d instanceof TypeError&&d.message.includes("fetch")?(console.error(" Network error - API might be unreachable:",Zj),new Error("Unable to connect to job API. Please check your internet connection and try again.")):d}},rC=async e=>{if(!e)throw new Error("Job ID is required");console.log(" Fetching job detail for ID:",e);const t="https://breneo-job-aggregator-k7ti.onrender.com/api/job-details",r=new URLSearchParams;r.set("job_id",e);const n=`${t}?${r.toString()}`;console.log(` Fetching job details from: ${n}`);try{const a=await j7(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(a.status===429)throw new Error("You have exceeded your API request limit. Please try again later.");if(!a.ok){let c=`Failed to fetch job details: ${a.status} ${a.statusText}`;try{const u=await a.text();if(console.error("API Error Response:",u),u)try{const d=JSON.parse(u);d.message?c=d.message:d.error&&(c=d.error),console.error("API Error Details:",d)}catch{c=`${c} - ${u}`}}catch(u){console.error("Could not read error response body:",u)}throw new Error(c)}const s=await a.json();let o=null;if(Array.isArray(s)&&s.length>0)o=s[0];else if(s&&typeof s=="object")if("results"in s&&Array.isArray(s.results)){const c=s.results;c.length>0&&(o=c[0])}else if("data"in s){const c=s.data;c&&typeof c=="object"&&(o=c)}else o=s;if(!o)throw console.error(" Job not found or invalid response format:",s),new Error(`No job found with ID: ${e}`);console.log(" Found job:",{id:o.id,title:o.title,company:o.company_name});let l={id:String(o.id),job_id:String(o.id),title:o.title,job_title:o.title,company:o.company_name,company_logo:o.company_logo,companyLogo:o.company_logo,company_name:o.company_name,employer_name:o.company_name,location:o.location,job_location:o.location,description:o.description||"",job_description:o.description||"",apply_url:o.apply_url,job_apply_link:o.apply_url,url:o.apply_url,date_posted:o.posted_at||o.fetched_at,posted_date:o.posted_at||o.fetched_at,posted_at:o.posted_at||o.fetched_at,fetched_at:o.fetched_at};return o.raw&&typeof o.raw=="object"&&!Array.isArray(o.raw)&&(l={...l,...o.raw}),Object.keys(o).forEach(c=>{c in l||(l[c]=o[c])}),console.log(" Processed job detail:",l),l}catch(a){throw console.error(" Error fetching job details:",a),a instanceof TypeError&&a.message==="Failed to fetch"?new Error("Failed to connect to job details API. Please check your network connection."):a instanceof Error?a:new Error(`Failed to fetch job details: ${String(a)}`)}},vg=async e=>{try{const t=[];e.query&&e.query.trim()&&t.push(e.query.trim()),e.filters.skills.length>0&&t.push(...e.filters.skills);const r=t.length>0?t.join(" "):"",n=await kb({...e,query:r,filters:e.filters}),a=n.jobs,s=n.pagination,o=new Set,l=[];for(const f of a){const h=f.job_id||f.id||"";if(h&&!o.has(h))o.add(h),l.push(f);else if(!h){const g=`${f.job_title||f.title||""}_${f.employer_name||f.company_name||f.company||""}`;o.has(g)||(o.add(g),l.push(f))}}let c,u,d;if(s)c=l,u=s.has_next??!1,d=s.total_results??l.length,console.log(`Using API pagination: ${l.length} unique jobs, hasMore: ${u}, total: ${d}`);else{const f=e.pageSize||12,h=e.page||1,g=(h-1)*f,y=g+f;c=l.slice(g,y),u=y<l.length,d=l.length,console.log(`Client-side pagination: Fetched ${l.length} unique jobs, showing ${c.length} on page ${h}`)}return c.length>0&&console.log("Sample job structure:",c[0]),{jobs:c,page:(s==null?void 0:s.page)??e.page??1,pageSize:e.pageSize||12,hasMore:u,total:d}}catch(t){throw console.error("Error fetching jobs:",t),t}},que=async e=>(await kb(e)).jobs,Wue=async e=>{try{return await vg(e)}catch(t){throw console.error("Primary job source failed:",t),t}},ek=async(e="developer",t=1)=>{console.log(" Testing job fetch with:",{query:e,page:t});try{const n=await vg({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});return console.log(" Test fetch successful:",{jobsCount:n.jobs.length,hasMore:n.hasMore,total:n.total,firstJob:n.jobs[0]||null}),n}catch(r){throw console.error(" Test fetch failed:",r),r}},tk=async(e="developer",t=1,r=1)=>{console.log(" Testing direct API call with:",{query:e,page:t,numPages:r});const n=new URLSearchParams;n.set("query",e),n.set("page",String(t)),n.set("num_pages",String(r)),n.set("country","us"),n.set("date_posted","all");const a=`${Zj}?${n.toString()}`;console.log(" API URL:",a);try{const s=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log(" Response status:",s.status,s.statusText),console.log(" Response headers:",{contentType:s.headers.get("content-type"),contentLength:s.headers.get("content-length")});const o=await s.text();console.log(" Response text length:",o.length),console.log(" Response text preview:",o.substring(0,500));const l=JSON.parse(o);return console.log(" Parsed JSON:",{isArray:Array.isArray(l),type:typeof l,length:Array.isArray(l)?l.length:null,keys:typeof l=="object"&&l!==null?Object.keys(l):null,firstItem:Array.isArray(l)&&l.length>0?l[0]:null}),l}catch(s){throw console.error(" Direct API test failed:",s),s}};if(typeof window<"u"){const e=window;e.testFetchJobs=ek,e.testDirectAPI=tk,e.jobService={fetchActiveJobs:vg,fetchJobDetail:rC,fetchJobsFromBreneoAPI:kb,testFetchJobs:ek,testDirectAPI:tk},console.log(" Job service test functions available:"),console.log("  - window.testFetchJobs(query, page) - Test through service layer"),console.log("  - window.testDirectAPI(query, page, numPages) - Test raw API endpoint"),console.log("  - window.jobService.fetchActiveJobs(params)"),console.log("  - window.jobService.fetchJobsFromBreneoAPI(params)")}const Ks={fetchActiveJobs:vg,fetchJobDetail:rC,fetchJobsFromBreneoAPI:kb,fetchJobsFromJSearch:que,fetchJobsFromMultipleSources:Wue,testFetchJobs:ek,testDirectAPI:tk},rR="betaVersionModalShown",nC=()=>{const[e,t]=p.useState(!1),r=Ja(),{t:n}=Ys();p.useEffect(()=>{if(!sessionStorage.getItem(rR)){const o=setTimeout(()=>{t(!0)},500);return()=>clearTimeout(o)}},[]);const a=()=>{t(!1),sessionStorage.setItem(rR,"true")};return r?i.jsx(ta,{open:e,onOpenChange:a,children:i.jsxs(ra,{className:"max-h-[85vh]",children:[i.jsx(na,{children:i.jsx(aa,{className:"text-xl font-bold",children:n.beta.title})}),i.jsxs("div",{className:"px-6 pb-2",children:[i.jsx("div",{className:"flex-1 px-6 pb-4 flex flex-col items-center justify-center",children:i.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain mt-4"})}),i.jsx(MB,{className:"text-base",children:n.beta.message})]}),i.jsx("div",{className:"p-4",children:i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"default",className:"w-full",children:n.common.close})})})]})}):i.jsx(zn,{open:e,onOpenChange:a,children:i.jsxs(En,{className:"max-w-md",children:[i.jsx(Nn,{children:i.jsx(Cn,{className:"text-xl font-bold",children:n.beta.title})}),i.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:i.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Rocket",className:"w-32 h-32 md:w-40 md:h-40 object-contain"})}),i.jsx("div",{className:"px-0 pb-2",children:i.jsx(dd,{className:"text-base",children:n.beta.message})}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx(ae,{variant:"default",onClick:a,children:n.common.close})})]})})},_p=e=>e.toLowerCase().trim().replace(/\s+/g," "),Hue=(e,t)=>{const r=_p(e),n=_p(t);if(r===n)return"exact";const a=3;if(r.length>=a&&n.length>=a&&(r.includes(n)||n.includes(r))){const s=r.length<n.length?r:n,o=r.length>=n.length?r:n;if(s.length>=a||s.length/o.length>=.5)return"partial"}return null},Vue=(e,t,r)=>{const n=e.map(_p),a=t.map(_p),s=r?_p(r):"",o=[],l=[],c=[],u=[];return n.forEach(d=>{s&&(s.includes(d)?c.includes(d)||c.push(d):s.split(/\s+/).some(g=>g.includes(d)||d.includes(g))&&!c.includes(d)&&c.push(d))}),n.forEach(d=>{let f=!1,h=null;for(const g of a){const y=Hue(d,g);if(y){f=!0,h=y;break}}f&&h&&(h==="exact"?o.includes(d)||o.push(d):l.includes(d)||l.push(d),c.includes(d)||u.includes(d)||u.push(d))}),{exactMatches:o,partialMatches:l,titleMatches:c,descriptionMatches:u}},hd=(e,t,r)=>{if(e.length===0||t.length===0&&!r)return 0;const n=Vue(e,t,r);if(n.exactMatches.length===0&&n.partialMatches.length===0&&n.titleMatches.length===0)return 0;const a={exactMatch:1,partialMatch:.6,titleMatch:1.2,descriptionMatch:1};let s=0,o=0;n.exactMatches.forEach(v=>{const w=n.titleMatches.includes(v)?a.exactMatch*a.titleMatch:a.exactMatch*a.descriptionMatch;s+=w,o+=a.exactMatch*a.titleMatch}),n.partialMatches.forEach(v=>{const w=n.titleMatches.includes(v)?a.partialMatch*a.titleMatch:a.partialMatch*a.descriptionMatch;s+=w,o+=a.partialMatch*a.titleMatch});const l=t.length||1,u=new Set([...n.exactMatches,...n.partialMatches]).size/l*100,d=e.length,h=new Set([...n.exactMatches,...n.partialMatches]).size/d*100;let m=(o>0?s/o*100:0)*.5+u*.3+h*.2;if(n.titleMatches.length>0){const v=Math.min(n.titleMatches.length/d*15,15);m=Math.min(m+v,100)}return t.length===0&&n.titleMatches.length>0&&(m=Math.min(n.titleMatches.length/d*100,75)),Math.round(Math.min(Math.max(m,0),100))},rk=e=>e===void 0||e<=0?"":e>=85?"Best match":e>=70?"Good match":e>=50?"Fair match":"Poor match",Kue="https://breneo-job-aggregator-k7ti.onrender.com/api/companies",kh=new Map,Gue=async e=>{if(!e||!e.trim())return;const t=e.trim();if(kh.has(t)){const r=kh.get(t);return r===null?void 0:r}try{const r=encodeURIComponent(t),n=`${Kue}/${r}`,a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(a.ok){const s=await a.json(),o=s.logo||s.company_logo||s.logo_url||s.employer_logo;if(o&&typeof o=="string")try{if(new URL(o).protocol.startsWith("http"))return kh.set(t,o),o}catch{}}kh.set(t,null);return}catch(r){console.error(`Error fetching company logo for ${t}:`,r),kh.set(t,null);return}},aC=async(e,t)=>{const r=await Gue(e);return r||t},nR=e=>{const t=[],r=[e.title||e.job_title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(o=>r.includes(o))&&t.push(a)}),[...new Set(t)]},Jue=(e,t)=>{if(!t||t.length===0)return .5;if(!e.required_skills||e.required_skills.length===0)return .3;const r=l=>l.toLowerCase().trim().replace(/\s+/g," "),n=t.map(r),a=e.required_skills.map(r);let s=0;return a.forEach(l=>{n.forEach(c=>{c===l?s+=2:(l.includes(c)||c.includes(l))&&(s+=1)})}),s>0?s/a.length*(s/n.length)*10:.1},Yue=async()=>{try{const e={country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[]};return(await Ks.fetchActiveJobs({query:"",filters:e,page:1,pageSize:50})).jobs||[]}catch(e){throw console.error("Error fetching jobs:",e),e}},aR=()=>{var G;const{user:e,loading:t}=vr(),r=lr(),n=Wa(),a=Ja(),s=Co(),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!0),[h,g]=p.useState(!1),y=p.useRef(null),m=p.useRef(null),[v,x]=p.useState(!1),[w,b]=p.useState(!1),[_,S]=p.useState(!1);p.useEffect(()=>{(async()=>{if(!e){f(!1),g(!1);return}try{f(!0);try{const ie=await Te.get(`/api/skilltest/results/?user=${e.id}`);let H=null;if(Array.isArray(ie.data)&&ie.data.length>0?H=ie.data[0]:ie.data&&typeof ie.data=="object"&&(H=ie.data),H&&(H.final_role||H.skills_json)){g(!0);const W=H.skills_json||{},X=Object.keys(W.tech||{}),B=Object.keys(W.soft||{}),Q=[...X,...B].slice(0,5);l(Q),u(X),f(!1);return}}catch{}try{const ie=await Te.get(`/api/user/${e.id}/skills`);if(ie.data&&ie.data.skills){const H=ie.data.skills.slice(0,5);l(H),u(H),g(H.length>0),f(!1);return}}catch{}const Z=await au(String(e.id));if(Z&&Z.length>0){g(!0);const ie=su(Z),W=jb(ie,5).map(Q=>Q.skill);l(W);const X=["javascript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","typescript","html","css","sql","react","vue","angular","node.js","express","django","flask","spring","laravel","rails","git","docker","kubernetes","aws","azure","gcp","linux","machine learning","data science","ai","blockchain","devops","testing"],B=W.filter(Q=>X.some(se=>Q.toLowerCase().includes(se.toLowerCase())||se.toLowerCase().includes(Q.toLowerCase())));u(B.length>0?B:W)}else g(!1)}catch(Z){console.error("Error fetching user skills:",Z),g(!1)}finally{f(!1)}})()},[e]),p.useEffect(()=>{S(!0)},[]);const{data:E=[]}=gr({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var V;if(!e)return[];try{const ie=((V=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:V.saved_jobs)||[];return Array.isArray(ie)?ie.map(H=>{if(typeof H=="string"||typeof H=="number")return String(H);if(H&&typeof H=="object"){const W=H;if(W.id)return String(W.id);if(W.job_id)return String(W.job_id);if(W.jobId)return String(W.jobId)}return null}).filter(H=>H!==null):[]}catch(Z){return console.error("Error fetching saved jobs:",Z),[]}},enabled:!!e}),{data:j=[]}=gr({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{var V;if(!e)return[];try{const ie=((V=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:V.saved_courses)||[];return Array.isArray(ie)?ie.map(H=>{if(typeof H=="string"||typeof H=="number")return String(H);if(H&&typeof H=="object"){const W=H;if(W.id)return String(W.id);if(W.course_id)return String(W.course_id);if(W.courseId)return String(W.courseId)}return null}).filter(H=>H!==null):[]}catch(Z){return console.error("Error fetching saved courses:",Z),[]}},enabled:!!e}),{data:k=[],isLoading:N,error:P}=gr({queryKey:["home-jobs"],queryFn:()=>Yue(),enabled:!!e,staleTime:5*60*1e3,retry:1});p.useEffect(()=>{P&&console.error("Error fetching jobs:",P)},[P]);const A=Vs({mutationFn:async V=>{if(!e)throw new Error("User not logged in");if(!V.id)throw new Error("Job ID is required");const Z=String(V.id);V.is_saved;try{const ie=`${vt.JOBS.SAVE_JOB}${Z}/`;await Te.post(ie)}catch(ie){const H=ie instanceof Error?ie.message:"Failed to save job. Please try again.";throw new Error(H)}},onSuccess:(V,Z)=>{n.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["profile"]}),ue.success(Z.is_saved?"Job Unsaved":"Job Saved")},onError:V=>{console.error("Error saving job:",V);const Z=V instanceof Error?V.message:"Failed to save job";ue.error(Z)}}),{data:R=[],isLoading:U}=gr({queryKey:["home-courses"],queryFn:async()=>{const{data:V,error:Z}=await Kt.from("courses").select("*").order("created_at",{ascending:!1});return Z?(console.error("Error fetching courses:",Z),[]):V||[]},enabled:!!e&&!d}),z=p.useMemo(()=>{if(!R||R.length===0)return[];if(!o||o.length===0)return R.map(H=>({...H,match:.5}));const V=R.map(H=>({...H,match:Jue(H,o)}));V.sort((H,W)=>{if(Math.abs((H.match||0)-(W.match||0))>.1)return(W.match||0)-(H.match||0);const X=H.required_skills&&H.required_skills.length>0,B=W.required_skills&&W.required_skills.length>0;return X&&!B?-1:!X&&B?1:0});const Z=V.filter(H=>(H.match||0)>.1),ie=V.filter(H=>(H.match||0)<=.1);return[...Z,...ie].slice(0,20)},[R,o]),F=Vs({mutationFn:async V=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Te.post(`/api/save-course/${V}/`)},onMutate:async V=>{await n.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const Z=n.getQueryData(["savedCourses",e==null?void 0:e.id]);let ie=!1;return n.setQueryData(["savedCourses",e==null?void 0:e.id],H=>{if(!H)return H;const W=String(V);return ie=H.includes(W),ie?H.filter(X=>X!==W):[...H,W]}),{previousSavedCourses:Z,wasSaved:ie}},onError:(V,Z,ie)=>{ie!=null&&ie.previousSavedCourses&&(e!=null&&e.id)&&n.setQueryData(["savedCourses",e.id],ie.previousSavedCourses),console.error("Error updating saved courses:",V),ue.error("Failed to update saved courses. Please try again.")},onSuccess:(V,Z,ie)=>{n.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),n.invalidateQueries({queryKey:["home-courses"]}),n.invalidateQueries({queryKey:["profile"]});const H=(ie==null?void 0:ie.wasSaved)??!1;ue.success(H?"Removed from saved courses.":"Course saved to your profile.")}}),D=p.useMemo(()=>{const Z=(k||[]).map(H=>{const W=nR(H),X=H.title||H.job_title||H.position||"",B=hd(o,W,X);return{job:H,matchPercentage:B}});return Z.sort((H,W)=>{if(H.matchPercentage!==W.matchPercentage)return W.matchPercentage-H.matchPercentage;const X=H.job.posted_at||H.job.fetched_at||H.job.date_posted||"",B=W.job.posted_at||W.job.fetched_at||W.job.date_posted||"";if(X&&B)try{const Q=new Date(X).getTime();return new Date(B).getTime()-Q}catch{return 0}return 0}),Z.slice(0,9).map(H=>H.job).map(H=>{const W=H.id||"";if(!W)return console.warn("Skipping job without valid ID:",H),null;const X=H.title||H.job_title||H.position||"Untitled Position",B=H.company_name||H.employer_name||(typeof H.company=="string"?H.company:null)||"Unknown Company",Q=H.job_city||H.city||"",se=H.job_state||H.state||"",J=H.job_country||H.country||"",le=H.job_location||H.location||[Q,se,J].filter(Boolean).join(", ")||"Location not specified",ce=H.employer_logo||H.company_logo||H.logo_url||(typeof H.company=="object"&&H.company?H.company.logo||H.company.company_logo:void 0),ge=H.posted_at||H.fetched_at||H.date_posted||H.posted_date||H.job_posted_at_datetime_utc||void 0;let he="By agreement";const je=H.job_min_salary||H.min_salary,Ke=H.job_max_salary||H.max_salary,Xe=H.job_salary_currency||H.salary_currency||"$",gt=H.job_salary_period||H.salary_period||"yearly";if(je&&Ke&&typeof je=="number"&&typeof Ke=="number"){const ye=gt==="monthly"?"Monthly":"",Ce=je.toLocaleString(),Ee=Ke.toLocaleString();["$","","","","",""].some(st=>Xe.includes(st))?he=`${Xe}${Ce} - ${Xe}${Ee}${ye?`/${ye}`:""}`:he=`${Ce} - ${Ee} ${Xe}${ye?`/${ye}`:""}`}else if(je&&typeof je=="number"){const ye=je.toLocaleString();he=["$","","","","",""].some(Oe=>Xe.includes(Oe))?`${Xe}${ye}+`:`${ye}+ ${Xe}`}else H.salary&&typeof H.salary=="string"&&(he=H.salary);const I=H.job_employment_type||H.employment_type||H.type||"FULLTIME",we={FULLTIME:"Full time",PARTTIME:"Part time",CONTRACTOR:"Contract",INTERN:"Internship"}[I]||I||"Full time";let Ae="On-site";H.job_is_remote||H.is_remote||H.remote===!0?Ae="Remote":X!=null&&X.toLowerCase().includes("hybrid")&&(Ae="Hybrid");const We=nR(H),Ye=hd(o,We,X);return{id:W,title:X,company:B,company_name:B,location:typeof le=="string"?le:"Location not specified",logo:ce,company_logo:ce,salary:he,employment_type:we,work_arrangement:Ae,is_saved:E==null?void 0:E.includes(String(W)),matchPercentage:Ye,date:ge?new Date(String(ge)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}}).filter(H=>H!==null)},[k,E,o]),[q,T]=p.useState({});p.useEffect(()=>{(async()=>{const Z=D.filter(X=>!X.company_logo&&X.company_name);if(Z.length===0)return;const ie=Z.map(async X=>{const B=await aC(X.company_name||"",void 0);return{jobId:X.id,logo:B}}),H=await Promise.all(ie),W={};H.forEach(({jobId:X,logo:B})=>{B&&(W[X]=B)}),Object.keys(W).length>0&&T(X=>({...X,...W}))})()},[D]);const L=D.map(V=>({...V,company_logo:V.company_logo||q[V.id]||void 0})),ee=V=>{if(y.current){const ie=V==="left"?y.current.scrollLeft-400:y.current.scrollLeft+400;y.current.scrollTo({left:ie,behavior:"smooth"})}},M=V=>{if(m.current){const ie=V==="left"?m.current.scrollLeft-400:m.current.scrollLeft+400;m.current.scrollTo({left:ie,behavior:"smooth"})}};return t?i.jsx(Mt,{children:i.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})})})}):e?i.jsxs(Mt,{children:[i.jsx(nC,{}),a&&i.jsx("div",{className:"mb-4 px-4 md:hidden",children:i.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:[s.auth.welcome,","," ",i.jsx("span",{className:"font-bold",children:(e==null?void 0:e.first_name)||((G=e==null?void 0:e.email)==null?void 0:G.split("@")[0])||"User"}),"! "]})}),i.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[!h&&!d&&i.jsx(Ne,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:v?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>x(!0),onMouseUp:()=>x(!1),onMouseLeave:()=>x(!1),onTouchStart:()=>x(!0),onTouchEnd:()=>x(!1),children:i.jsx(Pe,{className:"p-4 md:p-4",children:i.jsx(Lr,{to:"/skill-test",className:"block cursor-pointer group",children:i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[i.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:s.home.skillTestTitle}),i.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:s.home.skillTestSubtitle})]}),i.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:i.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})}),h&&!d&&i.jsx(Ne,{className:"bg-white transition-all w-auto flex-shrink-0 max-w-sm md:max-w-md rounded-3xl border-0 animate-shrink-in",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)",transform:w?"scale(0.95)":"scale(1)",transition:"transform 0.1s ease-in-out"},onMouseDown:()=>b(!0),onMouseUp:()=>b(!1),onMouseLeave:()=>b(!1),onTouchStart:()=>b(!0),onTouchEnd:()=>b(!1),children:i.jsx(Pe,{className:"p-4 md:p-4 flex items-center justify-center md:block",children:i.jsx(Lr,{to:"/skill-path",className:"block cursor-pointer group",children:i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[i.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:s.home.skillPathTitle}),i.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:s.home.skillPathSubtitle})]}),i.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:i.jsx("img",{src:"/lovable-uploads/3dicons-explorer-front-color.png",alt:"Coding A Website",className:"w-full h-full object-contain",onError:V=>{V.target.style.display="none"}})})]})})})})]}),i.jsxs("div",{className:"space-y-6 pt-6 md:pt-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Top job picks for you"}),!N&&!P&&L.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ae,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>ee("left"),"aria-label":"Scroll left",children:i.jsx(Mj,{className:"h-4 w-4"})}),i.jsx(ae,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>ee("right"),"aria-label":"Scroll right",children:i.jsx(Ma,{className:"h-4 w-4"})})]})]}),N?i.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:[...Array(3)].map((V,Z)=>i.jsx(Ne,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:i.jsxs(Pe,{className:"p-4",children:[i.jsx(Mr,{className:"h-4 w-20 mb-2"}),i.jsx(Mr,{className:"h-6 w-3/4 mb-4"}),i.jsx(Mr,{className:"h-4 w-1/2"})]})},Z))}):P?i.jsx(Ne,{children:i.jsxs(Pe,{className:"p-6 text-center",children:[i.jsx("p",{className:"text-gray-500 mb-2",children:"Unable to load jobs at the moment."}),i.jsx("p",{className:"text-sm text-gray-400",children:"Please try again later."})]})}):L.length===0?i.jsx(Ne,{children:i.jsx(Pe,{className:"p-6 text-center",children:i.jsx("p",{className:"text-gray-500",children:"No jobs found. Try adjusting your search criteria."})})}):i.jsx("div",{ref:y,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:L.map(V=>{var Z,ie;return i.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl flex-shrink-0 snap-start cursor-pointer w-[calc((100%-2rem)/3)] min-w-[280px]",onClick:()=>{if(!V.id||String(V.id).trim()==="")return;const H=encodeURIComponent(String(V.id));r(`/jobs/${H}`)},children:i.jsxs(Pe,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"flex-shrink-0 relative w-10 h-10",children:V.company_logo?i.jsx("img",{src:V.company_logo,alt:`${V.company_name||(typeof V.company=="string"?V.company:((Z=V.company)==null?void 0:Z.name)||"Company")} logo`,className:"w-10 h-10 rounded-md object-cover border border-gray-200",loading:"lazy"}):i.jsx("div",{className:"w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center",children:i.jsx(hn,{className:"h-5 w-5 text-white"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:V.company_name||(typeof V.company=="string"?V.company:((ie=V.company)==null?void 0:ie.name)||"Company")}),i.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:V.location})]})]}),i.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:V.title}),i.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[V.employment_type&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:V.employment_type}),V.work_arrangement&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:V.work_arrangement})]}),i.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Gd,{value:V.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:V.matchPercentage!==void 0?V.matchPercentage>=85?"Best match":V.matchPercentage>=70?"Good match":V.matchPercentage>=50?"Fair match":"Poor match":""})]}),i.jsx(ae,{variant:"secondary",size:"icon",onClick:H=>{H.stopPropagation(),A.mutate(V)},"aria-label":V.is_saved?"Unsave job":"Save job",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",V.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:i.jsx(ia,{className:fe("h-4 w-4 transition-colors",V.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},V.id)})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top courses picked for you"})}),!U&&z.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ae,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>M("left"),"aria-label":"Scroll courses left",children:i.jsx(Mj,{className:"h-4 w-4"})}),i.jsx(ae,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>M("right"),"aria-label":"Scroll courses right",children:i.jsx(Ma,{className:"h-4 w-4"})})]})]}),U?i.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:[...Array(3)].map((V,Z)=>i.jsx(Ne,{className:"relative flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px]",children:i.jsxs(Pe,{className:"p-0",children:[i.jsx(Mr,{className:"h-40 w-full rounded-t-3xl"}),i.jsxs("div",{className:"p-4",children:[i.jsx(Mr,{className:"h-5 w-3/4 mb-2"}),i.jsx(Mr,{className:"h-4 w-1/2 mb-3"}),i.jsx(Mr,{className:"h-3 w-full"})]})]})},Z))}):z.length===0?i.jsx(Ne,{children:i.jsxs(Pe,{className:"p-8 text-center",children:[i.jsx(Nc,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No courses available at the moment."})]})}):i.jsx("div",{ref:m,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory -mx-2 px-2",children:z.map(V=>{const Z=j.includes(String(V.id));return i.jsx(Lr,{to:`/course/${V.id}`,className:"flex-shrink-0 snap-start w-[calc((100%-2rem)/3)] min-w-[280px] block",children:i.jsx(Ne,{className:"relative transition-all duration-200 cursor-pointer group border border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 rounded-3xl w-full flex flex-col",children:i.jsxs(Pe,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[i.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:i.jsx("img",{src:V.image||"/placeholder.svg",alt:V.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:ie=>{ie.target.src="/placeholder.svg"}})}),i.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[i.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:V.title}),i.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[i.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:V.duration&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:V.duration})}),i.jsx(ae,{variant:"secondary",size:"icon",onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),F.mutate(String(V.id))},"aria-label":Z?"Unsave course":"Save course",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Z?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:i.jsx(ia,{className:fe("h-4 w-4 transition-colors",Z?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})]})})},V.id)})})]})]})]})})]}):i.jsx(Mt,{children:i.jsx("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-gray-600",children:"Please wait while we load your dashboard..."})})})})})};var Xue=Array.isArray,Ca=Xue,Que=typeof qn=="object"&&qn&&qn.Object===Object&&qn,k7=Que,Zue=k7,ede=typeof self=="object"&&self&&self.Object===Object&&self,tde=Zue||ede||Function("return this")(),To=tde,rde=To,nde=rde.Symbol,xg=nde,sR=xg,E7=Object.prototype,ade=E7.hasOwnProperty,sde=E7.toString,Eh=sR?sR.toStringTag:void 0;function ode(e){var t=ade.call(e,Eh),r=e[Eh];try{e[Eh]=void 0;var n=!0}catch{}var a=sde.call(e);return n&&(t?e[Eh]=r:delete e[Eh]),a}var ide=ode,lde=Object.prototype,cde=lde.toString;function ude(e){return cde.call(e)}var dde=ude,oR=xg,fde=ide,hde=dde,pde="[object Null]",mde="[object Undefined]",iR=oR?oR.toStringTag:void 0;function gde(e){return e==null?e===void 0?mde:pde:iR&&iR in Object(e)?fde(e):hde(e)}var gi=gde;function yde(e){return e!=null&&typeof e=="object"}var yi=yde,vde=gi,xde=yi,bde="[object Symbol]";function wde(e){return typeof e=="symbol"||xde(e)&&vde(e)==bde}var Ff=wde,_de=Ca,Sde=Ff,jde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kde=/^\w*$/;function Ede(e,t){if(_de(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Sde(e)?!0:kde.test(e)||!jde.test(e)||t!=null&&e in Object(t)}var sC=Ede;function Nde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ml=Nde;const Bf=fr(Ml);var Cde=gi,Pde=Ml,Ade="[object AsyncFunction]",Tde="[object Function]",Ode="[object GeneratorFunction]",$de="[object Proxy]";function Rde(e){if(!Pde(e))return!1;var t=Cde(e);return t==Tde||t==Ode||t==Ade||t==$de}var oC=Rde;const Wt=fr(oC);var Ide=To,Mde=Ide["__core-js_shared__"],Lde=Mde,J1=Lde,lR=function(){var e=/[^.]+$/.exec(J1&&J1.keys&&J1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dde(e){return!!lR&&lR in e}var Fde=Dde,Bde=Function.prototype,Ude=Bde.toString;function zde(e){if(e!=null){try{return Ude.call(e)}catch{}try{return e+""}catch{}}return""}var N7=zde,qde=oC,Wde=Fde,Hde=Ml,Vde=N7,Kde=/[\\^$.*+?()[\]{}|]/g,Gde=/^\[object .+?Constructor\]$/,Jde=Function.prototype,Yde=Object.prototype,Xde=Jde.toString,Qde=Yde.hasOwnProperty,Zde=RegExp("^"+Xde.call(Qde).replace(Kde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function efe(e){if(!Hde(e)||Wde(e))return!1;var t=qde(e)?Zde:Gde;return t.test(Vde(e))}var tfe=efe;function rfe(e,t){return e==null?void 0:e[t]}var nfe=rfe,afe=tfe,sfe=nfe;function ofe(e,t){var r=sfe(e,t);return afe(r)?r:void 0}var ou=ofe,ife=ou,lfe=ife(Object,"create"),Eb=lfe,cR=Eb;function cfe(){this.__data__=cR?cR(null):{},this.size=0}var ufe=cfe;function dfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ffe=dfe,hfe=Eb,pfe="__lodash_hash_undefined__",mfe=Object.prototype,gfe=mfe.hasOwnProperty;function yfe(e){var t=this.__data__;if(hfe){var r=t[e];return r===pfe?void 0:r}return gfe.call(t,e)?t[e]:void 0}var vfe=yfe,xfe=Eb,bfe=Object.prototype,wfe=bfe.hasOwnProperty;function _fe(e){var t=this.__data__;return xfe?t[e]!==void 0:wfe.call(t,e)}var Sfe=_fe,jfe=Eb,kfe="__lodash_hash_undefined__";function Efe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=jfe&&t===void 0?kfe:t,this}var Nfe=Efe,Cfe=ufe,Pfe=ffe,Afe=vfe,Tfe=Sfe,Ofe=Nfe;function Uf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Uf.prototype.clear=Cfe;Uf.prototype.delete=Pfe;Uf.prototype.get=Afe;Uf.prototype.has=Tfe;Uf.prototype.set=Ofe;var $fe=Uf;function Rfe(){this.__data__=[],this.size=0}var Ife=Rfe;function Mfe(e,t){return e===t||e!==e&&t!==t}var iC=Mfe,Lfe=iC;function Dfe(e,t){for(var r=e.length;r--;)if(Lfe(e[r][0],t))return r;return-1}var Nb=Dfe,Ffe=Nb,Bfe=Array.prototype,Ufe=Bfe.splice;function zfe(e){var t=this.__data__,r=Ffe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ufe.call(t,r,1),--this.size,!0}var qfe=zfe,Wfe=Nb;function Hfe(e){var t=this.__data__,r=Wfe(t,e);return r<0?void 0:t[r][1]}var Vfe=Hfe,Kfe=Nb;function Gfe(e){return Kfe(this.__data__,e)>-1}var Jfe=Gfe,Yfe=Nb;function Xfe(e,t){var r=this.__data__,n=Yfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Qfe=Xfe,Zfe=Ife,ehe=qfe,the=Vfe,rhe=Jfe,nhe=Qfe;function zf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zf.prototype.clear=Zfe;zf.prototype.delete=ehe;zf.prototype.get=the;zf.prototype.has=rhe;zf.prototype.set=nhe;var Cb=zf,ahe=ou,she=To,ohe=ahe(she,"Map"),lC=ohe,uR=$fe,ihe=Cb,lhe=lC;function che(){this.size=0,this.__data__={hash:new uR,map:new(lhe||ihe),string:new uR}}var uhe=che;function dhe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fhe=dhe,hhe=fhe;function phe(e,t){var r=e.__data__;return hhe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Pb=phe,mhe=Pb;function ghe(e){var t=mhe(this,e).delete(e);return this.size-=t?1:0,t}var yhe=ghe,vhe=Pb;function xhe(e){return vhe(this,e).get(e)}var bhe=xhe,whe=Pb;function _he(e){return whe(this,e).has(e)}var She=_he,jhe=Pb;function khe(e,t){var r=jhe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ehe=khe,Nhe=uhe,Che=yhe,Phe=bhe,Ahe=She,The=Ehe;function qf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qf.prototype.clear=Nhe;qf.prototype.delete=Che;qf.prototype.get=Phe;qf.prototype.has=Ahe;qf.prototype.set=The;var cC=qf,C7=cC,Ohe="Expected a function";function uC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ohe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(uC.Cache||C7),r}uC.Cache=C7;var P7=uC;const $he=fr(P7);var Rhe=P7,Ihe=500;function Mhe(e){var t=Rhe(e,function(n){return r.size===Ihe&&r.clear(),n}),r=t.cache;return t}var Lhe=Mhe,Dhe=Lhe,Fhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bhe=/\\(\\)?/g,Uhe=Dhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fhe,function(r,n,a,s){t.push(a?s.replace(Bhe,"$1"):n||r)}),t}),zhe=Uhe;function qhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var dC=qhe,dR=xg,Whe=dC,Hhe=Ca,Vhe=Ff,Khe=1/0,fR=dR?dR.prototype:void 0,hR=fR?fR.toString:void 0;function A7(e){if(typeof e=="string")return e;if(Hhe(e))return Whe(e,A7)+"";if(Vhe(e))return hR?hR.call(e):"";var t=e+"";return t=="0"&&1/e==-Khe?"-0":t}var Ghe=A7,Jhe=Ghe;function Yhe(e){return e==null?"":Jhe(e)}var T7=Yhe,Xhe=Ca,Qhe=sC,Zhe=zhe,epe=T7;function tpe(e,t){return Xhe(e)?e:Qhe(e,t)?[e]:Zhe(epe(e))}var O7=tpe,rpe=Ff,npe=1/0;function ape(e){if(typeof e=="string"||rpe(e))return e;var t=e+"";return t=="0"&&1/e==-npe?"-0":t}var Ab=ape,spe=O7,ope=Ab;function ipe(e,t){t=spe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ope(t[r++])];return r&&r==n?e:void 0}var fC=ipe,lpe=fC;function cpe(e,t,r){var n=e==null?void 0:lpe(e,t);return n===void 0?r:n}var $7=cpe;const fs=fr($7);function upe(e){return e==null}var dpe=upe;const nr=fr(dpe);var fpe=gi,hpe=Ca,ppe=yi,mpe="[object String]";function gpe(e){return typeof e=="string"||!hpe(e)&&ppe(e)&&fpe(e)==mpe}var ype=gpe;const bg=fr(ype);var R7={exports:{}},cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC=Symbol.for("react.element"),pC=Symbol.for("react.portal"),Tb=Symbol.for("react.fragment"),Ob=Symbol.for("react.strict_mode"),$b=Symbol.for("react.profiler"),Rb=Symbol.for("react.provider"),Ib=Symbol.for("react.context"),vpe=Symbol.for("react.server_context"),Mb=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Db=Symbol.for("react.suspense_list"),Fb=Symbol.for("react.memo"),Bb=Symbol.for("react.lazy"),xpe=Symbol.for("react.offscreen"),I7;I7=Symbol.for("react.module.reference");function vs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hC:switch(e=e.type,e){case Tb:case $b:case Ob:case Lb:case Db:return e;default:switch(e=e&&e.$$typeof,e){case vpe:case Ib:case Mb:case Bb:case Fb:case Rb:return e;default:return t}}case pC:return t}}}cr.ContextConsumer=Ib;cr.ContextProvider=Rb;cr.Element=hC;cr.ForwardRef=Mb;cr.Fragment=Tb;cr.Lazy=Bb;cr.Memo=Fb;cr.Portal=pC;cr.Profiler=$b;cr.StrictMode=Ob;cr.Suspense=Lb;cr.SuspenseList=Db;cr.isAsyncMode=function(){return!1};cr.isConcurrentMode=function(){return!1};cr.isContextConsumer=function(e){return vs(e)===Ib};cr.isContextProvider=function(e){return vs(e)===Rb};cr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hC};cr.isForwardRef=function(e){return vs(e)===Mb};cr.isFragment=function(e){return vs(e)===Tb};cr.isLazy=function(e){return vs(e)===Bb};cr.isMemo=function(e){return vs(e)===Fb};cr.isPortal=function(e){return vs(e)===pC};cr.isProfiler=function(e){return vs(e)===$b};cr.isStrictMode=function(e){return vs(e)===Ob};cr.isSuspense=function(e){return vs(e)===Lb};cr.isSuspenseList=function(e){return vs(e)===Db};cr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Tb||e===$b||e===Ob||e===Lb||e===Db||e===xpe||typeof e=="object"&&e!==null&&(e.$$typeof===Bb||e.$$typeof===Fb||e.$$typeof===Rb||e.$$typeof===Ib||e.$$typeof===Mb||e.$$typeof===I7||e.getModuleId!==void 0)};cr.typeOf=vs;R7.exports=cr;var M7=R7.exports,bpe=gi,wpe=yi,_pe="[object Number]";function Spe(e){return typeof e=="number"||wpe(e)&&bpe(e)==_pe}var L7=Spe;const jpe=fr(L7);var kpe=L7;function Epe(e){return kpe(e)&&e!=+e}var Npe=Epe;const wg=fr(Npe);var Rs=function(t){return t===0?0:t>0?1:-1},uc=function(t){return bg(t)&&t.indexOf("%")===t.length-1},Ge=function(t){return jpe(t)&&!wg(t)},pn=function(t){return Ge(t)||bg(t)},Cpe=0,Ub=function(t){var r=++Cpe;return"".concat(t||"").concat(r)},Gc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&!bg(t))return n;var s;if(uc(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return wg(s)&&(s=n),a&&s>r&&(s=r),s},qi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ppe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},_u=function(t,r){return Ge(t)&&Ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function nk(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):fs(n,t))===r})}function pd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ak(e){"@babel/helpers - typeof";return ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ak(e)}var Ape=["viewBox","children"],Tpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pR=["points","pathLength"],Y1={svg:Ape,polygon:pR,polyline:pR},mC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],v0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),!Bf(n))return null;var a={};return Object.keys(n).forEach(function(s){mC.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},Ope=function(t,r,n){return function(a){return t(r,n,a),null}},x0=function(t,r,n){if(!Bf(t)||ak(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];mC.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=Ope(o,r,n))}),a},$pe=["children"],Rpe=["children"];function mR(e,t){if(e==null)return{};var r=Ipe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ipe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ei=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},yR=null,X1=null,gC=function e(t){if(t===yR&&Array.isArray(X1))return X1;var r=[];return p.Children.forEach(t,function(n){nr(n)||(M7.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),X1=r,yR=t,r};function Bs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ei(a)}):n=[ei(t)],gC(e).forEach(function(a){var s=fs(a,"type.displayName")||fs(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ra(e,t){var r=Bs(e,t);return r&&r[0]}var vR=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ge(n)||n<=0||!Ge(a)||a<=0)},Mpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Lpe=function(t){return t&&t.type&&bg(t.type)&&Mpe.indexOf(t.type)>=0},Dpe=function(t,r,n,a){var s,o=(s=Y1==null?void 0:Y1[a])!==null&&s!==void 0?s:[];return!Wt(t)&&(a&&o.includes(r)||Tpe.includes(r))||n&&mC.includes(r)},Zt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(p.isValidElement(t)&&(a=t.props),!Bf(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;Dpe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},sk=function e(t,r){if(t===r)return!0;var n=p.Children.count(t);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!xR(s,o))return!1}return!0},xR=function(t,r){if(nr(t)&&nr(r))return!0;if(!nr(t)&&!nr(r)){var n=t.props||{},a=n.children,s=mR(n,$pe),o=r.props||{},l=o.children,c=mR(o,Rpe);return a&&l?pd(s,c)&&sk(a,l):!a&&!l?pd(s,c):!1}return!1},bR=function(t,r){var n=[],a={};return gC(t).forEach(function(s,o){if(Lpe(s))n.push(s);else if(s){var l=ei(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},Fpe=function(t){var r=t&&t.type;return r&&gR[r]?gR[r]:null},Bpe=function(t,r){return gC(r).indexOf(t)},Upe=["children","width","height","viewBox","className","style","title","desc"];function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ok.apply(this,arguments)}function zpe(e,t){if(e==null)return{};var r=qpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ik(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=zpe(e,Upe),d=a||{width:r,height:n,x:0,y:0},f=Yt("recharts-surface",s);return $.createElement("svg",ok({},Zt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),t)}var Wpe=["children","className"];function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lk.apply(this,arguments)}function Hpe(e,t){if(e==null)return{};var r=Vpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bn=$.forwardRef(function(e,t){var r=e.children,n=e.className,a=Hpe(e,Wpe),s=Yt("recharts-layer",n);return $.createElement("g",lk({className:s},Zt(a,!0),{ref:t}),r)}),ti=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Kpe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Gpe=Kpe,Jpe=Gpe;function Ype(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Jpe(e,t,r)}var Xpe=Ype,Qpe="\\ud800-\\udfff",Zpe="\\u0300-\\u036f",eme="\\ufe20-\\ufe2f",tme="\\u20d0-\\u20ff",rme=Zpe+eme+tme,nme="\\ufe0e\\ufe0f",ame="\\u200d",sme=RegExp("["+ame+Qpe+rme+nme+"]");function ome(e){return sme.test(e)}var D7=ome;function ime(e){return e.split("")}var lme=ime,F7="\\ud800-\\udfff",cme="\\u0300-\\u036f",ume="\\ufe20-\\ufe2f",dme="\\u20d0-\\u20ff",fme=cme+ume+dme,hme="\\ufe0e\\ufe0f",pme="["+F7+"]",ck="["+fme+"]",uk="\\ud83c[\\udffb-\\udfff]",mme="(?:"+ck+"|"+uk+")",B7="[^"+F7+"]",U7="(?:\\ud83c[\\udde6-\\uddff]){2}",z7="[\\ud800-\\udbff][\\udc00-\\udfff]",gme="\\u200d",q7=mme+"?",W7="["+hme+"]?",yme="(?:"+gme+"(?:"+[B7,U7,z7].join("|")+")"+W7+q7+")*",vme=W7+q7+yme,xme="(?:"+[B7+ck+"?",ck,U7,z7,pme].join("|")+")",bme=RegExp(uk+"(?="+uk+")|"+xme+vme,"g");function wme(e){return e.match(bme)||[]}var _me=wme,Sme=lme,jme=D7,kme=_me;function Eme(e){return jme(e)?kme(e):Sme(e)}var Nme=Eme,Cme=Xpe,Pme=D7,Ame=Nme,Tme=T7;function Ome(e){return function(t){t=Tme(t);var r=Pme(t)?Ame(t):void 0,n=r?r[0]:t.charAt(0),a=r?Cme(r,1).join(""):t.slice(1);return n[e]()+a}}var $me=Ome,Rme=$me,Ime=Rme("toUpperCase"),Mme=Ime;const zb=fr(Mme);function br(e){return function(){return e}}const H7=Math.cos,b0=Math.sin,Qs=Math.sqrt,w0=Math.PI,qb=2*w0,dk=Math.PI,fk=2*dk,Zl=1e-6,Lme=fk-Zl;function V7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Dme(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return V7;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Fme{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?V7:Dme(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Zl)if(!(Math.abs(f*c-u*d)>Zl)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,y=a-l,m=c*c+u*u,v=g*g+y*y,x=Math.sqrt(m),w=Math.sqrt(h),b=s*Math.tan((dk-Math.acos((m+h-v)/(2*x*w)))/2),_=b/w,S=b/x;Math.abs(_-1)>Zl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*g>d*y)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Zl||Math.abs(this._y1-d)>Zl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%fk+fk),h>Lme?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Zl&&this._append`A${n},${n},0,${+(h>=dk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Fme(t)}function vC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K7(e){this._context=e}K7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wb(e){return new K7(e)}function G7(e){return e[0]}function J7(e){return e[1]}function Y7(e,t){var r=br(!0),n=null,a=Wb,s=null,o=yC(l);e=typeof e=="function"?e:e===void 0?G7:br(e),t=typeof t=="function"?t:t===void 0?J7:br(t);function l(c){var u,d=(c=vC(c)).length,f,h=!1,g;for(n==null&&(s=a(g=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(g)return s=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:br(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:br(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:br(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function jy(e,t,r){var n=null,a=br(!0),s=null,o=Wb,l=null,c=yC(u);e=typeof e=="function"?e:e===void 0?G7:br(+e),t=typeof t=="function"?t:br(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?J7:br(+r);function u(f){var h,g,y,m=(f=vC(f)).length,v,x=!1,w,b=new Array(m),_=new Array(m);for(s==null&&(l=o(w=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===x)if(x=!x)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=g;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(w)return l=null,w+""||null}function d(){return Y7().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:br(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:br(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:br(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:br(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:br(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:br(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:br(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class X7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Bme(e){return new X7(e,!0)}function Ume(e){return new X7(e,!1)}const xC={draw(e,t){const r=Qs(t/w0);e.moveTo(r,0),e.arc(0,0,r,0,qb)}},zme={draw(e,t){const r=Qs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Q7=Qs(1/3),qme=Q7*2,Wme={draw(e,t){const r=Qs(t/qme),n=r*Q7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Hme={draw(e,t){const r=Qs(t),n=-r/2;e.rect(n,n,r,r)}},Vme=.8908130915292852,Z7=b0(w0/10)/b0(7*w0/10),Kme=b0(qb/10)*Z7,Gme=-H7(qb/10)*Z7,Jme={draw(e,t){const r=Qs(t*Vme),n=Kme*r,a=Gme*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=qb*s/5,l=H7(o),c=b0(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Q1=Qs(3),Yme={draw(e,t){const r=-Qs(t/(Q1*3));e.moveTo(0,r*2),e.lineTo(-Q1*r,-r),e.lineTo(Q1*r,-r),e.closePath()}},Xa=-.5,Qa=Qs(3)/2,hk=1/Qs(12),Xme=(hk/2+1)*3,Qme={draw(e,t){const r=Qs(t/Xme),n=r/2,a=r*hk,s=n,o=r*hk+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Xa*n-Qa*a,Qa*n+Xa*a),e.lineTo(Xa*s-Qa*o,Qa*s+Xa*o),e.lineTo(Xa*l-Qa*c,Qa*l+Xa*c),e.lineTo(Xa*n+Qa*a,Xa*a-Qa*n),e.lineTo(Xa*s+Qa*o,Xa*o-Qa*s),e.lineTo(Xa*l+Qa*c,Xa*c-Qa*l),e.closePath()}};function Zme(e,t){let r=null,n=yC(a);e=typeof e=="function"?e:br(e||xC),t=typeof t=="function"?t:br(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:br(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:br(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function _0(){}function S0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function eU(e){this._context=e}eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ege(e){return new eU(e)}function tU(e){this._context=e}tU.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:S0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tge(e){return new tU(e)}function rU(e){this._context=e}rU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:S0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rge(e){return new rU(e)}function nU(e){this._context=e}nU.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nge(e){return new nU(e)}function wR(e){return e<0?-1:1}function _R(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(wR(s)+wR(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function SR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Z1(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function j0(e){this._context=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z1(this,this._t0,SR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z1(this,SR(this,r=_R(this,e,t)),r);break;default:Z1(this,this._t0,r=_R(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function aU(e){this._context=new sU(e)}(aU.prototype=Object.create(j0.prototype)).point=function(e,t){j0.prototype.point.call(this,t,e)};function sU(e){this._context=e}sU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function age(e){return new j0(e)}function sge(e){return new aU(e)}function oU(e){this._context=e}oU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=jR(e),a=jR(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jR(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function oge(e){return new oU(e)}function Hb(e,t){this._context=e,this._t=t}Hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ige(e){return new Hb(e,.5)}function lge(e){return new Hb(e,0)}function cge(e){return new Hb(e,1)}function Yd(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function pk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uge(e,t){return e[t]}function dge(e){const t=[];return t.key=e,t}function fge(){var e=br([]),t=pk,r=Yd,n=uge;function a(s){var o=Array.from(e.apply(this,arguments),dge),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=vC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:br(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:br(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?pk:typeof s=="function"?s:br(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Yd,a):r},a}function hge(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Yd(e,t)}}function pge(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Yd(e,t)}}function mge(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,y=0;y<l;++y){var m=e[t[y]],v=m[n][1]||0,x=m[n-1][1]||0;g+=v-x}c+=f,u+=g*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Yd(e,t)}}function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}var gge=["type","size","sizeType"];function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mk.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){yge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yge(e,t,r){return t=vge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vge(e){var t=xge(e,"string");return lm(t)=="symbol"?t:t+""}function xge(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bge(e,t){if(e==null)return{};var r=wge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var iU={symbolCircle:xC,symbolCross:zme,symbolDiamond:Wme,symbolSquare:Hme,symbolStar:Jme,symbolTriangle:Yme,symbolWye:Qme},_ge=Math.PI/180,Sge=function(t){var r="symbol".concat(zb(t));return iU[r]||xC},jge=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*_ge;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},kge=function(t,r){iU["symbol".concat(zb(t))]=r},bC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=bge(t,gge),u=ER(ER({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=Sge(n),x=Zme().type(v).size(jge(s,l,n));return x()},f=u.className,h=u.cx,g=u.cy,y=Zt(u,!0);return h===+h&&g===+g&&s===+s?$.createElement("path",mk({},y,{className:Yt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};bC.registerSymbol=kge;function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gk.apply(this,arguments)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ege(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){cm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cU(n.key),n)}}function Pge(e,t,r){return t&&Cge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Age(e,t,r){return t=k0(t),Tge(e,lU()?Reflect.construct(t,r||[],k0(e).constructor):t.apply(e,r))}function Tge(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oge(e)}function Oge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!e})()}function k0(e){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k0(e)}function $ge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(e,t)}function cm(e,t,r){return t=cU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=Rge(e,"string");return Xd(t)=="symbol"?t:t+""}function Rge(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Za=32,wC=function(e){function t(){return Nge(this,t),Age(this,t,arguments)}return $ge(t,e),Pge(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Za/2,o=Za/6,l=Za/3,c=n.inactive?a:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Za,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Za,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Za/8,"h").concat(Za,"v").concat(Za*3/4,"h").concat(-Za,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=Ege({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(bC,{fill:c,cx:s,cy:s,size:Za,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Za,height:Za},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,y){var m=g.formatter||c,v=Yt(cm(cm({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=Wt(g.value)?null:g.value;ti(!Wt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?u:g.color;return $.createElement("li",gk({className:v,style:f,key:"legend-item-".concat(y)},x0(n.props,g,y)),$.createElement(ik,{width:o,height:o,viewBox:d,style:h},n.renderIcon(g)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(x,g,y):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(p.PureComponent);cm(wC,"displayName","Legend");cm(wC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ige=Cb;function Mge(){this.__data__=new Ige,this.size=0}var Lge=Mge;function Dge(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Fge=Dge;function Bge(e){return this.__data__.get(e)}var Uge=Bge;function zge(e){return this.__data__.has(e)}var qge=zge,Wge=Cb,Hge=lC,Vge=cC,Kge=200;function Gge(e,t){var r=this.__data__;if(r instanceof Wge){var n=r.__data__;if(!Hge||n.length<Kge-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vge(n)}return r.set(e,t),this.size=r.size,this}var Jge=Gge,Yge=Cb,Xge=Lge,Qge=Fge,Zge=Uge,eye=qge,tye=Jge;function Wf(e){var t=this.__data__=new Yge(e);this.size=t.size}Wf.prototype.clear=Xge;Wf.prototype.delete=Qge;Wf.prototype.get=Zge;Wf.prototype.has=eye;Wf.prototype.set=tye;var uU=Wf,rye="__lodash_hash_undefined__";function nye(e){return this.__data__.set(e,rye),this}var aye=nye;function sye(e){return this.__data__.has(e)}var oye=sye,iye=cC,lye=aye,cye=oye;function E0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new iye;++t<r;)this.add(e[t])}E0.prototype.add=E0.prototype.push=lye;E0.prototype.has=cye;var dU=E0;function uye(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var fU=uye;function dye(e,t){return e.has(t)}var hU=dye,fye=dU,hye=fU,pye=hU,mye=1,gye=2;function yye(e,t,r,n,a,s){var o=r&mye,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=r&gye?new fye:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var y=e[f],m=t[f];if(n)var v=o?n(m,y,f,t,e,s):n(y,m,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(g){if(!hye(t,function(x,w){if(!pye(g,w)&&(y===x||a(y,x,r,n,s)))return g.push(w)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var pU=yye,vye=To,xye=vye.Uint8Array,bye=xye;function wye(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var _ye=wye;function Sye(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _C=Sye,CR=xg,PR=bye,jye=iC,kye=pU,Eye=_ye,Nye=_C,Cye=1,Pye=2,Aye="[object Boolean]",Tye="[object Date]",Oye="[object Error]",$ye="[object Map]",Rye="[object Number]",Iye="[object RegExp]",Mye="[object Set]",Lye="[object String]",Dye="[object Symbol]",Fye="[object ArrayBuffer]",Bye="[object DataView]",AR=CR?CR.prototype:void 0,e_=AR?AR.valueOf:void 0;function Uye(e,t,r,n,a,s,o){switch(r){case Bye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Fye:return!(e.byteLength!=t.byteLength||!s(new PR(e),new PR(t)));case Aye:case Tye:case Rye:return jye(+e,+t);case Oye:return e.name==t.name&&e.message==t.message;case Iye:case Lye:return e==t+"";case $ye:var l=Eye;case Mye:var c=n&Cye;if(l||(l=Nye),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Pye,o.set(e,t);var d=kye(l(e),l(t),n,a,s,o);return o.delete(e),d;case Dye:if(e_)return e_.call(e)==e_.call(t)}return!1}var zye=Uye;function qye(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var mU=qye,Wye=mU,Hye=Ca;function Vye(e,t,r){var n=t(e);return Hye(e)?n:Wye(n,r(e))}var Kye=Vye;function Gye(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Jye=Gye;function Yye(){return[]}var Xye=Yye,Qye=Jye,Zye=Xye,eve=Object.prototype,tve=eve.propertyIsEnumerable,TR=Object.getOwnPropertySymbols,rve=TR?function(e){return e==null?[]:(e=Object(e),Qye(TR(e),function(t){return tve.call(e,t)}))}:Zye,nve=rve;function ave(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var sve=ave,ove=gi,ive=yi,lve="[object Arguments]";function cve(e){return ive(e)&&ove(e)==lve}var uve=cve,OR=uve,dve=yi,gU=Object.prototype,fve=gU.hasOwnProperty,hve=gU.propertyIsEnumerable,pve=OR(function(){return arguments}())?OR:function(e){return dve(e)&&fve.call(e,"callee")&&!hve.call(e,"callee")},SC=pve,N0={exports:{}};function mve(){return!1}var gve=mve;N0.exports;(function(e,t){var r=To,n=gve,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(N0,N0.exports);var yU=N0.exports,yve=9007199254740991,vve=/^(?:0|[1-9]\d*)$/;function xve(e,t){var r=typeof e;return t=t??yve,!!t&&(r=="number"||r!="symbol"&&vve.test(e))&&e>-1&&e%1==0&&e<t}var jC=xve,bve=9007199254740991;function wve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bve}var kC=wve,_ve=gi,Sve=kC,jve=yi,kve="[object Arguments]",Eve="[object Array]",Nve="[object Boolean]",Cve="[object Date]",Pve="[object Error]",Ave="[object Function]",Tve="[object Map]",Ove="[object Number]",$ve="[object Object]",Rve="[object RegExp]",Ive="[object Set]",Mve="[object String]",Lve="[object WeakMap]",Dve="[object ArrayBuffer]",Fve="[object DataView]",Bve="[object Float32Array]",Uve="[object Float64Array]",zve="[object Int8Array]",qve="[object Int16Array]",Wve="[object Int32Array]",Hve="[object Uint8Array]",Vve="[object Uint8ClampedArray]",Kve="[object Uint16Array]",Gve="[object Uint32Array]",Er={};Er[Bve]=Er[Uve]=Er[zve]=Er[qve]=Er[Wve]=Er[Hve]=Er[Vve]=Er[Kve]=Er[Gve]=!0;Er[kve]=Er[Eve]=Er[Dve]=Er[Nve]=Er[Fve]=Er[Cve]=Er[Pve]=Er[Ave]=Er[Tve]=Er[Ove]=Er[$ve]=Er[Rve]=Er[Ive]=Er[Mve]=Er[Lve]=!1;function Jve(e){return jve(e)&&Sve(e.length)&&!!Er[_ve(e)]}var Yve=Jve;function Xve(e){return function(t){return e(t)}}var vU=Xve,C0={exports:{}};C0.exports;(function(e,t){var r=k7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(C0,C0.exports);var Qve=C0.exports,Zve=Yve,e0e=vU,$R=Qve,RR=$R&&$R.isTypedArray,t0e=RR?e0e(RR):Zve,xU=t0e,r0e=sve,n0e=SC,a0e=Ca,s0e=yU,o0e=jC,i0e=xU,l0e=Object.prototype,c0e=l0e.hasOwnProperty;function u0e(e,t){var r=a0e(e),n=!r&&n0e(e),a=!r&&!n&&s0e(e),s=!r&&!n&&!a&&i0e(e),o=r||n||a||s,l=o?r0e(e.length,String):[],c=l.length;for(var u in e)(t||c0e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||o0e(u,c)))&&l.push(u);return l}var d0e=u0e,f0e=Object.prototype;function h0e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||f0e;return e===r}var p0e=h0e;function m0e(e,t){return function(r){return e(t(r))}}var bU=m0e,g0e=bU,y0e=g0e(Object.keys,Object),v0e=y0e,x0e=p0e,b0e=v0e,w0e=Object.prototype,_0e=w0e.hasOwnProperty;function S0e(e){if(!x0e(e))return b0e(e);var t=[];for(var r in Object(e))_0e.call(e,r)&&r!="constructor"&&t.push(r);return t}var j0e=S0e,k0e=oC,E0e=kC;function N0e(e){return e!=null&&E0e(e.length)&&!k0e(e)}var _g=N0e,C0e=d0e,P0e=j0e,A0e=_g;function T0e(e){return A0e(e)?C0e(e):P0e(e)}var Vb=T0e,O0e=Kye,$0e=nve,R0e=Vb;function I0e(e){return O0e(e,R0e,$0e)}var M0e=I0e,IR=M0e,L0e=1,D0e=Object.prototype,F0e=D0e.hasOwnProperty;function B0e(e,t,r,n,a,s){var o=r&L0e,l=IR(e),c=l.length,u=IR(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:F0e.call(t,h)))return!1}var g=s.get(e),y=s.get(t);if(g&&y)return g==t&&y==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var x=e[h],w=t[h];if(n)var b=o?n(w,x,h,t,e,s):n(x,w,h,e,t,s);if(!(b===void 0?x===w||a(x,w,r,n,s):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(e),s.delete(t),m}var U0e=B0e,z0e=ou,q0e=To,W0e=z0e(q0e,"DataView"),H0e=W0e,V0e=ou,K0e=To,G0e=V0e(K0e,"Promise"),J0e=G0e,Y0e=ou,X0e=To,Q0e=Y0e(X0e,"Set"),wU=Q0e,Z0e=ou,exe=To,txe=Z0e(exe,"WeakMap"),rxe=txe,vk=H0e,xk=lC,bk=J0e,wk=wU,_k=rxe,_U=gi,Hf=N7,MR="[object Map]",nxe="[object Object]",LR="[object Promise]",DR="[object Set]",FR="[object WeakMap]",BR="[object DataView]",axe=Hf(vk),sxe=Hf(xk),oxe=Hf(bk),ixe=Hf(wk),lxe=Hf(_k),ec=_U;(vk&&ec(new vk(new ArrayBuffer(1)))!=BR||xk&&ec(new xk)!=MR||bk&&ec(bk.resolve())!=LR||wk&&ec(new wk)!=DR||_k&&ec(new _k)!=FR)&&(ec=function(e){var t=_U(e),r=t==nxe?e.constructor:void 0,n=r?Hf(r):"";if(n)switch(n){case axe:return BR;case sxe:return MR;case oxe:return LR;case ixe:return DR;case lxe:return FR}return t});var cxe=ec,t_=uU,uxe=pU,dxe=zye,fxe=U0e,UR=cxe,zR=Ca,qR=yU,hxe=xU,pxe=1,WR="[object Arguments]",HR="[object Array]",ky="[object Object]",mxe=Object.prototype,VR=mxe.hasOwnProperty;function gxe(e,t,r,n,a,s){var o=zR(e),l=zR(t),c=o?HR:UR(e),u=l?HR:UR(t);c=c==WR?ky:c,u=u==WR?ky:u;var d=c==ky,f=u==ky,h=c==u;if(h&&qR(e)){if(!qR(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new t_),o||hxe(e)?uxe(e,t,r,n,a,s):dxe(e,t,c,r,n,a,s);if(!(r&pxe)){var g=d&&VR.call(e,"__wrapped__"),y=f&&VR.call(t,"__wrapped__");if(g||y){var m=g?e.value():e,v=y?t.value():t;return s||(s=new t_),a(m,v,r,n,s)}}return h?(s||(s=new t_),fxe(e,t,r,n,a,s)):!1}var yxe=gxe,vxe=yxe,KR=yi;function SU(e,t,r,n,a){return e===t?!0:e==null||t==null||!KR(e)&&!KR(t)?e!==e&&t!==t:vxe(e,t,r,n,SU,a)}var EC=SU,xxe=uU,bxe=EC,wxe=1,_xe=2;function Sxe(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new xxe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?bxe(d,u,wxe|_xe,n,f):h))return!1}}return!0}var jxe=Sxe,kxe=Ml;function Exe(e){return e===e&&!kxe(e)}var jU=Exe,Nxe=jU,Cxe=Vb;function Pxe(e){for(var t=Cxe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Nxe(a)]}return t}var Axe=Pxe;function Txe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var kU=Txe,Oxe=jxe,$xe=Axe,Rxe=kU;function Ixe(e){var t=$xe(e);return t.length==1&&t[0][2]?Rxe(t[0][0],t[0][1]):function(r){return r===e||Oxe(r,e,t)}}var Mxe=Ixe;function Lxe(e,t){return e!=null&&t in Object(e)}var Dxe=Lxe,Fxe=O7,Bxe=SC,Uxe=Ca,zxe=jC,qxe=kC,Wxe=Ab;function Hxe(e,t,r){t=Fxe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Wxe(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&qxe(a)&&zxe(o,a)&&(Uxe(e)||Bxe(e)))}var Vxe=Hxe,Kxe=Dxe,Gxe=Vxe;function Jxe(e,t){return e!=null&&Gxe(e,t,Kxe)}var Yxe=Jxe,Xxe=EC,Qxe=$7,Zxe=Yxe,ebe=sC,tbe=jU,rbe=kU,nbe=Ab,abe=1,sbe=2;function obe(e,t){return ebe(e)&&tbe(t)?rbe(nbe(e),t):function(r){var n=Qxe(r,e);return n===void 0&&n===t?Zxe(r,e):Xxe(t,n,abe|sbe)}}var ibe=obe;function lbe(e){return e}var Vf=lbe;function cbe(e){return function(t){return t==null?void 0:t[e]}}var ube=cbe,dbe=fC;function fbe(e){return function(t){return dbe(t,e)}}var hbe=fbe,pbe=ube,mbe=hbe,gbe=sC,ybe=Ab;function vbe(e){return gbe(e)?pbe(ybe(e)):mbe(e)}var xbe=vbe,bbe=Mxe,wbe=ibe,_be=Vf,Sbe=Ca,jbe=xbe;function kbe(e){return typeof e=="function"?e:e==null?_be:typeof e=="object"?Sbe(e)?wbe(e[0],e[1]):bbe(e):jbe(e)}var Ll=kbe;function Ebe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var EU=Ebe;function Nbe(e){return e!==e}var Cbe=Nbe;function Pbe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Abe=Pbe,Tbe=EU,Obe=Cbe,$be=Abe;function Rbe(e,t,r){return t===t?$be(e,t,r):Tbe(e,Obe,r)}var Ibe=Rbe,Mbe=Ibe;function Lbe(e,t){var r=e==null?0:e.length;return!!r&&Mbe(e,t,0)>-1}var Dbe=Lbe;function Fbe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Bbe=Fbe;function Ube(){}var zbe=Ube,r_=wU,qbe=zbe,Wbe=_C,Hbe=1/0,Vbe=r_&&1/Wbe(new r_([,-0]))[1]==Hbe?function(e){return new r_(e)}:qbe,Kbe=Vbe,Gbe=dU,Jbe=Dbe,Ybe=Bbe,Xbe=hU,Qbe=Kbe,Zbe=_C,ewe=200;function twe(e,t,r){var n=-1,a=Jbe,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Ybe;else if(s>=ewe){var u=t?null:Qbe(e);if(u)return Zbe(u);o=!1,a=Xbe,c=new Gbe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var rwe=twe,nwe=Ll,awe=rwe;function swe(e,t){return e&&e.length?awe(e,nwe(t)):[]}var owe=swe;const GR=fr(owe);function NU(e,t,r){return t===!0?GR(e,r):Wt(t)?GR(e,t):e}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}var iwe=["ref"];function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){Kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PU(n.key),n)}}function cwe(e,t,r){return t&&YR(e.prototype,t),r&&YR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uwe(e,t,r){return t=P0(t),dwe(e,CU()?Reflect.construct(t,r||[],P0(e).constructor):t.apply(e,r))}function dwe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fwe(e)}function fwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CU=function(){return!!e})()}function P0(e){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P0(e)}function hwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function Kb(e,t,r){return t=PU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=pwe(e,"string");return Qd(t)=="symbol"?t:t+""}function pwe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mwe(e,t){if(e==null)return{};var r=gwe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ywe(e){return e.value}function vwe(e,t){if($.isValidElement(e))return $.cloneElement(e,t);if(typeof e=="function")return $.createElement(e,t);t.ref;var r=mwe(t,iwe);return $.createElement(wC,r)}var XR=1,md=function(e){function t(){var r;lwe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=uwe(this,t,[].concat(a)),Kb(r,"lastBoundingBox",{width:-1,height:-1}),r}return hwe(t,e),cwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>XR||Math.abs(a.height-this.lastBoundingBox.height)>XR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ro({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ro(Ro({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ro(Ro({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},vwe(s,Ro(Ro({},this.props),{},{payload:NU(d,u,ywe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ro(Ro({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ge(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(p.PureComponent);Kb(md,"displayName","Legend");Kb(md,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QR=xg,xwe=SC,bwe=Ca,ZR=QR?QR.isConcatSpreadable:void 0;function wwe(e){return bwe(e)||xwe(e)||!!(ZR&&e&&e[ZR])}var _we=wwe,Swe=mU,jwe=_we;function AU(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=jwe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?AU(l,t-1,r,n,a):Swe(a,l):n||(a[a.length]=l)}return a}var TU=AU;function kwe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var Ewe=kwe,Nwe=Ewe,Cwe=Nwe(),Pwe=Cwe,Awe=Pwe,Twe=Vb;function Owe(e,t){return e&&Awe(e,t,Twe)}var OU=Owe,$we=_g;function Rwe(e,t){return function(r,n){if(r==null)return r;if(!$we(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var Iwe=Rwe,Mwe=OU,Lwe=Iwe,Dwe=Lwe(Mwe),NC=Dwe,Fwe=NC,Bwe=_g;function Uwe(e,t){var r=-1,n=Bwe(e)?Array(e.length):[];return Fwe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var $U=Uwe;function zwe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var qwe=zwe,e4=Ff;function Wwe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=e4(e),o=t!==void 0,l=t===null,c=t===t,u=e4(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Hwe=Wwe,Vwe=Hwe;function Kwe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=Vwe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Gwe=Kwe,n_=dC,Jwe=fC,Ywe=Ll,Xwe=$U,Qwe=qwe,Zwe=vU,e1e=Gwe,t1e=Vf,r1e=Ca;function n1e(e,t,r){t.length?t=n_(t,function(s){return r1e(s)?function(o){return Jwe(o,s.length===1?s[0]:s)}:s}):t=[t1e];var n=-1;t=n_(t,Zwe(Ywe));var a=Xwe(e,function(s,o,l){var c=n_(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Qwe(a,function(s,o){return e1e(s,o,r)})}var a1e=n1e;function s1e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var o1e=s1e,i1e=o1e,t4=Math.max;function l1e(e,t,r){return t=t4(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=t4(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),i1e(e,this,l)}}var c1e=l1e;function u1e(e){return function(){return e}}var d1e=u1e,f1e=ou,h1e=function(){try{var e=f1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),RU=h1e,p1e=d1e,r4=RU,m1e=Vf,g1e=r4?function(e,t){return r4(e,"toString",{configurable:!0,enumerable:!1,value:p1e(t),writable:!0})}:m1e,y1e=g1e,v1e=800,x1e=16,b1e=Date.now;function w1e(e){var t=0,r=0;return function(){var n=b1e(),a=x1e-(n-r);if(r=n,a>0){if(++t>=v1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _1e=w1e,S1e=y1e,j1e=_1e,k1e=j1e(S1e),E1e=k1e,N1e=Vf,C1e=c1e,P1e=E1e;function A1e(e,t){return P1e(C1e(e,t,N1e),e+"")}var T1e=A1e,O1e=iC,$1e=_g,R1e=jC,I1e=Ml;function M1e(e,t,r){if(!I1e(r))return!1;var n=typeof t;return(n=="number"?$1e(r)&&R1e(t,r.length):n=="string"&&t in r)?O1e(r[t],e):!1}var Gb=M1e,L1e=TU,D1e=a1e,F1e=T1e,n4=Gb,B1e=F1e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&n4(e,t[0],t[1])?t=[]:r>2&&n4(t[0],t[1],t[2])&&(t=[t[0]]),D1e(e,L1e(t,1),[])}),U1e=B1e;const CC=fr(U1e);function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jk.apply(this,arguments)}function z1e(e,t){return V1e(e)||H1e(e,t)||W1e(e,t)||q1e()}function q1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1e(e,t){if(e){if(typeof e=="string")return a4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a4(e,t)}}function a4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function V1e(e){if(Array.isArray(e))return e}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){K1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K1e(e,t,r){return t=G1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G1e(e){var t=J1e(e,"string");return um(t)=="symbol"?t:t+""}function J1e(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y1e(e){return Array.isArray(e)&&pn(e[0])&&pn(e[1])?e.join(" ~ "):e}var X1e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,g=t.wrapperClassName,y=t.labelClassName,m=t.label,v=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(d&&d.length){var R={padding:0,margin:0},U=(h?CC(d,h):d).map(function(z,F){if(z.type==="none")return null;var D=a_({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),q=z.formatter||f||Y1e,T=z.value,L=z.name,ee=T,M=L;if(q&&ee!=null&&M!=null){var G=q(T,L,z,F,d);if(Array.isArray(G)){var V=z1e(G,2);ee=V[0],M=V[1]}else ee=G}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:D},pn(M)?$.createElement("span",{className:"recharts-tooltip-item-name"},M):null,pn(M)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},ee),$.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:R},U)}return null},_=a_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=a_({margin:0},u),E=!nr(m),j=E?m:"",k=Yt("recharts-default-tooltip",g),N=Yt("recharts-tooltip-label",y);E&&v&&d!==void 0&&d!==null&&(j=v(m,d));var P=w?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",jk({className:k,style:_},P),$.createElement("p",{className:N,style:S},$.isValidElement(j)?j:"".concat(j)),b())};function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function Ey(e,t,r){return t=Q1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q1e(e){var t=Z1e(e,"string");return dm(t)=="symbol"?t:t+""}function Z1e(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nh="recharts-tooltip-wrapper",e_e={visibility:"hidden"};function t_e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Yt(Nh,Ey(Ey(Ey(Ey({},"".concat(Nh,"-right"),Ge(r)&&t&&Ge(t.x)&&r>=t.x),"".concat(Nh,"-left"),Ge(r)&&t&&Ge(t.x)&&r<t.x),"".concat(Nh,"-bottom"),Ge(n)&&t&&Ge(t.y)&&n>=t.y),"".concat(Nh,"-top"),Ge(n)&&t&&Ge(t.y)&&n<t.y))}function o4(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Ge(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,m=c[n]+u;return y>m?Math.max(d,c[n]):Math.max(f,c[n])}function r_e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function n_e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=o4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=o4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=r_e({translateX:d,translateY:f,useTranslate3d:l})):u=e_e,{cssProperties:u,cssClasses:t_e({translateX:d,translateY:f,coordinate:r})}}function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){Ek(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MU(n.key),n)}}function o_e(e,t,r){return t&&s_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i_e(e,t,r){return t=A0(t),l_e(e,IU()?Reflect.construct(t,r||[],A0(e).constructor):t.apply(e,r))}function l_e(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(e)}function c_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!e})()}function A0(e){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A0(e)}function u_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function Ek(e,t,r){return t=MU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=d_e(e,"string");return Zd(t)=="symbol"?t:t+""}function d_e(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c4=1,f_e=function(e){function t(){var r;a_e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=i_e(this,t,[].concat(a)),Ek(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ek(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return u_e(t,e),o_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>c4||Math.abs(n.height-this.state.lastBoundingBox.height)>c4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,g=a.offset,y=a.position,m=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,b=n_e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=b.cssClasses,S=b.cssProperties,E=l4(l4({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return $.createElement("div",{tabIndex:-1,className:_,style:E,ref:function(k){n.wrapperNode=k}},u)}}])}(p.PureComponent),h_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xl={isSsr:h_e(),get:function(t){return xl[t]},set:function(t,r){if(typeof t=="string")xl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){xl[a]=t[a]})}}};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){PC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DU(n.key),n)}}function g_e(e,t,r){return t&&m_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y_e(e,t,r){return t=T0(t),v_e(e,LU()?Reflect.construct(t,r||[],T0(e).constructor):t.apply(e,r))}function v_e(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x_e(e)}function x_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LU=function(){return!!e})()}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(e)}function b_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}function Nk(e,t){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nk(e,t)}function PC(e,t,r){return t=DU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=w_e(e,"string");return ef(t)=="symbol"?t:t+""}function w_e(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function __e(e){return e.dataKey}function S_e(e,t){return $.isValidElement(e)?$.cloneElement(e,t):typeof e=="function"?$.createElement(e,t):$.createElement(X1e,t)}var ao=function(e){function t(){return p_e(this,t),y_e(this,t,arguments)}return b_e(t,e),g_e(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,g=a.offset,y=a.payload,m=a.payloadUniqBy,v=a.position,x=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,S=y??[];f&&S.length&&(S=NU(y.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),m,__e));var E=S.length>0;return $.createElement(f_e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:E,offset:g,position:v,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:_},S_e(u,d4(d4({},this.props),{},{payload:S})))}}])}(p.PureComponent);PC(ao,"displayName","Tooltip");PC(ao,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var j_e=To,k_e=function(){return j_e.Date.now()},E_e=k_e,N_e=/\s/;function C_e(e){for(var t=e.length;t--&&N_e.test(e.charAt(t)););return t}var P_e=C_e,A_e=P_e,T_e=/^\s+/;function O_e(e){return e&&e.slice(0,A_e(e)+1).replace(T_e,"")}var $_e=O_e,R_e=$_e,f4=Ml,I_e=Ff,h4=NaN,M_e=/^[-+]0x[0-9a-f]+$/i,L_e=/^0b[01]+$/i,D_e=/^0o[0-7]+$/i,F_e=parseInt;function B_e(e){if(typeof e=="number")return e;if(I_e(e))return h4;if(f4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=f4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=R_e(e);var r=L_e.test(e);return r||D_e.test(e)?F_e(e.slice(2),r?2:8):M_e.test(e)?h4:+e}var FU=B_e,U_e=Ml,s_=E_e,p4=FU,z_e="Expected a function",q_e=Math.max,W_e=Math.min;function H_e(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(z_e);t=p4(t)||0,U_e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?q_e(p4(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function g(E){var j=n,k=a;return n=a=void 0,u=E,o=e.apply(k,j),o}function y(E){return u=E,l=setTimeout(x,t),d?g(E):o}function m(E){var j=E-c,k=E-u,N=t-j;return f?W_e(N,s-k):N}function v(E){var j=E-c,k=E-u;return c===void 0||j>=t||j<0||f&&k>=s}function x(){var E=s_();if(v(E))return w(E);l=setTimeout(x,m(E))}function w(E){return l=void 0,h&&n?g(E):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:w(s_())}function S(){var E=s_(),j=v(E);if(n=arguments,a=this,c=E,j){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(x,t),g(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=b,S.flush=_,S}var V_e=H_e,K_e=V_e,G_e=Ml,J_e="Expected a function";function Y_e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(J_e);return G_e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),K_e(e,t,{leading:n,maxWait:t,trailing:a})}var X_e=Y_e;const BU=fr(X_e);function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){Q_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q_e(e,t,r){return t=Z_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z_e(e){var t=eSe(e,"string");return fm(t)=="symbol"?t:t+""}function eSe(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tSe(e,t){return sSe(e)||aSe(e,t)||nSe(e,t)||rSe()}function rSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nSe(e,t){if(e){if(typeof e=="string")return g4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g4(e,t)}}function g4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sSe(e){if(Array.isArray(e))return e}var oSe=p.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,g=e.children,y=e.debounce,m=y===void 0?0:y,v=e.id,x=e.className,w=e.onResize,b=e.style,_=b===void 0?{}:b,S=p.useRef(null),E=p.useRef();E.current=w,p.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=p.useState({containerWidth:a.width,containerHeight:a.height}),k=tSe(j,2),N=k[0],P=k[1],A=p.useCallback(function(U,z){P(function(F){var D=Math.round(U),q=Math.round(z);return F.containerWidth===D&&F.containerHeight===q?F:{containerWidth:D,containerHeight:q}})},[]);p.useEffect(function(){var U=function(L){var ee,M=L[0].contentRect,G=M.width,V=M.height;A(G,V),(ee=E.current)===null||ee===void 0||ee.call(E,G,V)};m>0&&(U=BU(U,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(U),F=S.current.getBoundingClientRect(),D=F.width,q=F.height;return A(D,q),z.observe(S.current),function(){z.disconnect()}},[A,m]);var R=p.useMemo(function(){var U=N.containerWidth,z=N.containerHeight;if(U<0||z<0)return null;ti(uc(o)||uc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ti(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=uc(o)?U:o,D=uc(c)?z:c;r&&r>0&&(F?D=F/r:D&&(F=D*r),h&&D>h&&(D=h)),ti(F>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,D,o,c,d,f,r);var q=!Array.isArray(g)&&ei(g.type).endsWith("Chart");return $.Children.map(g,function(T){return M7.isElement(T)?p.cloneElement(T,Ny({width:F,height:D},q?{style:Ny({height:"100%",width:"100%",maxHeight:D,maxWidth:F},T.props.style)}:{})):T})},[r,g,c,h,f,d,N,o]);return $.createElement("div",{id:v?"".concat(v):void 0,className:Yt("recharts-responsive-container",x),style:Ny(Ny({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},R)}),Sg=function(t){return null};Sg.displayName="Cell";function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){iSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iSe(e,t,r){return t=lSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lSe(e){var t=cSe(e,"string");return hm(t)=="symbol"?t:t+""}function cSe(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su={widthCache:{},cacheCount:0},uSe=2e3,dSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},v4="recharts_measurement_span";function fSe(e){var t=Ck({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Sp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xl.isSsr)return{width:0,height:0};var n=fSe(r),a=JSON.stringify({text:t,copyStyle:n});if(Su.widthCache[a])return Su.widthCache[a];try{var s=document.getElementById(v4);s||(s=document.createElement("span"),s.setAttribute("id",v4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ck(Ck({},dSe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Su.widthCache[a]=c,++Su.cacheCount>uSe&&(Su.cacheCount=0,Su.widthCache={}),c}catch{return{width:0,height:0}}},hSe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function O0(e,t){return ySe(e)||gSe(e,t)||mSe(e,t)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mSe(e,t){if(e){if(typeof e=="string")return x4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x4(e,t)}}function x4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ySe(e){if(Array.isArray(e))return e}function vSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bSe(n.key),n)}}function xSe(e,t,r){return t&&b4(e.prototype,t),r&&b4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bSe(e){var t=wSe(e,"string");return pm(t)=="symbol"?t:t+""}function wSe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_Se=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SSe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jSe=Object.keys(UU),Yu="NaN";function kSe(e,t){return e*UU[t]}var Cy=function(){function e(t,r){vSe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!_Se.test(r)&&(this.num=NaN,this.unit=""),jSe.includes(r)&&(this.num=kSe(t,r),this.unit="px")}return xSe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=SSe.exec(r))!==null&&n!==void 0?n:[],s=O0(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function zU(e){if(e.includes(Yu))return Yu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=w4.exec(t))!==null&&r!==void 0?r:[],a=O0(n,4),s=a[1],o=a[2],l=a[3],c=Cy.parse(s??""),u=Cy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Yu;t=t.replace(w4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=_4.exec(t))!==null&&f!==void 0?f:[],g=O0(h,4),y=g[1],m=g[2],v=g[3],x=Cy.parse(y??""),w=Cy.parse(v??""),b=m==="+"?x.add(w):x.subtract(w);if(b.isNaN())return Yu;t=t.replace(_4,b.toString())}return t}var S4=/\(([^()]*)\)/;function ESe(e){for(var t=e;t.includes("(");){var r=S4.exec(t),n=O0(r,2),a=n[1];t=t.replace(S4,zU(a))}return t}function NSe(e){var t=e.replace(/\s+/g,"");return t=ESe(t),t=zU(t),t}function CSe(e){try{return NSe(e)}catch{return Yu}}function o_(e){var t=CSe(e.slice(5,-1));return t===Yu?"":t}var PSe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ASe=["dx","dy","angle","className","breakAll"];function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}function j4(e,t){if(e==null)return{};var r=TSe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k4(e,t){return ISe(e)||RSe(e,t)||$Se(e,t)||OSe()}function OSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Se(e,t){if(e){if(typeof e=="string")return E4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E4(e,t)}}function E4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ISe(e){if(Array.isArray(e))return e}var qU=/[ \f\n\r\t\v\u2028\u2029]+/,WU=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];nr(r)||(n?s=r.toString().split(""):s=r.toString().split(qU));var o=s.map(function(c){return{word:c,width:Sp(c,a).width}}),l=n?0:Sp("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},MSe=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ge(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(D,q){var T=q.word,L=q.width,ee=D[D.length-1];if(ee&&(a==null||s||ee.width+L+n<Number(a)))ee.words.push(T),ee.width+=L+n;else{var M={words:[T],width:L};D.push(M)}return D},[])},g=h(r),y=function(F){return F.reduce(function(D,q){return D.width>q.width?D:q})};if(!d)return g;for(var m="",v=function(F){var D=f.slice(0,F),q=WU({breakAll:u,style:c,children:D+m}).wordsWithComputedWidth,T=h(q),L=T.length>o||y(T).width>Number(a);return[L,T]},x=0,w=f.length-1,b=0,_;x<=w&&b<=f.length-1;){var S=Math.floor((x+w)/2),E=S-1,j=v(E),k=k4(j,2),N=k[0],P=k[1],A=v(S),R=k4(A,1),U=R[0];if(!N&&!U&&(x=S+1),N&&U&&(w=S-1),!N&&U){_=P;break}b++}return _||g},N4=function(t){var r=nr(t)?[]:t.toString().split(qU);return[{words:r}]},LSe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!xl.isSsr){var c,u,d=WU({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return N4(a);return MSe({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return N4(a)},C4="#808080",$0=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,g=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,v=t.fill,x=v===void 0?C4:v,w=j4(t,PSe),b=p.useMemo(function(){return LSe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,E=w.angle,j=w.className,k=w.breakAll,N=j4(w,ASe);if(!pn(n)||!pn(s))return null;var P=n+(Ge(_)?_:0),A=s+(Ge(S)?S:0),R;switch(m){case"start":R=o_("calc(".concat(u,")"));break;case"middle":R=o_("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=o_("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(f){var z=b[0].width,F=w.width;U.push("scale(".concat((Ge(F)?F/z:1)/z,")"))}return E&&U.push("rotate(".concat(E,", ").concat(P,", ").concat(A,")")),U.length&&(N.transform=U.join(" ")),$.createElement("text",Pk({},Zt(N,!0),{x:P,y:A,className:Yt("recharts-text",j),textAnchor:g,fill:x.includes("url")?C4:x}),b.map(function(D,q){var T=D.words.join(k?"":" ");return $.createElement("tspan",{x:P,dy:q===0?R:l,key:"".concat(T,"-").concat(q)},T)}))};function bl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DSe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AC(e){let t,r,n;e.length!==2?(t=bl,r=(l,c)=>bl(e(l),c),n=(l,c)=>e(l)-c):(t=e===bl||e===DSe?e:FSe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function FSe(){return 0}function HU(e){return e===null?NaN:+e}function*BSe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const USe=AC(bl),jg=USe.right;AC(HU).center;class P4 extends Map{constructor(t,r=WSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(A4(this,t))}has(t){return super.has(A4(this,t))}set(t,r){return super.set(zSe(this,t),r)}delete(t){return super.delete(qSe(this,t))}}function A4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function zSe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qSe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function WSe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HSe(e=bl){if(e===bl)return VU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function VU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VSe=Math.sqrt(50),KSe=Math.sqrt(10),GSe=Math.sqrt(2);function R0(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=VSe?10:s>=KSe?5:s>=GSe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?R0(e,t,r*2):[l,c,u]}function Ak(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?R0(t,e,r):R0(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Tk(e,t,r){return t=+t,e=+e,r=+r,R0(e,t,r)[2]}function Ok(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Tk(t,e,r):Tk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function T4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function O4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KU(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?VU:HSe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));KU(e,t,g,y,a)}const s=e[t];let o=r,l=n;for(Ch(e,r,t),a(e[n],s)>0&&Ch(e,r,n);o<l;){for(Ch(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Ch(e,r,l):(++l,Ch(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ch(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function JSe(e,t,r){if(e=Float64Array.from(BSe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return O4(e);if(t>=1)return T4(e);var n,a=(n-1)*t,s=Math.floor(a),o=T4(KU(e,s).subarray(0,s+1)),l=O4(e.subarray(s+1));return o+(l-o)*(a-s)}}function YSe(e,t,r=HU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function XSe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function xs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $k=Symbol("implicit");function TC(){var e=new P4,t=[],r=[],n=$k;function a(s){let o=e.get(s);if(o===void 0){if(n!==$k)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new P4;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TC(t,r).unknown(n)},xs.apply(a,arguments),a}function mm(){var e=TC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,g=a<n,y=g?a:n,m=g?n:a;s=(m-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(m-y-s*(h-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=XSe(h).map(function(x){return y+s*x});return r(g?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return mm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},xs.apply(f(),arguments)}function GU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GU(t())},e}function jp(){return GU(mm.apply(null,arguments).paddingInner(1))}function OC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kg(){}var gm=.7,I0=1/gm,gd="\\s*([+-]?\\d+)\\s*",ym="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QSe=/^#([0-9a-f]{3,8})$/,ZSe=new RegExp(`^rgb\\(${gd},${gd},${gd}\\)$`),eje=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),tje=new RegExp(`^rgba\\(${gd},${gd},${gd},${ym}\\)$`),rje=new RegExp(`^rgba\\(${bo},${bo},${bo},${ym}\\)$`),nje=new RegExp(`^hsl\\(${ym},${bo},${bo}\\)$`),aje=new RegExp(`^hsla\\(${ym},${bo},${bo},${ym}\\)$`),$4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OC(kg,vm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:R4,formatHex:R4,formatHex8:sje,formatHsl:oje,formatRgb:I4,toString:I4});function R4(){return this.rgb().formatHex()}function sje(){return this.rgb().formatHex8()}function oje(){return YU(this).formatHsl()}function I4(){return this.rgb().formatRgb()}function vm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QSe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?M4(t):r===3?new _a(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Py(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Py(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZSe.exec(e))?new _a(t[1],t[2],t[3],1):(t=eje.exec(e))?new _a(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tje.exec(e))?Py(t[1],t[2],t[3],t[4]):(t=rje.exec(e))?Py(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nje.exec(e))?F4(t[1],t[2]/100,t[3]/100,1):(t=aje.exec(e))?F4(t[1],t[2]/100,t[3]/100,t[4]):$4.hasOwnProperty(e)?M4($4[e]):e==="transparent"?new _a(NaN,NaN,NaN,0):null}function M4(e){return new _a(e>>16&255,e>>8&255,e&255,1)}function Py(e,t,r,n){return n<=0&&(e=t=r=NaN),new _a(e,t,r,n)}function ije(e){return e instanceof kg||(e=vm(e)),e?(e=e.rgb(),new _a(e.r,e.g,e.b,e.opacity)):new _a}function Rk(e,t,r,n){return arguments.length===1?ije(e):new _a(e,t,r,n??1)}function _a(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}OC(_a,Rk,JU(kg,{brighter(e){return e=e==null?I0:Math.pow(I0,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gm:Math.pow(gm,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _a(Tc(this.r),Tc(this.g),Tc(this.b),M0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L4,formatHex:L4,formatHex8:lje,formatRgb:D4,toString:D4}));function L4(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}`}function lje(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}${dc((isNaN(this.opacity)?1:this.opacity)*255)}`}function D4(){const e=M0(this.opacity);return`${e===1?"rgb(":"rgba("}${Tc(this.r)}, ${Tc(this.g)}, ${Tc(this.b)}${e===1?")":`, ${e})`}`}function M0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dc(e){return e=Tc(e),(e<16?"0":"")+e.toString(16)}function F4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $s(e,t,r,n)}function YU(e){if(e instanceof $s)return new $s(e.h,e.s,e.l,e.opacity);if(e instanceof kg||(e=vm(e)),!e)return new $s;if(e instanceof $s)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new $s(o,l,c,e.opacity)}function cje(e,t,r,n){return arguments.length===1?YU(e):new $s(e,t,r,n??1)}function $s(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}OC($s,cje,JU(kg,{brighter(e){return e=e==null?I0:Math.pow(I0,e),new $s(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gm:Math.pow(gm,e),new $s(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new _a(i_(e>=240?e-240:e+120,a,n),i_(e,a,n),i_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $s(B4(this.h),Ay(this.s),Ay(this.l),M0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=M0(this.opacity);return`${e===1?"hsl(":"hsla("}${B4(this.h)}, ${Ay(this.s)*100}%, ${Ay(this.l)*100}%${e===1?")":`, ${e})`}`}}));function B4(e){return e=(e||0)%360,e<0?e+360:e}function Ay(e){return Math.max(0,Math.min(1,e||0))}function i_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $C=e=>()=>e;function uje(e,t){return function(r){return e+r*t}}function dje(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function fje(e){return(e=+e)==1?XU:function(t,r){return r-t?dje(t,r,e):$C(isNaN(t)?r:t)}}function XU(e,t){var r=t-e;return r?uje(e,r):$C(isNaN(e)?t:e)}const U4=function e(t){var r=fje(t);function n(a,s){var o=r((a=Rk(a)).r,(s=Rk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=XU(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function hje(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function pje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mje(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Kf(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function gje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function L0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yje(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Kf(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Ik=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l_=new RegExp(Ik.source,"g");function vje(e){return function(){return e}}function xje(e){return function(t){return e(t)+""}}function bje(e,t){var r=Ik.lastIndex=l_.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ik.exec(e))&&(a=l_.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:L0(n,a)})),r=l_.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?xje(c[0].x):vje(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Kf(e,t){var r=typeof t,n;return t==null||r==="boolean"?$C(t):(r==="number"?L0:r==="string"?(n=vm(t))?(t=n,U4):bje:t instanceof vm?U4:t instanceof Date?gje:pje(t)?hje:Array.isArray(t)?mje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yje:L0)(e,t)}function RC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function wje(e,t){t===void 0&&(t=e,e=Kf);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function _je(e){return function(){return e}}function D0(e){return+e}var z4=[0,1];function sa(e){return e}function Mk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_je(isNaN(t)?NaN:.5)}function Sje(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function jje(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Mk(a,n),s=r(o,s)):(n=Mk(n,a),s=r(s,o)),function(l){return s(n(l))}}function kje(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Mk(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=jg(e,l,1,n)-1;return s[c](a[c](l))}}function Eg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jb(){var e=z4,t=z4,r=Kf,n,a,s,o=sa,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==sa&&(o=Sje(e[0],e[h-1])),l=h>2?kje:jje,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),L0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,D0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=RC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:sa,d()):o!==sa},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,g){return n=h,a=g,d()}}function IC(){return Jb()(sa,sa)}function Eje(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function F0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tf(e){return e=F0(Math.abs(e)),e?e[1]:NaN}function Nje(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Cje(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Pje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xm(e){if(!(t=Pje.exec(e)))throw new Error("invalid format: "+e);var t;return new MC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xm.prototype=MC.prototype;function MC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aje(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var QU;function Tje(e,t){var r=F0(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(QU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+F0(e,Math.max(0,t+s-1))[0]}function q4(e,t){var r=F0(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const W4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Eje,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>q4(e*100,t),r:q4,s:Tje,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function H4(e){return e}var V4=Array.prototype.map,K4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Oje(e){var t=e.grouping===void 0||e.thousands===void 0?H4:Nje(V4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?H4:Cje(V4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=xm(f);var h=f.fill,g=f.align,y=f.sign,m=f.symbol,v=f.zero,x=f.width,w=f.comma,b=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):W4[S]||(b===void 0&&(b=12),_=!0,S="g"),(v||h==="0"&&g==="=")&&(v=!0,h="0",g="=");var E=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=m==="$"?n:/[%p]/.test(S)?o:"",k=W4[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(A){var R=E,U=j,z,F,D;if(S==="c")U=k(A)+U,A="";else{A=+A;var q=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),b),_&&(A=Aje(A)),q&&+A==0&&y!=="+"&&(q=!1),R=(q?y==="("?y:l:y==="-"||y==="("?"":y)+R,U=(S==="s"?K4[8+QU/3]:"")+U+(q&&y==="("?")":""),N){for(z=-1,F=A.length;++z<F;)if(D=A.charCodeAt(z),48>D||D>57){U=(D===46?a+A.slice(z+1):A.slice(z))+U,A=A.slice(0,z);break}}}w&&!v&&(A=t(A,1/0));var T=R.length+A.length+U.length,L=T<x?new Array(x-T+1).join(h):"";switch(w&&v&&(A=t(L+A,L.length?x-U.length:1/0),L=""),g){case"<":A=R+A+U+L;break;case"=":A=R+L+A+U;break;case"^":A=L.slice(0,T=L.length>>1)+R+A+U+L.slice(T);break;default:A=L+R+A+U;break}return s(A)}return P.toString=function(){return f+""},P}function d(f,h){var g=u((f=xm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(tf(h)/3)))*3,m=Math.pow(10,-y),v=K4[8+y/3];return function(x){return g(m*x)+v}}return{format:u,formatPrefix:d}}var Ty,LC,ZU;$je({thousands:",",grouping:[3],currency:["$",""]});function $je(e){return Ty=Oje(e),LC=Ty.format,ZU=Ty.formatPrefix,Ty}function Rje(e){return Math.max(0,-tf(Math.abs(e)))}function Ije(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tf(t)/3)))*3-tf(Math.abs(e)))}function Mje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tf(t)-tf(e))+1}function e9(e,t,r,n){var a=Ok(e,t,r),s;switch(n=xm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Ije(a,o))&&(n.precision=s),ZU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Mje(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Rje(a))&&(n.precision=s-(n.type==="%")*2);break}}return LC(n)}function Dl(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ak(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return e9(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Tk(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function B0(){var e=IC();return e.copy=function(){return Eg(e,B0())},xs.apply(e,arguments),Dl(e)}function t9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,D0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return t9(e).unknown(t)},e=arguments.length?Array.from(e,D0):[0,1],Dl(r)}function r9(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function G4(e){return Math.log(e)}function J4(e){return Math.exp(e)}function Lje(e){return-Math.log(-e)}function Dje(e){return-Math.exp(-e)}function Fje(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bje(e){return e===10?Fje:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Uje(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Y4(e){return(t,r)=>-e(-t,r)}function DC(e){const t=e(G4,J4),r=t.domain;let n=10,a,s;function o(){return a=Uje(n),s=Bje(n),r()[0]<0?(a=Y4(a),s=Y4(s),e(Lje,Dje)):e(G4,J4),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),g=a(d),y,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&g-h<v){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<n;++y)if(m=h<0?y/s(-h):y*s(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=g;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/s(-h):y*s(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=Ak(u,d,v))}else x=Ak(h,g,Math.min(g-h,v)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=xm(c)).precision==null&&(c.trim=!0),c=LC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(r9(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function n9(){const e=DC(Jb()).domain([1,10]);return e.copy=()=>Eg(e,n9()).base(e.base()),xs.apply(e,arguments),e}function X4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Q4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FC(e){var t=1,r=e(X4(t),Q4(t));return r.constant=function(n){return arguments.length?e(X4(t=+n),Q4(t)):t},Dl(r)}function a9(){var e=FC(Jb());return e.copy=function(){return Eg(e,a9()).constant(e.constant())},xs.apply(e,arguments)}function Z4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zje(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qje(e){return e<0?-e*e:e*e}function BC(e){var t=e(sa,sa),r=1;function n(){return r===1?e(sa,sa):r===.5?e(zje,qje):e(Z4(r),Z4(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Dl(t)}function UC(){var e=BC(Jb());return e.copy=function(){return Eg(e,UC()).exponent(e.exponent())},xs.apply(e,arguments),e}function Wje(){return UC.apply(null,arguments).exponent(.5)}function eI(e){return Math.sign(e)*e*e}function Hje(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function s9(){var e=IC(),t=[0,1],r=!1,n;function a(s){var o=Hje(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(eI(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,D0)).map(eI)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return s9(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xs.apply(a,arguments),Dl(a)}function o9(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=YSe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[jg(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bl),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return o9().domain(e).range(t).unknown(n)},xs.apply(s,arguments)}function i9(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[jg(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return i9().domain([e,t]).range(a).unknown(s)},xs.apply(Dl(o),arguments)}function l9(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[jg(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return l9().domain(e).range(t).unknown(r)},xs.apply(a,arguments)}const c_=new Date,u_=new Date;function mn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>mn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(c_.setTime(+s),u_.setTime(+o),e(c_),e(u_),Math.floor(r(c_,u_))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const U0=mn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);U0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):U0);U0.range;const Jo=1e3,os=Jo*60,Yo=os*60,di=Yo*24,zC=di*7,tI=di*30,d_=di*365,fc=mn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getUTCSeconds());fc.range;const qC=mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jo)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getMinutes());qC.range;const WC=mn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getUTCMinutes());WC.range;const HC=mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jo-e.getMinutes()*os)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getHours());HC.range;const VC=mn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yo)},(e,t)=>(t-e)/Yo,e=>e.getUTCHours());VC.range;const Ng=mn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*os)/di,e=>e.getDate()-1);Ng.range;const Yb=mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/di,e=>e.getUTCDate()-1);Yb.range;const c9=mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/di,e=>Math.floor(e/di));c9.range;function iu(e){return mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*os)/zC)}const Xb=iu(0),z0=iu(1),Vje=iu(2),Kje=iu(3),rf=iu(4),Gje=iu(5),Jje=iu(6);Xb.range;z0.range;Vje.range;Kje.range;rf.range;Gje.range;Jje.range;function lu(e){return mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zC)}const Qb=lu(0),q0=lu(1),Yje=lu(2),Xje=lu(3),nf=lu(4),Qje=lu(5),Zje=lu(6);Qb.range;q0.range;Yje.range;Xje.range;nf.range;Qje.range;Zje.range;const KC=mn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());KC.range;const GC=mn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());GC.range;const fi=mn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});fi.range;const hi=mn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});hi.range;function u9(e,t,r,n,a,s){const o=[[fc,1,Jo],[fc,5,5*Jo],[fc,15,15*Jo],[fc,30,30*Jo],[s,1,os],[s,5,5*os],[s,15,15*os],[s,30,30*os],[a,1,Yo],[a,3,3*Yo],[a,6,6*Yo],[a,12,12*Yo],[n,1,di],[n,2,2*di],[r,1,zC],[t,1,tI],[t,3,3*tI],[e,1,d_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),y=g?g.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,g=AC(([,,v])=>v).right(o,h);if(g===o.length)return e.every(Ok(u/d_,d/d_,f));if(g===0)return U0.every(Math.max(Ok(u,d,f),1));const[y,m]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return y.every(m)}return[l,c]}const[eke,tke]=u9(hi,GC,Qb,c9,VC,WC),[rke,nke]=u9(fi,KC,Xb,Ng,HC,qC);function f_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function h_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ph(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ake(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ah(a),d=Th(a),f=Ah(s),h=Th(s),g=Ah(o),y=Th(o),m=Ah(l),v=Th(l),x=Ah(c),w=Th(c),b={a:q,A:T,b:L,B:ee,c:null,d:iI,e:iI,f:Nke,g:Lke,G:Fke,H:jke,I:kke,j:Eke,L:d9,m:Cke,M:Pke,p:M,q:G,Q:uI,s:dI,S:Ake,u:Tke,U:Oke,V:$ke,w:Rke,W:Ike,x:null,X:null,y:Mke,Y:Dke,Z:Bke,"%":cI},_={a:V,A:Z,b:ie,B:H,c:null,d:lI,e:lI,f:Wke,g:eEe,G:rEe,H:Uke,I:zke,j:qke,L:h9,m:Hke,M:Vke,p:W,q:X,Q:uI,s:dI,S:Kke,u:Gke,U:Jke,V:Yke,w:Xke,W:Qke,x:null,X:null,y:Zke,Y:tEe,Z:nEe,"%":cI},S={a:P,A,b:R,B:U,c:z,d:sI,e:sI,f:bke,g:aI,G:nI,H:oI,I:oI,j:gke,L:xke,m:mke,M:yke,p:N,q:pke,Q:_ke,s:Ske,S:vke,u:cke,U:uke,V:dke,w:lke,W:fke,x:F,X:D,y:aI,Y:nI,Z:hke,"%":wke};b.x=E(r,b),b.X=E(n,b),b.c=E(t,b),_.x=E(r,_),_.X=E(n,_),_.c=E(t,_);function E(B,Q){return function(se){var J=[],le=-1,ce=0,ge=B.length,he,je,Ke;for(se instanceof Date||(se=new Date(+se));++le<ge;)B.charCodeAt(le)===37&&(J.push(B.slice(ce,le)),(je=rI[he=B.charAt(++le)])!=null?he=B.charAt(++le):je=he==="e"?" ":"0",(Ke=Q[he])&&(he=Ke(se,je)),J.push(he),ce=le+1);return J.push(B.slice(ce,le)),J.join("")}}function j(B,Q){return function(se){var J=Ph(1900,void 0,1),le=k(J,B,se+="",0),ce,ge;if(le!=se.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Q&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ce=h_(Ph(J.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?q0.ceil(ce):q0(ce),ce=Yb.offset(ce,(J.V-1)*7),J.y=ce.getUTCFullYear(),J.m=ce.getUTCMonth(),J.d=ce.getUTCDate()+(J.w+6)%7):(ce=f_(Ph(J.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?z0.ceil(ce):z0(ce),ce=Ng.offset(ce,(J.V-1)*7),J.y=ce.getFullYear(),J.m=ce.getMonth(),J.d=ce.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),ge="Z"in J?h_(Ph(J.y,0,1)).getUTCDay():f_(Ph(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(ge+5)%7:J.w+J.U*7-(ge+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,h_(J)):f_(J)}}function k(B,Q,se,J){for(var le=0,ce=Q.length,ge=se.length,he,je;le<ce;){if(J>=ge)return-1;if(he=Q.charCodeAt(le++),he===37){if(he=Q.charAt(le++),je=S[he in rI?Q.charAt(le++):he],!je||(J=je(B,se,J))<0)return-1}else if(he!=se.charCodeAt(J++))return-1}return J}function N(B,Q,se){var J=u.exec(Q.slice(se));return J?(B.p=d.get(J[0].toLowerCase()),se+J[0].length):-1}function P(B,Q,se){var J=g.exec(Q.slice(se));return J?(B.w=y.get(J[0].toLowerCase()),se+J[0].length):-1}function A(B,Q,se){var J=f.exec(Q.slice(se));return J?(B.w=h.get(J[0].toLowerCase()),se+J[0].length):-1}function R(B,Q,se){var J=x.exec(Q.slice(se));return J?(B.m=w.get(J[0].toLowerCase()),se+J[0].length):-1}function U(B,Q,se){var J=m.exec(Q.slice(se));return J?(B.m=v.get(J[0].toLowerCase()),se+J[0].length):-1}function z(B,Q,se){return k(B,t,Q,se)}function F(B,Q,se){return k(B,r,Q,se)}function D(B,Q,se){return k(B,n,Q,se)}function q(B){return o[B.getDay()]}function T(B){return s[B.getDay()]}function L(B){return c[B.getMonth()]}function ee(B){return l[B.getMonth()]}function M(B){return a[+(B.getHours()>=12)]}function G(B){return 1+~~(B.getMonth()/3)}function V(B){return o[B.getUTCDay()]}function Z(B){return s[B.getUTCDay()]}function ie(B){return c[B.getUTCMonth()]}function H(B){return l[B.getUTCMonth()]}function W(B){return a[+(B.getUTCHours()>=12)]}function X(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var Q=E(B+="",b);return Q.toString=function(){return B},Q},parse:function(B){var Q=j(B+="",!1);return Q.toString=function(){return B},Q},utcFormat:function(B){var Q=E(B+="",_);return Q.toString=function(){return B},Q},utcParse:function(B){var Q=j(B+="",!0);return Q.toString=function(){return B},Q}}}var rI={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,ske=/^%/,oke=/[\\^$*+?|[\]().{}]/g;function Xt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function ike(e){return e.replace(oke,"\\$&")}function Ah(e){return new RegExp("^(?:"+e.map(ike).join("|")+")","i")}function Th(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lke(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function cke(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uke(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function dke(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fke(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function nI(e,t,r){var n=_n.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function aI(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hke(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pke(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function mke(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sI(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gke(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oI(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yke(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vke(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xke(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function bke(e,t,r){var n=_n.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wke(e,t,r){var n=ske.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _ke(e,t,r){var n=_n.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ske(e,t,r){var n=_n.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iI(e,t){return Xt(e.getDate(),t,2)}function jke(e,t){return Xt(e.getHours(),t,2)}function kke(e,t){return Xt(e.getHours()%12||12,t,2)}function Eke(e,t){return Xt(1+Ng.count(fi(e),e),t,3)}function d9(e,t){return Xt(e.getMilliseconds(),t,3)}function Nke(e,t){return d9(e,t)+"000"}function Cke(e,t){return Xt(e.getMonth()+1,t,2)}function Pke(e,t){return Xt(e.getMinutes(),t,2)}function Ake(e,t){return Xt(e.getSeconds(),t,2)}function Tke(e){var t=e.getDay();return t===0?7:t}function Oke(e,t){return Xt(Xb.count(fi(e)-1,e),t,2)}function f9(e){var t=e.getDay();return t>=4||t===0?rf(e):rf.ceil(e)}function $ke(e,t){return e=f9(e),Xt(rf.count(fi(e),e)+(fi(e).getDay()===4),t,2)}function Rke(e){return e.getDay()}function Ike(e,t){return Xt(z0.count(fi(e)-1,e),t,2)}function Mke(e,t){return Xt(e.getFullYear()%100,t,2)}function Lke(e,t){return e=f9(e),Xt(e.getFullYear()%100,t,2)}function Dke(e,t){return Xt(e.getFullYear()%1e4,t,4)}function Fke(e,t){var r=e.getDay();return e=r>=4||r===0?rf(e):rf.ceil(e),Xt(e.getFullYear()%1e4,t,4)}function Bke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xt(t/60|0,"0",2)+Xt(t%60,"0",2)}function lI(e,t){return Xt(e.getUTCDate(),t,2)}function Uke(e,t){return Xt(e.getUTCHours(),t,2)}function zke(e,t){return Xt(e.getUTCHours()%12||12,t,2)}function qke(e,t){return Xt(1+Yb.count(hi(e),e),t,3)}function h9(e,t){return Xt(e.getUTCMilliseconds(),t,3)}function Wke(e,t){return h9(e,t)+"000"}function Hke(e,t){return Xt(e.getUTCMonth()+1,t,2)}function Vke(e,t){return Xt(e.getUTCMinutes(),t,2)}function Kke(e,t){return Xt(e.getUTCSeconds(),t,2)}function Gke(e){var t=e.getUTCDay();return t===0?7:t}function Jke(e,t){return Xt(Qb.count(hi(e)-1,e),t,2)}function p9(e){var t=e.getUTCDay();return t>=4||t===0?nf(e):nf.ceil(e)}function Yke(e,t){return e=p9(e),Xt(nf.count(hi(e),e)+(hi(e).getUTCDay()===4),t,2)}function Xke(e){return e.getUTCDay()}function Qke(e,t){return Xt(q0.count(hi(e)-1,e),t,2)}function Zke(e,t){return Xt(e.getUTCFullYear()%100,t,2)}function eEe(e,t){return e=p9(e),Xt(e.getUTCFullYear()%100,t,2)}function tEe(e,t){return Xt(e.getUTCFullYear()%1e4,t,4)}function rEe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?nf(e):nf.ceil(e),Xt(e.getUTCFullYear()%1e4,t,4)}function nEe(){return"+0000"}function cI(){return"%"}function uI(e){return+e}function dI(e){return Math.floor(+e/1e3)}var ju,m9,g9;aEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aEe(e){return ju=ake(e),m9=ju.format,ju.parse,g9=ju.utcFormat,ju.utcParse,ju}function sEe(e){return new Date(e)}function oEe(e){return e instanceof Date?+e:+new Date(+e)}function JC(e,t,r,n,a,s,o,l,c,u){var d=IC(),f=d.invert,h=d.domain,g=u(".%L"),y=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),_=u("%Y");function S(E){return(c(E)<E?g:l(E)<E?y:o(E)<E?m:s(E)<E?v:n(E)<E?a(E)<E?x:w:r(E)<E?b:_)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,oEe)):h().map(sEe)},d.ticks=function(E){var j=h();return e(j[0],j[j.length-1],E??10)},d.tickFormat=function(E,j){return j==null?S:u(j)},d.nice=function(E){var j=h();return(!E||typeof E.range!="function")&&(E=t(j[0],j[j.length-1],E??10)),E?h(r9(j,E)):d},d.copy=function(){return Eg(d,JC(e,t,r,n,a,s,o,l,c,u))},d}function iEe(){return xs.apply(JC(rke,nke,fi,KC,Xb,Ng,HC,qC,fc,m9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lEe(){return xs.apply(JC(eke,tke,hi,GC,Qb,Yb,VC,WC,fc,g9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zb(){var e=0,t=1,r,n,a,s,o=sa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var g,y;return arguments.length?([g,y]=h,o=f(g,y),u):[o(0),o(1)]}}return u.range=d(Kf),u.rangeRound=d(RC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Fl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function y9(){var e=Dl(Zb()(sa));return e.copy=function(){return Fl(e,y9())},vi.apply(e,arguments)}function v9(){var e=DC(Zb()).domain([1,10]);return e.copy=function(){return Fl(e,v9()).base(e.base())},vi.apply(e,arguments)}function x9(){var e=FC(Zb());return e.copy=function(){return Fl(e,x9()).constant(e.constant())},vi.apply(e,arguments)}function YC(){var e=BC(Zb());return e.copy=function(){return Fl(e,YC()).exponent(e.exponent())},vi.apply(e,arguments)}function cEe(){return YC.apply(null,arguments).exponent(.5)}function b9(){var e=[],t=sa;function r(n){if(n!=null&&!isNaN(n=+n))return t((jg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>JSe(e,s/n))},r.copy=function(){return b9(t).domain(e)},vi.apply(r,arguments)}function ew(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=sa,d,f=!1,h;function g(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,g):[e,t,r]},g.clamp=function(m){return arguments.length?(f=!!m,g):f},g.interpolator=function(m){return arguments.length?(u=m,g):u};function y(m){return function(v){var x,w,b;return arguments.length?([x,w,b]=v,u=wje(m,[x,w,b]),g):[u(0),u(.5),u(1)]}}return g.range=y(Kf),g.rangeRound=y(RC),g.unknown=function(m){return arguments.length?(h=m,g):h},function(m){return d=m,a=m(e),s=m(t),o=m(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,g}}function w9(){var e=Dl(ew()(sa));return e.copy=function(){return Fl(e,w9())},vi.apply(e,arguments)}function _9(){var e=DC(ew()).domain([.1,1,10]);return e.copy=function(){return Fl(e,_9()).base(e.base())},vi.apply(e,arguments)}function S9(){var e=FC(ew());return e.copy=function(){return Fl(e,S9()).constant(e.constant())},vi.apply(e,arguments)}function XC(){var e=BC(ew());return e.copy=function(){return Fl(e,XC()).exponent(e.exponent())},vi.apply(e,arguments)}function uEe(){return XC.apply(null,arguments).exponent(.5)}const fI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mm,scaleDiverging:w9,scaleDivergingLog:_9,scaleDivergingPow:XC,scaleDivergingSqrt:uEe,scaleDivergingSymlog:S9,scaleIdentity:t9,scaleImplicit:$k,scaleLinear:B0,scaleLog:n9,scaleOrdinal:TC,scalePoint:jp,scalePow:UC,scaleQuantile:o9,scaleQuantize:i9,scaleRadial:s9,scaleSequential:y9,scaleSequentialLog:v9,scaleSequentialPow:YC,scaleSequentialQuantile:b9,scaleSequentialSqrt:cEe,scaleSequentialSymlog:x9,scaleSqrt:Wje,scaleSymlog:a9,scaleThreshold:l9,scaleTime:iEe,scaleUtc:lEe,tickFormat:e9},Symbol.toStringTag,{value:"Module"}));var dEe=Ff;function fEe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!dEe(o):r(o,l)))var l=o,c=s}return c}var j9=fEe;function hEe(e,t){return e>t}var pEe=hEe,mEe=j9,gEe=pEe,yEe=Vf;function vEe(e){return e&&e.length?mEe(e,yEe,gEe):void 0}var xEe=vEe;const tw=fr(xEe);function bEe(e,t){return e<t}var wEe=bEe,_Ee=j9,SEe=wEe,jEe=Vf;function kEe(e){return e&&e.length?_Ee(e,jEe,SEe):void 0}var EEe=kEe;const rw=fr(EEe);var NEe=dC,CEe=Ll,PEe=$U,AEe=Ca;function TEe(e,t){var r=AEe(e)?NEe:PEe;return r(e,CEe(t))}var OEe=TEe,$Ee=TU,REe=OEe;function IEe(e,t){return $Ee(REe(e,t),1)}var MEe=IEe;const LEe=fr(MEe);var DEe=EC;function FEe(e,t){return DEe(e,t)}var BEe=FEe;const QC=fr(BEe);var Gf=1e9,UEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eP,Or=!0,gs="[DecimalError] ",Oc=gs+"Invalid argument: ",ZC=gs+"Exponent out of range: ",Jf=Math.floor,tc=Math.pow,zEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,La,yn=1e7,Nr=7,k9=9007199254740991,W0=Jf(k9/Nr),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return ri(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return yr(ri(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return rn(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(La))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(La)?new n(0):(Or=!1,t=ri(bm(r,s),bm(e,s),s),Or=!0,yr(t,a))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C9(t,e):E9(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gs+"NaN");return r.s?(Or=!1,t=ri(r,e,0,1).times(e),Or=!0,r.minus(t)):yr(new n(r),a)};ct.naturalExponential=ct.exp=function(){return N9(this)};ct.naturalLogarithm=ct.ln=function(){return bm(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E9(t,e):C9(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Oc+e);if(t=rn(a)+1,n=a.d.length-1,r=n*Nr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(gs+"NaN")}for(e=rn(l),Or=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=mo(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Jf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(ri(l,s,o+2)).times(.5),mo(s.d).slice(0,o)===(t=mo(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(yr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Or=!0,yr(n,r)};ct.times=ct.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=g.length,c<u&&(s=h,h=g,g=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+g[n]*h[a-n-1]+t,s[a--]=l%yn|0,t=l/yn|0;s[a]=(s[a]+t)%yn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Or?yr(e,f.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ko(e,0,Gf),t===void 0?t=n.rounding:ko(t,0,8),yr(r,e+rn(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Jc(n,!0):(ko(e,0,Gf),t===void 0?t=a.rounding:ko(t,0,8),n=yr(new a(n),e+1,t),r=Jc(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Jc(a):(ko(e,0,Gf),t===void 0?t=s.rounding:ko(t,0,8),n=yr(new s(a),e+rn(a)+1,t),r=Jc(n.abs(),!1,e+rn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return yr(new t(e),rn(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(La);if(l=new c(l),!l.s){if(e.s<1)throw Error(gs+"Infinity");return l}if(l.eq(La))return l;if(n=c.precision,e.eq(La))return yr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=k9){for(a=new c(La),t=Math.ceil(n/Nr+4),Or=!1;r%2&&(a=a.times(l),pI(a.d,t)),r=Jf(r/2),r!==0;)l=l.times(l),pI(l.d,t);return Or=!0,e.s<0?new c(La).div(a):yr(a,n)}}else if(s<0)throw Error(gs+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Or=!1,a=e.times(bm(l,n+u)),Or=!0,a=N9(a),a.s=s,a};ct.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=rn(a),n=Jc(a,r<=s.toExpNeg||r>=s.toExpPos)):(ko(e,1,Gf),t===void 0?t=s.rounding:ko(t,0,8),a=yr(new s(a),e,t),r=rn(a),n=Jc(a,e<=r||r<=s.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ko(e,1,Gf),t===void 0?t=n.rounding:ko(t,0,8)),yr(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rn(e),r=e.constructor;return Jc(e,t<=r.toExpNeg||t>=r.toExpPos)};function E9(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Or?yr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Nr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/yn|0,c[s]%=yn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Or?yr(t,f):t}function ko(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Oc+e)}function mo(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Nr-n.length,r&&(s+=Fi(r)),s+=n;o=e[t],n=o+"",r=Nr-n.length,r&&(s+=Fi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ri=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%yn|0,o=s/yn|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*yn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,g,y,m,v,x,w,b,_,S,E,j,k,N=n.constructor,P=n.s==a.s?1:-1,A=n.d,R=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(gs+"Division by zero");for(c=n.e-a.e,j=R.length,S=A.length,g=new N(P),y=g.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,s==null?w=s=N.precision:o?w=s+(rn(n)-rn(a))+1:w=s,w<0)return new N(0);if(w=w/Nr+2|0,u=0,j==1)for(d=0,R=R[0],w++;(u<S||d)&&w--;u++)b=d*yn+(A[u]||0),y[u]=b/R|0,d=b%R|0;else{for(d=yn/(R[0]+1)|0,d>1&&(R=e(R,d),A=e(A,d),j=R.length,S=A.length),_=j,m=A.slice(0,j),v=m.length;v<j;)m[v++]=0;k=R.slice(),k.unshift(0),E=R[0],R[1]>=yn/2&&++E;do d=0,l=t(R,m,j,v),l<0?(x=m[0],j!=v&&(x=x*yn+(m[1]||0)),d=x/E|0,d>1?(d>=yn&&(d=yn-1),f=e(R,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,j<h?k:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(R,m,j,v),l<1&&(d++,r(m,j<v?k:R,v))),v=m.length):l===0&&(d++,m=[0]),y[u++]=d,l&&m[0]?m[v++]=A[_]||0:(m=[A[_]],v=1);while((_++<S||m[0]!==void 0)&&w--)}return y[0]||y.shift(),g.e=c,yr(g,o?s+rn(g)+1:s)}}();function N9(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(rn(e)>16)throw Error(ZC+rn(e));if(!e.s)return new d(La);for(t==null?(Or=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(tc(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(La),d.precision=l;;){if(a=yr(a.times(e),l),r=r.times(++c),o=s.plus(ri(a,r,l)),mo(o.d).slice(0,l)===mo(s.d).slice(0,l)){for(;u--;)s=yr(s.times(s),l);return d.precision=f,t==null?(Or=!0,yr(s,f)):s}s=o}}function rn(e){for(var t=e.e*Nr,r=e.d[0];r>=10;r/=10)t++;return t}function p_(e,t,r){if(t>e.LN10.sd())throw Or=!0,r&&(e.precision=r),Error(gs+"LN10 precision limit exceeded");return yr(new e(e.LN10),t)}function Fi(e){for(var t="";e--;)t+="0";return t}function bm(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,g=e,y=g.d,m=g.constructor,v=m.precision;if(g.s<1)throw Error(gs+(g.s?"NaN":"-Infinity"));if(g.eq(La))return new m(0);if(t==null?(Or=!1,u=v):u=t,g.eq(10))return t==null&&(Or=!0),p_(m,u);if(u+=h,m.precision=u,r=mo(y),n=r.charAt(0),s=rn(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=mo(g.d),n=r.charAt(0),f++;s=rn(g),n>1?(g=new m("0."+r),s++):g=new m(n+"."+r.slice(1))}else return c=p_(m,u+2,v).times(s+""),g=bm(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(Or=!0,yr(g,v)):g;for(l=o=g=ri(g.minus(La),g.plus(La),u),d=yr(g.times(g),u),a=3;;){if(o=yr(o.times(d),u),c=l.plus(ri(o,new m(a),u)),mo(c.d).slice(0,u)===mo(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(p_(m,u+2,v).times(s+""))),l=ri(l,new m(f),u),m.precision=v,t==null?(Or=!0,yr(l,v)):l;l=c,a+=2}}function hI(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Jf(r/Nr),e.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Nr;n<a;)e.d.push(+t.slice(n,n+=Nr));t=t.slice(n),n=Nr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Or&&(e.e>W0||e.e<-W0))throw Error(ZC+r)}else e.s=0,e.e=0,e.d=[0];return e}function yr(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Nr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Nr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Nr,a=n-Nr+o}if(r!==void 0&&(s=tc(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/tc(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=rn(e),f.length=1,t=t-s-1,f[0]=tc(10,(Nr-t%Nr)%Nr),e.e=Jf(-t/Nr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=tc(10,Nr-n),f[d]=a>0?(u/tc(10,o-a)%tc(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==yn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=yn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Or&&(e.e>W0||e.e<-W0))throw Error(ZC+rn(e));return e}function C9(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Or?yr(t,g):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(g/Nr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=yn-1;--c[s],c[a]+=yn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Or?yr(t,g):t):new h(0)}function Jc(e,t,r){var n,a=rn(e),s=mo(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Fi(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Fi(-a-1)+s,r&&(n=r-o)>0&&(s+=Fi(n))):a>=o?(s+=Fi(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Fi(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Fi(n))),e.s<0?"-"+s:s}function pI(e,t){if(e.length>t)return e.length=t,!0}function P9(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Oc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return hI(o,s.toString())}else if(typeof s!="string")throw Error(Oc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,zEe.test(s))hI(o,s);else throw Error(Oc+s)}if(a.prototype=ct,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=P9,a.config=a.set=qEe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function qEe(e){if(!e||typeof e!="object")throw Error(gs+"Object expected");var t,r,n,a=["precision",1,Gf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Jf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Oc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Oc+r+": "+n);return this}var eP=P9(UEe);La=new eP(1);const ur=eP;function WEe(e){return GEe(e)||KEe(e)||VEe(e)||HEe()}function HEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VEe(e,t){if(e){if(typeof e=="string")return Lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lk(e,t)}}function KEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GEe(e){if(Array.isArray(e))return Lk(e)}function Lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JEe=function(t){return t},A9={"@@functional/placeholder":!0},T9=function(t){return t===A9},mI=function(t){return function r(){return arguments.length===0||arguments.length===1&&T9(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},YEe=function e(t,r){return t===1?r:mI(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==A9}).length;return o>=t?r.apply(void 0,a):e(t-o,mI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return T9(f)?c.shift():f});return r.apply(void 0,WEe(d).concat(c))}))})},nw=function(t){return YEe(t.length,t)},Dk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},XEe=nw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),QEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return JEe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Fk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},O9=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function ZEe(e){var t;return e===0?t=1:t=Math.floor(new ur(e).abs().log(10).toNumber())+1,t}function e2e(e,t,r){for(var n=new ur(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var t2e=nw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),r2e=nw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),n2e=nw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const aw={rangeStep:e2e,getDigitCount:ZEe,interpolateNumber:t2e,uninterpolateNumber:r2e,uninterpolateTruncation:n2e};function Bk(e){return o2e(e)||s2e(e)||$9(e)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function o2e(e){if(Array.isArray(e))return Uk(e)}function wm(e,t){return c2e(e)||l2e(e,t)||$9(e,t)||i2e()}function i2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9(e,t){if(e){if(typeof e=="string")return Uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(e,t)}}function Uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function c2e(e){if(Array.isArray(e))return e}function R9(e){var t=wm(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function I9(e,t,r){if(e.lte(0))return new ur(0);var n=aw.getDigitCount(e.toNumber()),a=new ur(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new ur(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new ur(Math.ceil(c))}function u2e(e,t,r){var n=1,a=new ur(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ur(10).pow(aw.getDigitCount(e)-1),a=new ur(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ur(Math.floor(e)))}else e===0?a=new ur(Math.floor((t-1)/2)):r||(a=new ur(Math.floor(e)));var o=Math.floor((t-1)/2),l=QEe(XEe(function(c){return a.add(new ur(c-o).mul(n)).toNumber()}),Dk);return l(0,t)}function M9(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ur(0),tickMin:new ur(0),tickMax:new ur(0)};var s=I9(new ur(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new ur(0):(o=new ur(e).add(t).div(2),o=o.sub(new ur(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new ur(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?M9(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new ur(l).mul(s)),tickMax:o.add(new ur(c).mul(s))})}function d2e(e){var t=wm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=R9([r,n]),c=wm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Bk(Dk(0,a-1).map(function(){return 1/0}))):[].concat(Bk(Dk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Fk(f):f}if(u===d)return u2e(u,a,s);var h=M9(u,d,o,s),g=h.step,y=h.tickMin,m=h.tickMax,v=aw.rangeStep(y,m.add(new ur(.1).mul(g)),g);return r>n?Fk(v):v}function f2e(e,t){var r=wm(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=R9([n,a]),l=wm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=I9(new ur(u).sub(c).div(d-1),s,0),h=[].concat(Bk(aw.rangeStep(new ur(c),new ur(u).sub(new ur(.99).mul(f)),f)),[u]);return n>a?Fk(h):h}var h2e=O9(d2e),p2e=O9(f2e),m2e="Invariant failed";function Yc(e,t){throw new Error(m2e)}var g2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}function y2e(e,t){return w2e(e)||b2e(e,t)||x2e(e,t)||v2e()}function v2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(e,t){if(e){if(typeof e=="string")return gI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gI(e,t)}}function gI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function w2e(e){if(Array.isArray(e))return e}function _2e(e,t){if(e==null)return{};var r=S2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F9(n.key),n)}}function E2e(e,t,r){return t&&k2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N2e(e,t,r){return t=V0(t),C2e(e,L9()?Reflect.construct(t,r||[],V0(e).constructor):t.apply(e,r))}function C2e(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P2e(e)}function P2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!e})()}function V0(e){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(e)}function A2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zk(e,t)}function D9(e,t,r){return t=F9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=T2e(e,"string");return af(t)=="symbol"?t:t+""}function T2e(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sw=function(e){function t(){return j2e(this,t),N2e(this,t,arguments)}return A2e(t,e),E2e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=_2e(n,g2e),g=Zt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Yc();var y=c.map(function(m){var v=u(m,l),x=v.x,w=v.y,b=v.value,_=v.errorVal;if(!_)return null;var S=[],E,j;if(Array.isArray(_)){var k=y2e(_,2);E=k[0],j=k[1]}else E=j=_;if(s==="vertical"){var N=d.scale,P=w+a,A=P+o,R=P-o,U=N(b-E),z=N(b+j);S.push({x1:z,y1:A,x2:z,y2:R}),S.push({x1:U,y1:P,x2:z,y2:P}),S.push({x1:U,y1:A,x2:U,y2:R})}else if(s==="horizontal"){var F=f.scale,D=x+a,q=D-o,T=D+o,L=F(b-E),ee=F(b+j);S.push({x1:q,y1:ee,x2:T,y2:ee}),S.push({x1:D,y1:L,x2:D,y2:ee}),S.push({x1:q,y1:L,x2:T,y2:L})}return $.createElement(bn,H0({className:"recharts-errorBar",key:"bar-".concat(S.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},g),S.map(function(M){return $.createElement("line",H0({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return $.createElement(bn,{className:"recharts-errorBars"},y)}}])}($.Component);D9(sw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});D9(sw,"displayName","ErrorBar");function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){O2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O2e(e,t,r){return t=$2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $2e(e){var t=R2e(e,"string");return _m(t)=="symbol"?t:t+""}function R2e(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B9=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Ra(r,md);if(!o)return null;var l=md.defaultProps,c=l!==void 0?Gl(Gl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,y=g.sectors||g.data||[];return d.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Gl(Gl({},h),f.props):{},y=g.dataKey,m=g.name,v=g.legendType,x=g.hide;return{inactive:x,dataKey:y,type:c.iconType||v||"square",color:tP(f),value:m||y,payload:g}}),Gl(Gl(Gl({},c),md.getWithHeight(o,a)),{},{payload:u,item:o})};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function vI(e){return D2e(e)||L2e(e)||M2e(e)||I2e()}function I2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(e,t){if(e){if(typeof e=="string")return qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(e,t)}}function L2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D2e(e){if(Array.isArray(e))return qk(e)}function qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){yd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yd(e,t,r){return t=F2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F2e(e){var t=B2e(e,"string");return Sm(t)=="symbol"?t:t+""}function B2e(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(e,t,r){return nr(e)||nr(t)?r:pn(t)?fs(e,t,r):Wt(t)?t(e):r}function kp(e,t,r,n){var a=LEe(e,function(l){return Eo(l,t)});if(r==="number"){var s=a.filter(function(l){return Ge(l)||parseFloat(l)});return s.length?[rw(s),tw(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!nr(l)}):a;return o.map(function(l){return pn(l)||l instanceof Date?l:""})}var U2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if(Rs(f-d)!==Rs(h-f)){var y=[];if(Rs(h-f)===Rs(c[1]-c[0])){g=h;var m=f+c[1]-c[0];y[0]=Math.min(m,(m+d)/2),y[1]=Math.max(m,(m+d)/2)}else{g=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>x[0]&&t<=x[1]||t>=y[0]&&t<=y[1]){o=a[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(t>(w+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},tP=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?qr(qr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},z2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var y=d[f[h]],m=y.items,v=y.cateAxisId,x=m.filter(function(j){return ei(j.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?qr(qr({},w),x[0].props):x[0].props,_=b.barSize,S=b[v];o[S]||(o[S]=[]);var E=nr(_)?r:_;o[S].push({item:x[0],stackList:x.slice(1),barSize:nr(E)?void 0:Gc(E,n,0)})}}return o},q2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Gc(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=a/c,y=o.reduce(function(_,S){return _+S.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&g>0&&(h=!0,g*=.9,y=c*g);var m=(a-y)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(_,S){var E={item:S.item,position:{offset:v.offset+v.size+u,size:h?g:S.barSize}},j=[].concat(vI(_),[E]);return v=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){j.push({item:k,position:v})}),j},f)}else{var x=Gc(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var w=(a-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=o.reduce(function(_,S,E){var j=[].concat(vI(_),[{item:S.item,position:{offset:x+(w+u)*E+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){j.push({item:k,position:j[j.length-1].position})}),j},f)}return d},W2e=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=B9({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,g=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&g!=="center"&&Ge(t[g]))return qr(qr({},t),{},yd({},g,t[g]+(f||0)));if((m==="horizontal"||m==="vertical"&&g==="center")&&y!=="middle"&&Ge(t[y]))return qr(qr({},t),{},yd({},y,t[y]+(h||0)))}return t},H2e=function(t,r,n){return nr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},U9=function(t,r,n,a,s){var o=r.props.children,l=Bs(o,sw).filter(function(u){return H2e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Eo(d,n);if(nr(f))return u;var h=Array.isArray(f)?[rw(f),tw(f)]:[f,f],g=c.reduce(function(y,m){var v=Eo(d,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},V2e=function(t,r,n,a,s){var o=r.map(function(l){return U9(t,l,n,s,a)}).filter(function(l){return!nr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},z9=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&U9(t,c,u,a)||kp(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},q9=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},W9=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Xo=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Rs(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!wg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},m_=new WeakMap,Oy=function(t,r){if(typeof r!="function")return t;m_.has(t)||m_.set(t,new WeakMap);var n=m_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},K2e=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:mm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:B0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:jp(),realScaleType:"point"}:s==="category"?{scale:mm(),realScaleType:"band"}:{scale:B0(),realScaleType:"linear"};if(bg(a)){var c="scale".concat(zb(a));return{scale:(fI[c]||jp)(),realScaleType:fI[c]?c:"point"}}return Wt(a)?{scale:a}:{scale:jp(),realScaleType:"point"}},bI=1e-4,G2e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-bI,o=Math.max(a[0],a[1])+bI,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},J2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Y2e=function(t,r){if(!r||r.length!==2||!Ge(r[0])||!Ge(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ge(t[0])||t[0]<n)&&(s[0]=n),(!Ge(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},X2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=wg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Q2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=wg(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Z2e={sign:X2e,expand:hge,none:Yd,silhouette:pge,wiggle:mge,positive:Q2e},eNe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Z2e[n],o=fge().keys(a).value(function(l,c){return+Eo(l,c,0)}).order(pk).offset(s);return o(t)},tNe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?qr(qr({},h.type.defaultProps),h.props):h.props,m=y.stackId,v=y.hide;if(v)return f;var x=y[n],w=f[x]||{hasStack:!1,stackGroups:{}};if(pn(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[Ub("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return qr(qr({},f),{},yd({},x,w))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(m,v){var x=g.stackGroups[v];return qr(qr({},m),{},yd({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:eNe(t,x.items,s)}))},y)}return qr(qr({},f),{},yd({},h,g))},d)},rNe=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=h2e(u,s,l);return t.domain([rw(d),tw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=p2e(f,s,l);return{niceTicks:h}}return null},wI=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Eo(o,r.dataKey,r.domain[l]);return nr(c)?null:r.scale(c)-s/2+a},nNe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},aNe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?qr(qr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(pn(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},sNe=function(t){return t.reduce(function(r,n){return[rw(n.concat([r[0]]).filter(Ge)),tw(n.concat([r[1]]).filter(Ge))]},[1/0,-1/0])},H9=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=sNe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},_I=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wk=function(t,r,n){if(Wt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ge(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(_I.test(t[0])){var s=+_I.exec(t[0])[1];a[0]=r[0]-s}else Wt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ge(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(SI.test(t[1])){var o=+SI.exec(t[1])[1];a[1]=r[1]+o}else Wt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},K0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=CC(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},jI=function(t,r,n){return!t||!t.length||QC(t,fs(n,"type.defaultProps.domain"))?r:t},V9=function(t,r){var n=t.type.defaultProps?qr(qr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return qr(qr({},Zt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:tP(t),value:Eo(r,a),type:c,payload:r,chartType:u,hide:d})};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){oNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oNe(e,t,r){return t=iNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iNe(e){var t=lNe(e,"string");return jm(t)=="symbol"?t:t+""}function lNe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0=Math.PI/180,cNe=function(t){return t*180/Math.PI},An=function(t,r,n,a){return{x:t+Math.cos(-G0*a)*n,y:r+Math.sin(-G0*a)*n}},uNe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},dNe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=uNe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:cNe(u),angleInRadian:u}},fNe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},hNe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},NI=function(t,r){var n=t.x,a=t.y,s=dNe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=fNe(r),f=d.startAngle,h=d.endAngle,g=l,y;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=f}return y?EI(EI({},r),{},{radius:o,angle:hNe(g,r)}):null};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}var pNe=["offset"];function mNe(e){return xNe(e)||vNe(e)||yNe(e)||gNe()}function gNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yNe(e,t){if(e){if(typeof e=="string")return Hk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(e,t)}}function vNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xNe(e){if(Array.isArray(e))return Hk(e)}function Hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bNe(e,t){if(e==null)return{};var r=wNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){_Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ne(e,t,r){return t=SNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SNe(e){var t=jNe(e,"string");return km(t)=="symbol"?t:t+""}function jNe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}var kNe=function(t){var r=t.value,n=t.formatter,a=nr(t.children)?r:t.children;return Wt(n)?n(a):a},ENe=function(t,r){var n=Rs(r-t),a=Math.min(Math.abs(r-t),360);return n*a},NNe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,y=c.endAngle,m=c.clockWise,v=(f+h)/2,x=ENe(g,y),w=x>=0?1:-1,b,_;a==="insideStart"?(b=g+w*o,_=m):a==="insideEnd"?(b=y-w*o,_=!m):a==="end"&&(b=y+w*o,_=m),_=x<=0?_:!_;var S=An(u,d,v,b),E=An(u,d,v,b+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(E.x,",").concat(E.y),k=nr(t.id)?Ub("recharts-radial-line-"):t.id;return $.createElement("text",Em({},n,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:k,d:j})),$.createElement("textPath",{xlinkHref:"#".concat(k)},r))},CNe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var g=An(o,l,u+n,h),y=g.x,m=g.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=An(o,l,v,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},PNe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,g=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,v=m*a,x=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:g};return nn(nn({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return nn(nn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return nn(nn({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var E={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return nn(nn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return s==="insideLeft"?nn({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideRight"?nn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},j):s==="insideTop"?nn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},j):s==="insideBottom"?nn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},j):s==="insideTopLeft"?nn({x:l+v,y:c+h,textAnchor:w,verticalAnchor:y},j):s==="insideTopRight"?nn({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:y},j):s==="insideBottomLeft"?nn({x:l+v,y:c+d-h,textAnchor:w,verticalAnchor:g},j):s==="insideBottomRight"?nn({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:g},j):Bf(s)&&(Ge(s.x)||uc(s.x))&&(Ge(s.y)||uc(s.y))?nn({x:l+Gc(s.x,u),y:c+Gc(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):nn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},ANe=function(t){return"cx"in t&&Ge(t.cx)};function Fn(e){var t=e.offset,r=t===void 0?5:t,n=bNe(e,pNe),a=nn({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||nr(l)&&nr(c)&&!p.isValidElement(u)&&!Wt(u))return null;if(p.isValidElement(u))return p.cloneElement(u,a);var g;if(Wt(u)){if(g=p.createElement(u,a),p.isValidElement(g))return g}else g=kNe(a);var y=ANe(s),m=Zt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NNe(a,g,m);var v=y?CNe(a):PNe(a);return $.createElement($0,Em({className:Yt("recharts-label",f)},m,v,{breakAll:h}),g)}Fn.displayName="Label";var K9=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,g=t.top,y=t.left,m=t.width,v=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ge(m)&&Ge(v)){if(Ge(f)&&Ge(h))return{x:f,y:h,width:m,height:v};if(Ge(g)&&Ge(y))return{x:g,y,width:m,height:v}}return Ge(f)&&Ge(h)?{x:f,y:h,width:0,height:0}:Ge(r)&&Ge(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},TNe=function(t,r){return t?t===!0?$.createElement(Fn,{key:"label-implicit",viewBox:r}):pn(t)?$.createElement(Fn,{key:"label-implicit",viewBox:r,value:t}):p.isValidElement(t)?t.type===Fn?p.cloneElement(t,{key:"label-implicit",viewBox:r}):$.createElement(Fn,{key:"label-implicit",content:t,viewBox:r}):Wt(t)?$.createElement(Fn,{key:"label-implicit",content:t,viewBox:r}):Bf(t)?$.createElement(Fn,Em({viewBox:r},t,{key:"label-implicit"})):null:null},ONe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=K9(t),o=Bs(a,Fn).map(function(c,u){return p.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=TNe(t.label,r||s);return[l].concat(mNe(o))};Fn.parseViewBox=K9;Fn.renderCallByParent=ONe;function $Ne(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var RNe=$Ne;const INe=fr(RNe);function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var MNe=["valueAccessor"],LNe=["data","dataKey","clockWise","id","textBreakAll"];function DNe(e){return zNe(e)||UNe(e)||BNe(e)||FNe()}function FNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BNe(e,t){if(e){if(typeof e=="string")return Vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vk(e,t)}}function UNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zNe(e){if(Array.isArray(e))return Vk(e)}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){qNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qNe(e,t,r){return t=WNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WNe(e){var t=HNe(e,"string");return Nm(t)=="symbol"?t:t+""}function HNe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TI(e,t){if(e==null)return{};var r=VNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KNe=function(t){return Array.isArray(t.value)?INe(t.value):t.value};function Us(e){var t=e.valueAccessor,r=t===void 0?KNe:t,n=TI(e,MNe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=TI(n,LNe);return!a||!a.length?null:$.createElement(bn,{className:"recharts-label-list"},a.map(function(d,f){var h=nr(s)?r(d,f):Eo(d&&d.payload,s),g=nr(l)?{}:{id:"".concat(l,"-").concat(f)};return $.createElement(Fn,J0({},Zt(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Fn.parseViewBox(nr(o)?d:AI(AI({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Us.displayName="LabelList";function GNe(e,t){return e?e===!0?$.createElement(Us,{key:"labelList-implicit",data:t}):$.isValidElement(e)||Wt(e)?$.createElement(Us,{key:"labelList-implicit",data:t,content:e}):Bf(e)?$.createElement(Us,J0({data:t},e,{key:"labelList-implicit"})):null:null}function JNe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Bs(n,Us).map(function(o,l){return p.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=GNe(e.label,t);return[s].concat(DNe(a))}Us.renderCallByParent=JNe;function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(this,arguments)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){YNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t,r){return t=XNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XNe(e){var t=QNe(e,"string");return Cm(t)=="symbol"?t:t+""}function QNe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZNe=function(t,r){var n=Rs(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},$y=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/G0,h=u?s:s+o*f,g=An(r,n,d,h),y=An(r,n,a,h),m=u?s-o*f:s,v=An(r,n,d*Math.cos(f*G0),m);return{center:g,circleTangency:y,lineTangency:v,theta:f}},G9=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ZNe(o,l),u=o+c,d=An(r,n,s,o),f=An(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var g=An(r,n,a,o),y=An(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},eCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Rs(d-u),h=$y({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=h.circleTangency,y=h.lineTangency,m=h.theta,v=$y({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,w=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):G9({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var E=$y({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=E.circleTangency,k=E.lineTangency,N=E.theta,P=$y({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,R=P.lineTangency,U=P.theta,z=c?Math.abs(u-d):Math.abs(u-d)-N-U;if(z<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},tCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J9=function(t){var r=$I($I({},tCe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var g=Yt("recharts-sector",h),y=o-s,m=Gc(l,y,0,!0),v;return m>0&&Math.abs(d-f)<360?v=eCe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=G9({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),$.createElement("path",Kk({},Zt(r,!0),{className:g,d:v,role:"img"}))};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(this,arguments)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function II(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){rCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t,r){return t=nCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=aCe(e,"string");return Pm(t)=="symbol"?t:t+""}function aCe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MI={curveBasisClosed:tge,curveBasisOpen:rge,curveBasis:ege,curveBumpX:Bme,curveBumpY:Ume,curveLinearClosed:nge,curveLinear:Wb,curveMonotoneX:age,curveMonotoneY:sge,curveNatural:oge,curveStep:ige,curveStepAfter:cge,curveStepBefore:lge},Ry=function(t){return t.x===+t.x&&t.y===+t.y},Oh=function(t){return t.x},$h=function(t){return t.y},sCe=function(t,r){if(Wt(t))return t;var n="curve".concat(zb(t));return(n==="curveMonotone"||n==="curveBump")&&r?MI["".concat(n).concat(r==="vertical"?"Y":"X")]:MI[n]||Wb},oCe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=sCe(n,l),f=u?s.filter(function(m){return Ry(m)}):s,h;if(Array.isArray(o)){var g=u?o.filter(function(m){return Ry(m)}):o,y=f.map(function(m,v){return II(II({},m),{},{base:g[v]})});return l==="vertical"?h=jy().y($h).x1(Oh).x0(function(m){return m.base.x}):h=jy().x(Oh).y1($h).y0(function(m){return m.base.y}),h.defined(Ry).curve(d),h(y)}return l==="vertical"&&Ge(o)?h=jy().y($h).x1(Oh).x0(o):Ge(o)?h=jy().x(Oh).y1($h).y0(o):h=Y7().x(Oh).y($h),h.defined(Ry).curve(d),h(f)},LI=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?oCe(t):a;return $.createElement("path",Gk({},Zt(t,!1),v0(t),{className:Yt("recharts-curve",r),d:o,ref:s}))},Y9={exports:{}},iCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lCe=iCe,cCe=lCe;function X9(){}function Q9(){}Q9.resetWarningCache=X9;var uCe=function(){function e(n,a,s,o,l,c){if(c!==cCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Q9,resetWarningCache:X9};return r.PropTypes=r,r};Y9.exports=uCe();var dCe=Y9.exports;const er=fr(dCe);var fCe=Object.getOwnPropertyNames,hCe=Object.getOwnPropertySymbols,pCe=Object.prototype.hasOwnProperty;function DI(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Iy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function FI(e){return fCe(e).concat(hCe(e))}var mCe=Object.hasOwn||function(e,t){return pCe.call(e,t)};function cu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var gCe="__v",yCe="__o",vCe="_owner",BI=Object.getOwnPropertyDescriptor,UI=Object.keys;function xCe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function bCe(e,t){return cu(e.getTime(),t.getTime())}function wCe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function _Ce(e,t){return e===t}function zI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,g=l.value;if(r.equals(h[0],g[0],c,f,e,t,r)&&r.equals(h[1],g[1],h[0],g[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var SCe=cu;function jCe(e,t,r){var n=UI(e),a=n.length;if(UI(t).length!==a)return!1;for(;a-- >0;)if(!Z9(e,t,r,n[a]))return!1;return!0}function Rh(e,t,r){var n=FI(e),a=n.length;if(FI(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!Z9(e,t,r,s)||(o=BI(e,s),l=BI(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function kCe(e,t){return cu(e.valueOf(),t.valueOf())}function ECe(e,t){return e.source===t.source&&e.flags===t.flags}function qI(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function NCe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CCe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Z9(e,t,r,n){return(n===vCe||n===yCe||n===gCe)&&(e.$$typeof||t.$$typeof)?!0:mCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var PCe="[object Arguments]",ACe="[object Boolean]",TCe="[object Date]",OCe="[object Error]",$Ce="[object Map]",RCe="[object Number]",ICe="[object Object]",MCe="[object RegExp]",LCe="[object Set]",DCe="[object String]",FCe="[object URL]",BCe=Array.isArray,WI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,HI=Object.assign,UCe=Object.prototype.toString.call.bind(Object.prototype.toString);function zCe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,v){if(y===m)return!0;if(y==null||m==null)return!1;var x=typeof y;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?o(y,m,v):x==="function"?a(y,m,v):!1;var w=y.constructor;if(w!==m.constructor)return!1;if(w===Object)return l(y,m,v);if(BCe(y))return t(y,m,v);if(WI!=null&&WI(y))return f(y,m,v);if(w===Date)return r(y,m,v);if(w===RegExp)return u(y,m,v);if(w===Map)return s(y,m,v);if(w===Set)return d(y,m,v);var b=UCe(y);return b===TCe?r(y,m,v):b===MCe?u(y,m,v):b===$Ce?s(y,m,v):b===LCe?d(y,m,v):b===ICe?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,v):b===FCe?h(y,m,v):b===OCe?n(y,m,v):b===PCe?l(y,m,v):b===ACe||b===RCe||b===DCe?c(y,m,v):!1}}function qCe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Rh:xCe,areDatesEqual:bCe,areErrorsEqual:wCe,areFunctionsEqual:_Ce,areMapsEqual:n?DI(zI,Rh):zI,areNumbersEqual:SCe,areObjectsEqual:n?Rh:jCe,arePrimitiveWrappersEqual:kCe,areRegExpsEqual:ECe,areSetsEqual:n?DI(qI,Rh):qI,areTypedArraysEqual:n?Rh:NCe,areUrlsEqual:CCe};if(r&&(a=HI({},a,r(a))),t){var s=Iy(a.areArraysEqual),o=Iy(a.areMapsEqual),l=Iy(a.areObjectsEqual),c=Iy(a.areSetsEqual);a=HI({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function WCe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function HCe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,g=d.meta;return r(c,u,{cache:h,equals:a,meta:g,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var VCe=Bl();Bl({strict:!0});Bl({circular:!0});Bl({circular:!0,strict:!0});Bl({createInternalComparator:function(){return cu}});Bl({strict:!0,createInternalComparator:function(){return cu}});Bl({circular:!0,createInternalComparator:function(){return cu}});Bl({circular:!0,createInternalComparator:function(){return cu},strict:!0});function Bl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=qCe(e),c=zCe(l),u=n?n(c):WCe(c);return HCe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function KCe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function VI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):KCe(a)};requestAnimationFrame(n)}function Jk(e){"@babel/helpers - typeof";return Jk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jk(e)}function GCe(e){return QCe(e)||XCe(e)||YCe(e)||JCe()}function JCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YCe(e,t){if(e){if(typeof e=="string")return KI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KI(e,t)}}function KI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QCe(e){if(Array.isArray(e))return e}function ZCe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=GCe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){VI(a.bind(null,u),c);return}a(c),VI(a.bind(null,u));return}Jk(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ez(e,t,r){return t=ePe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ePe(e){var t=tPe(e,"string");return Am(t)==="symbol"?t:String(t)}function tPe(e,t){if(Am(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rPe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},nPe=function(t){return t},aPe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ep=function(t,r){return Object.keys(r).reduce(function(n,a){return JI(JI({},n),{},ez({},a,t(a,r[a])))},{})},YI=function(t,r,n){return t.map(function(a){return"".concat(aPe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function sPe(e,t){return lPe(e)||iPe(e,t)||tz(e,t)||oPe()}function oPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lPe(e){if(Array.isArray(e))return e}function cPe(e){return fPe(e)||dPe(e)||tz(e)||uPe()}function uPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tz(e,t){if(e){if(typeof e=="string")return Yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(e,t)}}function dPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fPe(e){if(Array.isArray(e))return Yk(e)}function Yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y0=1e-4,rz=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},nz=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},XI=function(t,r){return function(n){var a=rz(t,r);return nz(a,n)}},hPe=function(t,r){return function(n){var a=rz(t,r),s=[].concat(cPe(a.map(function(o,l){return o*l}).slice(1)),[0]);return nz(s,n)}},QI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=sPe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=XI(a,o),h=XI(s,l),g=hPe(a,o),y=function(x){return x>1?1:x<0?0:x},m=function(x){for(var w=x>1?1:x,b=w,_=0;_<8;++_){var S=f(b)-w,E=g(b);if(Math.abs(S-w)<Y0||E<Y0)return h(b);b=y(b-S/E)}return h(b)};return m.isStepper=!1,m},pPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var g=-(d-f)*n,y=h*s,m=h+(g-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Y0&&Math.abs(m)<Y0?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},mPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QI(a);case"spring":return pPe();default:if(a.split("(")[0]==="cubic-bezier")return QI(a)}return typeof a=="function"?a:null};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function ZI(e){return vPe(e)||yPe(e)||az(e)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vPe(e){if(Array.isArray(e))return Qk(e)}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){Xk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xk(e,t,r){return t=xPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xPe(e){var t=bPe(e,"string");return Tm(t)==="symbol"?t:String(t)}function bPe(e,t){if(Tm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wPe(e,t){return jPe(e)||SPe(e,t)||az(e,t)||_Pe()}function _Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function az(e,t){if(e){if(typeof e=="string")return Qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(e,t)}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jPe(e){if(Array.isArray(e))return e}var X0=function(t,r,n){return t+(r-t)*n},Zk=function(t){var r=t.from,n=t.to;return r!==n},kPe=function e(t,r,n){var a=Ep(function(s,o){if(Zk(o)){var l=t(o.from,o.to,o.velocity),c=wPe(l,2),u=c[0],d=c[1];return Sn(Sn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ep(function(s,o){return Zk(o)?Sn(Sn({},o),{},{velocity:X0(o.velocity,a[s].velocity,n),from:X0(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const EPe=function(e,t,r,n,a){var s=rPe(e,t),o=s.reduce(function(v,x){return Sn(Sn({},v),{},Xk({},x,[e[x],t[x]]))},{}),l=s.reduce(function(v,x){return Sn(Sn({},v),{},Xk({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ep(function(x,w){return w.from},l)},g=function(){return!Object.values(l).filter(Zk).length},y=function(x){u||(u=x);var w=x-u,b=w/r.dt;l=kPe(r,l,b),a(Sn(Sn(Sn({},e),t),h())),u=x,g()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var w=(x-d)/n,b=Ep(function(S,E){return X0.apply(void 0,ZI(E).concat([r(w)]))},o);if(a(Sn(Sn(Sn({},e),t),b)),w<1)c=requestAnimationFrame(f);else{var _=Ep(function(S,E){return X0.apply(void 0,ZI(E).concat([r(1)]))},o);a(Sn(Sn(Sn({},e),t),_))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}var NPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CPe(e,t){if(e==null)return{};var r=PPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PPe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function g_(e){return $Pe(e)||OPe(e)||TPe(e)||APe()}function APe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TPe(e,t){if(e){if(typeof e=="string")return eE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eE(e,t)}}function OPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Pe(e){if(Array.isArray(e))return eE(e)}function eE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zh(e,t,r){return t=sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sz(n.key),n)}}function MPe(e,t,r){return t&&IPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sz(e){var t=LPe(e,"string");return sf(t)==="symbol"?t:String(t)}function LPe(e,t){if(sf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tE(e,t)}function FPe(e){var t=BPe();return function(){var n=Q0(e),a;if(t){var s=Q0(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return rE(this,a)}}function rE(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nE(e)}function nE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q0(e){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(e)}var Pl=function(e){DPe(r,e);var t=FPe(r);function r(n,a){var s;RPe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(nE(s)),s.changeStyle=s.changeStyle.bind(nE(s)),!l||g<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),rE(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},rE(s);s.state={style:c?Zh({},c,u):u}}else s.state={style:{}};return s}return MPe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var g={style:c?Zh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!(VCe(a.to,d)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:a.to;if(this.state&&h){var v={style:c?Zh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(_s(_s({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,g=EPe(o,l,mPe(u),c,this.changeStyle),y=function(){s.stopJSAnimation=g()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(m,v,x){if(x===0)return m;var w=v.duration,b=v.easing,_=b===void 0?"ease":b,S=v.style,E=v.properties,j=v.onAnimationEnd,k=x>0?o[x-1]:v,N=E||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(g_(m),[s.runJSAnimation.bind(s,{from:k.style,to:S,duration:w,easing:_}),w]);var P=YI(N,w,_),A=_s(_s(_s({},k.style),S),{},{transition:P});return[].concat(g_(m),[A,w,j]).filter(nPe)};return this.manager.start([c].concat(g_(o.reduce(g,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ZCe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,g=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Zh({},l,c):c,v=YI(Object.keys(m),o,u);y.start([d,s,_s(_s({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=CPe(a,NPe),u=p.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(g){var y=g.props,m=y.style,v=m===void 0?{}:m,x=y.className,w=p.cloneElement(g,_s(_s({},c),{},{style:_s(_s({},v),d),className:x}));return w};return u===1?f(p.Children.only(s)):$.createElement("div",null,p.Children.map(s,function(h){return f(h)}))}}]),r}(p.PureComponent);Pl.displayName="Animate";Pl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pl.propTypes={from:er.oneOfType([er.object,er.string]),to:er.oneOfType([er.object,er.string]),attributeName:er.string,duration:er.number,begin:er.number,easing:er.oneOfType([er.string,er.func]),steps:er.arrayOf(er.shape({duration:er.number.isRequired,style:er.object.isRequired,easing:er.oneOfType([er.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),er.func]),properties:er.arrayOf("string"),onAnimationEnd:er.func})),children:er.oneOfType([er.node,er.func]),isActive:er.bool,canBegin:er.bool,onAnimationEnd:er.func,shouldReAnimate:er.bool,onAnimationStart:er.func,onAnimationReStart:er.func};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function UPe(e,t){return HPe(e)||WPe(e,t)||qPe(e,t)||zPe()}function zPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qPe(e,t){if(e){if(typeof e=="string")return rM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(e,t)}}function rM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function HPe(e){if(Array.isArray(e))return e}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){VPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VPe(e,t,r){return t=KPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KPe(e){var t=GPe(e,"string");return Om(t)=="symbol"?t:t+""}function GPe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sM=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},JPe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},YPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rP=function(t){var r=aM(aM({},YPe),t),n=p.useRef(),a=p.useState(-1),s=UPe(a,2),o=s[0],l=s[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Yt("recharts-rectangle",g);return w?$.createElement(Pl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:y,isActive:w},function(_){var S=_.width,E=_.height,j=_.x,k=_.y;return $.createElement(Pl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:y},$.createElement("path",Z0({},Zt(r,!0),{className:b,d:sM(j,k,S,E,h),ref:n})))}):$.createElement("path",Z0({},Zt(r,!0),{className:b,d:sM(c,u,d,f,h)}))};function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(this,arguments)}var oz=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Yt("recharts-dot",s);return r===+r&&n===+n&&a===+a?$.createElement("circle",aE({},Zt(t,!1),v0(t),{className:o,cx:r,cy:n,r:a})):null};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}var XPe=["x","y","top","left","width","height","className"];function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sE.apply(this,arguments)}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QPe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){ZPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZPe(e,t,r){return t=eAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eAe(e){var t=tAe(e,"string");return $m(t)=="symbol"?t:t+""}function tAe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rAe(e,t){if(e==null)return{};var r=nAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aAe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},sAe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,g=h===void 0?0:h,y=t.className,m=rAe(t,XPe),v=QPe({x:n,y:s,top:l,left:u,width:f,height:g},m);return!Ge(n)||!Ge(s)||!Ge(f)||!Ge(g)||!Ge(l)||!Ge(u)?null:$.createElement("path",sE({},Zt(v,!0),{className:Yt("recharts-cross",y),d:aAe(n,s,f,g,l,u)}))},oAe=bU,iAe=oAe(Object.getPrototypeOf,Object),lAe=iAe,cAe=gi,uAe=lAe,dAe=yi,fAe="[object Object]",hAe=Function.prototype,pAe=Object.prototype,iz=hAe.toString,mAe=pAe.hasOwnProperty,gAe=iz.call(Object);function yAe(e){if(!dAe(e)||cAe(e)!=fAe)return!1;var t=uAe(e);if(t===null)return!0;var r=mAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&iz.call(r)==gAe}var vAe=yAe;const xAe=fr(vAe);var bAe=gi,wAe=yi,_Ae="[object Boolean]";function SAe(e){return e===!0||e===!1||wAe(e)&&bAe(e)==_Ae}var jAe=SAe;const kAe=fr(jAe);function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}function EAe(e,t){return AAe(e)||PAe(e,t)||CAe(e,t)||NAe()}function NAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(e,t){if(e){if(typeof e=="string")return iM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iM(e,t)}}function iM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function AAe(e){if(Array.isArray(e))return e}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){TAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TAe(e,t,r){return t=OAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAe(e){var t=$Ae(e,"string");return Rm(t)=="symbol"?t:t+""}function $Ae(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uM=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},RAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IAe=function(t){var r=cM(cM({},RAe),t),n=p.useRef(),a=p.useState(-1),s=EAe(a,2),o=s[0],l=s[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,y=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Yt("recharts-trapezoid",g);return x?$.createElement(Pl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(b){var _=b.upperWidth,S=b.lowerWidth,E=b.height,j=b.x,k=b.y;return $.createElement(Pl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:y},$.createElement("path",ex({},Zt(r,!0),{className:w,d:uM(j,k,_,S,E),ref:n})))}):$.createElement("g",null,$.createElement("path",ex({},Zt(r,!0),{className:w,d:uM(c,u,d,f,h)})))},MAe=["option","shapeType","propTransformer","activeClassName","isActive"];function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function LAe(e,t){if(e==null)return{};var r=DAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){FAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FAe(e,t,r){return t=BAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BAe(e){var t=UAe(e,"string");return Im(t)=="symbol"?t:t+""}function UAe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zAe(e,t){return tx(tx({},t),e)}function qAe(e,t){return e==="symbols"}function fM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return $.createElement(rP,r);case"trapezoid":return $.createElement(IAe,r);case"sector":return $.createElement(J9,r);case"symbols":if(qAe(t))return $.createElement(bC,r);break;default:return null}}function WAe(e){return p.isValidElement(e)?e.props:e}function HAe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?zAe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=LAe(e,MAe),u;if(p.isValidElement(t))u=p.cloneElement(t,tx(tx({},c),WAe(t)));else if(Wt(t))u=t(c);else if(xAe(t)&&!kAe(t)){var d=a(t,c);u=$.createElement(fM,{shapeType:r,elementProps:d})}else{var f=c;u=$.createElement(fM,{shapeType:r,elementProps:f})}return l?$.createElement(bn,{className:o},u):u}function ow(e,t){return t!=null&&"trapezoids"in e.props}function iw(e,t){return t!=null&&"sectors"in e.props}function Mm(e,t){return t!=null&&"points"in e.props}function VAe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function KAe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function GAe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function JAe(e,t){var r;return ow(e,t)?r=VAe:iw(e,t)?r=KAe:Mm(e,t)&&(r=GAe),r}function YAe(e,t){var r;return ow(e,t)?r="trapezoids":iw(e,t)?r="sectors":Mm(e,t)&&(r="points"),r}function XAe(e,t){if(ow(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(iw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Mm(e,t)?t.payload:{}}function QAe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=YAe(r,t),s=XAe(r,t),o=n.filter(function(c,u){var d=QC(s,c),f=r.props[a].filter(function(y){var m=JAe(r,t);return m(y,t)}),h=r.props[a].indexOf(f[f.length-1]),g=u===h;return d&&g}),l=n.indexOf(o[o.length-1]);return l}var ZAe=Math.ceil,eTe=Math.max;function tTe(e,t,r,n){for(var a=-1,s=eTe(ZAe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var rTe=tTe,nTe=FU,hM=1/0,aTe=17976931348623157e292;function sTe(e){if(!e)return e===0?e:0;if(e=nTe(e),e===hM||e===-hM){var t=e<0?-1:1;return t*aTe}return e===e?e:0}var lz=sTe,oTe=rTe,iTe=Gb,y_=lz;function lTe(e){return function(t,r,n){return n&&typeof n!="number"&&iTe(t,r,n)&&(r=n=void 0),t=y_(t),r===void 0?(r=t,t=0):r=y_(r),n=n===void 0?t<r?1:-1:y_(n),oTe(t,r,n,e)}}var cTe=lTe,uTe=cTe,dTe=uTe(),fTe=dTe;const rx=fr(fTe);function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cz(e,t,r){return t=hTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hTe(e){var t=pTe(e,"string");return Lm(t)=="symbol"?t:t+""}function pTe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mTe=["Webkit","Moz","O","ms"],gTe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=mTe.reduce(function(s,o){return mM(mM({},s),{},cz({},o+n,r))},{});return a[t]=r,a};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){Aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dz(n.key),n)}}function vTe(e,t,r){return t&&yM(e.prototype,t),r&&yM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xTe(e,t,r){return t=ax(t),bTe(e,uz()?Reflect.construct(t,r||[],ax(e).constructor):t.apply(e,r))}function bTe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wTe(e)}function wTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uz=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(e)}function _Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oE(e,t)}function Aa(e,t,r){return t=dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dz(e){var t=STe(e,"string");return of(t)=="symbol"?t:t+""}function STe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jTe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=jp().domain(rx(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},vM=function(t){return t.changedTouches&&!!t.changedTouches.length},lf=function(e){function t(r){var n;return yTe(this,t),n=xTe(this,t,[r]),Aa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Aa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Aa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Aa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Aa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Aa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Aa(n,"handleSlideDragStart",function(a){var s=vM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _Te(t,e),vTe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),g=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:g-g%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Eo(s[n],l,n);return Wt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,y=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==g)&&y&&y(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=vM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,y=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,f+h-g-u):w<0&&(w=Math.max(w,f-u)),x[o]=u+w;var b=this.getIndex(x),_=b.startIndex,S=b.endIndex,E=function(){var k=v.length-1;return o==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===k||o==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===k};this.setState(Aa(Aa({},o,u+w),"brushMoveStartX",n.pageX),function(){y&&E()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var g=l[h];a==="startX"&&g>=u||a==="endX"&&g<=c||this.setState(Aa({},a,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=p.Children.only(u);return f?$.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,y=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),w=v_(v_({},Zt(this.props,!1)),{},{x,y:u,width:d,height:f}),b=g||"Min value: ".concat((s=y[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return $.createElement(bn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,y={pointerEvents:"none",fill:u};return $.createElement(bn,{className:"recharts-brush-texts"},$.createElement($0,nx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:o+l/2},y),this.getTextOfTick(a)),$.createElement($0,nx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,y=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!Ge(l)||!Ge(c)||!Ge(u)||!Ge(d)||u<=0||d<=0)return null;var b=Yt("recharts-brush",s),_=$.Children.count(o)===1,S=gTe("userSelect","none");return $.createElement(bn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(m||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return $.isValidElement(n)?s=$.cloneElement(n,a):Wt(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return v_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?jTe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(p.PureComponent);Aa(lf,"displayName","Brush");Aa(lf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kTe=NC;function ETe(e,t){var r;return kTe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var NTe=ETe,CTe=fU,PTe=Ll,ATe=NTe,TTe=Ca,OTe=Gb;function $Te(e,t,r){var n=TTe(e)?CTe:ATe;return r&&OTe(e,t,r)&&(t=void 0),n(e,PTe(t))}var RTe=$Te;const ITe=fr(RTe);var wo=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},xM=RU;function MTe(e,t,r){t=="__proto__"&&xM?xM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var LTe=MTe,DTe=LTe,FTe=OU,BTe=Ll;function UTe(e,t){var r={};return t=BTe(t),FTe(e,function(n,a,s){DTe(r,a,t(n,a,s))}),r}var zTe=UTe;const qTe=fr(zTe);function WTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var HTe=WTe,VTe=NC;function KTe(e,t){var r=!0;return VTe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var GTe=KTe,JTe=HTe,YTe=GTe,XTe=Ll,QTe=Ca,ZTe=Gb;function eOe(e,t,r){var n=QTe(e)?JTe:YTe;return r&&ZTe(e,t,r)&&(t=void 0),n(e,XTe(t))}var tOe=eOe;const fz=fr(tOe);var rOe=["x","y"];function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iE.apply(this,arguments)}function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(n){nOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nOe(e,t,r){return t=aOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aOe(e){var t=sOe(e,"string");return Dm(t)=="symbol"?t:t+""}function sOe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oOe(e,t){if(e==null)return{};var r=iOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lOe(e,t){var r=e.x,n=e.y,a=oOe(e,rOe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ih(Ih(Ih(Ih(Ih({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function wM(e){return $.createElement(HAe,iE({shapeType:"rectangle",propTransformer:lOe,activeClassName:"recharts-active-bar"},e))}var cOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||Yc(),r)}},uOe=["value","background"],hz;function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function dOe(e,t){if(e==null)return{};var r=fOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(this,arguments)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mz(n.key),n)}}function pOe(e,t,r){return t&&SM(e.prototype,t),r&&SM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mOe(e,t,r){return t=ox(t),gOe(e,pz()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function gOe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yOe(e)}function yOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pz=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ox(e)}function vOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lE(e,t)}function lE(e,t){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lE(e,t)}function ol(e,t,r){return t=mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mz(e){var t=xOe(e,"string");return cf(t)=="symbol"?t:t+""}function xOe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xi=function(e){function t(){var r;hOe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mOe(this,t,[].concat(a)),ol(r,"state",{isAnimationFinished:!1}),ol(r,"id",Ub("recharts-bar-")),ol(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ol(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return vOe(t,e),pOe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Zt(this.props,!1);return n&&n.map(function(f,h){var g=h===c,y=g?u:o,m=Xr(Xr(Xr({},d),f),{},{isActive:g,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(bn,sx({className:"recharts-bar-rectangle"},x0(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),$.createElement(wM,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return $.createElement(Pl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,m=s.map(function(v,x){var w=h&&h[x];if(w){var b=_u(w.x,v.x),_=_u(w.y,v.y),S=_u(w.width,v.width),E=_u(w.height,v.height);return Xr(Xr({},v),{},{x:b(y),y:_(y),width:S(y),height:E(y)})}if(o==="horizontal"){var j=_u(0,v.height),k=j(y);return Xr(Xr({},v),{},{y:v.y+v.height-k,height:k})}var N=_u(0,v.width),P=N(y);return Xr(Xr({},v),{},{width:P})});return $.createElement(bn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!QC(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Zt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=dOe(u,uOe);if(!f)return null;var g=Xr(Xr(Xr(Xr(Xr({},h),{},{fill:"#eee"},f),c),x0(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(wM,sx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Bs(d,sw);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,g=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Eo(v,x)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(bn,y,f.map(function(m){return $.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,y=n.background,m=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=Yt("recharts-bar",o),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=w||b,S=nr(m)?this.id:m;return $.createElement(bn,{className:x},w||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,$.createElement(bn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!g||v)&&Us.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(p.PureComponent);hz=xi;ol(xi,"displayName","Bar");ol(xi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ol(xi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,g=J2e(n,r);if(!g)return null;var y=t.layout,m=r.type.defaultProps,v=m!==void 0?Xr(Xr({},m),r.props):r.props,x=v.dataKey,w=v.children,b=v.minPointSize,_=y==="horizontal"?o:s,S=u?_.scale.domain():null,E=nNe({numericAxis:_}),j=Bs(w,Sg),k=f.map(function(N,P){var A,R,U,z,F,D;u?A=Y2e(u[d+P],S):(A=Eo(N,x),Array.isArray(A)||(A=[E,A]));var q=cOe(b,hz.defaultProps.minPointSize)(A[1],P);if(y==="horizontal"){var T,L=[o.scale(A[0]),o.scale(A[1])],ee=L[0],M=L[1];R=wI({axis:s,ticks:l,bandSize:a,offset:g.offset,entry:N,index:P}),U=(T=M??ee)!==null&&T!==void 0?T:void 0,z=g.size;var G=ee-M;if(F=Number.isNaN(G)?0:G,D={x:R,y:o.y,width:z,height:o.height},Math.abs(q)>0&&Math.abs(F)<Math.abs(q)){var V=Rs(F||q)*(Math.abs(q)-Math.abs(F));U-=V,F+=V}}else{var Z=[s.scale(A[0]),s.scale(A[1])],ie=Z[0],H=Z[1];if(R=ie,U=wI({axis:o,ticks:c,bandSize:a,offset:g.offset,entry:N,index:P}),z=H-ie,F=g.size,D={x:s.x,y:U,width:s.width,height:F},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var W=Rs(z||q)*(Math.abs(q)-Math.abs(z));z+=W}}return Xr(Xr(Xr({},N),{},{x:R,y:U,width:z,height:F,value:u?A:A[1],payload:N,background:D},j&&j[P]&&j[P].props),{},{tooltipPayload:[V9(r,N)],tooltipPosition:{x:R+z/2,y:U+F/2}})});return Xr({data:k,layout:y},h)});function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function bOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gz(n.key),n)}}function wOe(e,t,r){return t&&jM(e.prototype,t),r&&jM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lw(e,t,r){return t=gz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gz(e){var t=_Oe(e,"string");return Fm(t)=="symbol"?t:t+""}function _Oe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SOe=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ra(u,xi);return d.reduce(function(g,y){var m=r[y],v=m.orientation,x=m.domain,w=m.padding,b=w===void 0?{}:w,_=m.mirror,S=m.reversed,E="".concat(v).concat(_?"Mirror":""),j,k,N,P,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=x[1]-x[0],U=1/0,z=m.categoricalDomain.sort();if(z.forEach(function(Z,ie){ie>0&&(U=Math.min((Z||0)-(z[ie-1]||0),U))}),Number.isFinite(U)){var F=U/R,D=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(j=F*D/2),m.padding==="no-gap"){var q=Gc(t.barCategoryGap,F*D),T=F*D/2;j=T-q-(T-q)/D*q}}}a==="xAxis"?k=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:k=m.range,S&&(k=[k[1],k[0]]);var L=K2e(m,s,h),ee=L.scale,M=L.realScaleType;ee.domain(x).range(k),G2e(ee);var G=rNe(ee,As(As({},m),{},{realScaleType:M}));a==="xAxis"?(A=v==="top"&&!_||v==="bottom"&&_,N=n.left,P=f[E]-A*m.height):a==="yAxis"&&(A=v==="left"&&!_||v==="right"&&_,N=f[E]-A*m.width,P=n.top);var V=As(As(As({},m),G),{},{realScaleType:M,x:N,y:P,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return V.bandSize=K0(V,G),!m.hide&&a==="xAxis"?f[E]+=(A?-1:1)*V.height:m.hide||(f[E]+=(A?-1:1)*V.width),As(As({},g),{},lw({},y,V))},{})},yz=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},jOe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return yz({x:r,y:n},{x:a,y:s})},vz=function(){function e(t){bOe(this,e),this.scale=t}return wOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();lw(vz,"EPS",1e-4);var nP=function(t){var r=Object.keys(t).reduce(function(n,a){return As(As({},n),{},lw({},a,vz.create(t[a])))},{});return As(As({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return qTe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return fz(a,function(s,o){return r[o].isInRange(s)})}})};function kOe(e){return(e%180+180)%180}var EOe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=kOe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},NOe=Ll,COe=_g,POe=Vb;function AOe(e){return function(t,r,n){var a=Object(t);if(!COe(t)){var s=NOe(r);t=POe(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var TOe=AOe,OOe=lz;function $Oe(e){var t=OOe(e),r=t%1;return t===t?r?t-r:t:0}var ROe=$Oe,IOe=EU,MOe=Ll,LOe=ROe,DOe=Math.max;function FOe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:LOe(r);return a<0&&(a=DOe(n+a,0)),IOe(e,MOe(t),a)}var BOe=FOe,UOe=TOe,zOe=BOe,qOe=UOe(zOe),WOe=qOe;const HOe=fr(WOe);var VOe=$he(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),aP=p.createContext(void 0),sP=p.createContext(void 0),xz=p.createContext(void 0),bz=p.createContext({}),wz=p.createContext(void 0),_z=p.createContext(0),Sz=p.createContext(0),EM=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=VOe(s);return $.createElement(aP.Provider,{value:n},$.createElement(sP.Provider,{value:a},$.createElement(bz.Provider,{value:s},$.createElement(xz.Provider,{value:d},$.createElement(wz.Provider,{value:o},$.createElement(_z.Provider,{value:u},$.createElement(Sz.Provider,{value:c},l)))))))},KOe=function(){return p.useContext(wz)},jz=function(t){var r=p.useContext(aP);r==null&&Yc();var n=r[t];return n==null&&Yc(),n},GOe=function(){var t=p.useContext(aP);return qi(t)},JOe=function(){var t=p.useContext(sP),r=HOe(t,function(n){return fz(n.domain,Number.isFinite)});return r||qi(t)},kz=function(t){var r=p.useContext(sP);r==null&&Yc();var n=r[t];return n==null&&Yc(),n},YOe=function(){var t=p.useContext(xz);return t},XOe=function(){return p.useContext(bz)},oP=function(){return p.useContext(Sz)},iP=function(){return p.useContext(_z)};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function QOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nz(n.key),n)}}function e$e(e,t,r){return t&&ZOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t$e(e,t,r){return t=ix(t),r$e(e,Ez()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function r$e(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(e)}function n$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ez=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ix(e)}function a$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cE(e,t)}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){lP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lP(e,t,r){return t=Nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e){var t=s$e(e,"string");return uf(t)=="symbol"?t:t+""}function s$e(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o$e(e,t){return u$e(e)||c$e(e,t)||l$e(e,t)||i$e()}function i$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l$e(e,t){if(e){if(typeof e=="string")return PM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PM(e,t)}}function PM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function u$e(e){if(Array.isArray(e))return e}function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uE.apply(this,arguments)}var d$e=function(t,r){var n;return $.isValidElement(t)?n=$.cloneElement(t,r):Wt(t)?n=t(r):n=$.createElement("line",uE({},r,{className:"recharts-reference-line-line"})),n},f$e=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,g=s.height;if(n){var y=u.y,m=t.y.apply(y,{position:o});if(wo(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,w=t.x.apply(x,{position:o});if(wo(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:f+g},{x:w,y:f}];return l==="top"?b.reverse():b}if(a){var _=u.segment,S=_.map(function(E){return t.apply(E,{position:o})});return wo(u,"discard")&&ITe(S,function(E){return!t.isInRange(E)})?null:S}return null};function h$e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=KOe(),d=jz(a),f=kz(s),h=YOe();if(!u||!h)return null;ti(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=nP({x:d.scale,y:f.scale}),y=pn(t),m=pn(r),v=n&&n.length===2,x=f$e(g,y,m,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var w=o$e(x,2),b=w[0],_=b.x,S=b.y,E=w[1],j=E.x,k=E.y,N=wo(e,"hidden")?"url(#".concat(u,")"):void 0,P=CM(CM({clipPath:N},Zt(e,!0)),{},{x1:_,y1:S,x2:j,y2:k});return $.createElement(bn,{className:Yt("recharts-reference-line",l)},d$e(o,P),Fn.renderCallByParent(e,jOe({x1:_,y1:S,x2:j,y2:k})))}var cP=function(e){function t(){return QOe(this,t),t$e(this,t,arguments)}return a$e(t,e),e$e(t,[{key:"render",value:function(){return $.createElement(h$e,this.props)}}])}($.Component);lP(cP,"displayName","ReferenceLine");lP(cP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dE.apply(this,arguments)}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pz(n.key),n)}}function g$e(e,t,r){return t&&m$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y$e(e,t,r){return t=lx(t),v$e(e,Cz()?Reflect.construct(t,r||[],lx(e).constructor):t.apply(e,r))}function v$e(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x$e(e)}function x$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(e)}function b$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fE(e,t)}function cw(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=w$e(e,"string");return df(t)=="symbol"?t:t+""}function w$e(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=nP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return wo(t,"discard")&&!o.isInRange(l)?null:l},uw=function(e){function t(){return p$e(this,t),y$e(this,t,arguments)}return b$e(t,e),g$e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=pn(a),d=pn(s);if(ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_$e(this.props);if(!f)return null;var h=f.x,g=f.y,y=this.props,m=y.shape,v=y.className,x=wo(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=TM(TM({clipPath:x},Zt(this.props,!0)),{},{cx:h,cy:g});return $.createElement(bn,{className:Yt("recharts-reference-dot",v)},t.renderDot(m,w),Fn.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}($.Component);cw(uw,"displayName","ReferenceDot");cw(uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cw(uw,"renderDot",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):Wt(e)?r=e(t):r=$.createElement(oz,dE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hE.apply(this,arguments)}function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){dw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tz(n.key),n)}}function k$e(e,t,r){return t&&j$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E$e(e,t,r){return t=cx(t),N$e(e,Az()?Reflect.construct(t,r||[],cx(e).constructor):t.apply(e,r))}function N$e(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(e)}function C$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function cx(e){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cx(e)}function P$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pE(e,t)}function pE(e,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pE(e,t)}function dw(e,t,r){return t=Tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=A$e(e,"string");return ff(t)=="symbol"?t:t+""}function A$e(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T$e=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=nP({x:d.scale,y:f.scale}),g={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return wo(s,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:yz(g,y)},fw=function(e){function t(){return S$e(this,t),E$e(this,t,arguments)}return P$e(t,e),k$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pn(a),h=pn(s),g=pn(o),y=pn(l),m=this.props.shape;if(!f&&!h&&!g&&!y&&!m)return null;var v=T$e(f,h,g,y,this.props);if(!v&&!m)return null;var x=wo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(bn,{className:Yt("recharts-reference-area",c)},t.renderRect(m,$M($M({clipPath:x},Zt(this.props,!0)),v)),Fn.renderCallByParent(this.props,v))}}])}($.Component);dw(fw,"displayName","ReferenceArea");dw(fw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dw(fw,"renderRect",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):Wt(e)?r=e(t):r=$.createElement(rP,hE({},t,{className:"recharts-reference-area-rect"})),r});function Oz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function O$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return EOe(n,r)}function $$e(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function ux(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function R$e(e,t){return Oz(e,t+1)}function I$e(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:Oz(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(y,m)),v},w=y.coordinate,b=c===0||ux(e,w,x,d,l);b||(c=0,d=o,u+=1),b&&(d=w+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){M$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M$e(e,t,r){return t=L$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$e(e){var t=D$e(e,"string");return Bm(t)=="symbol"?t:t+""}function D$e(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F$e(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var g=s[h],y,m=function(){return y===void 0&&(y=r(g,h)),y};if(h===o-1){var v=e*(g.coordinate+e*m()/2-c);s[h]=g=Ln(Ln({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate})}else s[h]=g=Ln(Ln({},g),{},{tickCoord:g.coordinate});var x=ux(e,g.tickCoord,m,l,c);x&&(c=g.tickCoord-e*(m()/2+a),s[h]=Ln(Ln({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function B$e(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Ln(Ln({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var g=ux(e,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Ln(Ln({},d),{},{isShow:!0}))}for(var y=s?l-1:l,m=function(w){var b=o[w],_,S=function(){return _===void 0&&(_=r(b,w)),_};if(w===0){var E=e*(b.coordinate-e*S()/2-c);o[w]=b=Ln(Ln({},b),{},{tickCoord:E<0?b.coordinate-E*e:b.coordinate})}else o[w]=b=Ln(Ln({},b),{},{tickCoord:b.coordinate});var j=ux(e,b.tickCoord,S,c,u);j&&(c=b.tickCoord+e*(S()/2+a),o[w]=Ln(Ln({},b),{},{isShow:!0}))},v=0;v<y;v++)m(v);return o}function uP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ge(c)||xl.isSsr)return R$e(a,typeof c=="number"&&Ge(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?Sp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var S=Wt(u)?u(b.value,_):b.value;return g==="width"?O$e(Sp(S,{fontSize:t,letterSpacing:r}),y,f):Sp(S,{fontSize:t,letterSpacing:r})[g]},v=a.length>=2?Rs(a[1].coordinate-a[0].coordinate):1,x=$$e(s,v,g);return c==="equidistantPreserveStart"?I$e(v,x,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=B$e(v,x,m,a,o,c==="preserveStartEnd"):h=F$e(v,x,m,a,o),h.filter(function(w){return w.isShow}))}var U$e=["viewBox"],z$e=["viewBox"],q$e=["ticks"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(this,arguments)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){dP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x_(e,t){if(e==null)return{};var r=W$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rz(n.key),n)}}function V$e(e,t,r){return t&&MM(e.prototype,t),r&&MM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K$e(e,t,r){return t=dx(t),G$e(e,$z()?Reflect.construct(t,r||[],dx(e).constructor):t.apply(e,r))}function G$e(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J$e(e)}function J$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(e)}function Y$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mE(e,t)}function dP(e,t,r){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=X$e(e,"string");return hf(t)=="symbol"?t:t+""}function X$e(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yf=function(e){function t(r){var n;return H$e(this,t),n=K$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Y$e(t,e),V$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=x_(n,U$e),l=this.props,c=l.viewBox,u=x_(l,z$e);return!pd(s,c)||!pd(o,u)||!pd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,g,y,m,v,x,w,b=f?-1:1,_=n.tickSize||d,S=Ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=y=n.coordinate,v=o+ +!f*c,m=v-b*_,w=m-b*h,x=S;break;case"left":m=v=n.coordinate,y=s+ +!f*l,g=y-b*_,x=g-b*h,w=S;break;case"right":m=v=n.coordinate,y=s+ +f*l,g=y+b*_,x=g+b*h,w=S;break;default:g=y=n.coordinate,v=o+ +f*c,m=v+b*_,w=m+b*h,x=S;break}return{line:{x1:g,y1:m,x2:y,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Vn(Vn(Vn({},Zt(this.props,!1)),Zt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Vn(Vn({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=Vn(Vn({},f),{},{x1:a+g*o,y1:s,x2:a+g*o,y2:s+l})}return $.createElement("line",Xu({},f,{className:Yt("recharts-cartesian-axis-line",fs(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,g=uP(Vn(Vn({},this.props),{},{ticks:n}),a,s),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Zt(this.props,!1),x=Zt(d,!1),w=Vn(Vn({},v),{},{fill:"none"},Zt(c,!1)),b=g.map(function(_,S){var E=o.getTickLineCoord(_),j=E.line,k=E.tick,N=Vn(Vn(Vn(Vn({textAnchor:y,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),k),{},{index:S,payload:_,visibleTicksCount:g.length,tickFormatter:f});return $.createElement(bn,Xu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},x0(o.props,_,S)),c&&$.createElement("line",Xu({},w,j,{className:Yt("recharts-cartesian-axis-tick-line",fs(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Wt(f)?f(_.value,S):_.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,g=x_(f,q$e),y=h;return Wt(c)&&(y=h&&h.length>0?c(this.props):c(g)),o<=0||l<=0||!y||!y.length?null:$.createElement(bn,{className:Yt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return $.isValidElement(n)?o=$.cloneElement(n,a):Wt(n)?o=n(a):o=$.createElement($0,Xu({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(p.Component);dP(Yf,"displayName","CartesianAxis");dP(Yf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Q$e=["x1","y1","x2","y2","key"],Z$e=["offset"];function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){eRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eRe(e,t,r){return t=tRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tRe(e){var t=rRe(e,"string");return Xc(t)=="symbol"?t:t+""}function rRe(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}function DM(e,t){if(e==null)return{};var r=nRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aRe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return $.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Iz(e,t){var r;if($.isValidElement(e))r=$.cloneElement(e,t);else if(Wt(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=DM(t,Q$e),u=Zt(c,!1);u.offset;var d=DM(u,Z$e);r=$.createElement("line",hc({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function sRe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Bn(Bn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Iz(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function oRe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Bn(Bn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Iz(a,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function iRe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],m=y?a+o-h:d[g+1]-h;if(m<=0)return null;var v=g%t.length;return $.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function lRe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,g){return h-g});s!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var y=!d[g+1],m=y?s+l-h:d[g+1]-h;if(m<=0)return null;var v=g%n.length;return $.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cRe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return W9(uP(Bn(Bn(Bn({},Yf.defaultProps),n),{},{ticks:Xo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},uRe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return W9(uP(Bn(Bn(Bn({},Yf.defaultProps),n),{},{ticks:Xo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},ku={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mz(e){var t,r,n,a,s,o,l=oP(),c=iP(),u=XOe(),d=Bn(Bn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ku.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ku.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ku.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ku.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:ku.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ku.verticalFill,x:Ge(e.x)?e.x:u.left,y:Ge(e.y)?e.y:u.top,width:Ge(e.width)?e.width:u.width,height:Ge(e.height)?e.height:u.height}),f=d.x,h=d.y,g=d.width,y=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,w=GOe(),b=JOe();if(!Ge(g)||g<=0||!Ge(y)||y<=0||!Ge(f)||f!==+f||!Ge(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||cRe,S=d.horizontalCoordinatesGenerator||uRe,E=d.horizontalPoints,j=d.verticalPoints;if((!E||!E.length)&&Wt(S)){var k=v&&v.length,N=S({yAxis:b?Bn(Bn({},b),{},{ticks:k?v:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);ti(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(N),"]")),Array.isArray(N)&&(E=N)}if((!j||!j.length)&&Wt(_)){var P=x&&x.length,A=_({xAxis:w?Bn(Bn({},w),{},{ticks:P?x:w.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);ti(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xc(A),"]")),Array.isArray(A)&&(j=A)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(aRe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(sRe,hc({},d,{offset:u,horizontalPoints:E,xAxis:w,yAxis:b})),$.createElement(oRe,hc({},d,{offset:u,verticalPoints:j,xAxis:w,yAxis:b})),$.createElement(iRe,hc({},d,{horizontalPoints:E})),$.createElement(lRe,hc({},d,{verticalPoints:j})))}Mz.displayName="CartesianGrid";function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function dRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fz(n.key),n)}}function hRe(e,t,r){return t&&fRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pRe(e,t,r){return t=fx(t),mRe(e,Lz()?Reflect.construct(t,r||[],fx(e).constructor):t.apply(e,r))}function mRe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(e)}function gRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!e})()}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(e)}function yRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gE(e,t)}function gE(e,t){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gE(e,t)}function Dz(e,t,r){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fz(e){var t=vRe(e,"string");return pf(t)=="symbol"?t:t+""}function vRe(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yE.apply(this,arguments)}function xRe(e){var t=e.xAxisId,r=oP(),n=iP(),a=jz(t);return a==null?null:$.createElement(Yf,yE({},a,{className:Yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Xo(o,!0)}}))}var Xf=function(e){function t(){return dRe(this,t),pRe(this,t,arguments)}return yRe(t,e),hRe(t,[{key:"render",value:function(){return $.createElement(xRe,this.props)}}])}($.Component);Dz(Xf,"displayName","XAxis");Dz(Xf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function bRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zz(n.key),n)}}function _Re(e,t,r){return t&&wRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SRe(e,t,r){return t=hx(t),jRe(e,Bz()?Reflect.construct(t,r||[],hx(e).constructor):t.apply(e,r))}function jRe(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kRe(e)}function kRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!e})()}function hx(e){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(e)}function ERe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vE(e,t)}function vE(e,t){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vE(e,t)}function Uz(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=NRe(e,"string");return mf(t)=="symbol"?t:t+""}function NRe(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xE.apply(this,arguments)}var CRe=function(t){var r=t.yAxisId,n=oP(),a=iP(),s=kz(r);return s==null?null:$.createElement(Yf,xE({},s,{className:Yt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Xo(l,!0)}}))},Qf=function(e){function t(){return bRe(this,t),SRe(this,t,arguments)}return ERe(t,e),_Re(t,[{key:"render",value:function(){return $.createElement(CRe,this.props)}}])}($.Component);Uz(Qf,"displayName","YAxis");Uz(Qf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FM(e){return ORe(e)||TRe(e)||ARe(e)||PRe()}function PRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ARe(e,t){if(e){if(typeof e=="string")return bE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(e,t)}}function TRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ORe(e){if(Array.isArray(e))return bE(e)}function bE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wE=function(t,r,n,a,s){var o=Bs(t,cP),l=Bs(t,uw),c=[].concat(FM(o),FM(l)),u=Bs(t,fw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&wo(v.props,"extendDomain")&&Ge(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var g="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&wo(v.props,"extendDomain")&&Ge(v.props[g])&&Ge(v.props[y])){var x=v.props[g],w=v.props[y];return[Math.min(m[0],x,w),Math.max(m[1],x,w)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return Ge(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},qz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],g]:c._events[y].push(g):(c._events[y]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,y=new Array(g);h<g;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,g,y){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,g),!0;case 6:return v.fn.call(v.context,d,f,h,g,y),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var _=v.length,S;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,g);else{for(var m=0,v=[],x=y.length;m<x;m++)(y[m].fn!==d||h&&!y[m].once||f&&y[m].context!==f)&&v.push(y[m]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(qz);var $Re=qz.exports;const RRe=fr($Re);var b_=new RRe,w_="recharts.syncMouseEvents";function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function IRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wz(n.key),n)}}function LRe(e,t,r){return t&&MRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function __(e,t,r){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=DRe(e,"string");return Um(t)=="symbol"?t:t+""}function DRe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FRe=function(){function e(){IRe(this,e),__(this,"activeIndex",0),__(this,"coordinateList",[]),__(this,"layout","horizontal")}return LRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function BRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ge(n)&&Ge(a))return!0}return!1}function URe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Hz(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=An(t,r,n,a),l=An(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function zRe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=An(l,c,u,f),g=An(l,c,d,f);n=h.x,a=h.y,s=g.x,o=g.y}else return Hz(t);return[{x:n,y:a},{x:s,y:o}]}function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){qRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qRe(e,t,r){return t=WRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WRe(e){var t=HRe(e,"string");return zm(t)=="symbol"?t:t+""}function HRe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VRe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var y,m=LI;if(h==="ScatterChart")y=o,m=sAe;else if(h==="BarChart")y=URe(f,o,c,d),m=rP;else if(f==="radial"){var v=Hz(o),x=v.cx,w=v.cy,b=v.radius,_=v.startAngle,S=v.endAngle;y={cx:x,cy:w,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},m=J9}else y={points:zRe(f,o,c)},m=LI;var E=My(My(My(My({stroke:"#ccc",pointerEvents:"none"},c),y),Zt(g,!1)),{},{payload:l,payloadIndex:u,className:Yt("recharts-tooltip-cursor",g.className)});return p.isValidElement(g)?p.cloneElement(g,E):p.createElement(m,E)}var KRe=["item"],GRe=["children","className","width","height","style","compact","title","desc"];function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(this,arguments)}function UM(e,t){return XRe(e)||YRe(e,t)||Kz(e,t)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XRe(e){if(Array.isArray(e))return e}function zM(e,t){if(e==null)return{};var r=QRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gz(n.key),n)}}function t4e(e,t,r){return t&&e4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r4e(e,t,r){return t=px(t),n4e(e,Vz()?Reflect.construct(t,r||[],px(e).constructor):t.apply(e,r))}function n4e(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4e(e)}function a4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vz=function(){return!!e})()}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(e)}function s4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_E(e,t)}function yf(e){return l4e(e)||i4e(e)||Kz(e)||o4e()}function o4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kz(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function i4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l4e(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Et(e,t,r){return t=Gz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=c4e(e,"string");return gf(t)=="symbol"?t:t+""}function c4e(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u4e={xAxis:["bottom","top"],yAxis:["left","right"]},d4e={width:"100%",height:"100%"},Jz={x:0,y:0};function Ly(e){return e}var f4e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},h4e=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return ke(ke(ke({},a),An(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return ke(ke(ke({},a),An(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Jz},hw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(yf(l),yf(u)):l},[]);return o.length>0?o:t&&t.length&&Ge(a)&&Ge(s)?t.slice(a,s+1):[]};function Yz(e){return e==="number"?[0,"auto"]:void 0}var jE=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=hw(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;h=nk(g,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(yf(c),[V9(u,h)]):c},[])},WM=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=f4e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=U2e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=jE(t,r,d,f),g=h4e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},p4e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,g=q9(d,s);return n.reduce(function(y,m){var v,x=m.type.defaultProps!==void 0?ke(ke({},m.type.defaultProps),m.props):m.props,w=x.type,b=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,E=x.scale,j=x.ticks,k=x.includeHidden,N=x[o];if(y[N])return y;var P=hw(t.data,{graphicalItems:a.filter(function(G){var V,Z=o in G.props?G.props[o]:(V=G.type.defaultProps)===null||V===void 0?void 0:V[o];return Z===N}),dataStartIndex:c,dataEndIndex:u}),A=P.length,R,U,z;BRe(x.domain,_,w)&&(R=Wk(x.domain,null,_),g&&(w==="number"||E!=="auto")&&(z=kp(P,b,"category")));var F=Yz(w);if(!R||R.length===0){var D,q=(D=x.domain)!==null&&D!==void 0?D:F;if(b){if(R=kp(P,b,w),w==="category"&&g){var T=Ppe(R);S&&T?(U=R,R=rx(0,A)):S||(R=jI(q,R,m).reduce(function(G,V){return G.indexOf(V)>=0?G:[].concat(yf(G),[V])},[]))}else if(w==="category")S?R=R.filter(function(G){return G!==""&&!nr(G)}):R=jI(q,R,m).reduce(function(G,V){return G.indexOf(V)>=0||V===""||nr(V)?G:[].concat(yf(G),[V])},[]);else if(w==="number"){var L=V2e(P,a.filter(function(G){var V,Z,ie=o in G.props?G.props[o]:(V=G.type.defaultProps)===null||V===void 0?void 0:V[o],H="hide"in G.props?G.props.hide:(Z=G.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ie===N&&(k||!H)}),b,s,d);L&&(R=L)}g&&(w==="number"||E!=="auto")&&(z=kp(P,b,"category"))}else g?R=rx(0,A):l&&l[N]&&l[N].hasStack&&w==="number"?R=h==="expand"?[0,1]:H9(l[N].stackGroups,c,u):R=z9(P,a.filter(function(G){var V=o in G.props?G.props[o]:G.type.defaultProps[o],Z="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return V===N&&(k||!Z)}),w,d,!0);if(w==="number")R=wE(f,R,N,s,j),q&&(R=Wk(q,R,_));else if(w==="category"&&q){var ee=q,M=R.every(function(G){return ee.indexOf(G)>=0});M&&(R=ee)}}return ke(ke({},y),{},Et({},N,ke(ke({},x),{},{axisType:s,domain:R,categoricalDomain:z,duplicateDomain:U,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:g,layout:d})))},{})},m4e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=hw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,y=q9(d,s),m=-1;return n.reduce(function(v,x){var w=x.type.defaultProps!==void 0?ke(ke({},x.type.defaultProps),x.props):x.props,b=w[o],_=Yz("number");if(!v[b]){m++;var S;return y?S=rx(0,g):l&&l[b]&&l[b].hasStack?(S=H9(l[b].stackGroups,c,u),S=wE(f,S,b,s)):(S=Wk(_,z9(h,n.filter(function(E){var j,k,N=o in E.props?E.props[o]:(j=E.type.defaultProps)===null||j===void 0?void 0:j[o],P="hide"in E.props?E.props.hide:(k=E.type.defaultProps)===null||k===void 0?void 0:k.hide;return N===b&&!P}),"number",d),a.defaultProps.allowDataOverflow),S=wE(f,S,b,s)),ke(ke({},v),{},Et({},b,ke(ke({axisType:s},a.defaultProps),{},{hide:!0,orientation:fs(u4e,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:y,layout:d})))}return v},{})},g4e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Bs(d,s),g={};return h&&h.length?g=p4e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=m4e(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},y4e=function(t){var r=qi(t),n=Xo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:CC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:K0(r,n)}},HM=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ra(r,lf),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},v4e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ei(r&&r.type);return n&&n.indexOf("Bar")>=0})},VM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},x4e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=Ra(f,lf),y=Ra(f,md),m=Object.keys(c).reduce(function(S,E){var j=c[E],k=j.orientation;return!j.mirror&&!j.hide?ke(ke({},S),{},Et({},k,S[k]+j.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,E){var j=o[E],k=j.orientation;return!j.mirror&&!j.hide?ke(ke({},S),{},Et({},k,fs(S,"".concat(k))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=ke(ke({},v),m),w=x.bottom;g&&(x.bottom+=g.props.height||lf.defaultProps.height),y&&r&&(x=W2e(x,a,n,r));var b=u-x.left-x.right,_=d-x.top-x.bottom;return ke(ke({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},b4e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},w4e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,x){var w=x.graphicalItems,b=x.stackGroups,_=x.offset,S=x.updateId,E=x.dataStartIndex,j=x.dataEndIndex,k=v.barSize,N=v.layout,P=v.barGap,A=v.barCategoryGap,R=v.maxBarSize,U=VM(N),z=U.numericAxisName,F=U.cateAxisName,D=v4e(w),q=[];return w.forEach(function(T,L){var ee=hw(v.data,{graphicalItems:[T],dataStartIndex:E,dataEndIndex:j}),M=T.type.defaultProps!==void 0?ke(ke({},T.type.defaultProps),T.props):T.props,G=M.dataKey,V=M.maxBarSize,Z=M["".concat(z,"Id")],ie=M["".concat(F,"Id")],H={},W=c.reduce(function(gt,I){var Y=x["".concat(I.axisType,"Map")],we=M["".concat(I.axisType,"Id")];Y&&Y[we]||I.axisType==="zAxis"||Yc();var Ae=Y[we];return ke(ke({},gt),{},Et(Et({},I.axisType,Ae),"".concat(I.axisType,"Ticks"),Xo(Ae)))},H),X=W[F],B=W["".concat(F,"Ticks")],Q=b&&b[Z]&&b[Z].hasStack&&aNe(T,b[Z].stackGroups),se=ei(T.type).indexOf("Bar")>=0,J=K0(X,B),le=[],ce=D&&z2e({barSize:k,stackGroups:b,totalSize:b4e(W,F)});if(se){var ge,he,je=nr(V)?R:V,Ke=(ge=(he=K0(X,B,!0))!==null&&he!==void 0?he:je)!==null&&ge!==void 0?ge:0;le=q2e({barGap:P,barCategoryGap:A,bandSize:Ke!==J?Ke:J,sizeList:ce[ie],maxBarSize:je}),Ke!==J&&(le=le.map(function(gt){return ke(ke({},gt),{},{position:ke(ke({},gt.position),{},{offset:gt.position.offset-Ke/2})})}))}var Xe=T&&T.type&&T.type.getComposedData;Xe&&q.push({props:ke(ke({},Xe(ke(ke({},W),{},{displayedData:ee,props:v,dataKey:G,item:T,bandSize:J,barPosition:le,offset:_,stackedData:Q,layout:N,dataStartIndex:E,dataEndIndex:j}))),{},Et(Et(Et({key:T.key||"item-".concat(L)},z,W[z]),F,W[F]),"animationId",S)),childIndex:Bpe(T,v.children),item:T})}),q},g=function(v,x){var w=v.props,b=v.dataStartIndex,_=v.dataEndIndex,S=v.updateId;if(!vR({props:w}))return null;var E=w.children,j=w.layout,k=w.stackOffset,N=w.data,P=w.reverseStackOrder,A=VM(j),R=A.numericAxisName,U=A.cateAxisName,z=Bs(E,n),F=tNe(N,z,"".concat(R,"Id"),"".concat(U,"Id"),k,P),D=c.reduce(function(M,G){var V="".concat(G.axisType,"Map");return ke(ke({},M),{},Et({},V,g4e(w,ke(ke({},G),{},{graphicalItems:z,stackGroups:G.axisType===R&&F,dataStartIndex:b,dataEndIndex:_}))))},{}),q=x4e(ke(ke({},D),{},{props:w,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys(D).forEach(function(M){D[M]=d(w,D[M],q,M.replace("Map",""),r)});var T=D["".concat(U,"Map")],L=y4e(T),ee=h(w,ke(ke({},D),{},{dataStartIndex:b,dataEndIndex:_,updateId:S,graphicalItems:z,stackGroups:F,offset:q}));return ke(ke({formattedGraphicalItems:ee,graphicalItems:z,offset:q,stackGroups:F},L),D)},y=function(m){function v(x){var w,b,_;return ZRe(this,v),_=r4e(this,v,[x]),Et(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(_,"accessibilityManager",new FRe),Et(_,"handleLegendBBoxUpdate",function(S){if(S){var E=_.state,j=E.dataStartIndex,k=E.dataEndIndex,N=E.updateId;_.setState(ke({legendBBox:S},g({props:_.props,dataStartIndex:j,dataEndIndex:k,updateId:N},ke(ke({},_.state),{},{legendBBox:S}))))}}),Et(_,"handleReceiveSyncEvent",function(S,E,j){if(_.props.syncId===S){if(j===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),Et(_,"handleBrushChange",function(S){var E=S.startIndex,j=S.endIndex;if(E!==_.state.dataStartIndex||j!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return ke({dataStartIndex:E,dataEndIndex:j},g({props:_.props,dataStartIndex:E,dataEndIndex:j,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),Et(_,"handleMouseEnter",function(S){var E=_.getMouseInfo(S);if(E){var j=ke(ke({},E),{},{isTooltipActive:!0});_.setState(j),_.triggerSyncEvent(j);var k=_.props.onMouseEnter;Wt(k)&&k(j,S)}}),Et(_,"triggeredAfterMouseMove",function(S){var E=_.getMouseInfo(S),j=E?ke(ke({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(j),_.triggerSyncEvent(j);var k=_.props.onMouseMove;Wt(k)&&k(j,S)}),Et(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Et(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Et(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),Et(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var j=_.props.onMouseLeave;Wt(j)&&j(E,S)}),Et(_,"handleOuterEvent",function(S){var E=Fpe(S),j=fs(_.props,"".concat(E));if(E&&Wt(j)){var k,N;/.*touch.*/i.test(E)?N=_.getMouseInfo(S.changedTouches[0]):N=_.getMouseInfo(S),j((k=N)!==null&&k!==void 0?k:{},S)}}),Et(_,"handleClick",function(S){var E=_.getMouseInfo(S);if(E){var j=ke(ke({},E),{},{isTooltipActive:!0});_.setState(j),_.triggerSyncEvent(j);var k=_.props.onClick;Wt(k)&&k(j,S)}}),Et(_,"handleMouseDown",function(S){var E=_.props.onMouseDown;if(Wt(E)){var j=_.getMouseInfo(S);E(j,S)}}),Et(_,"handleMouseUp",function(S){var E=_.props.onMouseUp;if(Wt(E)){var j=_.getMouseInfo(S);E(j,S)}}),Et(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Et(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),Et(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),Et(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&b_.emit(w_,_.props.syncId,S,_.eventEmitterSymbol)}),Et(_,"applySyncEvent",function(S){var E=_.props,j=E.layout,k=E.syncMethod,N=_.state.updateId,P=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(ke({dataStartIndex:P,dataEndIndex:A},g({props:_.props,dataStartIndex:P,dataEndIndex:A,updateId:N},_.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,U=S.chartY,z=S.activeTooltipIndex,F=_.state,D=F.offset,q=F.tooltipTicks;if(!D)return;if(typeof k=="function")z=k(q,S);else if(k==="value"){z=-1;for(var T=0;T<q.length;T++)if(q[T].value===S.activeLabel){z=T;break}}var L=ke(ke({},D),{},{x:D.left,y:D.top}),ee=Math.min(R,L.x+L.width),M=Math.min(U,L.y+L.height),G=q[z]&&q[z].value,V=jE(_.state,_.props.data,z),Z=q[z]?{x:j==="horizontal"?q[z].coordinate:ee,y:j==="horizontal"?M:q[z].coordinate}:Jz;_.setState(ke(ke({},S),{},{activeLabel:G,activeCoordinate:Z,activePayload:V,activeTooltipIndex:z}))}else _.setState(S)}),Et(_,"renderCursor",function(S){var E,j=_.state,k=j.isTooltipActive,N=j.activeCoordinate,P=j.activePayload,A=j.offset,R=j.activeTooltipIndex,U=j.tooltipAxisBandSize,z=_.getTooltipEventType(),F=(E=S.props.active)!==null&&E!==void 0?E:k,D=_.props.layout,q=S.key||"_recharts-cursor";return $.createElement(VRe,{key:q,activeCoordinate:N,activePayload:P,activeTooltipIndex:R,chartName:r,element:S,isActive:F,layout:D,offset:A,tooltipAxisBandSize:U,tooltipEventType:z})}),Et(_,"renderPolarAxis",function(S,E,j){var k=fs(S,"type.axisType"),N=fs(_.state,"".concat(k,"Map")),P=S.type.defaultProps,A=P!==void 0?ke(ke({},P),S.props):S.props,R=N&&N[A["".concat(k,"Id")]];return p.cloneElement(S,ke(ke({},R),{},{className:Yt(k,R.className),key:S.key||"".concat(E,"-").concat(j),ticks:Xo(R,!0)}))}),Et(_,"renderPolarGrid",function(S){var E=S.props,j=E.radialLines,k=E.polarAngles,N=E.polarRadius,P=_.state,A=P.radiusAxisMap,R=P.angleAxisMap,U=qi(A),z=qi(R),F=z.cx,D=z.cy,q=z.innerRadius,T=z.outerRadius;return p.cloneElement(S,{polarAngles:Array.isArray(k)?k:Xo(z,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(N)?N:Xo(U,!0).map(function(L){return L.coordinate}),cx:F,cy:D,innerRadius:q,outerRadius:T,key:S.key||"polar-grid",radialLines:j})}),Et(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,E=_.props,j=E.children,k=E.width,N=E.height,P=_.props.margin||{},A=k-(P.left||0)-(P.right||0),R=B9({children:j,formattedGraphicalItems:S,legendWidth:A,legendContent:u});if(!R)return null;var U=R.item,z=zM(R,KRe);return p.cloneElement(U,ke(ke({},z),{},{chartWidth:k,chartHeight:N,margin:P,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Et(_,"renderTooltip",function(){var S,E=_.props,j=E.children,k=E.accessibilityLayer,N=Ra(j,ao);if(!N)return null;var P=_.state,A=P.isTooltipActive,R=P.activeCoordinate,U=P.activePayload,z=P.activeLabel,F=P.offset,D=(S=N.props.active)!==null&&S!==void 0?S:A;return p.cloneElement(N,{viewBox:ke(ke({},F),{},{x:F.left,y:F.top}),active:D,label:z,payload:D?U:[],coordinate:R,accessibilityLayer:k})}),Et(_,"renderBrush",function(S){var E=_.props,j=E.margin,k=E.data,N=_.state,P=N.offset,A=N.dataStartIndex,R=N.dataEndIndex,U=N.updateId;return p.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Oy(_.handleBrushChange,S.props.onChange),data:k,x:Ge(S.props.x)?S.props.x:P.left,y:Ge(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(j.bottom||0),width:Ge(S.props.width)?S.props.width:P.width,startIndex:A,endIndex:R,updateId:"brush-".concat(U)})}),Et(_,"renderReferenceElement",function(S,E,j){if(!S)return null;var k=_,N=k.clipPathId,P=_.state,A=P.xAxisMap,R=P.yAxisMap,U=P.offset,z=S.type.defaultProps||{},F=S.props,D=F.xAxisId,q=D===void 0?z.xAxisId:D,T=F.yAxisId,L=T===void 0?z.yAxisId:T;return p.cloneElement(S,{key:S.key||"".concat(E,"-").concat(j),xAxis:A[q],yAxis:R[L],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:N})}),Et(_,"renderActivePoints",function(S){var E=S.item,j=S.activePoint,k=S.basePoint,N=S.childIndex,P=S.isRange,A=[],R=E.props.key,U=E.item.type.defaultProps!==void 0?ke(ke({},E.item.type.defaultProps),E.item.props):E.item.props,z=U.activeDot,F=U.dataKey,D=ke(ke({index:N,dataKey:F,cx:j.x,cy:j.y,r:4,fill:tP(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Zt(z,!1)),v0(z));return A.push(v.renderActiveDot(z,D,"".concat(R,"-activePoint-").concat(N))),k?A.push(v.renderActiveDot(z,ke(ke({},D),{},{cx:k.x,cy:k.y}),"".concat(R,"-basePoint-").concat(N))):P&&A.push(null),A}),Et(_,"renderGraphicChild",function(S,E,j){var k=_.filterFormatItem(S,E,j);if(!k)return null;var N=_.getTooltipEventType(),P=_.state,A=P.isTooltipActive,R=P.tooltipAxis,U=P.activeTooltipIndex,z=P.activeLabel,F=_.props.children,D=Ra(F,ao),q=k.props,T=q.points,L=q.isRange,ee=q.baseLine,M=k.item.type.defaultProps!==void 0?ke(ke({},k.item.type.defaultProps),k.item.props):k.item.props,G=M.activeDot,V=M.hide,Z=M.activeBar,ie=M.activeShape,H=!!(!V&&A&&D&&(G||Z||ie)),W={};N!=="axis"&&D&&D.props.trigger==="click"?W={onClick:Oy(_.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(W={onMouseLeave:Oy(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Oy(_.handleItemMouseEnter,S.props.onMouseEnter)});var X=p.cloneElement(S,ke(ke({},k.props),W));function B(I){return typeof R.dataKey=="function"?R.dataKey(I.payload):null}if(H)if(U>=0){var Q,se;if(R.dataKey&&!R.allowDuplicatedCategory){var J=typeof R.dataKey=="function"?B:"payload.".concat(R.dataKey.toString());Q=nk(T,J,z),se=L&&ee&&nk(ee,J,z)}else Q=T==null?void 0:T[U],se=L&&ee&&ee[U];if(ie||Z){var le=S.props.activeIndex!==void 0?S.props.activeIndex:U;return[p.cloneElement(S,ke(ke(ke({},k.props),W),{},{activeIndex:le})),null,null]}if(!nr(Q))return[X].concat(yf(_.renderActivePoints({item:k,activePoint:Q,basePoint:se,childIndex:U,isRange:L})))}else{var ce,ge=(ce=_.getItemByXY(_.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:X},he=ge.graphicalItem,je=he.item,Ke=je===void 0?S:je,Xe=he.childIndex,gt=ke(ke(ke({},k.props),W),{},{activeIndex:Xe});return[p.cloneElement(Ke,gt),null,null]}return L?[X,null,null]:[X,null]}),Et(_,"renderCustomized",function(S,E,j){return p.cloneElement(S,ke(ke({key:"recharts-customized-".concat(j)},_.props),_.state))}),Et(_,"renderMap",{CartesianGrid:{handler:Ly,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Ly},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Ly},YAxis:{handler:Ly},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Ub("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=BU(_.triggeredAfterMouseMove,(b=x.throttleDelay)!==null&&b!==void 0?b:1e3/60),_.state={},_}return s4e(v,m),t4e(v,[{key:"componentDidMount",value:function(){var w,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,b=w.children,_=w.data,S=w.height,E=w.layout,j=Ra(b,ao);if(j){var k=j.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=jE(this.state,_,k,N),A=this.state.tooltipTicks[k].coordinate,R=(this.state.offset.top+S)/2,U=E==="horizontal",z=U?{x:A,y:R}:{y:A,x:R},F=this.state.formattedGraphicalItems.find(function(q){var T=q.item;return T.type.name==="Scatter"});F&&(z=ke(ke({},z),F.props.points[k].tooltipPosition),P=F.props.points[k].tooltipPayload);var D={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:P,activeCoordinate:z};this.setState(D),this.renderCursor(j),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){sk([Ra(w.children,ao)],[Ra(this.props.children,ao)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ra(this.props.children,ao);if(w&&typeof w.props.shared=="boolean"){var b=w.props.shared?"axis":"item";return l.indexOf(b)>=0?b:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var b=this.container,_=b.getBoundingClientRect(),S=hSe(_),E={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},j=_.width/b.offsetWidth||1,k=this.inRange(E.chartX,E.chartY,j);if(!k)return null;var N=this.state,P=N.xAxisMap,A=N.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&P&&A){var U=qi(P).scale,z=qi(A).scale,F=U&&U.invert?U.invert(E.chartX):null,D=z&&z.invert?z.invert(E.chartY):null;return ke(ke({},E),{},{xValue:F,yValue:D})}var q=WM(this.state,this.props.data,this.props.layout,k);return q?ke(ke({},E),q):null}},{key:"inRange",value:function(w,b){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=w/_,j=b/_;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,N=E>=k.left&&E<=k.left+k.width&&j>=k.top&&j<=k.top+k.height;return N?{x:E,y:j}:null}var P=this.state,A=P.angleAxisMap,R=P.radiusAxisMap;if(A&&R){var U=qi(A);return NI({x:E,y:j},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,b=this.getTooltipEventType(),_=Ra(w,ao),S={};_&&b==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=v0(this.props,this.handleOuterEvent);return ke(ke({},E),S)}},{key:"addListener",value:function(){b_.on(w_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){b_.removeListener(w_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,b,_){for(var S=this.state.formattedGraphicalItems,E=0,j=S.length;E<j;E++){var k=S[E];if(k.item===w||k.props.key===w.key||b===ei(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,b=this.state.offset,_=b.left,S=b.top,E=b.height,j=b.width;return $.createElement("defs",null,$.createElement("clipPath",{id:w},$.createElement("rect",{x:_,y:S,height:E,width:j})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(b,_){var S=UM(_,2),E=S[0],j=S[1];return ke(ke({},b),{},Et({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(b,_){var S=UM(_,2),E=S[0],j=S[1];return ke(ke({},b),{},Et({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(w){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[w])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(w){var b=this.state,_=b.formattedGraphicalItems,S=b.activeItem;if(_&&_.length)for(var E=0,j=_.length;E<j;E++){var k=_[E],N=k.props,P=k.item,A=P.type.defaultProps!==void 0?ke(ke({},P.type.defaultProps),P.props):P.props,R=ei(P.type);if(R==="Bar"){var U=(N.data||[]).find(function(q){return JPe(w,q)});if(U)return{graphicalItem:k,payload:U}}else if(R==="RadialBar"){var z=(N.data||[]).find(function(q){return NI(w,q)});if(z)return{graphicalItem:k,payload:z}}else if(ow(k,S)||iw(k,S)||Mm(k,S)){var F=QAe({graphicalItem:k,activeTooltipItem:S,itemData:A.data}),D=A.activeIndex===void 0?F:A.activeIndex;return{graphicalItem:ke(ke({},k),{},{childIndex:D}),payload:Mm(k,S)?A.data[F]:k.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!vR(this))return null;var b=this.props,_=b.children,S=b.className,E=b.width,j=b.height,k=b.style,N=b.compact,P=b.title,A=b.desc,R=zM(b,GRe),U=Zt(R,!1);if(N)return $.createElement(EM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(ik,Np({},U,{width:E,height:j,title:P,desc:A}),this.renderClipPath(),bR(_,this.renderMap)));if(this.props.accessibilityLayer){var z,F;U.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,U.role=(F=this.props.role)!==null&&F!==void 0?F:"application",U.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},U.onFocus=function(){w.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return $.createElement(EM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Np({className:Yt("recharts-wrapper",S),style:ke({position:"relative",cursor:"default",width:E,height:j},k)},D,{ref:function(T){w.container=T}}),$.createElement(ik,Np({},U,{width:E,height:j,title:P,desc:A,style:d4e}),this.renderClipPath(),bR(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(p.Component);return Et(y,"displayName",r),Et(y,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Et(y,"getDerivedStateFromProps",function(m,v){var x=m.dataKey,w=m.data,b=m.children,_=m.width,S=m.height,E=m.layout,j=m.stackOffset,k=m.margin,N=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var A=HM(m);return ke(ke(ke({},A),{},{updateId:0},g(ke(ke({props:m},A),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:k,prevChildren:b})}if(x!==v.prevDataKey||w!==v.prevData||_!==v.prevWidth||S!==v.prevHeight||E!==v.prevLayout||j!==v.prevStackOffset||!pd(k,v.prevMargin)){var R=HM(m),U={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},z=ke(ke({},WM(v,w,E)),{},{updateId:v.updateId+1}),F=ke(ke(ke({},R),U),z);return ke(ke(ke({},F),g(ke({props:m},F),v)),{},{prevDataKey:x,prevData:w,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:j,prevMargin:k,prevChildren:b})}if(!sk(b,v.prevChildren)){var D,q,T,L,ee=Ra(b,lf),M=ee&&(D=(q=ee.props)===null||q===void 0?void 0:q.startIndex)!==null&&D!==void 0?D:N,G=ee&&(T=(L=ee.props)===null||L===void 0?void 0:L.endIndex)!==null&&T!==void 0?T:P,V=M!==N||G!==P,Z=!nr(w),ie=Z&&!V?v.updateId:v.updateId+1;return ke(ke({updateId:ie},g(ke(ke({props:m},v),{},{updateId:ie,dataStartIndex:M,dataEndIndex:G}),v)),{},{prevChildren:b,dataStartIndex:M,dataEndIndex:G})}return null}),Et(y,"renderActiveDot",function(m,v,x){var w;return p.isValidElement(m)?w=p.cloneElement(m,v):Wt(m)?w=m(v):w=$.createElement(oz,v),$.createElement(bn,{className:"recharts-active-dot",key:x},w)}),function(v){return $.createElement(y,v)}},fP=w4e({chartName:"BarChart",GraphicalChild:xi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xf},{axisType:"yAxis",AxisComp:Qf}],formatAxisMap:SOe});const _4e={light:"",dark:".dark"},Xz=p.createContext(null);function Qz(){const e=p.useContext(Xz);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const pw=p.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=p.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(Xz.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:fe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(S4e,{id:l,config:n}),i.jsx(oSe,{children:r})]})})});pw.displayName="Chart";const S4e=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(_4e).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},hP=ao,j4e=p.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},g)=>{const{config:y}=Qz(),m=p.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[x]=t,w=`${h||x.dataKey||x.name||"value"}`,b=kE(y,x,w),_=!h&&typeof o=="string"?((S=y[o])==null?void 0:S.label)||o:b==null?void 0:b.label;return l?i.jsx("div",{className:fe("font-medium",c),children:l(_,t)}):_?i.jsx("div",{className:fe("font-medium",c),children:_}):null},[o,l,t,a,c,y,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:g,className:fe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:m,i.jsx("div",{className:"grid gap-1.5",children:t.map((x,w)=>{const b=`${f||x.name||x.dataKey||"value"}`,_=kE(y,x,b),S=d||x.payload.fill||x.color;return i.jsx("div",{className:fe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,w,x.payload):i.jsxs(i.Fragment,{children:[_!=null&&_.icon?i.jsx(_.icon,{}):!s&&i.jsx("div",{className:fe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),i.jsxs("div",{className:fe("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,i.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});j4e.displayName="ChartTooltip";const k4e=p.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=Qz();return r!=null&&r.length?i.jsx("div",{ref:s,className:fe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=kE(o,l,c);return i.jsxs("div",{className:fe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});k4e.displayName="ChartLegend";function kE(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const vf=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));vf.displayName="Textarea";function E4e(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,N4e(a,...t)]}function N4e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Cg(e){const t=e+"CollectionProvider",[r,n]=E4e(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:m}=g,v=$.useRef(null),x=$.useRef(new Map).current;return i.jsx(a,{scope:y,itemMap:x,collectionRef:v,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=$.forwardRef((g,y)=>{const{scope:m,children:v}=g,x=s(l,m),w=xt(y,x.collectionRef);return i.jsx(jl,{ref:w,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=$.forwardRef((g,y)=>{const{scope:m,children:v,...x}=g,w=$.useRef(null),b=xt(y,w),_=s(u,m);return $.useEffect(()=>(_.itemMap.set(w,{ref:w,...x}),()=>void _.itemMap.delete(w))),i.jsx(jl,{[d]:"",ref:b,children:v})});f.displayName=u;function h(g){const y=s(e+"CollectionConsumer",g);return $.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function C4e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var P4e="DismissableLayer",EE="dismissableLayer.update",A4e="dismissableLayer.pointerDownOutside",T4e="dismissableLayer.focusOutside",KM,Zz=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eq=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(Zz),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=xt(t,j=>f(j)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=R4e(j=>{const k=j.target,N=[...u.branches].some(P=>P.contains(k));!_||N||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),E=I4e(j=>{const k=j.target;[...u.branches].some(P=>P.contains(k))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return C4e(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(KM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),GM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=KM)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),GM())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(EE,j),()=>document.removeEventListener(EE,j)},[]),i.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});eq.displayName=P4e;var O4e="DismissableLayerBranch",$4e=p.forwardRef((e,t)=>{const r=p.useContext(Zz),n=p.useRef(null),a=xt(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(nt.div,{...e,ref:a})});$4e.displayName=O4e;function R4e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){tq(A4e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I4e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&tq(T4e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GM(){const e=new CustomEvent(EE);document.dispatchEvent(e)}function tq(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sg(a,s):a.dispatchEvent(s)}var S_=0;function pP(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??JM()),document.body.insertAdjacentElement("beforeend",e[1]??JM()),S_++,()=>{S_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),S_--}},[])}function JM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var j_="focusScope.autoFocusOnMount",k_="focusScope.autoFocusOnUnmount",YM={bubbles:!1,cancelable:!0},M4e="FocusScope",rq=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=Jt(a),d=Jt(s),f=p.useRef(null),h=xt(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:$i(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||$i(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&$i(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){QM.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(j_,YM);l.addEventListener(j_,u),l.dispatchEvent(x),x.defaultPrevented||(L4e(z4e(nq(l)),{select:!0}),document.activeElement===m&&$i(l))}return()=>{l.removeEventListener(j_,u),setTimeout(()=>{const x=new CustomEvent(k_,YM);l.addEventListener(k_,d),l.dispatchEvent(x),x.defaultPrevented||$i(m??document.body,{select:!0}),l.removeEventListener(k_,d),QM.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=D4e(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&$i(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&$i(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return i.jsx(nt.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});rq.displayName=M4e;function L4e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($i(n,{select:t}),document.activeElement!==r)return}function D4e(e){const t=nq(e),r=XM(t,e),n=XM(t.reverse(),e);return[r,n]}function nq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function XM(e,t){for(const r of e)if(!F4e(r,{upTo:t}))return r}function F4e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function B4e(e){return e instanceof HTMLInputElement&&"select"in e}function $i(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&B4e(e)&&t&&e.select()}}var QM=U4e();function U4e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ZM(e,t),e.unshift(t)},remove(t){var r;e=ZM(e,t),(r=e[0])==null||r.resume()}}}function ZM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function z4e(e){return e.filter(t=>t.tagName!=="A")}var q4e="Portal",aq=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);Jr(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tg.createPortal(i.jsx(nt.div,{...n,ref:t}),o):null});aq.displayName=q4e;function mw(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var sq=cb(),E_=function(){},gw=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:E_,onWheelCapture:E_,onTouchMoveCapture:E_}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=hg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=lb([r,t]),E=dr(dr({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:sq,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:w}),o?p.cloneElement(p.Children.only(l),dr(dr({},E),{ref:S})):p.createElement(x,dr({},E,{className:c,ref:S}),l))});gw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gw.classNames={fullWidth:Ac,zeroRight:Pc};var NE=!1;if(typeof window<"u")try{var Dy=Object.defineProperty({},"passive",{get:function(){return NE=!0,!0}});window.addEventListener("test",Dy,Dy),window.removeEventListener("test",Dy,Dy)}catch{NE=!1}var Eu=NE?{passive:!1}:!1,W4e=function(e){return e.tagName==="TEXTAREA"},oq=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!W4e(e)&&r[t]==="visible")},H4e=function(e){return oq(e,"overflowY")},V4e=function(e){return oq(e,"overflowX")},e3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=iq(e,n);if(a){var s=lq(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},K4e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},G4e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},iq=function(e,t){return e==="v"?H4e(t):V4e(t)},lq=function(e,t){return e==="v"?K4e(t):G4e(t)},J4e=function(e,t){return e==="h"&&t==="rtl"?-1:1},Y4e=function(e,t,r,n,a){var s=J4e(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var g=lq(e,l),y=g[0],m=g[1],v=g[2],x=m-v-s*y;(y||x)&&iq(e,l)&&(f+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Fy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},t3=function(e){return[e.deltaX,e.deltaY]},r3=function(e){return e&&"current"in e?e.current:e},X4e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Q4e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Z4e=0,Nu=[];function eIe(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(Z4e++)[0],s=p.useState(pg)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=ib([e.lockRef.current],(e.shards||[]).map(r3),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=Fy(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=e3(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=e3(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Y4e(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!Nu.length||Nu[Nu.length-1]!==s)){var x="deltaY"in v?t3(v):Fy(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&X4e(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(r3).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:tIe(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=Fy(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,t3(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,Fy(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return Nu.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Eu),document.addEventListener("touchmove",c,Eu),document.addEventListener("touchstart",d,Eu),function(){Nu=Nu.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Eu),document.removeEventListener("touchmove",c,Eu),document.removeEventListener("touchstart",d,Eu)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(s,{styles:Q4e(a)}):null,g?p.createElement(fb,{gapMode:e.gapMode}):null)}function tIe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rIe=ub(sq,eIe);var cq=p.forwardRef(function(e,t){return p.createElement(gw,dr({},e,{ref:t,sideCar:rIe}))});cq.classNames=gw.classNames;var nIe=[" ","Enter","ArrowUp","ArrowDown"],aIe=[" ","Enter"],Pg="Select",[yw,vw,sIe]=Cg(Pg),[Zf,PFe]=Ka(Pg,[sIe,Nf]),xw=Nf(),[oIe,Ul]=Zf(Pg),[iIe,lIe]=Zf(Pg),uq=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:y}=e,m=xw(t),[v,x]=p.useState(null),[w,b]=p.useState(null),[_,S]=p.useState(!1),E=Mf(u),[j=!1,k]=Hs({prop:n,defaultProp:a,onChange:s}),[N,P]=Hs({prop:o,defaultProp:l,onChange:c}),A=p.useRef(null),R=v?y||!!v.closest("form"):!0,[U,z]=p.useState(new Set),F=Array.from(U).map(D=>D.props.value).join(";");return i.jsx(aF,{...m,children:i.jsxs(oIe,{required:g,scope:t,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Fs(),value:N,onValueChange:P,open:j,onOpenChange:k,dir:E,triggerPointerDownPosRef:A,disabled:h,children:[i.jsx(yw.Provider,{scope:t,children:i.jsx(iIe,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(D=>{z(q=>new Set(q).add(D))},[]),onNativeOptionRemove:p.useCallback(D=>{z(q=>{const T=new Set(q);return T.delete(D),T})},[]),children:r})}),R?i.jsxs(Iq,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:D=>P(D.target.value),disabled:h,form:y,children:[N===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},F):null]})})};uq.displayName=Pg;var dq="SelectTrigger",fq=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=xw(r),o=Ul(dq,r),l=o.disabled||n,c=xt(t,o.onTriggerChange),u=vw(r),d=p.useRef("touch"),[f,h,g]=Mq(m=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===o.value),w=Lq(v,m,x);w!==void 0&&o.onValueChange(w.value)}),y=m=>{l||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(dN,{asChild:!0,...s,children:i.jsx(nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Rq(o.value)?"":void 0,...a,ref:c,onClick:Le(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&y(m)}),onPointerDown:Le(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:Le(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&nIe.includes(m.key)&&(y(),m.preventDefault())})})})});fq.displayName=dq;var hq="SelectValue",pq=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=Ul(hq,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=xt(t,c.onValueNodeChange);return Jr(()=>{u(d)},[u,d]),i.jsx(nt.span,{...l,ref:f,style:{pointerEvents:"none"},children:Rq(c.value)?i.jsx(i.Fragment,{children:o}):s})});pq.displayName=hq;var cIe="SelectIcon",mq=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(nt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});mq.displayName=cIe;var uIe="SelectPortal",gq=e=>i.jsx(aq,{asChild:!0,...e});gq.displayName=uIe;var Qc="SelectContent",yq=p.forwardRef((e,t)=>{const r=Ul(Qc,e.__scopeSelect),[n,a]=p.useState();if(Jr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?ru.createPortal(i.jsx(vq,{scope:e.__scopeSelect,children:i.jsx(yw.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(xq,{...e,ref:t})});yq.displayName=Qc;var ks=10,[vq,zl]=Zf(Qc),dIe="SelectContentImpl",xq=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:v,...x}=e,w=Ul(Qc,r),[b,_]=p.useState(null),[S,E]=p.useState(null),j=xt(t,W=>_(W)),[k,N]=p.useState(null),[P,A]=p.useState(null),R=vw(r),[U,z]=p.useState(!1),F=p.useRef(!1);p.useEffect(()=>{if(b)return hb(b)},[b]),pP();const D=p.useCallback(W=>{const[X,...B]=R().map(J=>J.ref.current),[Q]=B.slice(-1),se=document.activeElement;for(const J of W)if(J===se||(J==null||J.scrollIntoView({block:"nearest"}),J===X&&S&&(S.scrollTop=0),J===Q&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==se))return},[R,S]),q=p.useCallback(()=>D([k,b]),[D,k,b]);p.useEffect(()=>{U&&q()},[U,q]);const{onOpenChange:T,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(b){let W={x:0,y:0};const X=Q=>{var se,J;W={x:Math.abs(Math.round(Q.pageX)-(((se=L.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((J=L.current)==null?void 0:J.y)??0))}},B=Q=>{W.x<=10&&W.y<=10?Q.preventDefault():b.contains(Q.target)||T(!1),document.removeEventListener("pointermove",X),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",B,{capture:!0})}}},[b,T,L]),p.useEffect(()=>{const W=()=>T(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[T]);const[ee,M]=Mq(W=>{const X=R().filter(se=>!se.disabled),B=X.find(se=>se.ref.current===document.activeElement),Q=Lq(X,W,B);Q&&setTimeout(()=>Q.ref.current.focus())}),G=p.useCallback((W,X,B)=>{const Q=!F.current&&!B;(w.value!==void 0&&w.value===X||Q)&&(N(W),Q&&(F.current=!0))},[w.value]),V=p.useCallback(()=>b==null?void 0:b.focus(),[b]),Z=p.useCallback((W,X,B)=>{const Q=!F.current&&!B;(w.value!==void 0&&w.value===X||Q)&&A(W)},[w.value]),ie=n==="popper"?CE:bq,H=ie===CE?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:v}:{};return i.jsx(vq,{scope:r,content:b,viewport:S,onViewportChange:E,itemRefCallback:G,selectedItem:k,onItemLeave:V,itemTextRefCallback:Z,focusSelectedItem:q,selectedItemText:P,position:n,isPositioned:U,searchRef:ee,children:i.jsx(cq,{as:jl,allowPinchZoom:!0,children:i.jsx(rq,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Le(a,W=>{var X;(X=w.trigger)==null||X.focus({preventScroll:!0}),W.preventDefault()}),children:i.jsx(eq,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:i.jsx(ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...x,...H,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Le(x.onKeyDown,W=>{const X=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!X&&W.key.length===1&&M(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let Q=R().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(W.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const se=W.target,J=Q.indexOf(se);Q=Q.slice(J+1)}setTimeout(()=>D(Q)),W.preventDefault()}})})})})})})});xq.displayName=dIe;var fIe="SelectItemAlignedPosition",bq=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Ul(Qc,r),o=zl(Qc,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=xt(t,j=>d(j)),h=vw(r),g=p.useRef(!1),y=p.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=o,b=p.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&v&&x){const j=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(s.dir!=="rtl"){const se=P.left-k.left,J=N.left-se,le=j.left-J,ce=j.width+le,ge=Math.max(ce,k.width),he=window.innerWidth-ks,je=om(J,[ks,Math.max(ks,he-ge)]);l.style.minWidth=ce+"px",l.style.left=je+"px"}else{const se=k.right-P.right,J=window.innerWidth-N.right-se,le=window.innerWidth-j.right-J,ce=j.width+le,ge=Math.max(ce,k.width),he=window.innerWidth-ks,je=om(J,[ks,Math.max(ks,he-ge)]);l.style.minWidth=ce+"px",l.style.right=je+"px"}const A=h(),R=window.innerHeight-ks*2,U=m.scrollHeight,z=window.getComputedStyle(u),F=parseInt(z.borderTopWidth,10),D=parseInt(z.paddingTop,10),q=parseInt(z.borderBottomWidth,10),T=parseInt(z.paddingBottom,10),L=F+D+U+T+q,ee=Math.min(v.offsetHeight*5,L),M=window.getComputedStyle(m),G=parseInt(M.paddingTop,10),V=parseInt(M.paddingBottom,10),Z=j.top+j.height/2-ks,ie=R-Z,H=v.offsetHeight/2,W=v.offsetTop+H,X=F+D+W,B=L-X;if(X<=Z){const se=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const J=u.clientHeight-m.offsetTop-m.offsetHeight,le=Math.max(ie,H+(se?V:0)+J+q),ce=X+le;l.style.height=ce+"px"}else{const se=A.length>0&&v===A[0].ref.current;l.style.top="0px";const le=Math.max(Z,F+m.offsetTop+(se?G:0)+H)+B;l.style.height=le+"px",m.scrollTop=X-Z+m.offsetTop}l.style.margin=`${ks}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,v,x,s.dir,n]);Jr(()=>b(),[b]);const[_,S]=p.useState();Jr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=p.useCallback(j=>{j&&y.current===!0&&(b(),w==null||w(),y.current=!1)},[b,w]);return i.jsx(pIe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(nt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});bq.displayName=fIe;var hIe="SelectPopperPosition",CE=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ks,...s}=e,o=xw(r);return i.jsx(fN,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});CE.displayName=hIe;var[pIe,mP]=Zf(Qc,{}),PE="SelectViewport",wq=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=zl(PE,r),o=mP(PE,r),l=xt(t,s.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(yw.Slot,{scope:r,children:i.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Le(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const y=window.innerHeight-ks*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<y){const w=x+g,b=Math.min(y,w),_=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wq.displayName=PE;var _q="SelectGroup",[mIe,gIe]=Zf(_q),yIe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Fs();return i.jsx(mIe,{scope:r,id:a,children:i.jsx(nt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});yIe.displayName=_q;var Sq="SelectLabel",jq=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=gIe(Sq,r);return i.jsx(nt.div,{id:a.id,...n,ref:t})});jq.displayName=Sq;var mx="SelectItem",[vIe,kq]=Zf(mx),Eq=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=Ul(mx,r),c=zl(mx,r),u=l.value===n,[d,f]=p.useState(s??""),[h,g]=p.useState(!1),y=xt(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,n,a)}),m=Fs(),v=p.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(vIe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:p.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:i.jsx(yw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(nt.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Le(o.onFocus,()=>g(!0)),onBlur:Le(o.onBlur,()=>g(!1)),onClick:Le(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Le(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Le(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Le(o.onPointerMove,w=>{var b;v.current=w.pointerType,a?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Le(o.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(aIe.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Eq.displayName=mx;var ep="SelectItemText",Nq=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=Ul(ep,r),l=zl(ep,r),c=kq(ep,r),u=lIe(ep,r),[d,f]=p.useState(null),h=xt(t,x=>f(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,y=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Jr(()=>(m(y),()=>v(y)),[m,v,y]),i.jsxs(i.Fragment,{children:[i.jsx(nt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ru.createPortal(s.children,o.valueNode):null]})});Nq.displayName=ep;var Cq="SelectItemIndicator",Pq=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return kq(Cq,r).isSelected?i.jsx(nt.span,{"aria-hidden":!0,...n,ref:t}):null});Pq.displayName=Cq;var AE="SelectScrollUpButton",Aq=p.forwardRef((e,t)=>{const r=zl(AE,e.__scopeSelect),n=mP(AE,e.__scopeSelect),[a,s]=p.useState(!1),o=xt(t,n.onScrollButtonChange);return Jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(Oq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Aq.displayName=AE;var TE="SelectScrollDownButton",Tq=p.forwardRef((e,t)=>{const r=zl(TE,e.__scopeSelect),n=mP(TE,e.__scopeSelect),[a,s]=p.useState(!1),o=xt(t,n.onScrollButtonChange);return Jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(Oq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Tq.displayName=TE;var Oq=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=zl("SelectScrollButton",r),o=p.useRef(null),l=vw(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Jr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(nt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Le(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Le(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Le(a.onPointerLeave,()=>{c()})})}),xIe="SelectSeparator",$q=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(nt.div,{"aria-hidden":!0,...n,ref:t})});$q.displayName=xIe;var OE="SelectArrow",bIe=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=xw(r),s=Ul(OE,r),o=zl(OE,r);return s.open&&o.position==="popper"?i.jsx(hN,{...a,...n,ref:t}):null});bIe.displayName=OE;function Rq(e){return e===""||e===void 0}var Iq=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=p.useRef(null),s=xt(t,a),o=mw(r);return p.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(pN,{asChild:!0,children:i.jsx("select",{...n,ref:s,defaultValue:r})})});Iq.displayName="BubbleSelect";function Mq(e){const t=Jt(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function Lq(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=wIe(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function wIe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var _Ie=uq,Dq=fq,SIe=pq,jIe=mq,kIe=gq,Fq=yq,EIe=wq,Bq=jq,Uq=Eq,NIe=Nq,CIe=Pq,zq=Aq,qq=Tq,Wq=$q;const Is=_Ie,Ms=SIe,is=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Dq,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(jIe,{asChild:!0,children:i.jsx(Hd,{className:"h-4 w-4 opacity-50"})})]}));is.displayName=Dq.displayName;const Hq=p.forwardRef(({className:e,...t},r)=>i.jsx(zq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(ose,{className:"h-4 w-4"})}));Hq.displayName=zq.displayName;const Vq=p.forwardRef(({className:e,...t},r)=>i.jsx(qq,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Hd,{className:"h-4 w-4"})}));Vq.displayName=qq.displayName;const ls=p.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(kIe,{children:i.jsxs(Fq,{ref:a,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(Hq,{}),i.jsx(EIe,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(Vq,{})]})}));ls.displayName=Fq.displayName;const PIe=p.forwardRef(({className:e,...t},r)=>i.jsx(Bq,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PIe.displayName=Bq.displayName;const or=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Uq,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(CIe,{children:i.jsx(nb,{className:"h-4 w-4"})})}),i.jsx(NIe,{children:t})]}));or.displayName=Uq.displayName;const AIe=p.forwardRef(({className:e,...t},r)=>i.jsx(Wq,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));AIe.displayName=Wq.displayName;const TIe=async({phoneNumber:e,code:t,sender:r="Breneo"})=>{throw new Error("SMS API key is not configured.")},OIe="breneo:phoneVerified",Mh=typeof window<"u",$Ie=e=>e?e.toLowerCase():"user",RIe=(e,t,r)=>{const n=$Ie(r);return`${OIe}:${n}:${t??e??"unknown"}`},Kq=e=>{const{phoneNumber:t,ownerId:r,role:n,initiallyVerified:a,sender:s="Breneo",resendDelaySeconds:o=60}=e,l=p.useMemo(()=>RIe(t??void 0,r,n),[r,t,n]),[c,u]=p.useState(()=>a?!0:Mh?localStorage.getItem(l)==="true":!1),[d,f]=p.useState(null),[h,g]=p.useState(!1),[y,m]=p.useState(""),[v,x]=p.useState(!1),[w,b]=p.useState(!1),[_,S]=p.useState(0);p.useEffect(()=>{typeof a=="boolean"&&a&&(u(!0),Mh&&localStorage.setItem(l,"true"))},[a,l]),p.useEffect(()=>{if(!t){u(!1),f(null),g(!1),m("");return}if(!a&&Mh){const P=localStorage.getItem(l);u(P==="true")}},[a,t,l]),p.useEffect(()=>{if(_<=0)return;const P=window.setInterval(()=>{S(A=>{const R=A-1;return R>=0?R:0})},1e3);return()=>window.clearInterval(P)},[_]);const E=()=>Math.floor(1e5+Math.random()*9e5).toString(),j=p.useCallback(async()=>{if(!t)throw new Error("Phone number is missing. Please add it before verifying.");if(_>0)throw new Error(`Please wait ${_} second${_===1?"":"s"} before requesting a new code.`);x(!0);try{const P=E();await TIe({phoneNumber:t,code:P,sender:s}),f(P),g(!0),S(o)}finally{x(!1)}},[t,_,o,s]),k=p.useCallback(async()=>{if(!h||!d)throw new Error("No verification code has been sent yet.");const P=y.replace(/\D/g,"");if(P.length!==6)throw new Error("Please enter the 6-digit verification code.");b(!0);try{if(P!==d)throw new Error("The verification code you entered is incorrect.");return u(!0),g(!1),f(null),m(""),Mh&&localStorage.setItem(l,"true"),!0}finally{b(!1)}},[y,h,d,l]),N=p.useCallback(()=>{u(!1),f(null),g(!1),m(""),S(0),Mh&&localStorage.removeItem(l)},[l]);return{isPhoneVerified:c,isSendingCode:v,isVerifyingCode:w,codeSent:h,codeInput:y,resendCooldown:_,sendCode:j,verifyCode:k,setCodeInput:m,resetVerification:N}},n3=e=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:`/${e}`:"/lovable-uploads/no_photo.png",IIe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),MIe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),LIe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}),DIe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}),FIe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),BIe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),N_=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return i.jsx(IIe,{...r});case"linkedin":return i.jsx(MIe,{...r});case"facebook":return i.jsx(LIe,{...r});case"instagram":return i.jsx(DIe,{...r});case"dribbble":return i.jsx(FIe,{...r});case"behance":return i.jsx(BIe,{...r});default:return i.jsx($N,{className:t||"h-5 w-5"})}},Lh={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},UIe=()=>{const{user:e,loading:t,logout:r}=vr(),n=Ja(),a=lr(),s=Wa(),o=Co(),[l,c]=p.useState(null),[u,d]=p.useState(!1),[f,h]=p.useState(null),[g,y]=p.useState(!1),[m,v]=p.useState(null),[x,w]=p.useState(null),[b,_]=p.useState(!1),[S,E]=p.useState(Date.now());p.useEffect(()=>{e!=null&&e.profile_image&&w(e.profile_image)},[e==null?void 0:e.profile_image]);const[j,k]=p.useState(!1),[N,P]=p.useState(""),[A,R]=p.useState(!1),[U,z]=p.useState(!1),[F,D]=p.useState(!1),[q,T]=p.useState(""),[L,ee]=p.useState(""),[M,G]=p.useState(!1),[V,Z]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[ie,H]=p.useState(!1),[W,X]=p.useState(!1),[B,Q]=p.useState(null),[se,J]=p.useState({platform:"",url:""}),[le,ce]=p.useState(!1),[ge,he]=p.useState(!1),je=p.useRef(!1),Ke=p.useRef(null),Xe=p.useRef(null),{data:gt=[]}=gr({queryKey:["savedCourseIds",e==null?void 0:e.id],queryFn:async()=>{var oe;if(!(e!=null&&e.id))return[];try{return(((oe=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:oe.saved_courses)||[]).map(Se=>String(Se))}catch(de){return console.error("Error fetching saved course IDs:",de),[]}},enabled:!!(e!=null&&e.id)}),{data:I=[],isLoading:Y}=gr({queryKey:["savedCourses",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];try{const oe=await Te.get(vt.AUTH.PROFILE);let de=[];if(oe.data&&typeof oe.data=="object"){const be=oe.data;if(Array.isArray(be.saved_courses))de=be.saved_courses.map(Ze=>String(Ze));else if(be.profile&&typeof be.profile=="object"){const Ze=be.profile;Array.isArray(Ze.saved_courses)&&(de=Ze.saved_courses.map(mt=>String(mt)))}else if(be.user&&typeof be.user=="object"){const Ze=be.user;Array.isArray(Ze.saved_courses)&&(de=Ze.saved_courses.map(mt=>String(mt)))}}if(!de||de.length===0)return[];const me=de.slice(0,6),{data:Se,error:Fe}=await Kt.from("courses").select("id, title, provider, category, level, duration, image, description, academy_id").in("id",me);if(Fe)return console.error("Error fetching course details from Supabase:",Fe),[];const _t=[...new Set((Se==null?void 0:Se.map(be=>be.academy_id).filter(be=>!!be))||[])],ot=new Map;return _t.length>0&&await Promise.all(_t.map(async be=>{try{const Ze=await Te.get(`${vt.ACADEMY.DETAIL}${be}/`);if(Ze.data){const mt=Ze.data,Ct=mt.profile_data||mt,Dt=(Tt,Ft=Ct)=>{const kt=Ft[Tt];return typeof kt=="string"?kt:void 0},Pt=Dt("logo_url",Ct)||Dt("logoUrl",Ct)||Dt("logo",Ct)||Dt("logo_url",mt)||Dt("logoUrl",mt)||null;ot.set(be,Pt)}}catch{console.debug(`Could not fetch academy profile for ${be}`),ot.set(be,null)}})),(Se||[]).map(be=>{const Ze=be.academy_id&&ot.has(be.academy_id)&&ot.get(be.academy_id)||null;return{id:be.id,title:be.title||"",provider:be.provider||"",category:be.category||"",level:be.level||"",duration:be.duration||"",image:n3(be.image),description:be.description||"",academy_id:be.academy_id||null,academy_logo:Ze?n3(Ze):null}})}catch(oe){return console.error("Error fetching saved courses from API profile:",oe),[]}},enabled:!!(e!=null&&e.id)}),we=Vs({mutationFn:async oe=>{if(!(e!=null&&e.id))throw new Error("Please log in to save courses.");await Te.post(`/api/save-course/${oe}/`)},onMutate:async oe=>{await s.cancelQueries({queryKey:["savedCourses",e==null?void 0:e.id]});const de=s.getQueryData(["savedCourses",e==null?void 0:e.id]);return s.setQueryData(["savedCourses",e==null?void 0:e.id],me=>{if(!me)return me;const Se=String(oe);return me.includes(Se)?me.filter(Fe=>Fe!==Se):[...me,Se]}),{previousSavedCourses:de}},onError:(oe,de,me)=>{me!=null&&me.previousSavedCourses&&(e!=null&&e.id)&&s.setQueryData(["savedCourses",e==null?void 0:e.id],me.previousSavedCourses),console.error("Error updating saved courses:",oe),ue.error("Failed to update saved courses. Please try again.")},onSuccess:(oe,de)=>{s.invalidateQueries({queryKey:["savedCourses",e==null?void 0:e.id]}),s.invalidateQueries({queryKey:["profile"]});const me=s.getQueryData(["savedCourses",e==null?void 0:e.id]),Se=me==null?void 0:me.includes(String(de));ue.success(Se?"Removed from saved courses.":"Course saved to your profile.")}}),{data:Ae=[]}=gr({queryKey:["savedJobIds",e==null?void 0:e.id],queryFn:async()=>{var oe;if(!(e!=null&&e.id))return[];try{const me=((oe=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:oe.saved_jobs)||[];return Array.isArray(me)?me.map(Se=>{if(typeof Se=="string"||typeof Se=="number")return String(Se);if(Se&&typeof Se=="object"){const Fe=Se;if(Fe.id)return String(Fe.id);if(Fe.job_id)return String(Fe.job_id)}return null}).filter(Se=>Se!==null):[]}catch(de){return console.error("Error fetching saved job IDs:",de),[]}},enabled:!!(e!=null&&e.id)}),{data:Ue=[],isLoading:We}=gr({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var oe;if(!(e!=null&&e.id))return[];try{const me=((oe=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:oe.saved_jobs)||[];if(!Array.isArray(me)||me.length===0)return[];const Fe=me.map(ot=>{if(typeof ot=="string"||typeof ot=="number")return String(ot);if(ot&&typeof ot=="object"){const be=ot;if(be.id)return String(be.id);if(be.job_id)return String(be.job_id)}return null}).filter(ot=>ot!==null).map(async ot=>{try{const be=await rC(ot);return{id:ot,title:be.job_title||be.title||"Untitled Job",company:be.company_name||be.employer_name||be.company||"Unknown Company",location:be.location||be.job_location||[be.city,be.state,be.country].filter(Boolean).join(", ")||"Location not specified",url:be.job_apply_link||be.url||be.apply_url||"",company_logo:be.company_logo||be.employer_logo||be.logo_url,salary:be.min_salary&&be.max_salary?`${be.min_salary}-${be.max_salary} ${be.salary_currency||""}`:be.salary,employment_type:be.employment_type||be.job_employment_type,work_arrangement:be.is_remote?"Remote":void 0}}catch(be){return console.error(`Error fetching job detail for ID ${ot}:`,be),null}});return(await Promise.all(Fe)).filter(ot=>ot!==null&&ot.title!==`Job ${ot.id}`)}catch(de){return console.error("Error fetching saved jobs:",de),[]}},enabled:!!(e!=null&&e.id)}),Ye=Vs({mutationFn:async oe=>{if(!(e!=null&&e.id))throw new Error("Please log in to save jobs.");await Te.post(`${vt.JOBS.SAVE_JOB}${oe}/`)},onMutate:async oe=>{await s.cancelQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),await s.cancelQueries({queryKey:["savedJobs",e==null?void 0:e.id]});const de=s.getQueryData(["savedJobIds",e==null?void 0:e.id]);return s.setQueryData(["savedJobIds",e==null?void 0:e.id],me=>{if(!me)return me;const Se=String(oe);return me.includes(Se)?me.filter(Fe=>Fe!==Se):[...me,Se]}),{previousSavedJobIds:de}},onError:(oe,de,me)=>{me!=null&&me.previousSavedJobIds&&(e!=null&&e.id)&&s.setQueryData(["savedJobIds",e==null?void 0:e.id],me.previousSavedJobIds),console.error("Error updating saved jobs:",oe),ue.error("Failed to update saved jobs. Please try again.")},onSuccess:(oe,de)=>{s.invalidateQueries({queryKey:["savedJobIds",e==null?void 0:e.id]}),s.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),s.invalidateQueries({queryKey:["profile"]});const me=s.getQueryData(["savedJobIds",e==null?void 0:e.id]),Se=me==null?void 0:me.includes(String(de));ue.success(Se?"Removed from saved jobs.":"Job saved to your profile.")}}),He=$.useMemo(()=>{const oe=(Se,Fe)=>{if(Se&&typeof Se=="object")return Se[Fe]},de=f;return[oe(de,"phone_verified"),oe(de,"is_phone_verified"),oe(oe(de,"profile"),"phone_verified"),oe(oe(de,"profile"),"is_phone_verified"),oe(oe(de,"user"),"phone_verified"),oe(oe(de,"user"),"is_phone_verified"),oe(e,"phone_verified"),oe(e,"is_phone_verified")].some(Se=>Se===!0||Se==="true")},[f,e]);p.useEffect(()=>{(async()=>{if(e){d(!0);try{const de=await Te.get(`/api/skilltest/results/?user=${e.id}`);Array.isArray(de.data)&&de.data.length>0?c(de.data[0]):de.data&&typeof de.data=="object"&&c(de.data)}catch{c(null)}finally{d(!1)}}})()},[e]),p.useEffect(()=>{},[l]),p.useEffect(()=>{(async()=>{var me,Se,Fe,_t,ot,be,Ze,mt,Ct,Dt,Pt,Tt,Ft,kt,yt,$e,ut,ft,hr,Ar;if(!e)return;y(!0);const de=localStorage.getItem("authToken");try{const Wr=de?{Authorization:`Bearer ${de}`}:{},Br=await Te.get("/api/profile/",{headers:Wr});if(!Br.data){console.warn(" No data in response"),h(null),v(null),w(null);return}h(Br.data),(me=Br.data)!=null&&me.profile,(Se=Br.data)!=null&&Se.user;const qt=((Fe=Br.data)==null?void 0:Fe.about_me)||((ot=(_t=Br.data)==null?void 0:_t.profile)==null?void 0:ot.about_me)||((Ze=(be=Br.data)==null?void 0:be.user)==null?void 0:Ze.about_me)||null;v(qt),P(qt||"");const Ya=((mt=Br.data)==null?void 0:mt.profile_image)||((Dt=(Ct=Br.data)==null?void 0:Ct.profile)==null?void 0:Dt.profile_image)||((Tt=(Pt=Br.data)==null?void 0:Pt.user)==null?void 0:Tt.profile_image)||null;w(Ya);const Sr=((Ft=Br.data)==null?void 0:Ft.social_links)||((yt=(kt=Br.data)==null?void 0:kt.profile)==null?void 0:yt.social_links)||((ut=($e=Br.data)==null?void 0:$e.user)==null?void 0:ut.social_links)||((ft=Br.data)==null?void 0:ft.social_networks)||((Ar=(hr=Br.data)==null?void 0:hr.profile)==null?void 0:Ar.social_networks)||null;Sr&&typeof Sr=="object"&&Z({github:Sr.github||"",linkedin:Sr.linkedin||"",facebook:Sr.facebook||"",instagram:Sr.instagram||"",dribbble:Sr.dribbble||"",behance:Sr.behance||""}),Object.entries(Br.data||{}).forEach(([bs,wK])=>{bs!=="profile"&&bs!=="user"&&console.log(`  - ${bs}:`,wK)})}catch(Wr){console.error(" Error fetching profile data:",Wr),h(null),v(null),w(null)}finally{y(!1)}})()},[e]),p.useEffect(()=>{var de,me,Se,Fe,_t;if(!e||je.current)return;const oe=f?JSON.stringify({social_links:f==null?void 0:f.social_links,profile_social_links:(de=f==null?void 0:f.profile)==null?void 0:de.social_links,user_social_links:(me=f==null?void 0:f.user)==null?void 0:me.social_links}):null;if(Xe.current!==oe){Xe.current=oe,H(!0);try{if(f){const ot=(f==null?void 0:f.social_links)||((Se=f.profile)==null?void 0:Se.social_links)||((Fe=f.user)==null?void 0:Fe.social_links)||(f==null?void 0:f.social_networks)||((_t=f.profile)==null?void 0:_t.social_networks)||null;if(ot&&typeof ot=="object"){const be={github:ot.github||"",linkedin:ot.linkedin||"",facebook:ot.facebook||"",instagram:ot.instagram||"",dribbble:ot.dribbble||"",behance:ot.behance||""};console.log(" Setting social links to:",be),Z(Ze=>Object.keys(be).some(Ct=>Ze[Ct]!==be[Ct])?be:Ze)}else console.log(" No social links found in profile data"),Z(be=>Object.values(be).some(mt=>mt&&mt.trim()!=="")?(console.log(" Keeping existing social links:",be),be):{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}else console.log(" Profile data not loaded yet"),Z(ot=>Object.values(ot).some(Ze=>Ze&&Ze.trim()!=="")?ot:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch(ot){console.error(" Error extracting social links from profile:",ot),Z(be=>Object.values(be).some(mt=>mt&&mt.trim()!=="")?be:{github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{H(!1)}}},[e==null?void 0:e.id,f]),p.useEffect(()=>()=>{Ke.current&&clearTimeout(Ke.current)},[]);const{first_name:ye,last_name:Ce,email:Ee,phone_number:Oe}=e||{};if(Kq({phoneNumber:Oe||"",ownerId:e==null?void 0:e.id,role:e==null?void 0:e.user_type,initiallyVerified:He}),t)return i.jsx(Mt,{children:i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("p",{children:"Loading profile..."})})});if(!e)return i.jsx(Mt,{children:i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("p",{children:"Could not load user data. Please try logging in again."})})});const tt=()=>{he(!0)},st=()=>{he(!1),r()},bt=()=>{he(!1)},at=async oe=>{var me,Se,Fe,_t,ot,be;const de=(me=oe.target.files)==null?void 0:me[0];if(de){if(!de.type.startsWith("image/")){alert("Please select an image file");return}if(de.size>5*1024*1024){alert("Image size should be less than 5MB");return}_(!0),w(null);try{const Ze=new FormData;Ze.append("profile_image",de);const mt=localStorage.getItem("authToken"),Ct=await Te.patch("/api/profile/",Ze,{headers:{Authorization:mt?`Bearer ${mt}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Ct.data);const Dt=((Se=Ct.data)==null?void 0:Se.profile_image)||((_t=(Fe=Ct.data)==null?void 0:Fe.profile)==null?void 0:_t.profile_image)||((be=(ot=Ct.data)==null?void 0:ot.user)==null?void 0:be.profile_image)||null;w(Dt),E(Date.now()),ue.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(Ze){console.error(" Error uploading profile image:",Ze),alert("Failed to upload profile image. Please try again.")}finally{_(!1)}}},Nt=()=>{z(!0)},_e=()=>{var oe;(oe=document.getElementById("profile-image-input"))==null||oe.click(),z(!1)},De=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){z(!1);return}_(!0),z(!1);try{const oe=localStorage.getItem("authToken"),de=await Te.patch("/api/profile/",{profile_image:null},{headers:{Authorization:oe?`Bearer ${oe}`:void 0}});console.log(" Image removal response:",de.data),w(null),E(Date.now());const me=await Te.get("/api/profile/",{headers:{Authorization:oe?`Bearer ${oe}`:void 0}});h(me.data),ue.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(oe){console.error(" Error removing profile image:",oe),ue.error("Failed to remove profile image. Please try again.")}finally{_(!1)}}},Re=()=>{P(m||""),k(!0)},ze=()=>{Q(null),J({platform:"",url:""}),X(!0)},re=oe=>{Q(oe),J({platform:oe,url:V[oe]||""}),X(!0)},K=oe=>{const de=oe.trim();return!de||de.startsWith("http://")||de.startsWith("https://")?de:`https://${de}`},C=oe=>{try{const de=new URL(K(oe));return de.protocol==="http:"||de.protocol==="https:"}catch{return!1}},O=async()=>{var oe,de,me,Se,Fe,_t,ot,be,Ze,mt,Ct;if(console.log(" handleSaveSocialLink called"),console.log(" Form data:",se),console.log(" User:",e),console.log(" Current social links:",V),!e){console.error(" No user found"),ue.error("Please log in to save social links.");return}if(!se.platform||!se.url.trim()){console.error(" Missing platform or URL"),ue.error("Please select a platform and provide a URL.");return}if(!C(se.url)){console.error(" Invalid URL:",se.url),ue.error("Please enter a valid URL (e.g., https://example.com or example.com).");return}console.log(" Validation passed, starting save..."),ce(!0);try{const Dt=se.platform,Pt=localStorage.getItem("authToken"),Tt=K(se.url.trim()),Ft={...V,[Dt]:Tt},kt={};Object.entries(Ft).forEach(([$e,ut])=>{ut&&ut.trim()!==""&&(kt[$e]=ut)}),console.log(" Sending social links to API:",kt),console.log(" Platform:",Dt),console.log(" Normalized URL:",Tt),console.log(" Full payload:",JSON.stringify({social_links:kt},null,2)),je.current=!0,Ke.current&&clearTimeout(Ke.current),console.log(" Manual update flag set to true"),Z(Ft),console.log(" Updated local state immediately:",Ft);let yt;try{console.log(" Attempting PATCH with social_links object..."),yt=await Te.patch(vt.AUTH.PROFILE,{social_links:kt},{headers:{Authorization:Pt?`Bearer ${Pt}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with social_links object")}catch($e){if(console.error(" PATCH with social_links object failed, error:",$e),((oe=$e.response)==null?void 0:oe.status)===400){console.log(" Trying alternative format - sending individual fields...");try{const ft={};Object.entries(kt).forEach(([hr,Ar])=>{ft[hr]=Ar}),console.log(" Trying individual fields payload:",ft),yt=await Te.patch(vt.AUTH.PROFILE,ft,{headers:{Authorization:Pt?`Bearer ${Pt}`:void 0,"Content-Type":"application/json"}}),console.log(" PATCH successful with individual fields")}catch(ft){throw console.error(" PATCH with individual fields also failed:",ft),je.current=!1,$e}}else throw je.current=!1,$e}console.log(" Response status:",yt.status),console.log(" Response data:",JSON.stringify(yt.data,null,2)),console.log(" Response headers:",yt.headers);try{console.log(" Refetching profile data to verify save...");const $e=await Te.get(vt.AUTH.PROFILE,{headers:{Authorization:Pt?`Bearer ${Pt}`:void 0}});if(console.log(" Refreshed profile data:",JSON.stringify($e.data,null,2)),$e.data){const ut=$e.data;h($e.data);const ft=(ut==null?void 0:ut.social_links)||((de=ut==null?void 0:ut.profile)==null?void 0:de.social_links)||((me=ut==null?void 0:ut.user)==null?void 0:me.social_links)||null;if(console.log(" Social links from refreshed profile:",ft),ft&&typeof ft=="object"&&!Array.isArray(ft)){const hr={github:ft.github||"",linkedin:ft.linkedin||"",facebook:ft.facebook||"",instagram:ft.instagram||"",dribbble:ft.dribbble||"",behance:ft.behance||""};console.log(" Setting social links from refreshed data:",hr),Z(hr)}else console.log(" No social links in refreshed data, checking if our update was saved..."),console.log(" Keeping local update:",Ft)}}catch($e){console.error(" Error refreshing profile after save:",$e),console.log(" Keeping local update due to refresh error")}Ke.current&&clearTimeout(Ke.current),Ke.current=setTimeout(()=>{je.current=!1,console.log(" Manual update flag reset after timeout")},3e3),X(!1),J({platform:"",url:""}),Q(null),ue.success(B?"Social link updated successfully.":"Social link added successfully.")}catch(Dt){console.error(" Error saving social link:",Dt);let Pt="Failed to save social link. Please try again.";if(Dt&&typeof Dt=="object"&&"response"in Dt){const Tt=Dt;if(console.error(" Full error object:",{status:(Se=Tt.response)==null?void 0:Se.status,statusText:(Fe=Tt.response)==null?void 0:Fe.statusText,data:(_t=Tt.response)==null?void 0:_t.data,message:Tt.message,request:Tt.request}),(ot=Tt.response)!=null&&ot.data){const Ft=Tt.response.data;Ft.social_links?Pt=typeof Ft.social_links=="string"?Ft.social_links:"Invalid social links format. Please check your input.":Pt=Ft.detail||Ft.message||Pt,console.error(" Error response data:",JSON.stringify(Ft,null,2))}((be=Tt.response)==null?void 0:be.status)===400?Pt="Invalid request. Please check the URL format and try again.":((Ze=Tt.response)==null?void 0:Ze.status)===401?Pt="Authentication failed. Please log in again.":((mt=Tt.response)==null?void 0:mt.status)===403?Pt="You don't have permission to update social links.":((Ct=Tt.response)==null?void 0:Ct.status)===500&&(Pt="Server error. Please try again later or contact support.")}else Dt instanceof Error&&(console.error(" Error message:",Dt.message),Pt=Dt.message||Pt);ue.error(Pt)}finally{ce(!1)}},ne=async oe=>{var de,me,Se,Fe,_t,ot;if(!(!e||!confirm("Are you sure you want to remove this social link?")))try{const be=localStorage.getItem("authToken"),Ze={...V};delete Ze[oe];const mt={};Object.entries(Ze).forEach(([Pt,Tt])=>{Tt&&Tt.trim()!==""&&(mt[Pt]=Tt)}),console.log(" Removing social link, sending:",mt),console.log(" Full payload:",JSON.stringify({social_links:mt},null,2)),je.current=!0,Ke.current&&clearTimeout(Ke.current),console.log(" Manual update flag set to true (delete)");const Ct={...V,[oe]:""};Z(Ct),console.log(" Updated local state immediately:",Ct);let Dt;try{Dt=await Te.patch(vt.AUTH.PROFILE,{social_links:mt},{headers:{Authorization:be?`Bearer ${be}`:void 0,"Content-Type":"application/json"}})}catch(Pt){throw je.current=!1,Pt}console.log(" Response status:",Dt.status),console.log(" Response data:",JSON.stringify(Dt.data,null,2)),console.log(" Response headers:",Dt.headers);try{console.log(" Refetching profile data to verify delete...");const Pt=await Te.get(vt.AUTH.PROFILE,{headers:{Authorization:be?`Bearer ${be}`:void 0}});if(console.log(" Refreshed profile data (delete):",JSON.stringify(Pt.data,null,2)),Pt.data){const Tt=Pt.data;h(Pt.data);const Ft=(Tt==null?void 0:Tt.social_links)||((de=Tt==null?void 0:Tt.profile)==null?void 0:de.social_links)||((me=Tt==null?void 0:Tt.user)==null?void 0:me.social_links)||null;if(console.log(" Social links from refreshed profile (delete):",Ft),Ft&&typeof Ft=="object"&&!Array.isArray(Ft)){const kt={github:Ft.github||"",linkedin:Ft.linkedin||"",facebook:Ft.facebook||"",instagram:Ft.instagram||"",dribbble:Ft.dribbble||"",behance:Ft.behance||""};console.log(" Setting social links from refreshed data (delete):",kt),Z(kt)}else console.log(" No social links in refreshed data after delete"),console.log(" Keeping local update (platform removed):",Ct)}}catch(Pt){console.error(" Error refreshing profile after delete:",Pt)}Ke.current&&clearTimeout(Ke.current),Ke.current=setTimeout(()=>{je.current=!1,console.log(" Manual update flag reset after timeout (delete)")},3e3),ue.success("Social link removed successfully.")}catch(be){console.error(" Error deleting social link:",be);let Ze="Failed to remove social link. Please try again.";if(be&&typeof be=="object"&&"response"in be){const mt=be;if(console.error(" Full error object:",{status:(Se=mt.response)==null?void 0:Se.status,statusText:(Fe=mt.response)==null?void 0:Fe.statusText,data:(_t=mt.response)==null?void 0:_t.data,message:mt.message}),(ot=mt.response)!=null&&ot.data){const Ct=mt.response.data;Ze=Ct.detail||Ct.message||Ze,console.error(" Error response data:",JSON.stringify(Ct,null,2))}}ue.error(Ze)}},pe=async()=>{if(e){R(!0);try{const oe=localStorage.getItem("authToken"),de=await Te.patch("/api/profile/",{about_me:N},{headers:{Authorization:oe?`Bearer ${oe}`:void 0}});console.log(" About Me updated:",de.data),v(N);const me=await Te.get("/api/profile/",{headers:{Authorization:oe?`Bearer ${oe}`:void 0}});h(me.data),k(!1),ue.success("About Me has been updated successfully.")}catch(oe){console.error(" Error updating about me:",oe),ue.error("Failed to update About Me. Please try again.")}finally{R(!1)}}},Me=()=>{T(Oe||""),ee(Ee||""),D(!0)},Be=async()=>{var de,me;if(!e)return;if(!L.trim()){ue.error("Email cannot be empty.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.trim())){ue.error("Please enter a valid email address.");return}G(!0);try{const Se=localStorage.getItem("authToken"),Fe={email:L.trim()};q.trim()&&(Fe.phone_number=q.trim());const _t=await Te.patch(vt.AUTH.PROFILE,Fe,{headers:{Authorization:Se?`Bearer ${Se}`:void 0}});console.log(" Contact information updated:",_t.data);const ot=await Te.get(vt.AUTH.PROFILE,{headers:{Authorization:Se?`Bearer ${Se}`:void 0}});h(ot.data),setTimeout(()=>{window.location.reload()},500),D(!1),ue.success("Contact information has been updated successfully.")}catch(Se){console.error(" Error updating contact information:",Se);const Fe=Se&&typeof Se=="object"&&"response"in Se&&((me=(de=Se.response)==null?void 0:de.data)==null?void 0:me.detail)||"Failed to update contact information. Please try again.";ue.error(Fe)}finally{G(!1)}},dt=x||(e==null?void 0:e.profile_image),wt=()=>{if(!(l!=null&&l.skills_json))return console.log(" No skills_json in results"),[];const oe=l.skills_json.tech||{},de=l.skills_json.soft||{};return[...Object.entries(oe).map(([Fe,_t])=>({name:Fe,percentage:parseFloat(String(_t).replace("%","")),type:"tech"})),...Object.entries(de).map(([Fe,_t])=>({name:Fe,percentage:parseFloat(String(_t).replace("%","")),type:"soft"}))].filter(Fe=>Fe.percentage>0).sort((Fe,_t)=>_t.percentage-Fe.percentage).slice(0,5)},Ot=(oe,de)=>{const me="#19B5FE",Se=Object.entries(oe).filter(([be,Ze])=>parseFloat(String(Ze).replace("%",""))>0).map(([be,Ze])=>{const mt=parseFloat(String(Ze).replace("%",""));let Ct;mt>=40?Ct=1:Ct=.3+mt/40*.7;const Dt=`gradient-primary-${Math.round(Ct*100)}`;return{skill:be,percentage:mt,displayPct:Ze,fill:me,opacity:Ct,gradientId:Dt}}).sort((be,Ze)=>Ze.percentage-be.percentage);if(Se.length===0)return i.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const Fe={percentage:{label:"Percentage"}},_t=be=>{const{x:Ze,y:mt,width:Ct,height:Dt,payload:Pt,value:Tt}=be,Ft=(Pt==null?void 0:Pt.skill)||Tt||"";if(!Ze||!mt||!Ct||!Dt||!Ft)return null;const kt=Ze+Ct/2,ut=250-80+25,ft=Math.max(8,Math.floor(Ct/6)),hr=Ft.split(" "),Ar=[];let Wr="";for(const Sr of hr)if(Sr.length>ft){Wr&&(Ar.push(Wr),Wr="");for(let bs=0;bs<Sr.length;bs+=ft)Ar.push(Sr.slice(bs,bs+ft))}else(Wr+" "+Sr).length<=ft?Wr=Wr?Wr+" "+Sr:Sr:(Wr&&Ar.push(Wr),Wr=Sr);if(Wr&&Ar.push(Wr),Ar.length===0||Ar.length===1&&Ar[0].length>ft*1.5){Ar.length=0;for(let Sr=0;Sr<Ft.length;Sr+=ft)Ar.push(Ft.slice(Sr,Sr+ft))}const Br=Ar.slice(0,2),qt=14,Ya=ut-(Br.length-1)*(qt/2);return i.jsx("text",{x:kt,y:Ya,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Br.map((Sr,bs)=>i.jsx("tspan",{x:kt,dy:bs===0?0:qt,children:Sr},bs))})},ot=be=>{const{x:Ze,y:mt,width:Ct,height:Dt,value:Pt,payload:Tt}=be,Ft=Pt||0,kt=(Tt==null?void 0:Tt.skill)||"";if(!Ze||!mt||!Ct||!Dt)return null;const yt=Ze+Ct/2,$e=250,ut=80,ft=Math.max(8,Math.floor(Ct/6)),hr=kt.length>ft*1.2,Ar=$e-ut+(hr?70:60);return i.jsx("text",{x:yt,y:Ar,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${Ft.toFixed(0)}%`})};return i.jsx("div",{className:"w-full -mb-4",children:i.jsx(pw,{config:Fe,className:"h-[250px] w-full",children:i.jsxs(fP,{data:Se,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[i.jsx("defs",{children:Se.map(be=>i.jsxs("linearGradient",{id:be.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:be.fill,stopOpacity:be.opacity}),i.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:be.opacity})]},be.gradientId))}),i.jsx(Xf,{dataKey:"skill",hide:!0}),i.jsx(Qf,{type:"number",domain:[0,100],hide:!0}),i.jsx(hP,{content:({active:be,payload:Ze})=>{if(be&&Ze&&Ze.length){const mt=Ze[0].payload;return i.jsx("div",{className:"rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:mt.skill}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:me,opacity:mt.opacity}}),i.jsxs("span",{className:"font-bold text-lg",style:{color:me,opacity:mt.opacity},children:[mt.percentage.toFixed(1),"%"]})]})]})})}return null}}),i.jsxs(xi,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[Se.map((be,Ze)=>i.jsx(Sg,{fill:`url(#${be.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${Ze}`)),i.jsx(Us,{content:_t,dataKey:"skill"}),i.jsx(Us,{content:ot,dataKey:"percentage"})]})]})})})};return i.jsxs(Mt,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 pb-32 md:pb-0",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"space-y-4 md:space-y-6",children:[i.jsx(Ne,{className:"bg-transparent border-0 md:bg-card md:border",children:i.jsx(Pe,{className:"pb-4 pt-6 px-6 md:pb-6",children:i.jsxs("div",{className:"flex flex-col md:items-center",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4 md:flex-col md:items-center md:mb-4",children:[i.jsx("div",{className:"relative flex-shrink-0 order-2 md:relative md:order-1",children:i.jsxs("div",{className:"relative group cursor-pointer rounded-full overflow-hidden",onClick:Nt,children:[i.jsx(tm,{src:dt||void 0,alt:"Profile photo",fallback:ye?ye.charAt(0).toUpperCase():"U",size:"lg",loading:"eager",className:"h-16 w-16 md:h-28 md:w-28 rounded-full"},`avatar-${S}`),b?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full z-10",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",children:i.jsx(A8,{className:"h-5 w-5 md:h-7 md:w-7 text-white"})})]})}),i.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:at,className:"hidden",disabled:b}),i.jsxs("div",{className:"flex-1 min-w-0 order-1 md:text-center md:flex-none md:mb-4 md:order-2",children:[i.jsxs("h1",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:[ye," ",Ce]}),(e==null?void 0:e.job_title)&&i.jsx("p",{className:"text-sm font-semibold md:font-normal text-gray-900 dark:text-gray-100 md:text-gray-600 md:dark:text-gray-400 mb-1",children:e.job_title}),e!=null&&e.city?i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.city,(e==null?void 0:e.country)&&`, ${e.country}`]}):i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Oe||"Location not specified"})]})]}),(e==null?void 0:e.is_profile_hidden)&&i.jsx("div",{className:"mb-4 md:text-center",children:i.jsxs(rr,{className:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300 border-0",children:[i.jsx(Nl,{size:12,className:"mr-1"}),"Hidden Profile"]})}),i.jsxs("div",{className:"flex items-center gap-2 w-full pt-3 md:mt-2 md:pt-0",children:[i.jsxs(ae,{variant:"outline",className:"flex-[5] md:flex-1 flex items-center justify-center gap-2 h-12 px-6 bg-breneo-blue/10 text-breneo-blue border-0 hover:bg-breneo-blue/20 dark:hover:bg-breneo-blue/30",onClick:()=>a("/settings"),children:[i.jsx(ab,{size:16}),i.jsx("span",{children:"Settings"})]}),i.jsx(ae,{variant:"default",size:"icon",onClick:tt,className:"h-12 w-12 bg-red-100 text-red-600 hover:bg-red-200 active:bg-red-300 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 dark:active:bg-red-900/70",children:i.jsx($8,{size:16})})]})]})})}),i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Contact Information"}),i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:Me,children:"Edit"})]}),i.jsxs(Pe,{className:"space-y-0 p-0",children:[i.jsx("div",{className:"px-6 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:i.jsx(sm,{size:18,className:"text-breneo-blue"})}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:Oe||"Not provided"})]})}),i.jsx("div",{className:"px-6 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:i.jsx(Vc,{size:18,className:"text-breneo-blue"})}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Ee})]})})]})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Social Networks"}),i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:ze,children:"Add"})]}),i.jsx(Pe,{className:"p-0",children:ie?i.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:"Loading..."}):Object.entries(V).some(([oe,de])=>de&&de.trim()!=="")?i.jsx("div",{children:Object.entries(V).filter(([oe,de])=>de&&de.trim()!=="").map(([oe,de],me,Se)=>i.jsx("div",{className:`px-6 py-4 ${me<Se.length-1?"border-b border-gray-200 dark:border-gray-700":""} group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("a",{href:de,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2 flex-shrink-0",children:N_(oe,"h-[18px] w-[18px] text-breneo-blue")}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Lh[oe]}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:de.replace(/^https?:\/\//,"").replace(/^www\./,"")})]})]}),i.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[i.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-200 dark:hover:bg-gray-700",onClick:Fe=>{Fe.stopPropagation(),re(oe)},children:i.jsx(gp,{size:14,className:"text-gray-600 dark:text-gray-400"})}),i.jsx("button",{type:"button",className:"h-8 w-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-primary/10 dark:hover:bg-primary/20",onClick:Fe=>{Fe.stopPropagation(),ne(oe)},children:i.jsx(Cc,{size:14,className:"text-gray-600 dark:text-gray-400"})})]})]})},oe))}):i.jsx("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:'No social links added yet. Click "Add" to add your social media profiles.'})})]}),i.jsx(Ne,{className:"bg-white transition-all w-auto flex-shrink-0 rounded-3xl border-0",style:{boxShadow:"0 6px 20px 0 rgba(0, 0, 0, 0.04)"},children:i.jsx(Pe,{className:"p-4 md:p-4",children:i.jsx(Lr,{to:"/skill-test",className:"block cursor-pointer group",children:i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[i.jsx("h3",{className:"font-bold text-lg md:text-xl text-gray-900 group-hover:text-breneo-blue transition-colors leading-tight line-clamp-2 min-h-[3rem]",children:o.home.skillTestTitle}),i.jsx("p",{className:"text-sm md:text-sm text-gray-900",children:o.home.skillTestSubtitle})]}),i.jsx("div",{className:"flex-shrink-0 w-28 h-28 md:w-32 md:h-32 flex items-center justify-center",children:i.jsx("img",{src:"/lovable-uploads/3dicons-target-front-color.png",alt:"Skill test target",className:"w-full h-full object-contain"})})]})})})})]})}),i.jsxs("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"About Me"}),i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:Re,children:"Edit"})]}),i.jsx(Pe,{className:"px-6 py-4",children:g?i.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):m?i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:m.length>200?`${m.substring(0,200)}...`:m}),m.length>200&&i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto mt-2 font-normal text-sm hover:underline",onClick:Re,children:"View More"})]}):i.jsx("p",{className:"text-sm text-gray-500 italic",children:"No information available. Add some details about yourself!"})})]}),i.jsxs(Ne,{children:[i.jsx(ht,{className:"p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Personal Skills"})}),i.jsx(Pe,{className:"px-6 py-4",children:u?i.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading skill results..."}):l&&(l.final_role||wt().length>0)?i.jsxs("div",{className:"space-y-4",children:[l.final_role&&i.jsxs("div",{className:"bg-gradient-to-r from-breneo-blue/10 to-breneo-blue/5 dark:from-breneo-blue/20 dark:to-breneo-blue/10 p-4 rounded-3xl border border-breneo-blue/20 dark:border-breneo-blue/30",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:i.jsx(kc,{className:"h-5 w-5 text-breneo-blue"})}),i.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Recommended Role"})]}),i.jsx(rr,{className:"text-sm px-3 py-1.5 bg-breneo-blue hover:bg-breneo-blue/90 text-white border-0",children:l.final_role})]}),(l==null?void 0:l.skills_json)&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-base text-gray-900 dark:text-gray-100 mb-4",children:"Top Skills"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.skills_json.tech&&Object.keys(l.skills_json.tech).length>0&&i.jsxs(Ne,{children:[i.jsx(ht,{className:"pb-2",children:i.jsx(At,{className:"flex items-center gap-2 text-sm",children:"Technical Skills"})}),i.jsx(Pe,{className:"p-2 pt-0 pb-4",children:Ot(l.skills_json.tech)})]}),l.skills_json.soft&&Object.keys(l.skills_json.soft).length>0&&i.jsxs(Ne,{children:[i.jsx(ht,{className:"pb-2",children:i.jsx(At,{className:"flex items-center gap-2 text-sm",children:"Soft Skills"})}),i.jsx(Pe,{className:"p-2 pt-0 pb-4",children:Ot(l.skills_json.soft)})]})]})]}),wt().length===0&&!u&&i.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})]}):i.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No skill test results available. Take a skill test to see your results here."})})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Saved Courses"}),I.length>0&&i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:()=>a("/courses"),children:"View All"})]}),i.jsx(Pe,{className:"p-0",children:Y?i.jsx("div",{className:"px-6 py-4 space-y-4",children:[...Array(3)].map((oe,de)=>i.jsxs("div",{className:"flex items-start gap-3 animate-pulse",children:[i.jsx(Mr,{className:"w-12 h-12 rounded-3xl flex-shrink-0"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Mr,{className:"h-4 w-3/4"}),i.jsx(Mr,{className:"h-3 w-1/2"}),i.jsx(Mr,{className:"h-3 w-2/3"}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Mr,{className:"h-7 w-20"}),i.jsx(Mr,{className:"h-7 w-7 rounded-full"})]})]})]},de))}):I.length>0?i.jsxs("div",{children:[I.map((oe,de)=>{const me=(gt==null?void 0:gt.includes(String(oe.id)))??!1;return i.jsx("div",{className:`px-6 py-4 ${de<I.length-1?"border-b border-gray-200 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:oe.academy_logo?i.jsx("img",{src:oe.academy_logo,alt:`${oe.provider} logo`,className:"w-12 h-12 rounded-3xl object-cover cursor-pointer border border-gray-200 dark:border-gray-700",onClick:()=>a(`/course/${oe.id}`),onError:Se=>{const Fe=Se.target;Fe.src="/lovable-uploads/no_photo.png"}}):i.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-accent flex items-center justify-center cursor-pointer",children:i.jsx(Nc,{className:"h-6 w-6 text-white"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 line-clamp-1 cursor-pointer hover:text-breneo-blue transition-colors flex-1",onClick:()=>a(`/course/${oe.id}`),children:oe.title}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(ae,{variant:"secondary",size:"icon",className:"bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",onClick:Se=>{Se.stopPropagation(),a(`/course/${oe.id}`)},"aria-label":"View course",children:i.jsx(Hc,{className:"h-4 w-4 text-black dark:text-white"})}),i.jsx(ae,{variant:"secondary",size:"icon",onClick:Se=>{Se.stopPropagation(),we.mutate(oe.id)},disabled:we.isPending,"aria-label":me?"Unsave course":"Save course",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",me?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:we.isPending?i.jsx(sl,{className:"h-4 w-4 animate-spin"}):i.jsx(ia,{className:fe("h-4 w-4 transition-colors",me?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:oe.provider}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{children:oe.level}),i.jsx("span",{children:""}),i.jsx("span",{children:oe.duration})]})]})]})},oe.id)}),I.length>=6&&i.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700",children:i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal text-sm w-full justify-center hover:underline",onClick:()=>a("/courses"),children:"View All Saved Courses"})})]}):i.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:["No saved courses yet. Browse courses and save your favorites!",i.jsx(ae,{variant:"link",className:"mt-2 text-breneo-blue font-normal text-sm hover:underline",onClick:()=>a("/courses"),children:"Browse Courses"})]})})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between p-4 pb-3 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Saved Jobs"}),Ue.length>0&&i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal hover:underline",onClick:()=>a("/jobs"),children:"View All"})]}),i.jsx(Pe,{className:"p-0",children:We?i.jsx("div",{className:"px-6 py-8 space-y-4",children:i.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Loading saved jobs..."})}):Ue.length>0?i.jsxs("div",{children:[Ue.slice(0,5).map((oe,de)=>{const me=(Ae==null?void 0:Ae.includes(String(oe.id)))??!1;return i.jsx("div",{className:`px-6 py-4 ${de<Math.min(Ue.length,5)-1?"border-b border-gray-200 dark:border-gray-700":""} hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"flex-shrink-0",children:[oe.company_logo?i.jsx("img",{src:oe.company_logo,alt:`${oe.company} logo`,className:"w-12 h-12 rounded-3xl object-cover border border-gray-200 dark:border-gray-700",onError:Se=>{const Fe=Se.target;Fe.style.display="none",Fe.nextElementSibling&&(Fe.nextElementSibling.style.display="flex")}}):null,!oe.company_logo&&i.jsx("div",{className:"w-12 h-12 rounded-3xl bg-breneo-blue/10 flex items-center justify-center",children:i.jsx(hn,{className:"h-6 w-6 text-breneo-blue"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 line-clamp-1 cursor-pointer hover:text-breneo-blue transition-colors flex-1",onClick:()=>a(`/jobs/${encodeURIComponent(oe.id)}`),children:oe.title}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(ae,{variant:"secondary",size:"icon",className:"bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",onClick:Se=>{Se.stopPropagation(),oe.url?window.open(oe.url,"_blank"):a(`/jobs/${encodeURIComponent(oe.id)}`)},"aria-label":"View job",children:i.jsx(Hc,{className:"h-4 w-4 text-black dark:text-white"})}),i.jsx(ae,{variant:"secondary",size:"icon",onClick:Se=>{Se.stopPropagation(),Ye.mutate(oe.id)},disabled:Ye.isPending,"aria-label":me?"Unsave job":"Save job",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",me?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:Ye.isPending?i.jsx(sl,{className:"h-4 w-4 animate-spin"}):i.jsx(ia,{className:fe("h-4 w-4 transition-colors",me?"text-red-500 fill-red-500":"text-black dark:text-white")})})]})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:oe.company}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[i.jsx(am,{className:"h-3 w-3"}),i.jsx("span",{className:"line-clamp-1",children:oe.location})]}),oe.salary&&i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:oe.salary})]})]})},oe.id)}),Ue.length>5&&i.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700",children:i.jsx(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto font-normal text-sm w-full justify-center hover:underline",onClick:()=>a("/jobs"),children:"View All Saved Jobs"})})]}):i.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm px-6",children:["No saved jobs yet. Browse jobs and save your favorites!",i.jsx(ae,{variant:"link",className:"mt-2 text-breneo-blue font-normal text-sm hover:underline",onClick:()=>a("/jobs"),children:"Browse Jobs"})]})})]})]})]}),n?i.jsx(ta,{open:ge,onOpenChange:he,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Log out"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to log out?"})}),i.jsxs(Ba,{children:[i.jsx(ae,{onClick:st,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"}),i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"outline",children:"Cancel"})})]})]})}):i.jsx(zn,{open:ge,onOpenChange:he,children:i.jsxs(En,{children:[i.jsxs(Nn,{children:[i.jsx(Cn,{children:"Log out"}),i.jsx(dd,{children:"Are you sure you want to log out?"})]}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:bt,children:"Cancel"}),i.jsx(ae,{onClick:st,className:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:active:bg-red-800",children:"Log out"})]})]})}),n?i.jsx(ta,{open:j,onOpenChange:k,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Edit About Me"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"about-me",children:"Tell us about yourself"}),i.jsx(vf,{id:"about-me",placeholder:"Share something about yourself...",value:N,onChange:oe=>P(oe.target.value),className:"mt-2 min-h-[200px]",disabled:A})]})})}),i.jsxs(Ba,{children:[i.jsx(ae,{onClick:pe,disabled:A,children:A?"Saving...":"Save Changes"}),i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"outline",disabled:A,children:"Cancel"})})]})]})}):i.jsx(zn,{open:j,onOpenChange:k,children:i.jsxs(En,{className:"max-w-2xl",children:[i.jsx(Nn,{children:i.jsx(Cn,{children:"Edit About Me"})}),i.jsx("div",{className:"py-4",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"about-me",children:"Tell us about yourself"}),i.jsx(vf,{id:"about-me",placeholder:"Share something about yourself...",value:N,onChange:oe=>P(oe.target.value),className:"mt-2 min-h-[200px]",disabled:A})]})})}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:()=>k(!1),disabled:A,children:"Cancel"}),i.jsx(ae,{onClick:pe,disabled:A,children:A?"Saving...":"Save Changes"})]})]})}),n?i.jsx(ta,{open:U,onOpenChange:z,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Profile Photo"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ae,{onClick:_e,className:"w-full justify-start gap-3",variant:"ghost",disabled:b,children:[i.jsx(d0,{className:"h-5 w-5"}),dt?"Update Photo":"Upload Photo"]}),dt&&i.jsxs(ae,{onClick:De,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:b,children:[i.jsx(Cc,{className:"h-5 w-5"}),"Remove Photo"]})]})})]})}):i.jsx(zn,{open:U,onOpenChange:z,children:i.jsxs(En,{children:[i.jsx(Nn,{children:i.jsx(Cn,{children:"Profile Photo"})}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ae,{onClick:_e,className:"w-full justify-start gap-3",variant:"ghost",disabled:b,children:[i.jsx(d0,{className:"h-5 w-5"}),dt?"Update Photo":"Upload Photo"]}),dt&&i.jsxs(ae,{onClick:De,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:b,children:[i.jsx(Cc,{className:"h-5 w-5"}),"Remove Photo"]})]})}),i.jsx(ea,{children:i.jsx(ae,{variant:"outline",onClick:()=>z(!1),children:"Cancel"})})]})}),n?i.jsx(ta,{open:W,onOpenChange:X,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:B?"Edit Social Link":"Add Social Link"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-platform",children:"Platform *"}),i.jsxs(Is,{value:se.platform,onValueChange:oe=>J({...se,platform:oe}),disabled:le||!!B,children:[i.jsx(is,{className:"mt-2",children:i.jsx(Ms,{placeholder:"Select a platform"})}),i.jsx(ls,{children:Object.keys(Lh).map(oe=>i.jsx(or,{value:oe,children:i.jsxs("div",{className:"flex items-center gap-2",children:[N_(oe,"h-4 w-4"),i.jsx("span",{children:Lh[oe]})]})},oe))})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-url",children:"URL *"}),i.jsx(pt,{id:"social-url",type:"url",placeholder:"https://...",value:se.url,onChange:oe=>J({...se,url:oe.target.value}),className:"mt-2",disabled:le,required:!0})]})]})}),i.jsxs(Ba,{children:[i.jsx(ae,{onClick:O,disabled:le,children:le?"Saving...":B?"Update":"Add"}),i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"outline",disabled:le,children:"Cancel"})})]})]})}):i.jsx(zn,{open:W,onOpenChange:X,children:i.jsxs(En,{children:[i.jsx(Nn,{children:i.jsx(Cn,{children:B?"Edit Social Link":"Add Social Link"})}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-platform-desktop",children:"Platform *"}),i.jsxs(Is,{value:se.platform,onValueChange:oe=>J({...se,platform:oe}),disabled:le||!!B,children:[i.jsx(is,{className:"mt-2",children:i.jsx(Ms,{placeholder:"Select a platform"})}),i.jsx(ls,{children:Object.keys(Lh).map(oe=>i.jsx(or,{value:oe,children:i.jsxs("div",{className:"flex items-center gap-2",children:[N_(oe,"h-4 w-4"),i.jsx("span",{children:Lh[oe]})]})},oe))})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-url-desktop",children:"URL *"}),i.jsx(pt,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:se.url,onChange:oe=>J({...se,url:oe.target.value}),className:"mt-2",disabled:le,required:!0})]})]})}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:()=>{X(!1),J({platform:"",url:""}),Q(null)},disabled:le,children:"Cancel"}),i.jsx(ae,{onClick:O,disabled:le,children:le?"Saving...":B?"Update":"Add"})]})]})}),n?i.jsx(ta,{open:F,onOpenChange:D,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Edit Contact Information"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"phone-number",children:"Phone Number"}),i.jsx(pt,{id:"phone-number",type:"tel",placeholder:"+995591552495",value:q,onChange:oe=>T(oe.target.value),className:"mt-2",disabled:M})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"email-address",children:"Email Address"}),i.jsx(pt,{id:"email-address",type:"email",placeholder:"example@email.com",value:L,onChange:oe=>ee(oe.target.value),className:"mt-2",disabled:M,required:!0})]})]})}),i.jsxs(Ba,{children:[i.jsx(ae,{onClick:Be,disabled:M||!L.trim(),children:M?"Saving...":"Save Changes"}),i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"outline",disabled:M,children:"Cancel"})})]})]})}):i.jsx(zn,{open:F,onOpenChange:D,children:i.jsxs(En,{children:[i.jsx(Nn,{children:i.jsx(Cn,{children:"Edit Contact Information"})}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"phone-number-desktop",children:"Phone Number"}),i.jsx(pt,{id:"phone-number-desktop",type:"tel",placeholder:"+995591552495",value:q,onChange:oe=>T(oe.target.value),className:"mt-2",disabled:M})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"email-address-desktop",children:"Email Address"}),i.jsx(pt,{id:"email-address-desktop",type:"email",placeholder:"example@email.com",value:L,onChange:oe=>ee(oe.target.value),className:"mt-2",disabled:M,required:!0})]})]})}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:()=>D(!1),disabled:M,children:"Cancel"}),i.jsx(ae,{onClick:Be,disabled:M||!L.trim(),children:M?"Saving...":"Save Changes"})]})]})})]})};var zIe="Separator",a3="horizontal",qIe=["horizontal","vertical"],Gq=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=a3,...a}=e,s=WIe(n)?n:a3,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(nt.div,{"data-orientation":s,...l,...a,ref:t})});Gq.displayName=zIe;function WIe(e){return qIe.includes(e)}var Jq=Gq;const $c=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>i.jsx(Jq,{ref:a,decorative:r,orientation:t,className:fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));$c.displayName=Jq.displayName;var gP="Switch",[HIe,AFe]=Ka(gP),[VIe,KIe]=HIe(gP),Yq=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=p.useState(null),y=xt(t,b=>g(b)),m=p.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=Hs({prop:a,defaultProp:s,onChange:u});return i.jsxs(VIe,{scope:r,checked:x,disabled:l,children:[i.jsx(nt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":Zq(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Le(e.onClick,b=>{w(_=>!_),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&i.jsx(GIe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Yq.displayName=gP;var Xq="SwitchThumb",Qq=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=KIe(Xq,r);return i.jsx(nt.span,{"data-state":Zq(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Qq.displayName=Xq;var GIe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=p.useRef(null),o=mw(r),l=Vx(t);return p.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zq(e){return e?"checked":"unchecked"}var eW=Yq,JIe=Qq;const Xn=p.forwardRef(({className:e,...t},r)=>i.jsx(eW,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(JIe,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xn.displayName=eW.displayName;const YIe=rb("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yP=p.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:fe(YIe({variant:t}),e),...r}));yP.displayName="Alert";const vP=p.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",e),...t}));vP.displayName="AlertTitle";const xP=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed",e),...t}));xP.displayName="AlertDescription";const $E=({compact:e=!1})=>{$l();const[t,r]=p.useState(!1),[n,a]=p.useState(null),[s,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1);p.useEffect(()=>{r(!0)},[]),p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){o(!0);return}if(window.navigator.standalone===!0){o(!0);return}const g=localStorage.getItem("pwa-install-card-dismissed");if(g){const x=parseInt(g,10);if((Date.now()-x)/(1e3*60*60*24)<30){c(!0);return}}const y=x=>{x.preventDefault(),a(x)};window.addEventListener("beforeinstallprompt",y);const m=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready}}catch(x){console.log("Service worker check:",x)}},v=setTimeout(()=>{m()},1e3);return()=>{window.removeEventListener("beforeinstallprompt",y),clearTimeout(v)}},[]);const f=async()=>{if(d(!0),n){try{await n.prompt();const{outcome:x}=await n.userChoice;x==="accepted"?(o(!0),a(null),ue.success("App installation started!")):ue.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),ue.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}let g=!1;const m=await new Promise(x=>{const w=b=>{b.preventDefault(),g=!0;const _=b;a(_),x(_)};window.addEventListener("beforeinstallprompt",w,{once:!0}),setTimeout(()=>{g||(window.removeEventListener("beforeinstallprompt",w),x(null))},2e3)});if(m){try{await m.prompt();const{outcome:x}=await m.userChoice;x==="accepted"?(o(!0),a(null),ue.success("App installation started!")):ue.info("Installation cancelled. You can try again later.")}catch(x){console.error("Error installing PWA:",x),ue.error("Failed to trigger installation. Please try using your browser menu.")}finally{d(!1)}return}if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){ue.info("Tap the Share button (square with arrow), then select 'Add to Home Screen'",{duration:4e3}),d(!1);return}try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.ready;ue.info("Install prompt not available. Please check your browser's menu for 'Install' or 'Add to Home Screen' option.",{duration:4e3})}}catch(x){console.error("Service worker check failed:",x)}d(!1)};if(s||l||!t)return null;const h=()=>i.jsx("img",{src:"/lovable-uploads/3dicons-rocket-front-color.png",alt:"Install App Illustration",className:fe("w-full h-auto object-contain",e?"max-h-24":"max-h-40"),onError:g=>{console.error("Image failed to load:",g)}});return i.jsxs(Ne,{className:fe(e&&"p-0"),children:[i.jsxs(ht,{className:fe(e&&"pb-3 px-4 pt-4"),children:[i.jsx(At,{className:"text-lg",children:"Install App"}),i.jsx(Hr,{children:"Download our app for a better experience"})]}),i.jsxs(Pe,{className:fe("space-y-4",e&&"space-y-3 px-4 pb-4"),children:[i.jsx(h,{}),i.jsxs("div",{className:fe("space-y-2",e&&"space-y-1.5"),children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ec,{className:fe("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),i.jsx("span",{children:"Works offline"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ec,{className:fe("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),i.jsx("span",{children:"Faster loading"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ec,{className:fe("h-4 w-4 text-primary",e&&"h-3.5 w-3.5")}),i.jsx("span",{children:"Home screen access"})]})]}),i.jsxs(ae,{onClick:f,disabled:u,className:fe("w-full",e&&"h-9"),children:[i.jsx(O8,{className:fe("mr-2 h-4 w-4",e&&"h-3.5 w-3.5")}),u?"Preparing...":n?"Download & Install Now":"Download App"]})]})]})},XIe=async()=>{var e,t;try{const n=(await Te.post(vt.PAYMENTS.BOG_AUTH)).data;if(!n.access_token||n.token_type!=="Bearer")throw new Error("Invalid response received from Bank of Georgia auth API.");return n}catch(r){if(r&&typeof r=="object"&&"response"in r&&r.response){const n=r;if(n.response.status===404)throw new Error("Payment authentication endpoint not found. Please ensure the backend payment endpoint is implemented. See BACKEND_PAYMENT_SETUP.md for details.");const a=((e=n.response.data)==null?void 0:e.error)||((t=n.response.data)==null?void 0:t.message)||`Bank of Georgia auth failed (${n.response.status})`;throw new Error(a)}else{if(r&&typeof r=="object"&&"request"in r)throw new Error("Unable to reach payment service. Please check your connection.");{const n=r instanceof Error?r.message:"An error occurred while requesting payment authorization.";throw new Error(n)}}}},s3=[{id:"account",label:"Account Settings"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy & Security"},{id:"subscription",label:"Subscription & Billing"},{id:"learning",label:"Learning Preferences"},{id:"accessibility",label:"Theme & Accessibility"}];function QIe(){const{user:e,logout:t,refreshUser:r}=vr(),{theme:n,setTheme:a}=$l(),{fontSize:s,setFontSize:o}=Vae(),{language:l,setLanguage:c}=Ys(),u=Ja(),[d,f]=Yx();lr(),Wa();const[h,g]=p.useState(!1),y=p.useRef(null),m=p.useRef(null),v=()=>{const O=["account","notifications","privacy","subscription","learning","accessibility"];try{const ne=d.get("section");if(ne&&O.includes(ne))return ne}catch(ne){console.error("Error getting initial section:",ne)}return"account"},[x,w]=p.useState(()=>v());p.useEffect(()=>{const O=d.get("payment");O==="success"?(ue.success("Payment successful! Your subscription has been activated."),f(ne=>(ne.delete("payment"),ne))):O==="failed"&&(ue.error("Payment failed. Please try again."),f(ne=>(ne.delete("payment"),ne)))},[d,f]),p.useEffect(()=>{if(!u||!y.current)return;const O=setTimeout(()=>{const ne=y.current;if(!ne)return;const pe=ne.querySelector(`[data-section="${x}"]`);if(!pe)return;const Me=ne.getBoundingClientRect(),Be=pe.getBoundingClientRect(),dt=ne.scrollLeft,wt=Be.left-Me.left+dt,Ot=Be.width,oe=Me.width,de=wt-oe/2+Ot/2;ne.scrollTo({left:Math.max(0,de),behavior:"smooth"})},50);return()=>clearTimeout(O)},[x,u]);const[b,_]=p.useState(""),[S,E]=p.useState(""),[j,k]=p.useState(!1),N=p.useRef(!1),[P,A]=p.useState(1),[R,U]=p.useState(""),[z,F]=p.useState(""),[D,q]=p.useState(""),[T,L]=p.useState(!1),[ee,M]=p.useState(!0),[G,V]=p.useState(!0),[Z,ie]=p.useState(!0),[H,W]=p.useState(!0),[X,B]=p.useState(!0),[Q,se]=p.useState(!1),[J,le]=p.useState(!1),[ce,ge]=p.useState(!1),[he,je]=p.useState(null),[Ke,Xe]=p.useState(null),[gt,I]=p.useState(null),[Y,we]=p.useState(!0),[Ae,Ue]=p.useState(!0),[We,Ye]=p.useState(!0),[He,ye]=p.useState("weekly"),[Ce,Ee]=p.useState(s),[Oe,tt]=p.useState(l),st=O=>{w(O)};p.useEffect(()=>{e&&!N.current&&(_(e.first_name||""),E(e.last_name||""))},[e==null?void 0:e.id,e==null?void 0:e.first_name,e==null?void 0:e.last_name]),p.useEffect(()=>{Ee(s)},[s]),p.useEffect(()=>{tt(l)},[l]),p.useEffect(()=>{g(!0);const O=(Be,dt)=>{try{const wt=localStorage.getItem(Be);if(wt!==null)return JSON.parse(wt)}catch(wt){console.error(`Error loading preference ${Be}:`,wt),localStorage.removeItem(Be)}return dt};M(O("notif_email_job_matches",!0)),V(O("notif_email_new_courses",!0)),ie(O("notif_email_skill_updates",!0)),W(O("notif_in_app_messages",!0)),B(O("notif_in_app_progress",!0)),se(O("notif_newsletter",!1)),le(O("notif_push",!1)),we(O("privacy_show_skills",!0)),Ue(O("privacy_show_test_results",!0)),Ye(O("privacy_show_completed_courses",!0)),ye(O("ai_recommendation_frequency","weekly"));const ne=O("breneo-font-size",s),pe=ne==="large"?"big":ne;["small","medium","big"].includes(pe)&&(Ee(pe),o(pe));const Me=O("accessibility_language","en");tt(Me==="en"||Me==="ka"?Me:"en")},[]),p.useEffect(()=>{h&&f({section:x},{replace:!1})},[x,h,f]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_job_matches",JSON.stringify(ee))},[ee,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_new_courses",JSON.stringify(G))},[G,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_email_skill_updates",JSON.stringify(Z))},[Z,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_messages",JSON.stringify(H))},[H,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_in_app_progress",JSON.stringify(X))},[X,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_newsletter",JSON.stringify(Q))},[Q,h]),p.useEffect(()=>{h&&localStorage.setItem("notif_push",JSON.stringify(J))},[J,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_skills",JSON.stringify(Y))},[Y,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_test_results",JSON.stringify(Ae))},[Ae,h]),p.useEffect(()=>{h&&localStorage.setItem("privacy_show_completed_courses",JSON.stringify(We))},[We,h]),p.useEffect(()=>{h&&localStorage.setItem("ai_recommendation_frequency",JSON.stringify(He))},[He,h]);const bt=O=>{Ee(O),o(O)},at=O=>{tt(O),c(O),localStorage.setItem("accessibility_language",JSON.stringify(O))},Nt=O=>{a(O),localStorage.setItem("theme",O)};p.useEffect(()=>{h&&localStorage.setItem("accessibility_language",JSON.stringify(Oe))},[Oe,h]);const _e=async O=>{var ne,pe;if(O.preventDefault(),L(!0),!(e!=null&&e.email)){ue.error("Email not found. Please log in again."),L(!1);return}try{const Me=await Te.post(vt.AUTH.PASSWORD_RESET,{email:e.email});ue.success(Me.data.message||"Code sent to your email!"),A(2)}catch(Me){Vt.isAxiosError(Me)?ue.error(((pe=(ne=Me.response)==null?void 0:ne.data)==null?void 0:pe.error)||"Error sending code"):ue.error("Error sending code")}finally{L(!1)}},De=async O=>{var ne,pe;O.preventDefault(),L(!0);try{const Me=await Te.post(vt.AUTH.PASSWORD_RESET_VERIFY,{email:e==null?void 0:e.email,code:R});ue.success(Me.data.message||"Code verified!"),A(3)}catch(Me){Vt.isAxiosError(Me)?ue.error(((pe=(ne=Me.response)==null?void 0:ne.data)==null?void 0:pe.error)||"Invalid code"):ue.error("Invalid code")}finally{L(!1)}},Re=async O=>{var ne,pe;if(O.preventDefault(),z!==D){ue.error("Passwords do not match");return}if(z.length<6){ue.error("Password must be at least 6 characters long");return}L(!0);try{const Me=await Te.post(vt.AUTH.PASSWORD_RESET_CONFIRM,{email:e==null?void 0:e.email,code:R,new_password:z,confirm_password:D});ue.success(Me.data.message||"Password updated successfully!"),A(1),U(""),F(""),q("")}catch(Me){Vt.isAxiosError(Me)?ue.error(((pe=(ne=Me.response)==null?void 0:ne.data)==null?void 0:pe.error)||"Error setting new password"):ue.error("Error setting new password")}finally{L(!1)}},ze=async()=>{ue.info("Preparing your data export..."),setTimeout(()=>{ue.success("Data export ready! Check your email for the download link.")},2e3)},re=async()=>{var O,ne,pe,Me,Be,dt,wt;if(!e){ue.error("User not found. Please log in again.");return}if(!b.trim()&&!S.trim()){ue.error("Please enter at least a first name or last name");return}N.current=!0,k(!0);try{const Ot=localStorage.getItem("authToken"),oe={};b.trim()&&(oe.first_name=b.trim()),S.trim()&&(oe.last_name=S.trim());const de=await Te.patch(vt.AUTH.PROFILE,oe,{headers:{Authorization:Ot?`Bearer ${Ot}`:void 0}}),me=await Te.get(vt.AUTH.PROFILE,{headers:{Authorization:Ot?`Bearer ${Ot}`:void 0}});if(me.data){const Se=me.data,Fe=Se.first_name||((O=Se.user)==null?void 0:O.first_name)||((ne=Se.profile)==null?void 0:ne.first_name),_t=Se.last_name||((pe=Se.user)==null?void 0:pe.last_name)||((Me=Se.profile)==null?void 0:Me.last_name);Fe!==void 0&&_(String(Fe||"")),_t!==void 0&&E(String(_t||""))}ue.success("Profile updated successfully!"),N.current=!1,setTimeout(()=>{window.location.reload()},500)}catch(Ot){if(console.error(" Error updating profile:",Ot),N.current=!1,Vt.isAxiosError(Ot)){const oe=(Be=Ot.response)==null?void 0:Be.data,de=(typeof oe=="object"&&oe!==null?oe.error||oe.message||oe.detail:null)||Ot.message||"Failed to update profile";console.error(" Error details:",{status:(dt=Ot.response)==null?void 0:dt.status,statusText:(wt=Ot.response)==null?void 0:wt.statusText,data:oe,message:Ot.message}),ue.error(String(de))}else console.error(" Non-Axios error:",Ot),ue.error("Failed to update profile. Please try again.")}finally{k(!1)}},K=n==="dark"?"ON":n==="system"?"AUTO":"OFF",C=()=>{switch(x){case"account":return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Account Settings"}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Personal Information"}),i.jsx(Hr,{children:"Update your name and contact information"})]}),i.jsx(Pe,{className:"space-y-4",children:i.jsxs("form",{onSubmit:O=>{O.preventDefault(),re()},className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"firstName",children:"First Name"}),i.jsx(pt,{id:"firstName",value:b,onChange:O=>{N.current=!0,_(O.target.value)},placeholder:"Enter your first name",disabled:j})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"lastName",children:"Last Name"}),i.jsx(pt,{id:"lastName",value:S,onChange:O=>{N.current=!0,E(O.target.value)},placeholder:"Enter your last name",disabled:j})]}),i.jsx($c,{}),i.jsx(ae,{type:"submit",disabled:j,children:j?"Saving...":"Save Changes"})]})})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Email & Password"}),i.jsx(Hr,{children:"Manage your login credentials and security"})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Email Address"}),i.jsx(pt,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-muted/50"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be edited. Contact support if you need to update it."})]}),i.jsx($c,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qe,{children:"Change Password"}),P===1&&i.jsx("form",{onSubmit:_e,className:"space-y-4",children:i.jsx(ae,{type:"submit",disabled:T,children:T?"Sending...":"Send Verification Code"})}),P===2&&i.jsxs("form",{onSubmit:De,className:"space-y-4",children:[i.jsx(pt,{placeholder:"Enter 6-digit code",value:R,onChange:O=>U(O.target.value)}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ae,{type:"submit",disabled:T,children:T?"Verifying...":"Verify Code"}),i.jsx(ae,{type:"button",variant:"outline",onClick:()=>A(1),children:"Back"})]})]}),P===3&&i.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[i.jsx(pt,{type:"password",placeholder:"New password",value:z,onChange:O=>F(O.target.value)}),i.jsx(pt,{type:"password",placeholder:"Confirm new password",value:D,onChange:O=>q(O.target.value)}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ae,{type:"submit",disabled:T,children:T?"Updating...":"Update Password"}),i.jsx(ae,{type:"button",variant:"outline",onClick:()=>A(2),children:"Back"})]})]})]})]})]})]});case"notifications":return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Email Notifications"}),i.jsx(Hr,{children:"Control how and when you receive email updates"})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Job Matches"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new jobs match your profile"})]}),i.jsx(Xn,{checked:ee,onCheckedChange:M})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"New Courses"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new courses in your interests"})]}),i.jsx(Xn,{checked:G,onCheckedChange:V})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Skill Updates"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about skill recommendations and updates"})]}),i.jsx(Xn,{checked:Z,onCheckedChange:ie})]}),i.jsx($c,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Newsletter"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to our weekly newsletter"})]}),i.jsx(Xn,{checked:Q,onCheckedChange:se})]})]})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"In-App Notifications"}),i.jsx(Hr,{children:"Manage notifications within the application"})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Messages"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify me about new messages"})]}),i.jsx(Xn,{checked:H,onCheckedChange:W})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Progress Reminders"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get reminders about your learning progress"})]}),i.jsx(Xn,{checked:X,onCheckedChange:B})]})]})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Push Notifications"}),i.jsx(Hr,{children:"Receive notifications even when you're not on the site"})]}),i.jsx(Pe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Enable Push Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow Breneo to send you push notifications"})]}),i.jsx(Xn,{checked:J,onCheckedChange:le})]})})]})]});case"privacy":return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Privacy & Security"}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Data Visibility"}),i.jsx(Hr,{children:"Manage what information is visible on your profile"})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Show Skills"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skills on your profile"})]}),i.jsx(Xn,{checked:Y,onCheckedChange:we})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Show Test Results"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your skill test results"})]}),i.jsx(Xn,{checked:Ae,onCheckedChange:Ue})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Show Completed Courses"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Display courses you've completed"})]}),i.jsx(Xn,{checked:We,onCheckedChange:Ye})]})]})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Data Management"}),i.jsx(Hr,{children:"Download or export your data (GDPR compliance)"})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs(ae,{onClick:ze,variant:"outline",children:[i.jsx(O8,{className:"h-4 w-4 mr-2"}),"Download My Data"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Request a copy of all your data. You'll receive an email with a download link."})]})]})]});case"subscription":return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Subscription & Billing"}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Current Plan"}),i.jsx(Hr,{children:"Your current subscription plan"})]}),i.jsx(Pe,{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Free Plan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Access to basic features"})]}),i.jsx(Lr,{to:"/subscription",children:i.jsx(ae,{children:"Upgrade to Pro"})})]})})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Payment Methods"}),i.jsx(Hr,{children:"Manage your payment methods"})]}),i.jsx(Pe,{children:i.jsxs("div",{className:"space-y-3",children:[!Ke&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Authenticate with Bank of Georgia to add a payment method."}),Ke&&i.jsxs("div",{className:"rounded-3xl border border-primary/40 bg-primary/5 p-4 text-sm",children:[i.jsx("p",{className:"font-medium text-primary",children:"Bank of Georgia authorization ready"}),i.jsxs("p",{className:"text-muted-foreground",children:["Token type: ",Ke.token_type]}),i.jsxs("p",{className:"text-muted-foreground",children:["Expires in: ",Ke.expires_in," seconds"]}),i.jsxs("p",{className:"text-muted-foreground break-all",children:["Access token: ",Ke.access_token]})]}),he&&i.jsxs(yP,{variant:he.includes("not found")||he.includes("endpoint")?"default":"destructive",children:[he.includes("not found")||he.includes("endpoint")?i.jsx(mse,{className:"h-4 w-4"}):i.jsx(Ho,{className:"h-4 w-4"}),i.jsx(vP,{children:he.includes("not found")||he.includes("endpoint")?"Backend Setup Required":"Payment Error"}),i.jsx(xP,{className:"text-sm",children:he.includes("not found")||he.includes("endpoint")?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"The payment backend endpoint is not yet implemented. To enable payments:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[i.jsxs("li",{children:["Implement"," ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"POST /api/payments/bog/orders/"})," ","on your backend server"]}),i.jsxs("li",{children:["See"," ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"BACKEND_PAYMENT_SETUP.md"})," ","for implementation details"]})]})]}):he})]}),i.jsx(ae,{variant:"outline",onClick:async()=>{I(null),je(null);try{ge(!0);const O=await XIe();Xe(O),ue.success("Bank of Georgia authentication successful.")}catch(O){const ne=O instanceof Error?O.message:"Authentication failed with Bank of Georgia.";je(ne),ue.error("Unable to authenticate with Bank of Georgia.")}finally{ge(!1)}},disabled:ce,children:ce&&!gt?"Authorizing...":"Refresh Authorization"})]})})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Billing History"}),i.jsx(Hr,{children:"View and download your invoices"})]}),i.jsx(Pe,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]});case"learning":return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Learning Preferences"}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"AI Recommendations"}),i.jsx(Hr,{children:"How often would you like AI recommendations?"})]}),i.jsx(Pe,{children:i.jsxs(Is,{value:He,onValueChange:O=>ye(O),children:[i.jsx(is,{children:i.jsx(Ms,{})}),i.jsxs(ls,{children:[i.jsx(or,{value:"daily",children:"Daily"}),i.jsx(or,{value:"weekly",children:"Weekly"}),i.jsx(or,{value:"monthly",children:"Monthly"})]})]})})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Interests & Career Paths"}),i.jsx(Hr,{children:"Manage your interests and preferred career paths"})]}),i.jsx(Pe,{children:i.jsx(Lr,{to:"/interests",children:i.jsx(ae,{variant:"outline",children:"Manage Interests"})})})]})]});case"accessibility":return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Theme & Accessibility"}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Appearance"}),i.jsx(Hr,{children:"Customize the look and feel of the application"})]}),i.jsx(Pe,{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{children:"Theme"}),i.jsxs(Is,{value:n||"light",onValueChange:O=>Nt(O),children:[i.jsx(is,{className:"w-32",children:i.jsx(Ms,{children:K})}),i.jsxs(ls,{children:[i.jsx(or,{value:"light",children:"Light"}),i.jsx(or,{value:"dark",children:"Dark"}),i.jsx(or,{value:"system",children:"Auto"})]})]})]})})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Accessibility"}),i.jsx(Hr,{children:"Adjust settings for better accessibility"})]}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Font Size"}),i.jsxs(Is,{value:Ce,onValueChange:bt,children:[i.jsx(is,{children:i.jsx(Ms,{})}),i.jsxs(ls,{children:[i.jsx(or,{value:"small",children:"Small"}),i.jsx(or,{value:"medium",children:"Medium"}),i.jsx(or,{value:"big",children:"Big"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{children:"Language"}),i.jsxs(Is,{value:Oe,onValueChange:at,children:[i.jsx(is,{children:i.jsx(Ms,{})}),i.jsxs(ls,{children:[i.jsx(or,{value:"en",children:"English"}),i.jsx(or,{value:"ka",children:"Georgian ()"})]})]})]})]})]})]});default:return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Section not found"})]})}};return i.jsxs(Mt,{children:[u&&i.jsx("div",{className:"fixed top-[53px] left-0 right-0 z-40 bg-[#F8F9FA]/80 dark:bg-[#181818]/80 backdrop-blur-xl backdrop-saturate-150 border-b border-black/[0.03] dark:border-white/[0.03] md:hidden",children:i.jsx("div",{ref:y,className:"overflow-x-auto scrollbar-hide touch-pan-x",style:{WebkitOverflowScrolling:"touch"},children:i.jsx("div",{className:"flex gap-4 px-6 py-4 min-w-max",children:s3.map(O=>i.jsx("button",{type:"button","data-section":O.id,ref:x===O.id?m:null,onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),st(O.id)},onTouchStart:ne=>{ne.stopPropagation()},className:fe("text-sm whitespace-nowrap transition-colors py-1 cursor-pointer touch-manipulation",x===O.id?"text-primary font-medium border-b-2 border-primary":"text-muted-foreground hover:text-foreground active:text-foreground"),children:O.label},O.id))})})}),i.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:i.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[i.jsxs("div",{className:fe(u&&"mt-12 min-h-screen pb-12"),children:[C(),u&&i.jsx("div",{className:"mt-8",children:i.jsx($E,{compact:!0})})]}),!u&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx(At,{className:"text-lg",children:"Settings"})}),i.jsx(Pe,{className:"space-y-2",children:s3.map(O=>i.jsx("button",{type:"button",onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),st(O.id)},className:fe("w-full text-left text-sm transition-colors",x===O.id?"text-primary font-medium":"text-foreground hover:text-primary"),children:O.label},O.id))})]}),i.jsx($E,{})]})]})})]})}var bP="Checkbox",[ZIe,TFe]=Ka(bP),[eMe,tMe]=ZIe(bP),tW=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,g]=p.useState(null),y=xt(t,_=>g(_)),m=p.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,w]=Hs({prop:a,defaultProp:s,onChange:u}),b=p.useRef(x);return p.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>w(b.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,w]),i.jsxs(eMe,{scope:r,state:x,disabled:l,children:[i.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":wl(x)?"mixed":x,"aria-required":o,"data-state":aW(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:Le(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Le(e.onClick,_=>{w(S=>wl(S)?!0:!S),v&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),v&&i.jsx(rMe,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:wl(s)?!1:s})]})});tW.displayName=bP;var rW="CheckboxIndicator",nW=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=tMe(rW,r);return i.jsx(ua,{present:n||wl(s.state)||s.state===!0,children:i.jsx(nt.span,{"data-state":aW(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});nW.displayName=rW;var rMe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...s}=e,o=p.useRef(null),l=mw(r),c=Vx(t);p.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const y=new Event("click",{bubbles:n});d.indeterminate=wl(r),g.call(d,wl(r)?!1:r),d.dispatchEvent(y)}},[l,r,n]);const u=p.useRef(wl(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function wl(e){return e==="indeterminate"}function aW(e){return wl(e)?"indeterminate":e?"checked":"unchecked"}var sW=tW,nMe=nW;const Zn=p.forwardRef(({className:e,...t},r)=>i.jsx(sW,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-[2px] border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-primary dark:data-[state=checked]:bg-primary dark:data-[state=checked]:border-primary",e),...t,children:i.jsx(nMe,{className:fe("flex items-center justify-center text-white"),children:i.jsx(nb,{className:"h-4 w-4 text-white"})})}));Zn.displayName=sW.displayName;var oW=["PageUp","PageDown"],iW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lW={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},eh="Slider",[RE,aMe,sMe]=Cg(eh),[cW,OFe]=Ka(eh,[sMe]),[oMe,bw]=cW(eh),uW=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:y,...m}=e,v=p.useRef(new Set),x=p.useRef(0),b=o==="horizontal"?iMe:lMe,[_=[],S]=Hs({prop:d,defaultProp:u,onChange:A=>{var U;(U=[...v.current][x.current])==null||U.focus(),f(A)}}),E=p.useRef(_);function j(A){const R=hMe(_,A);P(A,R)}function k(A){P(A,x.current)}function N(){const A=E.current[x.current];_[x.current]!==A&&h(_)}function P(A,R,{commit:U}={commit:!1}){const z=yMe(s),F=vMe(Math.round((A-n)/s)*s+n,z),D=om(F,[n,a]);S((q=[])=>{const T=dMe(q,D,R);if(gMe(T,c*s)){x.current=T.indexOf(D);const L=String(T)!==String(q);return L&&U&&h(T),L?T:q}else return q})}return i.jsx(oMe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:x,thumbs:v.current,values:_,orientation:o,form:y,children:i.jsx(RE.Provider,{scope:e.__scopeSlider,children:i.jsx(RE.Slot,{scope:e.__scopeSlider,children:i.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:Le(m.onPointerDown,()=>{l||(E.current=_)}),min:n,max:a,inverted:g,onSlideStart:l?void 0:j,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,_.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:R})=>{if(!l){const F=oW.includes(A.key)||A.shiftKey&&iW.includes(A.key)?10:1,D=x.current,q=_[D],T=s*F*R;P(q+T,D,{commit:!0})}}})})})})});uW.displayName=eh;var[dW,fW]=cW(eh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),iMe=p.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),g=xt(t,b=>h(b)),y=p.useRef(),m=Mf(a),v=m==="ltr",x=v&&!s||!v&&s;function w(b){const _=y.current||f.getBoundingClientRect(),S=[0,_.width],j=wP(S,x?[r,n]:[n,r]);return y.current=_,j(b-_.left)}return i.jsx(dW,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:i.jsx(hW,{dir:m,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=w(b.clientX);o==null||o(_)},onSlideMove:b=>{const _=w(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const S=lW[x?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:S?-1:1})}})})}),lMe=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=xt(t,d),h=p.useRef(),g=!a;function y(m){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],b=wP(x,g?[n,r]:[r,n]);return h.current=v,b(m-v.top)}return i.jsx(dW,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:i.jsx(hW,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=y(m.clientY);s==null||s(v)},onSlideMove:m=>{const v=y(m.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const x=lW[g?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:x?-1:1})}})})}),hW=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=bw(eh,r);return i.jsx(nt.span,{...u,ref:t,onKeyDown:Le(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):oW.concat(iW).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Le(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:Le(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:Le(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),pW="SliderTrack",mW=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=bw(pW,r);return i.jsx(nt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});mW.displayName=pW;var IE="SliderRange",gW=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=bw(IE,r),s=fW(IE,r),o=p.useRef(null),l=xt(t,o),c=a.values.length,u=a.values.map(h=>vW(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(nt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});gW.displayName=IE;var ME="SliderThumb",yW=p.forwardRef((e,t)=>{const r=aMe(e.__scopeSlider),[n,a]=p.useState(null),s=xt(t,l=>a(l)),o=p.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(cMe,{...e,ref:s,index:o})}),cMe=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...s}=e,o=bw(ME,r),l=fW(ME,r),[c,u]=p.useState(null),d=xt(t,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=Vx(c),g=o.values[n],y=g===void 0?0:vW(g,o.min,o.max),m=fMe(n,o.values.length),v=h==null?void 0:h[l.size],x=v?pMe(v,y,l.direction):0;return p.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${x}px)`},children:[i.jsx(RE.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(nt.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:Le(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(uMe,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},n)]})});yW.displayName=ME;var uMe=e=>{const{value:t,...r}=e,n=p.useRef(null),a=mw(t);return p.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(s,t),s.dispatchEvent(u)}},[a,t]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function dMe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,s)=>a-s)}function vW(e,t,r){const s=100/(r-t)*(e-t);return om(s,[0,100])}function fMe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function hMe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function pMe(e,t,r){const n=e/2,s=wP([0,50],[0,n]);return(n-s(t)*r)*r}function mMe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function gMe(e,t){if(t>0){const r=mMe(e);return Math.min(...r)>=t}return!0}function wP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function yMe(e){return(String(e).split(".")[1]||"").length}function vMe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var xW=uW,xMe=mW,bMe=gW,wMe=yW;const bW=p.forwardRef(({className:e,...t},r)=>{const n=t.value||t.defaultValue||[0],a=Array.isArray(n)?n.length:1;return i.jsxs(xW,{ref:r,className:fe("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(xMe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",children:i.jsx(bMe,{className:"absolute h-full bg-breneo-blue dark:bg-breneo-blue"})}),Array.from({length:a}).map((s,o)=>i.jsx(wMe,{className:"block h-5 w-5 rounded-full border-2 border-breneo-blue dark:border-breneo-blue bg-white dark:bg-gray-800 ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-breneo-blue focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},o))]})});bW.displayName=xW.displayName;const _Me=(e,t,r=20)=>{const n=[];for(let a=0;a<r;a++){const s=Math.exp(-a*.15)*100;n.push(Math.max(5,Math.min(100,s)))}return n},o3=({minSalary:e,maxSalary:t,salaryMin:r=e,salaryMax:n=t,salaryByAgreement:a=!1,onSalaryChange:s})=>{const{t:o}=Ys(),[l,c]=p.useState(r??e),[u,d]=p.useState(n??t),[f,h]=p.useState(a),g=_Me(e,t,20),y=Math.max(...g);p.useEffect(()=>{c(r??e),d(n??t),h(a??!1)},[r,n,a,e,t]);const m=b=>{const[_,S]=b;c(_),d(S),s(_===e?void 0:_,S===t?void 0:S,f)},v=b=>{const _=parseInt(b.target.value)||e,S=Math.max(e,Math.min(_,u));c(S),s(S===e?void 0:S,u===t?void 0:u,f)},x=b=>{const _=parseInt(b.target.value)||t,S=Math.min(t,Math.max(_,l));d(S),s(l===e?void 0:l,S===t?void 0:S,f)},w=b=>{h(b),s(l===e?void 0:l,u===t?void 0:u,b)};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-base font-medium text-left text-gray-900 dark:text-gray-100",children:o.jobs.salaryRange}),i.jsx("div",{className:"relative h-16 flex items-end justify-between gap-0.5 px-1",children:g.map((b,_)=>{const S=b/y*100,E=e+_*(t-e)/g.length,j=e+(_+1)*(t-e)/g.length,k=E>=l&&j<=u;return i.jsx("div",{className:"flex-1 bg-gray-900 dark:bg-gray-200 transition-opacity rounded-md",style:{height:`${S}%`,minHeight:"4px",opacity:k?1:.3}},_)})}),i.jsx("div",{className:"px-2",children:i.jsx(bW,{value:[l,u],onValueChange:m,min:e,max:t,step:100,className:"w-full"})}),i.jsxs("div",{className:"flex items-end gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(qe,{htmlFor:"salary-min",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:o.jobs.minimum}),i.jsx(pt,{id:"salary-min",type:"number",value:l,onChange:v,min:e,max:u,className:"h-10"})]}),i.jsx("div",{className:"pb-2.5",children:i.jsx("span",{className:"text-gray-400 dark:text-gray-400",children:"-"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx(qe,{htmlFor:"salary-max",className:"text-xs text-gray-600 dark:text-gray-300 mb-1 block",children:o.jobs.maximum}),i.jsx(pt,{id:"salary-max",type:"number",value:u,onChange:x,min:l,max:t,className:"h-10"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(Zn,{id:"salary-by-agreement",checked:f,onCheckedChange:w}),i.jsx(qe,{htmlFor:"salary-by-agreement",className:"text-sm font-normal cursor-pointer text-gray-900 dark:text-gray-100",children:o.jobs.byAgreement})]})]})};function SMe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jMe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:g,...y}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:v,children:g})};u.displayName=s+"Provider";function d(f,h){var m;const g=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,kMe(a,...t)]}function kMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var qm=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},EMe=bf[" useInsertionEffect ".trim().toString()]||qm;function NMe({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=CMe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=PMe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function CMe({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),s=p.useRef(t);return EMe(()=>{s.current=t},[t]),p.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function PMe(e){return typeof e=="function"}function i3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wW(...e){return t=>{let r=!1;const n=e.map(a=>{const s=i3(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():i3(e[a],null)}}}}function _W(...e){return p.useCallback(wW(...e),e)}function AMe(e){const t=TMe(e),r=p.forwardRef((n,a)=>{const{children:s,...o}=n,l=p.Children.toArray(s),c=l.find($Me);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}function TMe(e){const t=p.forwardRef((r,n)=>{const{children:a,...s}=r;if(p.isValidElement(a)){const o=IMe(a),l=RMe(s,a.props);return a.type!==p.Fragment&&(l.ref=n?wW(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OMe=Symbol("radix.slottable");function $Me(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OMe}function RMe(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function IMe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var MMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_P=MMe.reduce((e,t)=>{const r=AMe(`Primitive.${t}`),n=p.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function LMe(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var SW=e=>{const{present:t,children:r}=e,n=DMe(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),s=_W(n.ref,FMe(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:s}):null};SW.displayName="Presence";function DMe(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=LMe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=By(n.current);s.current=l==="mounted"?u:"none"},[l]),qm(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,g=By(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),qm(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const m=By(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=g=>{g.target===t&&(s.current=By(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function By(e){return(e==null?void 0:e.animationName)||"none"}function FMe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var BMe=bf[" useId ".trim().toString()]||(()=>{}),UMe=0;function zMe(e){const[t,r]=p.useState(BMe());return qm(()=>{e||r(n=>n??String(UMe++))},[e]),e||(t?`radix-${t}`:"")}var ww="Collapsible",[qMe,$Fe]=jMe(ww),[WMe,SP]=qMe(ww),jW=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c,u]=NMe({prop:n,defaultProp:a??!1,onChange:o,caller:ww});return i.jsx(WMe,{scope:r,disabled:s,contentId:zMe(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(_P.div,{"data-state":kP(c),"data-disabled":s?"":void 0,...l,ref:t})})});jW.displayName=ww;var kW="CollapsibleTrigger",EW=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=SP(kW,r);return i.jsx(_P.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":kP(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:SMe(e.onClick,a.onOpenToggle)})});EW.displayName=kW;var jP="CollapsibleContent",NW=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=SP(jP,e.__scopeCollapsible);return i.jsx(SW,{present:r||a.open,children:({present:s})=>i.jsx(HMe,{...n,ref:t,present:s})})});NW.displayName=jP;var HMe=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=SP(jP,r),[l,c]=p.useState(n),u=p.useRef(null),d=_W(t,u),f=p.useRef(0),h=f.current,g=p.useRef(0),y=g.current,m=o.open||l,v=p.useRef(m),x=p.useRef(void 0);return p.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),qm(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,g.current=b.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(_P.div,{"data-state":kP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&a})});function kP(e){return e?"open":"closed"}var VMe=jW;const LE=VMe,DE=EW,FE=NW,l3=["FULLTIME","PARTTIME","CONTRACTOR","INTERN"],KMe="",c3={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},u3=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:a="main",onMobileViewChange:s,countrySearchQuery:o="",onCountrySearchChange:l})=>{const{t:c}=Ys(),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[g,y]=p.useState(""),m=l&&o!==void 0?o:g,v=N=>{l?l(N):y(N)},x=$.useMemo(()=>{if(!m.trim())return tn;const N=m.toLowerCase();return tn.filter(P=>P.name.toLowerCase().includes(N)||P.code.toLowerCase().includes(N))},[m]);p.useEffect(()=>{r&&a!=="country"&&(l?l(""):y("")),!r&&!f&&(l?l(""):y(""))},[a,f,r,l]);const w=N=>{const P=e.jobTypes.includes(N)?e.jobTypes.filter(A=>A!==N):[...e.jobTypes,N];t({...e,jobTypes:P,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[]})},b=N=>{const P=e.countries.includes(N)?e.countries.filter(A=>A!==N):[...e.countries,N];t({...e,countries:P,datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},_=N=>{t({...e,isRemote:N,countries:e.countries||[],datePosted:e.datePosted,skills:e.skills||[],salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},S=N=>{const P=e.skills.includes(N)?e.skills.filter(A=>A!==N):[...e.skills,N];t({...e,skills:P,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},E=()=>{if(n.length===0)return;const N=n.every(P=>e.skills.includes(P));t(N?{...e,skills:[],countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement}:{...e,skills:n,countries:e.countries||[],datePosted:e.datePosted,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement})},j=n.length>0&&n.every(N=>e.skills.includes(N)),k=(N,P,A)=>{t({...e,salaryMin:N,salaryMax:P,salaryByAgreement:A})};return r?a==="workType"?i.jsx("div",{className:"flex flex-col h-full",children:i.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:i.jsxs("div",{className:"space-y-3",children:[l3.map(N=>{const P=e.jobTypes.includes(N);return i.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:c3[N]||N}),i.jsx(Zn,{checked:P,onCheckedChange:()=>w(N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N)}),i.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),i.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-3",children:[i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0",children:"Remote Jobs Only"}),i.jsx(Zn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]})]})})}):a==="country"?i.jsx("div",{className:"flex flex-col h-full",children:i.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:i.jsx("div",{className:"space-y-2",children:x.length===0?i.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):x.map(N=>{const P=e.countries.includes(N.code);return i.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:N.name}),i.jsx(Zn,{checked:P,onCheckedChange:()=>b(N.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},N.code)})})})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:i.jsx(o3,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:k})}),i.jsx("div",{className:"space-y-3",children:i.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s("workType"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.workType}),i.jsx(Ma,{className:"h-4 w-4 text-gray-400"})]})}),i.jsx("div",{className:"space-y-3",children:i.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),i.jsx(Ma,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:c.jobs.interests}),i.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:j?"Remove All":"Select All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const P=e.skills.includes(N);return i.jsx("button",{type:"button",onClick:()=>S(N),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${P?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:N},N)})})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"space-y-3",children:i.jsx(o3,{minSalary:0,maxSalary:2e4,salaryMin:e.salaryMin,salaryMax:e.salaryMax,salaryByAgreement:e.salaryByAgreement,onSalaryChange:k})}),n.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{className:"text-base font-medium dark:text-gray-100",children:c.jobs.interests}),i.jsx("button",{type:"button",onClick:E,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:j?"Remove All":"Select All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>{const P=e.skills.includes(N);return i.jsx("button",{type:"button",onClick:()=>S(N),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${P?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:N},N)})})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs(LE,{open:u,onOpenChange:d,children:[i.jsxs(DE,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[i.jsx(qe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.workType}),i.jsx(Hd,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),i.jsx(FE,{className:"mt-0",children:i.jsx("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"grid grid-cols-2 gap-3",children:l3.map(N=>{const P=e.jobTypes.includes(N);return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[i.jsx(Zn,{checked:P,onCheckedChange:()=>w(N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:c3[N]||N})]},N)})}),i.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 my-2"}),i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[i.jsx(Zn,{checked:e.isRemote||!1,onCheckedChange:N=>_(!!N),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Remote Jobs Only"})]})]})})})]})}),i.jsx("div",{className:"space-y-3",children:i.jsxs(LE,{open:f,onOpenChange:N=>{h(N),N||v("")},children:[i.jsxs(DE,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${f?"rounded-t-lg":"rounded-lg"}`,children:[i.jsx(qe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),i.jsx(Hd,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${f?"transform rotate-180":""}`})]}),i.jsx(FE,{className:"mt-0",children:i.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:i.jsxs("div",{className:"relative",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(pt,{type:"text",placeholder:"Search countries...",value:m,onChange:N=>v(N.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.length===0?i.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):x.map(N=>{const P=e.countries.includes(N.code);return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[i.jsx(Zn,{checked:P,onCheckedChange:()=>b(N.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:N.name})]},N.code)})})})]})})]})})]})},CW=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:a,onClear:s,userTopSkills:o=[]})=>{const{t:l}=Ys(),c=Ja(),[u,d]=p.useState("main"),[f,h]=p.useState(!1),[g,y]=p.useState(!1),[m,v]=p.useState(""),[x,w]=p.useState("");return $.useMemo(()=>{if(!m.trim())return tn;const b=m.toLowerCase();return tn.filter(_=>_.name.toLowerCase().includes(b)||_.code.toLowerCase().includes(b))},[m]),p.useEffect(()=>{e||(h(!1),y(!1),d("main"),w(""))},[e]),c?i.jsx(ta,{open:e,onOpenChange:t,children:i.jsxs(ra,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[i.jsx(na,{className:"flex-shrink-0 border-b border-gray-200",children:i.jsx(aa,{className:"text-xl font-bold",children:u==="workType"?l.jobs.workType:u==="country"?l.jobs.country:KMe})}),u==="country"&&i.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:i.jsxs("div",{className:"relative",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(pt,{type:"text",placeholder:"Search countries...",value:x,onChange:b=>w(b.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),i.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:i.jsx(u3,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:o,mobileView:u,onMobileViewChange:d,countrySearchQuery:x,onCountrySearchChange:w})}),u==="main"&&i.jsx(Ba,{className:"border-t border-gray-200",children:i.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&i.jsx(ae,{onClick:()=>{s(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:l.common.clear}),i.jsx(ae,{onClick:()=>{a(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:l.common.apply})]})}),(u==="workType"||u==="country")&&i.jsx(Ba,{className:"border-t border-gray-200",children:i.jsx(ae,{onClick:()=>{w(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):i.jsx(zn,{open:e,onOpenChange:t,children:i.jsxs(En,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[i.jsx(Nn,{className:"flex-shrink-0",children:i.jsx(Cn,{children:"Filter Jobs"})}),i.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:i.jsx(u3,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:o})}),i.jsx(ea,{className:"flex-shrink-0",children:i.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&i.jsx(ae,{onClick:()=>{s()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:l.common.clear}),i.jsx(ae,{onClick:a,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:l.common.apply})]})})]})})},Ni=[{id:"FULLTIME",label:"Full Time"},{id:"PARTTIME",label:"Part Time"},{id:"CONTRACTOR",label:"Contractor"},{id:"INTERN",label:"Intern"}],PW=({selectedWorkTypes:e,onWorkTypesChange:t,placeholder:r="Work types",isRemote:n=!1,onRemoteChange:a})=>{var _;const[s,o]=p.useState(!1),[l,c]=p.useState(e),[u,d]=p.useState(n),f=p.useRef(null);p.useEffect(()=>{s&&(c(e),d(n))},[s,e,n]),p.useEffect(()=>{const S=j=>{f.current&&!f.current.contains(j.target)&&(o(!1),c(e),d(n))},E=j=>{j.key==="Escape"&&(o(!1),c(e),d(n))};return s&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",E)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",E)}},[s,e,n]);const h=S=>{l.includes(S)?c(l.filter(E=>E!==S)):c([...l,S])},g=()=>{l.length===Ni.length?c([]):c(Ni.map(S=>S.id))},y=()=>{t(l),a&&a(u),o(!1)},m=l.length===Ni.length,v=e.length===0?r:e.length===1?((_=Ni.find(S=>S.id===e[0]))==null?void 0:_.label)||r:e.length===Ni.length?"All work types":e.map(S=>{var E;return((E=Ni.find(j=>j.id===S))==null?void 0:E.label)||S}).join(", "),x=e.length===0,w=(S,E)=>{S.stopPropagation();const j=e.filter(k=>k!==E);t(j)},b=S=>{S.stopPropagation(),t([])};return i.jsxs("div",{className:"relative w-full max-w-full",ref:f,children:[i.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[i.jsxs("button",{type:"button",onClick:()=>o(!s),className:fe("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",x?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[i.jsx(yse,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent flex-shrink-0 mr-2"}),e.length===0?i.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):i.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:v})]}),e.length>0&&i.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),e.length===1?w(S,e[0]):b(S)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove work type":"Remove all work types",children:i.jsx(ln,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),s&&i.jsxs("div",{className:fe("absolute top-full left-0 mt-2 w-[calc(100vw-2rem)] md:w-[320px] rounded-lg shadow-lg border z-[9999] max-h-[400px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[280px]"),children:[i.jsxs("div",{className:fe("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[i.jsx("h3",{className:fe("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Work Types"}),i.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),o(!1)},className:fe("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:i.jsx(ln,{className:fe("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[i.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:S=>{S.stopPropagation(),g()},children:[i.jsx(Zn,{checked:m,onCheckedChange:S=>{c(S?Ni.map(E=>E.id):[])},className:"mr-3"}),i.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),Ni.map(S=>{const E=l.includes(S.id);return i.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:j=>{j.stopPropagation(),h(S.id)},children:[i.jsx(Zn,{checked:E,onCheckedChange:j=>{c(j?[...l,S.id]:l.filter(k=>k!==S.id))},className:"mr-3"}),i.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:S.label})]},S.id)}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:fe("border-t","border-gray-100 dark:border-gray-700")}),i.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),d(!u)},children:[i.jsx(Zn,{checked:u,onCheckedChange:S=>{d(!!S)},className:"mr-3"}),i.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:"Remote Jobs Only"})]})]})]}),i.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:i.jsx(ae,{onClick:S=>{S.stopPropagation(),y()},className:"w-full",children:"Save"})})]})]})},Ci={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},C_=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(o=>r.includes(o))&&t.push(a)}),[...new Set(t)]},GMe=async(e=1)=>{try{console.log(` fetchInternshipJobs called - fetching internship jobs page ${e}`);const t=await Ks.fetchActiveJobs({query:"intern intern internship",filters:{country:void 0,countries:[],jobTypes:["INTERN"],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(!t||!Array.isArray(t.jobs))return console.warn("Invalid response format from job service:",t),{jobs:[],hasMore:!1,total:0};const r=t.jobs.filter(n=>{const a=String(n.id||"");return a&&a.trim()!==""});return{jobs:r,hasMore:t.hasMore??!1,total:t.total||r.length}}catch(t){return console.error("Error fetching internship jobs:",t),{jobs:[],hasMore:!1,total:0}}},JMe=async(e=1,t=[])=>{var r,n;try{console.log(` fetchRemoteJobs called - fetching remote jobs page ${e} with skills:`,t);const a=await Ks.fetchActiveJobs({query:"remote",filters:{country:void 0,countries:[],jobTypes:[],isRemote:!0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:e,pageSize:50});if(console.log(" fetchRemoteJobs response:",{totalJobs:((r=a.jobs)==null?void 0:r.length)||0,hasMore:a.hasMore,sampleJob:((n=a.jobs)==null?void 0:n[0])||null}),!a||!Array.isArray(a.jobs))return console.warn("Invalid response format from job service:",a),{jobs:[],hasMore:!1,total:0};const s=a.jobs.filter(o=>{const l=String(o.id||"");return l&&l.trim()!==""});return console.log(` fetchRemoteJobs: ${s.length} valid remote jobs found`),{jobs:s,hasMore:a.hasMore??!1,total:a.total||s.length}}catch(a){return console.error(" Error fetching remote jobs:",a),{jobs:[],hasMore:!1,total:0}}},d3="jobsFilters",YMe=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},XMe=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},QMe=()=>{const{user:e}=vr(),t=Wa(),r=Ja(),n=lr(),[a,s]=Yx(),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState(!0),h=$.useRef(!1),[g,y]=p.useState(1),[m,v]=p.useState([]),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(1),[j,k]=p.useState([]),[N,P]=p.useState(!1),[A,R]=p.useState(!1),[U,z]=p.useState(1),[F,D]=p.useState([]),[q,T]=p.useState(!1),[L,ee]=p.useState(!1);p.useCallback((C,O,ne)=>{const pe=new URLSearchParams;O&&pe.set("search",O),C.countries.length>0&&pe.set("countries",C.countries.join(",")),C.skills.length>0&&pe.set("skills",C.skills.join(",")),C.jobTypes.length>0&&pe.set("jobTypes",C.jobTypes.join(",")),C.isRemote&&pe.set("isRemote","true"),C.datePosted&&C.datePosted!=="all"&&pe.set("datePosted",C.datePosted),ne>1&&pe.set("page",String(ne)),s(pe,{replace:!0}),YMe(d3,C,O)},[s]);const[M,G]=p.useState(()=>({country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1})),[V,Z]=p.useState(()=>{const C=a.get("search");if(C)return C;const O=XMe(d3);return O&&O.search?O.search:""}),[ie,H]=p.useState(M),W=C=>{let O=0;return C.countries.length>0&&(O+=C.countries.length),C.jobTypes.length>0&&(O+=C.jobTypes.length),C.isRemote&&(O+=1),C.datePosted&&(O+=1),C.skills.length>0&&(O+=C.skills.length),(C.salaryMin!==void 0||C.salaryMax!==void 0)&&(O+=1),C.salaryByAgreement&&(O+=1),O};p.useEffect(()=>{o&&H(M)},[o,M]),p.useEffect(()=>{const C=new URLSearchParams(a);C.delete("countries"),C.delete("country"),C.delete("skills"),C.delete("jobTypes"),C.delete("isRemote"),C.delete("datePosted"),C.delete("page"),C.toString()!==a.toString()&&s(C,{replace:!0})},[]),p.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{f(!0);try{const ne=await Te.get("/api/skilltest/results/");if(ne.data&&Array.isArray(ne.data)&&ne.data.length>0){const Me=ne.data[0].skills_json,Be=[];Me!=null&&Me.tech&&Be.push(...Object.keys(Me.tech));const wt=wp(Be).slice(0,5);u(wt),f(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const O=await au(String(e.id));if(O&&O.length>0){const ne=su(O),Me=jb(ne,10).map(wt=>wt.skill),dt=wp(Me).slice(0,5);u(dt)}}catch(O){console.error("Error fetching user skills:",O),u([])}finally{f(!1)}})()},[e]),p.useEffect(()=>{h.current=!1},[e==null?void 0:e.id]),p.useEffect(()=>{!d&&c.length>0&&!h.current&&(G(C=>({...C,skills:[...c]})),H(C=>({...C,skills:[...c]})),h.current=!0)},[d,c,e==null?void 0:e.id]);const{data:X=[]}=gr({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var C;if(!e)return[];try{return(((C=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:C.saved_jobs)||[]).map(pe=>String(pe))}catch(O){return console.error("Error fetching saved jobs from profile API:",O),[]}},enabled:!!e});p.useMemo(()=>wp(M.skills||[]),[M.skills]),p.useMemo(()=>JSON.stringify({countries:M.countries.sort(),skills:M.skills.sort(),jobTypes:M.jobTypes.sort(),isRemote:M.isRemote,datePosted:M.datePosted,salaryMin:M.salaryMin,salaryMax:M.salaryMax,salaryByAgreement:M.salaryByAgreement}),[M]);const{data:B={jobs:[],hasMore:!1,total:0},isLoading:Q,error:se}=gr({queryKey:["latestJobs"],queryFn:async()=>{var C;try{console.log(" Fetching all jobs (no filters)");const O=await Ks.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:500});if(console.log(" Job service response:",{jobsCount:((C=O==null?void 0:O.jobs)==null?void 0:C.length)||0,hasMore:O==null?void 0:O.hasMore,total:O==null?void 0:O.total}),!O||!Array.isArray(O.jobs))return console.warn(" Invalid response from jobService:",O),{jobs:[],hasMore:!1,total:0};const ne=O.jobs.filter(pe=>{const Me=String(pe.id||"");return Me&&Me.trim()!==""});return console.log(` Valid jobs: ${ne.length} out of ${O.jobs.length}`),{jobs:ne,hasMore:O.hasMore??!1,total:ne.length}}catch(O){throw console.error(" Error fetching jobs:",O),O}},refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,retryDelay:1e3,enabled:!0}),{data:J={jobs:[],hasMore:!1,total:0},isLoading:le,error:ce}=gr({queryKey:["internshipJobs",S],queryFn:()=>GMe(S),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0}),{data:ge={jobs:[],hasMore:!1,total:0},isLoading:he,error:je}=gr({queryKey:["remoteJobs",U],queryFn:()=>JMe(U,[]),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3,enabled:!0});p.useEffect(()=>{B.jobs&&B.jobs.length>0?(v(B.jobs),w(B.hasMore),_(!1)):(v([]),w(!1))},[B]),p.useEffect(()=>{J.jobs&&J.jobs.length>0?(k(S===1?J.jobs:C=>{const O=new Set(C.map(pe=>pe.id||pe.job_id)),ne=J.jobs.filter(pe=>!O.has(pe.id||pe.job_id));return[...C,...ne]}),P(J.hasMore),R(!1)):S===1&&(k([]),P(!1))},[J,S]),p.useEffect(()=>{ge.jobs&&ge.jobs.length>0?(D(U===1?ge.jobs:C=>{const O=new Set(C.map(pe=>pe.id||pe.job_id)),ne=ge.jobs.filter(pe=>!O.has(pe.id||pe.job_id));return[...C,...ne]}),T(ge.hasMore),ee(!1)):U===1&&(D([]),T(!1))},[ge,U]);const Ke=m,Xe=j;p.useCallback(()=>{_(!0),y(C=>C+1)},[]),p.useCallback(()=>{R(!0),E(C=>C+1)},[]),p.useCallback(()=>{ee(!0),z(C=>C+1)},[]);const gt=p.useCallback(()=>{const C=new URLSearchParams;V.trim()&&C.set("search",V.trim()),M.countries.length>0&&C.set("countries",M.countries.join(",")),M.skills.length>0&&C.set("skills",M.skills.join(",")),M.jobTypes.length>0&&C.set("jobTypes",M.jobTypes.join(",")),M.isRemote&&C.set("isRemote","true"),M.datePosted&&C.set("datePosted",M.datePosted),M.salaryMin!==void 0&&C.set("salaryMin",String(M.salaryMin)),M.salaryMax!==void 0&&C.set("salaryMax",String(M.salaryMax)),M.salaryByAgreement&&C.set("salaryByAgreement","true"),n(`/jobs/search?${C.toString()}`)},[V,M,n]),I=C=>{Z(C)},Y=C=>{C.key==="Enter"&&gt()},we=Vs({mutationFn:async C=>{if(!e)throw new Error("User not logged in");if(!C.id)throw new Error("Job ID is required");const O=String(C.id);C.is_saved;try{const ne=`${vt.JOBS.SAVE_JOB}${O}/`;await Te.post(ne)}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to save job. Please try again.";throw new Error(pe)}},onSuccess:(C,O)=>{t.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),t.invalidateQueries({queryKey:["profile"]}),ue.success(O.is_saved?"Job Unsaved":"Job Saved")},onError:C=>{console.error("Error saving job:",C);const O=C instanceof Error?C.message:"Failed to save job";ue.error(O)}}),Ae=$.useMemo(()=>{if(!Ke||Ke.length===0)return[];try{return(Ke||[]).map(C=>{const O=C.company&&typeof C.company=="object"?C.company:null,ne=String(C.id||"");if(!ne||ne.trim()==="")return console.warn("Skipping job without valid ID:",C),null;const pe=String(C.title||C.job_title||C.position||"Untitled Position"),Me=String(C.company_name||(O!=null&&O.company_name&&typeof O.company_name=="string"?O.company_name:null)||(O!=null&&O.name&&typeof O.name=="string"?O.name:null)||(C.companyName&&typeof C.companyName=="string"?C.companyName:null)||(C.employer_name&&typeof C.employer_name=="string"?C.employer_name:null)||(typeof C.company=="string"?C.company:null)||"Unknown Company"),Be=C.job_city||C.city||(O==null?void 0:O.city)||"",dt=C.job_state||C.state||(O==null?void 0:O.state)||"",wt=C.job_country||C.country||(O==null?void 0:O.country)||"",oe=String((($e,ut)=>{if($e!=null&&$e.job_is_remote||$e!=null&&$e.is_remote||($e==null?void 0:$e.remote)===!0)return"Remote";const ft=qt=>qt&&typeof qt=="string"&&qt.trim()?qt.trim():null,hr=qt=>{if(!qt||typeof qt!="object")return null;if(ft(qt.display_name))return qt.display_name;if(ft(qt.name))return qt.name;if(ft(qt.location))return qt.location;if(ft(qt.address))return qt.address;const Ya=[qt.city||qt.town||qt.region||qt.state,qt.country].filter(Boolean).map(Sr=>String(Sr));return Ya.length?Ya.join(", "):null};if(Array.isArray($e.locations)&&$e.locations.length>0)for(const qt of $e.locations){const Ya=ft(qt)||hr(qt);if(Ya)return Ya}const Ar=[$e.jobLocation,$e.location,$e.location_name,$e.job_location,$e.work_location,$e.address];for(const qt of Ar){const Ya=ft(qt);if(Ya)return Ya}const Wr=hr($e.location)||hr($e.locationData)||hr($e.job_location)||null;if(Wr)return Wr;if(ut){const qt=ft(ut.location)||ft(ut.address)||hr(ut.location)||null;if(qt)return qt}const Br=[Be,dt,wt].filter(Boolean).map(qt=>String(qt)).join(", ");return Br||"Location not specified"})(C,O)),de=C.apply_url||C.job_apply_link||C.apply_link||C.url||C.applyUrl||C.jobUrl||C.company_url||(O==null?void 0:O.url)||"";let me;!me&&typeof C.company_logo=="string"&&C.company_logo.trim()&&(me=C.company_logo.trim());const Se=$e=>{if(!$e)return!1;if(Array.isArray($e)){for(const ft of $e)if(Se(ft))return!0;return!1}if(typeof $e=="object"){const ft=$e,hr=[ft.url,ft.src,ft.href,ft.logo,ft.image,ft.path,ft.file,ft.thumbnail];for(const Ar of hr)if(Se(Ar))return!0;return!1}const ut=String($e).trim();return ut?ut.startsWith("data:")||ut.startsWith("blob:")?(me=ut,!0):ut.startsWith("//")?(me=`https:${ut}`,!0):ut.startsWith("http://")||ut.startsWith("https://")||ut.startsWith("/")||ut.startsWith("./")||ut.startsWith("../")?(me=ut,!0):!1:!1},Fe=C;if(!me&&Fe.company_logo&&Se(Fe.company_logo),!me&&C.company_logo&&Se(C.company_logo),!me&&Fe.companyLogo&&Se(Fe.companyLogo),!me&&C.companyLogo&&Se(C.companyLogo),!me&&Fe.employer_logo&&Se(Fe.employer_logo),!me&&C.employer_logo&&Se(C.employer_logo),!me&&Fe.logo&&Se(Fe.logo),!me&&C.logo&&Se(C.logo),!me&&Fe.logo_url&&Se(Fe.logo_url),!me&&C.logo_url&&Se(C.logo_url),!me&&Fe.employerLogo&&Se(Fe.employerLogo),!me&&Fe.companyLogoUrl&&Se(Fe.companyLogoUrl),!me&&Fe.logoUrl&&Se(Fe.logoUrl),!me&&O&&(O.logo&&Se(O.logo),!me&&O.logo_url&&Se(O.logo_url),!me&&O.company_logo&&Se(O.company_logo),!me&&O.employer_logo&&Se(O.employer_logo)),!me&&C.employer&&typeof C.employer=="object"){const $e=C.employer;$e.logo&&Se($e.logo),!me&&$e.logo_url&&Se($e.logo_url),!me&&$e.company_logo&&Se($e.company_logo),!me&&$e.employer_logo&&Se($e.employer_logo)}let _t="By agreement";const ot=C.job_min_salary||C.min_salary,be=C.job_max_salary||C.max_salary,Ze=C.job_salary_currency||C.salary_currency||"$",mt=C.job_salary_period||C.salary_period||"yearly";if(ot&&be&&typeof ot=="number"&&typeof be=="number"){const $e=mt==="monthly"?"Monthly":"",ut=ot.toLocaleString(),ft=be.toLocaleString();["$","","","","",""].some(Wr=>Ze.includes(Wr))?_t=`${Ze}${ut} - ${Ze}${ft}${$e?`/${$e}`:""}`:_t=`${ut} - ${ft} ${Ze}${$e?`/${$e}`:""}`}else if(ot&&typeof ot=="number"){const $e=ot.toLocaleString();_t=["$","","","","",""].some(hr=>Ze.includes(hr))?`${Ze}${$e}+`:`${$e}+ ${Ze}`}else C.salary&&typeof C.salary=="string"&&(_t=C.salary);const Ct=C.job_employment_type||C.employment_type||C.type||"FULLTIME",Dt=Ct.toUpperCase(),Pt=Ci[Dt]||Ci[Ct]||Ct||"Full time";let Tt="On-site";C.job_is_remote||C.is_remote||C.remote===!0?Tt="Remote":pe!=null&&pe.toLowerCase().includes("hybrid")&&(Tt="Hybrid");const kt=C_(C),yt=hd(c,kt,pe);return{id:ne,title:pe,company:Me,company_name:C.company_name||C.employer_name||(typeof C.company=="string"?C.company:void 0),location:oe,url:de,company_logo:me,is_saved:X==null?void 0:X.includes(String(ne)),salary:_t,employment_type:Pt,work_arrangement:Tt,matchPercentage:yt}}).filter(C=>C!==null)}catch(C){return console.error("Error transforming jobs:",C),[]}},[Ke,X,c]),Ue=p.useMemo(()=>{console.log(" Processing latest jobs - total jobs:",Ae.length);const O=[...Ae].sort((ne,pe)=>{const Me=m.find(Ot=>(Ot.id||Ot.job_id)===ne.id),Be=m.find(Ot=>(Ot.id||Ot.job_id)===pe.id),dt=(Me==null?void 0:Me.posted_at)||(Me==null?void 0:Me.fetched_at)||(Me==null?void 0:Me.date_posted)||"",wt=(Be==null?void 0:Be.posted_at)||(Be==null?void 0:Be.fetched_at)||(Be==null?void 0:Be.date_posted)||"";if(dt&&wt)try{const Ot=new Date(dt).getTime();return new Date(wt).getTime()-Ot}catch{return 0}return!dt&&wt?1:dt&&!wt?-1:0}).slice(0,9);return console.log(` Displaying ${O.length} latest jobs (no filters applied)`),O},[Ae,m]),We=$.useMemo(()=>{if(!Xe||Xe.length===0)return[];try{return(Xe||[]).map(C=>{const O=C.company&&typeof C.company=="object"?C.company:null,ne=String(C.id||"");if(!ne||ne.trim()==="")return console.warn("Skipping internship job without valid ID:",C),null;const pe=C.title||C.job_title||C.position||"Untitled Position",Me=C.company_name||(O==null?void 0:O.company_name)||(O==null?void 0:O.name)||C.companyName||C.employer_name||(typeof C.company=="string"?C.company:null)||"Unknown Company",Be=C.job_city||C.city||(O==null?void 0:O.city)||"",dt=C.job_state||C.state||(O==null?void 0:O.state)||"",wt=C.job_country||C.country||(O==null?void 0:O.country)||"",Ot=String((C.jobLocation&&typeof C.jobLocation=="string"?C.jobLocation:null)||(C.location&&typeof C.location=="string"?C.location:null)||(O!=null&&O.location&&typeof O.location=="string"?O.location:null)||[Be,dt,wt].filter(Boolean).map(yt=>String(yt)).join(", ")||"Location not specified"),oe=C.applyUrl||C.jobUrl||C.job_apply_link||C.apply_link||C.url||C.apply_url||C.company_url||(O==null?void 0:O.url)||"";let de;!de&&typeof C.company_logo=="string"&&C.company_logo.trim()&&(de=C.company_logo.trim()),!de&&typeof C.company_logo=="string"&&C.company_logo.trim()&&(de=C.company_logo.trim());const me=yt=>{if(!yt)return!1;if(Array.isArray(yt)){for(const ut of yt)if(me(ut))return!0;return!1}if(typeof yt=="object"){const ut=yt,ft=[ut.url,ut.src,ut.href,ut.logo,ut.image,ut.path,ut.file,ut.thumbnail];for(const hr of ft)if(me(hr))return!0;return!1}const $e=String(yt).trim();return $e?$e.startsWith("data:")||$e.startsWith("blob:")?(de=$e,!0):$e.startsWith("//")?(de=`https:${$e}`,!0):$e.startsWith("http://")||$e.startsWith("https://")||$e.startsWith("/")||$e.startsWith("./")||$e.startsWith("../")?(de=$e,!0):!1:!1};!de&&C.companyLogo&&me(C.companyLogo),!de&&C.employer_logo&&me(C.employer_logo),!de&&C.company_logo&&me(C.company_logo),!de&&C.logo&&me(C.logo),!de&&C.logo_url&&me(C.logo_url);const Se=C;if(!de&&Se.companyLogo&&me(Se.companyLogo),!de&&Se.employerLogo&&me(Se.employerLogo),!de&&Se.companyLogoUrl&&me(Se.companyLogoUrl),!de&&Se.logoUrl&&me(Se.logoUrl),!de&&O&&(O.logo&&me(O.logo),!de&&O.logo_url&&me(O.logo_url),!de&&O.company_logo&&me(O.company_logo),!de&&O.employer_logo&&me(O.employer_logo)),!de&&C.employer&&typeof C.employer=="object"){const yt=C.employer;yt.logo&&me(yt.logo),!de&&yt.logo_url&&me(yt.logo_url),!de&&yt.company_logo&&me(yt.company_logo),!de&&yt.employer_logo&&me(yt.employer_logo)}let Fe="By agreement";const _t=C.job_min_salary||C.min_salary,ot=C.job_max_salary||C.max_salary,be=C.job_salary_currency||C.salary_currency||"$",Ze=C.job_salary_period||C.salary_period||"yearly";if(_t&&ot&&typeof _t=="number"&&typeof ot=="number"){const yt=Ze==="monthly"?"Monthly":"",$e=_t.toLocaleString(),ut=ot.toLocaleString();["$","","","","",""].some(Ar=>be.includes(Ar))?Fe=`${be}${$e} - ${be}${ut}${yt?`/${yt}`:""}`:Fe=`${$e} - ${ut} ${be}${yt?`/${yt}`:""}`}else if(_t&&typeof _t=="number"){const yt=_t.toLocaleString();Fe=["$","","","","",""].some(ft=>be.includes(ft))?`${be}${yt}+`:`${yt}+ ${be}`}else C.salary&&typeof C.salary=="string"&&(Fe=C.salary);const mt=C.job_employment_type||C.employment_type||C.type||"INTERN",Ct=mt.toUpperCase(),Dt=Ci[Ct]||Ci[mt]||mt||"Intern";let Pt="On-site";C.job_is_remote||C.is_remote||C.remote===!0?Pt="Remote":pe!=null&&pe.toLowerCase().includes("hybrid")&&(Pt="Hybrid");const Ft=C_(C),kt=hd(c,Ft,pe);return{id:ne,title:pe,company:Me,company_name:C.company_name||C.employer_name||(typeof C.company=="string"?C.company:void 0),location:Ot,url:oe,company_logo:de,is_saved:X==null?void 0:X.includes(String(ne)),salary:Fe,employment_type:Dt,work_arrangement:Pt,matchPercentage:kt}}).filter(C=>C!==null)}catch(C){return console.error("Error transforming internship jobs:",C),[]}},[Xe,X,c]),Ye=p.useMemo(()=>We,[We]),He=$.useMemo(()=>{if(!F||F.length===0)return[];try{return(F||[]).map(C=>{const O=C.company&&typeof C.company=="object"?C.company:null,ne=String(C.id||"");if(!ne||ne.trim()==="")return console.warn("Skipping remote job without valid ID:",C),null;const pe=C.title||C.job_title||C.position||"Untitled Position",Me=C.company_name||(O==null?void 0:O.company_name)||(O==null?void 0:O.name)||C.companyName||C.employer_name||(typeof C.company=="string"?C.company:null)||"Unknown Company",Be=C.job_city||C.city||(O==null?void 0:O.city)||"",dt=C.job_state||C.state||(O==null?void 0:O.state)||"",wt=C.job_country||C.country||(O==null?void 0:O.country)||"",Ot=String((C.jobLocation&&typeof C.jobLocation=="string"?C.jobLocation:null)||(C.location&&typeof C.location=="string"?C.location:null)||(O!=null&&O.location&&typeof O.location=="string"?O.location:null)||[Be,dt,wt].filter(Boolean).map(kt=>String(kt)).join(", ")||"Remote"),oe=C.applyUrl||C.jobUrl||C.job_apply_link||C.apply_link||C.url||C.apply_url||C.company_url||(O==null?void 0:O.url)||"";let de;const me=kt=>{if(!kt)return!1;if(Array.isArray(kt)){for(const $e of kt)if(me($e))return!0;return!1}if(typeof kt=="object"){const $e=kt,ut=[$e.url,$e.src,$e.href,$e.logo,$e.image,$e.path,$e.file,$e.thumbnail];for(const ft of ut)if(me(ft))return!0;return!1}const yt=String(kt).trim();return yt?yt.startsWith("data:")||yt.startsWith("blob:")?(de=yt,!0):yt.startsWith("//")?(de=`https:${yt}`,!0):yt.startsWith("http://")||yt.startsWith("https://")||yt.startsWith("/")||yt.startsWith("./")||yt.startsWith("../")?(de=yt,!0):!1:!1};!de&&C.companyLogo&&me(C.companyLogo),!de&&C.employer_logo&&me(C.employer_logo),!de&&C.company_logo&&me(C.company_logo),!de&&C.logo&&me(C.logo),!de&&C.logo_url&&me(C.logo_url);const Se=C;if(!de&&Se.companyLogo&&me(Se.companyLogo),!de&&Se.employerLogo&&me(Se.employerLogo),!de&&Se.companyLogoUrl&&me(Se.companyLogoUrl),!de&&Se.logoUrl&&me(Se.logoUrl),!de&&O&&(O.logo&&me(O.logo),!de&&O.logo_url&&me(O.logo_url),!de&&O.company_logo&&me(O.company_logo),!de&&O.employer_logo&&me(O.employer_logo)),!de&&C.employer&&typeof C.employer=="object"){const kt=C.employer;kt.logo&&me(kt.logo),!de&&kt.logo_url&&me(kt.logo_url),!de&&kt.company_logo&&me(kt.company_logo),!de&&kt.employer_logo&&me(kt.employer_logo)}let Fe="By agreement";const _t=C.job_min_salary||C.min_salary,ot=C.job_max_salary||C.max_salary,be=C.job_salary_currency||C.salary_currency||"$",Ze=C.job_salary_period||C.salary_period||"yearly";if(_t&&ot&&typeof _t=="number"&&typeof ot=="number"){const kt=Ze==="monthly"?"Monthly":"",yt=_t.toLocaleString(),$e=ot.toLocaleString();["$","","","","",""].some(hr=>be.includes(hr))?Fe=`${be}${yt} - ${be}${$e}${kt?`/${kt}`:""}`:Fe=`${yt} - ${$e} ${be}${kt?`/${kt}`:""}`}else if(_t&&typeof _t=="number"){const kt=_t.toLocaleString();Fe=["$","","","","",""].some(ut=>be.includes(ut))?`${be}${kt}+`:`${kt}+ ${be}`}else C.salary&&typeof C.salary=="string"&&(Fe=C.salary);const mt=C.job_employment_type||C.employment_type||C.type||"FULLTIME",Ct=mt.toUpperCase(),Dt=Ci[Ct]||Ci[mt]||mt||"Full time",Pt="Remote",Tt=C_(C),Ft=hd(c,Tt,pe);return{id:ne,title:pe,company:Me,company_name:C.company_name||C.employer_name||(typeof C.company=="string"?C.company:void 0),location:Ot,url:oe,company_logo:de,is_saved:X==null?void 0:X.includes(String(ne)),salary:Fe,employment_type:Dt,work_arrangement:Pt,matchPercentage:Ft}}).filter(C=>C!==null)}catch(C){return console.error("Error transforming remote jobs:",C),[]}},[F,X,c]),ye=p.useMemo(()=>He,[He]),[Ce,Ee]=p.useState({});p.useEffect(()=>{(async()=>{const ne=[...Ae,...We,...He].filter(dt=>!dt.company_logo&&dt.company_name);if(ne.length===0)return;const pe=ne.map(async dt=>{const wt=await aC(dt.company_name||"",void 0);return{jobId:dt.id,logo:wt}}),Me=await Promise.all(pe),Be={};Me.forEach(({jobId:dt,logo:wt})=>{wt&&(Be[dt]=wt)}),Object.keys(Be).length>0&&Ee(dt=>({...dt,...Be}))})()},[Ae,We,He]);const Oe=Ue.map(C=>({...C,company_logo:C.company_logo||Ce[C.id]||void 0}));Ye.map(C=>({...C,company_logo:C.company_logo||Ce[C.id]||void 0}));const tt=ye.map(C=>({...C,company_logo:C.company_logo||Ce[C.id]||void 0}));p.useEffect(()=>{console.log(" Job API Endpoint: https://breneo-job-aggregator-k7ti.onrender.com/api/search"),console.log(" JobsPage State:",{isLoading:Q,isLoadingInternships:le,isLoadingRemote:he,error:se==null?void 0:se.message,internshipError:ce==null?void 0:ce.message,remoteError:je==null?void 0:je.message,jobsCount:Ke.length,internshipJobsRawCount:Xe.length,transformedJobsCount:Ae.length,transformedInternshipJobsCount:We.length,transformedRemoteJobsCount:He.length,regularJobsCount:Ue.length,internJobsCount:Ye.length,remoteJobsCount:ye.length,regularJobsPage:g,internshipJobsPage:S,remoteJobsPage:U,hasMoreRegularJobs:x,hasMoreInternshipJobs:N,hasMoreRemoteJobs:q,isLoadingMoreRegular:b,isLoadingMoreInternship:A,isLoadingMoreRemote:L})},[Q,le,he,se,ce,je,Ke.length,Xe.length,Ae.length,We.length,He.length,Ue.length,Ye.length,ye.length,g,S,U,x,N,q,b,A,L]);const st=p.useCallback((C,O)=>{const ne=new URLSearchParams;O&&ne.set("search",O),C.countries.length>0&&ne.set("countries",C.countries.join(",")),C.skills.length>0&&ne.set("skills",C.skills.join(",")),C.jobTypes.length>0&&ne.set("jobTypes",C.jobTypes.join(",")),C.isRemote&&ne.set("isRemote","true"),C.datePosted&&ne.set("datePosted",C.datePosted),n(`/jobs/search?${ne.toString()}`)},[n]),bt=C=>{const O={...M,jobTypes:C};G(O),H(O)},at=C=>{const O={...M,isRemote:C};G(O),H(O)},Nt=C=>{const O={...M,skills:M.skills.filter(ne=>ne!==C)};G(O),H(O),st(O,V)},_e=C=>{const O={...M,countries:M.countries.filter(ne=>ne!==C)};G(O),H(O),st(O,V)},De=C=>{const O=M.jobTypes.filter(pe=>pe!==C),ne={...M,jobTypes:O};G(ne),H(ne),st(ne,V)},Re=()=>{const C={...M,isRemote:!1};G(C),H(C),st(C,V)},ze=()=>{console.log(" Applying filters:",ie),G(ie),l(!1),st(ie,V)},re=()=>{const C={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1};H(C),G(C),l(!1)},K=async C=>{try{return(await Ks.fetchActiveJobs({query:C,filters:{country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[C]},page:1,pageSize:50})).jobs.length}catch(O){return console.error(`Error fetching job count for skill ${C}:`,O),0}};return gr({queryKey:["skillJobCounts",c.join(",")],queryFn:async()=>{const C={};return await Promise.all(c.map(async O=>{C[O]=await K(O)})),C},enabled:c.length>0&&!d,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),i.jsxs(Mt,{children:[i.jsx(nC,{}),i.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:i.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border-2 border-breneo-accent dark:border-gray-600 rounded-3xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-2.5 md:py-3 overflow-visible min-h-[3rem]",children:[i.jsx(hn,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),i.jsx(pt,{placeholder:"",value:V,onChange:C=>I(C.target.value),onKeyDown:Y,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),i.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:i.jsx(PW,{selectedWorkTypes:M.jobTypes,onWorkTypesChange:bt,isRemote:M.isRemote,onRemoteChange:at,placeholder:" "})})]}),(()=>{const C=W(M);return i.jsxs(ae,{variant:"outline",size:"icon",onClick:()=>l(!0),className:"h-10 w-10 flex-shrink-0 bg-gray-100 dark:bg-gray-700 border-0 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md ml-2 relative","aria-label":"Filter jobs",children:[i.jsx(IN,{className:"h-4 w-4",strokeWidth:2}),C>0&&i.jsx(rr,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:C})]})})(),i.jsx(ae,{variant:"default",size:"icon",onClick:gt,className:"h-10 w-10 flex-shrink-0 bg-breneo-blue hover:bg-breneo-blue/90 rounded-md ml-2","aria-label":"Search",children:i.jsx(ui,{className:"h-5 w-5 text-white"})})]})}),M.skills.length>0||M.countries.length>0||M.jobTypes.length>0||M.isRemote||M.datePosted||M.salaryMin!==void 0||M.salaryMax!==void 0||M.salaryByAgreement?i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.skills.map(O=>i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:String(O)}),i.jsx("button",{onClick:()=>Nt(O),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${O} filter`,children:i.jsx(ln,{className:"h-4 w-4"})})]},`skill-${O}`)),M.countries.map(O=>{const ne=tn.find(Me=>Me.code===O),pe=ne!=null&&ne.name?String(ne.name):String(O);return i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:pe}),i.jsx("button",{onClick:()=>_e(O),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${pe} filter`,children:i.jsx(ln,{className:"h-4 w-4"})})]},`country-${O}`)}),M.jobTypes.map(O=>{const ne=Ci[O]?String(Ci[O]):String(O);return i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:ne}),i.jsx("button",{onClick:()=>De(O),className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":`Remove ${ne} filter`,children:i.jsx(ln,{className:"h-4 w-4"})})]},`jobType-${O}`)}),M.isRemote&&i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Remote"}),i.jsx("button",{onClick:Re,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Remote filter",children:i.jsx(ln,{className:"h-4 w-4"})})]}),M.datePosted&&i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:M.datePosted==="today"?"Posted Today":M.datePosted==="week"?"Posted This Week":M.datePosted==="month"?"Posted This Month":`Posted: ${M.datePosted}`}),i.jsx("button",{onClick:()=>{const O={...M,datePosted:void 0};G(O),H(O),st(O,V)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Date Posted filter",children:i.jsx(ln,{className:"h-4 w-4"})})]}),(M.salaryMin!==void 0||M.salaryMax!==void 0)&&i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:M.salaryMin!==void 0&&M.salaryMax!==void 0?`$${M.salaryMin} - $${M.salaryMax}`:M.salaryMin!==void 0?`Min: $${M.salaryMin}`:`Max: $${M.salaryMax}`}),i.jsx("button",{onClick:()=>{const O={...M,salaryMin:void 0,salaryMax:void 0};G(O),H(O),st(O,V)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary filter",children:i.jsx(ln,{className:"h-4 w-4"})})]}),M.salaryByAgreement&&i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:"Salary By Agreement"}),i.jsx("button",{onClick:()=>{const O={...M,salaryByAgreement:!1};G(O),H(O),st(O,V)},className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":"Remove Salary By Agreement filter",children:i.jsx(ln,{className:"h-4 w-4"})})]})]})]}):null,(ce||je||se)&&i.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[i.jsx(Ho,{className:"h-5 w-5"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",(se==null?void 0:se.message)||(ce==null?void 0:ce.message)||(je==null?void 0:je.message)]})]}),!Q&&Ue.length>0&&i.jsxs("section",{className:"mb-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Vd,{className:"h-6 w-6 text-breneo-blue"}),i.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Oe.map(C=>i.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl cursor-pointer",onClick:()=>{if(!C.id||String(C.id).trim()==="")return;const O=encodeURIComponent(String(C.id));n(`/jobs/${O}`)},children:i.jsxs(Pe,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[C.company_logo?i.jsx("img",{src:C.company_logo,alt:`${C.company_name||C.company} logo`,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border border-gray-200",loading:"lazy",referrerPolicy:"no-referrer",onError:O=>{const ne=O.target;console.warn(" Logo failed to load:",C.company_logo,ne.src),ne.style.display="none";const pe=ne.nextElementSibling;pe&&(pe.style.display="flex")},onLoad:()=>{}}):null,i.jsx("div",{className:`w-10 h-10 rounded-md bg-breneo-accent flex items-center justify-center ${C.company_logo?"hidden absolute inset-0":""}`,children:i.jsx(hn,{className:"h-5 w-5 text-white"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:C.company_name||C.company}),i.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:C.location})]})]}),i.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:C.title}),i.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[C.employment_type&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:C.employment_type}),C.work_arrangement&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:C.work_arrangement})]}),i.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Gd,{value:C.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),i.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:rk(C.matchPercentage)})]}),i.jsx(ae,{variant:"secondary",size:"icon",onClick:O=>{O.stopPropagation(),we.mutate(C)},"aria-label":C.is_saved?"Unsave job":"Save job",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",C.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:i.jsx(ia,{className:fe("h-4 w-4 transition-colors",C.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},C.id))})]}),Q&&i.jsxs("section",{className:"mb-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Vd,{className:"h-6 w-6 text-breneo-blue"}),i.jsx("h2",{className:"text-lg font-bold",children:"Latest Jobs"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((C,O)=>i.jsx(Ne,{className:"border border-gray-200",children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},O))})]}),!he&&ye.length>0&&i.jsxs("section",{className:"mt-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Cl,{className:"h-6 w-6 text-breneo-blue"}),i.jsx("h2",{className:"text-lg font-bold",children:"Remote Jobs"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:tt.map(C=>i.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl cursor-pointer",onClick:()=>{if(!C.id||String(C.id).trim()==="")return;const O=encodeURIComponent(String(C.id));n(`/jobs/${O}`)},children:i.jsxs(Pe,{className:"px-5 pt-5 pb-4 flex flex-col flex-grow",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[C.company_logo?i.jsx("img",{src:C.company_logo,alt:`${C.company_name||C.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200",loading:"lazy",referrerPolicy:"no-referrer",onError:O=>{const ne=O.target;console.warn(" Logo failed to load:",C.company_logo,ne.src),ne.style.display="none";const pe=ne.nextElementSibling;pe&&(pe.style.display="flex")},onLoad:()=>{}}):null,i.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${C.company_logo?"hidden absolute inset-0":""}`,children:i.jsx(hn,{className:"h-5 w-5 text-white"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:C.company_name||C.company}),i.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:C.location})]})]}),i.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:C.title}),i.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[C.employment_type&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:C.employment_type}),C.work_arrangement&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:C.work_arrangement})]}),i.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Gd,{value:C.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:rk(C.matchPercentage)})]}),i.jsx(ae,{variant:"secondary",size:"icon",onClick:O=>{O.stopPropagation(),we.mutate(C)},"aria-label":C.is_saved?"Unsave job":"Save job",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",C.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:i.jsx(ia,{className:fe("h-4 w-4 transition-colors",C.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]})},C.id))})]})]}),i.jsx(CW,{isOpen:o,onClose:()=>l(!1),filters:ie,onFiltersChange:H,onApply:ze,onClear:re,userTopSkills:c})]})},AW=({selectedLocations:e,onLocationsChange:t,placeholder:r="Location"})=>{const[n,a]=p.useState(!1),[s,o]=p.useState(""),[l,c]=p.useState(e),u=p.useRef(null);p.useEffect(()=>{n&&c(e)},[n,e]),p.useEffect(()=>{const b=S=>{u.current&&!u.current.contains(S.target)&&(a(!1),c(e))},_=S=>{S.key==="Escape"&&(a(!1),c(e))};return n&&(document.addEventListener("mousedown",b),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",b),document.removeEventListener("keydown",_)}},[n,e]);const d=p.useMemo(()=>{if(!s.trim())return tn;const b=s.toLowerCase();return tn.filter(_=>_.name.toLowerCase().includes(b)||_.code.toLowerCase().includes(b))},[s]),f=b=>{l.includes(b)?c(l.filter(_=>_!==b)):c([...l,b])},h=()=>{l.length===d.length?c([]):c(d.map(b=>b.code))},g=()=>{t(l),a(!1)},y=d.length>0&&d.every(b=>l.includes(b.code)),m=p.useMemo(()=>{var _;return e.length===0?r:e.length===1?((_=tn.find(S=>S.code===e[0]))==null?void 0:_.name)||r:e.length>3?`${e.length} countries selected`:e.slice(0,3).map(S=>{var E;return((E=tn.find(j=>j.code===S))==null?void 0:E.name)||S}).join(", ")},[e,r]),v=e.length===0,x=(b,_)=>{b.stopPropagation(),t(e.filter(S=>S!==_))},w=b=>{b.stopPropagation(),t([])};return i.jsxs("div",{className:"relative w-full max-w-full",ref:u,children:[i.jsxs("div",{className:"flex items-center gap-2 w-full min-w-0",children:[i.jsxs("button",{type:"button",onClick:()=>a(!n),className:fe("flex items-center flex-1 min-w-0 h-auto py-0 px-0 text-sm text-left bg-transparent border-0 focus:outline-none focus:ring-0","transition-colors cursor-pointer hover:opacity-80 overflow-hidden",v?"text-gray-400 dark:text-gray-500":"text-gray-900 dark:text-gray-100"),children:[i.jsx(am,{className:"h-4 w-4 md:h-5 md:w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2"}),e.length===0?i.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:r}):i.jsx("span",{className:"flex-1 min-w-0 truncate text-sm overflow-hidden text-ellipsis whitespace-nowrap",children:m})]}),e.length>0&&i.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),e.length===1?x(b,e[0]):w(b)},className:"flex-shrink-0 p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded ml-1 transition-all duration-200 animate-in fade-in-0 zoom-in-95","aria-label":e.length===1?"Remove location":"Remove all locations",children:i.jsx(ln,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 hover:scale-110"})})]}),n&&i.jsxs("div",{className:fe("absolute top-full mt-2 w-[calc(100vw-2rem)] md:w-[400px] rounded-lg shadow-lg border z-[9999] max-h-[500px] flex flex-col overflow-hidden","bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700","min-w-[320px]","left-0 md:right-0 md:left-auto"),children:[i.jsxs("div",{className:fe("flex items-center justify-between px-4 py-3 border-b","border-gray-200 dark:border-gray-700"),children:[i.jsx("h3",{className:fe("font-bold text-base","text-gray-900 dark:text-gray-100"),children:"Countries"}),i.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),a(!1),o("")},className:fe("p-1 rounded transition-colors","hover:bg-gray-100 dark:hover:bg-gray-700"),"aria-label":"Close",children:i.jsx(ln,{className:fe("h-5 w-5","text-gray-900 dark:text-gray-100")})})]}),i.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"relative",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(pt,{type:"text",placeholder:"Search countries...",value:s,onChange:b=>o(b.target.value),onClick:b=>b.stopPropagation(),className:fe("pl-9 pr-3 h-9 text-sm","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700","focus-visible:ring-1 focus-visible:ring-breneo-accent")})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[d.length>0&&i.jsxs("div",{className:fe("flex items-center px-4 py-3 cursor-pointer transition-colors border-b","hover:bg-gray-50 dark:hover:bg-gray-700/50","border-gray-100 dark:border-gray-700"),onClick:b=>{b.stopPropagation(),h()},children:[i.jsx(Zn,{checked:y,onCheckedChange:b=>{if(b)c(d.map(_=>_.code));else{const _=d.map(S=>S.code);c(l.filter(S=>!_.includes(S)))}},className:"mr-3"}),i.jsx("span",{className:fe("text-sm","text-gray-900 dark:text-gray-100"),children:"Select All"})]}),d.length===0?i.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):d.map(b=>{const _=l.includes(b.code);return i.jsxs("div",{className:fe("flex items-center px-4 py-2.5 cursor-pointer transition-colors","hover:bg-gray-50 dark:hover:bg-gray-700/50"),onClick:S=>{S.stopPropagation(),f(b.code)},children:[i.jsx(Zn,{checked:_,onCheckedChange:S=>{c(S?[...l,b.code]:l.filter(E=>E!==b.code))},className:"mr-3"}),i.jsx("span",{className:fe("text-sm flex-1","text-gray-900 dark:text-gray-100"),children:b.name})]},b.code)})]}),i.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex-shrink-0 bg-white dark:bg-gray-800 sticky bottom-0 z-10",children:i.jsx(ae,{onClick:b=>{b.stopPropagation(),g()},className:"w-full",children:"Save"})})]})]})},P_={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern"},ZMe=e=>{const t=[],r=[e.title||e.job_title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||""].join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"]};return Object.keys(n).forEach(a=>{n[a].some(o=>r.includes(o))&&t.push(a)}),[...new Set(t)]},e3e=e=>{if(!e)return new Date().toLocaleDateString("ka-GE");try{const t=new Date(e);return isNaN(t.getTime())?new Date().toLocaleDateString("ka-GE"):t.toLocaleDateString("ka-GE")}catch(t){return console.warn("Error parsing date:",e,t),new Date().toLocaleDateString("ka-GE")}},t3e=()=>{const{user:e}=vr(),t=lr(),r=Wa(),[n,a]=Yx(),s=Ja(),[o,l]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState("desc"),h=Co(),g=n.get("search")||"",y=parseInt(n.get("page")||"1",10),[m,v]=p.useState(()=>{const I=n.get("countries"),Y=n.get("skills"),we=n.get("jobTypes"),Ae=n.get("isRemote"),Ue=n.get("datePosted"),We=n.get("salaryMin"),Ye=n.get("salaryMax"),He=n.get("salaryByAgreement");return{country:"Georgia",countries:I?I.split(",").filter(Boolean):[],jobTypes:we?we.split(",").filter(Boolean):[],isRemote:Ae==="true",datePosted:Ue||void 0,skills:Y?Y.split(",").filter(Boolean):[],salaryMin:We?parseInt(We,10):void 0,salaryMax:Ye?parseInt(Ye,10):void 0,salaryByAgreement:He==="true"}});p.useEffect(()=>{console.log(" JobSearchResultsPage loaded:",{searchTerm:g,page:y,searchParams:n.toString(),activeFilters:m,userTopSkills:c}),console.log(" Job API Endpoint: https://breneo-job-aggregator-k7ti.onrender.com/api/")},[g,y,n,m,c]),p.useEffect(()=>{const I=n.get("countries"),Y=n.get("skills"),we=n.get("jobTypes"),Ae=n.get("isRemote"),Ue=n.get("datePosted"),We=n.get("salaryMin"),Ye=n.get("salaryMax"),He=n.get("salaryByAgreement");v({country:"Georgia",countries:I?I.split(",").filter(Boolean):[],jobTypes:we?we.split(",").filter(Boolean):[],isRemote:Ae==="true",datePosted:Ue||void 0,skills:Y?Y.split(",").filter(Boolean):[],salaryMin:We?parseInt(We,10):void 0,salaryMax:Ye?parseInt(Ye,10):void 0,salaryByAgreement:He==="true"})},[n]);const[x,w]=p.useState(m),b=I=>{let Y=0;return I.countries.length>0&&(Y+=I.countries.length),I.jobTypes.length>0&&(Y+=I.jobTypes.length),I.isRemote&&(Y+=1),I.datePosted&&(Y+=1),I.skills.length>0&&(Y+=I.skills.length),(I.salaryMin!==void 0||I.salaryMax!==void 0)&&(Y+=1),I.salaryByAgreement&&(Y+=1),Y},{data:_=[]}=gr({queryKey:["savedJobs",e==null?void 0:e.id],queryFn:async()=>{var I;if(!e)return[];try{return(((I=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:I.saved_jobs)||[]).map(Ae=>String(Ae))}catch(Y){return console.error("Error fetching saved jobs:",Y),[]}},enabled:!!e});p.useEffect(()=>{(async()=>{if(e)try{try{const we=await Te.get("/api/skilltest/results/");if(we.data&&Array.isArray(we.data)&&we.data.length>0){const Ue=we.data[0].skills_json,We=[];Ue!=null&&Ue.tech&&We.push(...Object.keys(Ue.tech)),Ue!=null&&Ue.soft&&We.push(...Object.keys(Ue.soft));const Ye=We.slice(0,5);u(Ye);return}}catch{console.log("API endpoint not available, trying Supabase...")}const Y=await au(String(e.id));if(Y&&Y.length>0){const we=su(Y),Ue=jb(we,5).map(We=>We.skill);u(Ue)}}catch(Y){console.error("Error fetching user skills:",Y)}})()},[e]);const S=async(I,Y,we,Ae)=>{try{const Ue=Ae.length>0&&Y.skills.length>0&&Ae.every(Ee=>Y.skills.includes(Ee))&&Y.skills.length===Ae.length,We={...Y,skills:Ue?[]:Y.skills},He=We.countries.length>0||We.jobTypes.length>0||We.isRemote||We.datePosted||We.skills.length>0||We.salaryMin!==void 0||We.salaryMax!==void 0||We.salaryByAgreement||I&&I.trim()!==""?50:200,ye=await Ks.fetchActiveJobs({query:I||"",filters:We,page:we,pageSize:He});if(!ye||!Array.isArray(ye.jobs))return{jobs:[],hasMore:!1,total:0};let Ce=ye.jobs.filter(Ee=>{const Oe=String(Ee.id||"");return Oe&&Oe.trim()!==""});return(Y.salaryMin!==void 0||Y.salaryMax!==void 0||Y.salaryByAgreement)&&(Ce=Ce.filter(Ee=>{const Oe=Ee.job_min_salary||Ee.min_salary,tt=Ee.job_max_salary||Ee.max_salary;return Y.salaryByAgreement&&!Oe&&!tt?!0:!Oe&&!tt&&!Y.salaryByAgreement?!(Y.salaryMin!==void 0||Y.salaryMax!==void 0):!(Y.salaryMin!==void 0&&tt&&tt<Y.salaryMin||Y.salaryMax!==void 0&&Oe&&Oe>Y.salaryMax)})),Y.isRemote&&(Ce=Ce.filter(Ee=>Ee.job_is_remote||Ee.is_remote||Ee.remote===!0)),{jobs:Ce,hasMore:ye.hasMore??!1,total:ye.total??Ce.length}}catch(Ue){throw console.error("Error fetching jobs:",Ue),Ue}},E=p.useMemo(()=>JSON.stringify({countries:m.countries.sort(),skills:m.skills.sort(),jobTypes:m.jobTypes.sort(),isRemote:m.isRemote,datePosted:m.datePosted,salaryMin:m.salaryMin,salaryMax:m.salaryMax,salaryByAgreement:m.salaryByAgreement}),[m]),{data:j={jobs:[],hasMore:!1,total:0},isLoading:k,error:N}=gr({queryKey:["job-search",g,E,y,c.join(",")],queryFn:()=>S(g,m,y,c),enabled:!!e,staleTime:5*60*1e3,retry:1}),P=p.useMemo(()=>j.jobs||[],[j.jobs]),A=j.hasMore||!1,R=j.total||P.length,U=p.useMemo(()=>!P||P.length===0?[]:P.map(I=>{const Y=String(I.id||"");if(!Y||Y.trim()==="")return null;const we=I.title||I.job_title||I.position||"Untitled Position",Ae=I.company_name||I.employer_name||(typeof I.company=="string"?I.company:null)||"Unknown Company",Ue=I.job_city||I.city||"",We=I.job_state||I.state||"",Ye=I.job_country||I.country||"",He=I.job_location||I.location||[Ue,We,Ye].filter(Boolean).join(", ")||"Location not specified",ye=I.apply_url||I.job_apply_link||I.apply_link||I.url||"";let Ce;const Ee=ne=>{if(!ne)return!1;const pe=String(ne).trim();if(!pe)return!1;try{if(new URL(pe).protocol.startsWith("http"))return Ce=pe,!0}catch{}return!1},Oe=I;if(!Ce&&Oe.company_logo&&Ee(Oe.company_logo),!Ce&&I.company_logo&&Ee(I.company_logo),!Ce&&Oe.companyLogo&&Ee(Oe.companyLogo),!Ce&&I.companyLogo&&Ee(I.companyLogo),!Ce&&Oe.employer_logo&&Ee(Oe.employer_logo),!Ce&&I.employer_logo&&Ee(I.employer_logo),!Ce&&Oe.logo&&Ee(Oe.logo),!Ce&&I.logo&&Ee(I.logo),!Ce&&Oe.logo_url&&Ee(Oe.logo_url),!Ce&&I.logo_url&&Ee(I.logo_url),!Ce&&Oe.employerLogo&&Ee(Oe.employerLogo),!Ce&&Oe.companyLogoUrl&&Ee(Oe.companyLogoUrl),!Ce&&Oe.logoUrl&&Ee(Oe.logoUrl),!Ce&&I.company&&typeof I.company=="object"){const ne=I.company;ne.logo&&Ee(ne.logo),!Ce&&ne.logo_url&&Ee(ne.logo_url),!Ce&&ne.company_logo&&Ee(ne.company_logo),!Ce&&ne.employer_logo&&Ee(ne.employer_logo)}if(!Ce&&I.employer&&typeof I.employer=="object"){const ne=I.employer;ne.logo&&Ee(ne.logo),!Ce&&ne.logo_url&&Ee(ne.logo_url),!Ce&&ne.company_logo&&Ee(ne.company_logo),!Ce&&ne.employer_logo&&Ee(ne.employer_logo)}let tt="By agreement";const st=I.job_min_salary||I.min_salary,bt=I.job_max_salary||I.max_salary,at=I.job_salary_currency||I.salary_currency||"$",Nt=I.job_salary_period||I.salary_period||"yearly";if(st&&bt&&typeof st=="number"&&typeof bt=="number"){const ne=Nt==="monthly"?"Monthly":"",pe=st.toLocaleString(),Me=bt.toLocaleString();["$","","","","",""].some(wt=>at.includes(wt))?tt=`${at}${pe} - ${at}${Me}${ne?`/${ne}`:""}`:tt=`${pe} - ${Me} ${at}${ne?`/${ne}`:""}`}else if(st&&typeof st=="number"){const ne=st.toLocaleString();tt=["$","","","","",""].some(Be=>at.includes(Be))?`${at}${ne}+`:`${ne}+ ${at}`}else I.salary&&typeof I.salary=="string"&&(tt=I.salary);const _e=I.job_employment_type||I.employment_type||I.type||"FULLTIME",De=P_[_e]||_e||"Full time";let Re="On-site";I.job_is_remote||I.is_remote||I.remote===!0?Re="Remote":we!=null&&we.toLowerCase().includes("hybrid")&&(Re="Hybrid");const re=ZMe(I),K=hd(c,re,we),C=I,O=I.posted_at||I.fetched_at||I.date_posted||I.posted_date||I.job_posted_at_datetime_utc||I.postedAt||I.job_posted_at||C.job_publish_timestamp||C.publish_time||I.created_at||I.published_at||void 0;return{id:Y,title:we,company:Ae,company_name:I.company_name||I.employer_name||(typeof I.company=="string"?I.company:void 0),location:String(He),url:ye,company_logo:Ce,is_saved:_==null?void 0:_.includes(String(Y)),salary:tt,employment_type:De,work_arrangement:Re,matchPercentage:K,datePosted:O,jobSkills:re}}).filter(I=>I!==null),[P,_,c]),z=p.useMemo(()=>[...U].sort((Y,we)=>{if(!Y.datePosted&&!we.datePosted)return 0;if(!Y.datePosted)return 1;if(!we.datePosted)return-1;const Ae=new Date(Y.datePosted).getTime(),Ue=new Date(we.datePosted).getTime();return d==="desc"?Ue-Ae:Ae-Ue}),[U,d]),[F,D]=p.useState({});p.useEffect(()=>{(async()=>{const Y=z.filter(We=>!We.company_logo&&We.company_name);if(Y.length===0)return;const we=Y.map(async We=>{const Ye=await aC(We.company_name||"",void 0);return{jobId:We.id,logo:Ye}}),Ae=await Promise.all(we),Ue={};Ae.forEach(({jobId:We,logo:Ye})=>{Ye&&(Ue[We]=Ye)}),Object.keys(Ue).length>0&&D(We=>({...We,...Ue}))})()},[z]);const q=z.map(I=>({...I,company_logo:I.company_logo||F[I.id]||void 0})),T=Vs({mutationFn:async I=>{if(!e)throw new Error("User not logged in");if(!I.id)throw new Error("Job ID is required");const Y=String(I.id);I.is_saved;try{const we=`${vt.JOBS.SAVE_JOB}${Y}/`;await Te.post(we)}catch(we){const Ae=we instanceof Error?we.message:"Failed to save job. Please try again.";throw new Error(Ae)}},onSuccess:(I,Y)=>{r.invalidateQueries({queryKey:["savedJobs",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["profile"]}),ue.success(Y.is_saved?"Job Unsaved":"Job Saved")},onError:I=>{console.error("Error saving job:",I);const Y=I instanceof Error?I.message:"Failed to save job";ue.error(Y)}}),L=p.useCallback((I,Y,we)=>{const Ae=new URLSearchParams;Y&&Ae.set("search",Y),we>1&&Ae.set("page",String(we)),I.countries.length>0&&Ae.set("countries",I.countries.join(",")),I.skills.length>0&&Ae.set("skills",I.skills.join(",")),I.jobTypes.length>0&&Ae.set("jobTypes",I.jobTypes.join(",")),I.isRemote&&Ae.set("isRemote","true"),I.datePosted&&Ae.set("datePosted",I.datePosted),I.salaryMin!==void 0&&Ae.set("salaryMin",String(I.salaryMin)),I.salaryMax!==void 0&&Ae.set("salaryMax",String(I.salaryMax)),I.salaryByAgreement&&Ae.set("salaryByAgreement","true"),a(Ae,{replace:!0})},[a]),ee=I=>{L(m,I,1)},M=()=>{v(x),L(x,g,1),l(!1)},G=()=>{const I={country:"Georgia",countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},Y=1;w(I),v(I),L(I,g,Y),l(!1)},V=p.useCallback(I=>{const Y={...m,skills:m.skills.filter(we=>we!==I)};v(Y),w(Y),L(Y,g,1)},[m,g,L]),Z=p.useCallback(I=>{const Y={...m,countries:m.countries.filter(we=>we!==I)};v(Y),w(Y),L(Y,g,1)},[m,g,L]),ie=p.useCallback(I=>{const Y=m.jobTypes.filter(Ae=>Ae!==I),we={...m,jobTypes:Y};v(we),w(we),L(we,g,1)},[m,g,L]),H=p.useCallback(()=>{const I={...m,isRemote:!1};v(I),w(I),L(I,g,1)},[m,g,L]),W=()=>{const I=y+1;L(m,g,I),window.scrollTo({top:0,behavior:"smooth"})},X=()=>{const I=Math.max(1,y-1);L(m,g,I),window.scrollTo({top:0,behavior:"smooth"})},B=A&&U.length>0,Q=y>1,se=U.length,J=p.useMemo(()=>{const I=[];if(m.skills.forEach(Y=>{I.push({id:`skill-${Y}`,label:Y,onRemove:()=>V(Y),ariaLabel:`Remove ${Y} filter`})}),m.countries.forEach(Y=>{const we=tn.find(Ue=>Ue.code===Y),Ae=(we==null?void 0:we.name)||Y;I.push({id:`country-${Y}`,label:Ae,onRemove:()=>Z(Y),ariaLabel:`Remove ${Ae} filter`})}),m.jobTypes.forEach(Y=>{I.push({id:`jobType-${Y}`,label:P_[Y]||Y,onRemove:()=>ie(Y),ariaLabel:`Remove ${P_[Y]||Y} filter`})}),m.isRemote&&I.push({id:"remote",label:"Remote",onRemove:H,ariaLabel:"Remove Remote filter"}),m.datePosted){const Y=m.datePosted==="today"?"Posted Today":m.datePosted==="week"?"Posted This Week":m.datePosted==="month"?"Posted This Month":`Posted: ${m.datePosted}`;I.push({id:"datePosted",label:Y,onRemove:()=>{const we={...m,datePosted:void 0};v(we),w(we),L(we,g,1)},ariaLabel:"Remove Date Posted filter"})}if(m.salaryMin!==void 0||m.salaryMax!==void 0){const Y=m.salaryMin!==void 0&&m.salaryMax!==void 0?`$${m.salaryMin} - $${m.salaryMax}`:m.salaryMin!==void 0?`Min: $${m.salaryMin}`:`Max: $${m.salaryMax}`;I.push({id:"salaryRange",label:Y,onRemove:()=>{const we={...m,salaryMin:void 0,salaryMax:void 0};v(we),w(we),L(we,g,1)},ariaLabel:"Remove Salary filter"})}return m.salaryByAgreement&&I.push({id:"salaryByAgreement",label:"Salary By Agreement",onRemove:()=>{const Y={...m,salaryByAgreement:!1};v(Y),w(Y),L(Y,g,1)},ariaLabel:"Remove Salary By Agreement filter"}),I},[m,g,V,Z,ie,H,L]),le=p.useRef(null),[ce,ge]=p.useState(J.length),[he,je]=p.useState(!1);p.useEffect(()=>{if(J.length===0){ge(0),je(!1);return}ge(J.length);const I=()=>{if(!le.current)return;const we=le.current,Ae=we.scrollHeight,Ue=100;if(Ae>Ue){let We=1,Ye=J.length,He=J.length;const ye=document.createElement("div");for(ye.className="flex flex-wrap gap-2",ye.style.position="absolute",ye.style.visibility="hidden",ye.style.width=we.offsetWidth+"px",ye.style.top="-9999px",document.body.appendChild(ye);We<=Ye;){const Ce=Math.floor((We+Ye)/2);ye.innerHTML=J.slice(0,Ce).map(Ee=>`<div class="flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700"><span class="text-sm font-medium whitespace-nowrap">${Ee.label}</span><button><svg class="h-4 w-4"></svg></button></div>`).join(""),ye.scrollHeight<=Ue?(He=Ce,We=Ce+1):Ye=Ce-1}document.body.removeChild(ye),He<J.length?(ge(He),je(!0)):(ge(J.length),je(!1))}else ge(J.length),je(!1)},Y=requestAnimationFrame(()=>{setTimeout(I,0)});return window.addEventListener("resize",I),()=>{cancelAnimationFrame(Y),window.removeEventListener("resize",I)}},[J]);let Ke=1,Xe=se;if(R>0&&se>0){const I=(y-1)*se;Ke=Math.min(I+1,R),Xe=Math.min(I+se,R)}else se>0&&(Ke=1,Xe=se);let gt=null;return R>0&&se>0?gt=Math.ceil(R/se):A?gt=y+1:U.length>0&&(gt=y),i.jsx(Mt,{children:i.jsxs("div",{className:"max-w-7xl mx-auto pt-2 pb-20 md:pb-6 px-2 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border border-gray-300 dark:border-gray-600 rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[i.jsx(hn,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),i.jsx(pt,{type:"text",placeholder:h.jobs.searchPlaceholder,value:g,onChange:I=>ee(I.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!s&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),i.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:i.jsx(PW,{selectedWorkTypes:m.jobTypes,onWorkTypesChange:I=>{const Y={...m,jobTypes:I};v(Y),w(Y),L(Y,g,1)},isRemote:m.isRemote,onRemoteChange:I=>{const Y={...m,isRemote:I};v(Y),w(Y),L(Y,g,1)}})}),i.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),i.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:i.jsx(AW,{selectedLocations:m.countries,onLocationsChange:I=>{const Y={...m,countries:I};v(Y),w(Y),L(Y,g,1)}})})]})]}),(()=>{const I=b(m);return i.jsxs(ae,{variant:"outline",onClick:()=>l(!0),className:"group flex items-center gap-2 bg-transparent border border-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter jobs",children:[i.jsx(IN,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),i.jsx("span",{className:"hidden md:inline text-sm font-medium",children:h.jobs.filters}),I>0&&i.jsx(rr,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:I})]})})()]})}),J.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Active Filters"}),i.jsx("div",{ref:le,className:"flex flex-wrap gap-2",children:J.slice(0,ce).map(I=>i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-[14px] bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:I.label}),i.jsx("button",{onClick:I.onRemove,className:"flex-shrink-0 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-full p-0.5 transition-colors","aria-label":I.ariaLabel,children:i.jsx(ln,{className:"h-4 w-4"})})]},I.id))}),he&&J.length>ce&&i.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[J.length-ce,"+ filters"]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:R>0?`${R} ${h.jobs.vacancies}`:`${U.length} ${h.jobs.vacancies}`})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(ae,{variant:"outline",size:"sm",className:"h-9 px-2 md:px-3",onClick:()=>{f(I=>I==="desc"?"asc":"desc")},children:[i.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:s?d==="desc"?h.jobs.dateDescending:h.jobs.dateAscending:d==="desc"?h.jobs.dateDescendingFull:h.jobs.dateAscendingFull}),d==="desc"?i.jsx(rse,{className:"h-4 w-4 ml-1 md:ml-2"}):i.jsx(nse,{className:"h-4 w-4 ml-1 md:ml-2"})]})})]}),k?i.jsx("div",{className:"space-y-4",children:[...Array(6)].map((I,Y)=>i.jsx(Ne,{className:"border border-gray-200",children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})})},Y))}):N?i.jsx(Ne,{className:"border border-red-200",children:i.jsx(Pe,{className:"p-6 text-center",children:i.jsx("p",{className:"text-red-600",children:h.jobs.errorLoading})})}):U.length===0?i.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[i.jsx("img",{src:"/lovable-uploads/3dicons-travel-front-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),i.jsx("h4",{className:"text-lg font-semibold mb-2",children:h.jobs.noJobs}),i.jsx("p",{className:"text-sm",children:h.jobs.tryAdjustingFilters})]}):i.jsx("div",{className:"space-y-4",children:q.map(I=>i.jsx("div",{className:"group cursor-pointer",onClick:()=>t(`/jobs/${encodeURIComponent(I.id)}`),children:i.jsx(Ne,{className:"border border-gray-200 hover:shadow-md transition-shadow overflow-hidden rounded-lg",children:i.jsx(Pe,{className:s?"px-5 pt-5 pb-4 flex flex-col flex-grow":"p-0",children:s?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsxs("div",{className:"flex-shrink-0 relative w-10 h-10",children:[I.company_logo?i.jsx("img",{src:I.company_logo,alt:`${I.company_name||I.company} logo`,className:"w-10 h-10 rounded-full object-cover border border-gray-200",loading:"lazy",referrerPolicy:"no-referrer",onError:Y=>{const we=Y.target;console.warn(" Logo failed to load:",I.company_logo,we.src),we.style.display="none";const Ae=we.nextElementSibling;Ae&&(Ae.style.display="flex")},onLoad:()=>{}}):null,i.jsx("div",{className:`w-10 h-10 rounded-full bg-breneo-accent flex items-center justify-center ${I.company_logo?"hidden absolute inset-0":""}`,children:i.jsx(hn,{className:"h-5 w-5 text-white"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:I.company_name||I.company}),i.jsx("p",{className:"mt-0.5 text-xs text-gray-500 truncate",children:I.location})]})]}),i.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 min-h-[2.5rem]",children:I.title}),i.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[I.employment_type&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:I.employment_type}),I.work_arrangement&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:I.work_arrangement})]}),i.jsxs("div",{className:"mt-7 flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Gd,{value:I.matchPercentage??0,size:44,strokeWidth:5,showLabel:!1,percentageTextSize:"sm",className:"text-breneo-blue"}),i.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-100",children:rk(I.matchPercentage)})]}),i.jsx(ae,{variant:"secondary",size:"icon",onClick:Y=>{Y.stopPropagation(),T.mutate(I)},"aria-label":I.is_saved?"Unsave job":"Save job",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",I.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:i.jsx(ia,{className:fe("h-4 w-4 transition-colors",I.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})]})]}):i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"flex-1 p-4 pr-2 rounded-l-lg",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[I.company_logo?i.jsx("img",{src:I.company_logo,alt:I.company_name||I.company,className:"w-12 h-12 rounded-md object-cover border border-gray-300 absolute inset-0 z-10",loading:"lazy",referrerPolicy:"no-referrer",onError:Y=>{var Ue;const we=Y.target;console.warn(" Logo failed to load:",I.company_logo,we.src),we.style.display="none";const Ae=(Ue=we.parentElement)==null?void 0:Ue.querySelector(".logo-fallback");Ae&&(Ae.style.display="flex",Ae.style.zIndex="10")},onLoad:()=>{}}):null,i.jsx("div",{className:`w-12 h-12 rounded-md bg-breneo-blue/10 flex items-center justify-center border border-gray-300 logo-fallback absolute inset-0 ${I.company_logo?"z-0":"z-10"}`,style:{display:I.company_logo?"none":"flex"},children:i.jsx(hn,{className:"h-6 w-6 text-breneo-blue"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"mb-1 md:mb-2",children:[i.jsx("h3",{className:"font-normal text-sm text-gray-600 mb-1 line-clamp-1",children:I.company_name||I.company}),i.jsx("h4",{className:"font-bold text-base md:text-lg mb-1 md:mb-2 line-clamp-2 md:line-clamp-3",children:I.title})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(am,{className:"h-4 w-4"}),i.jsx("span",{children:I.location})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Vd,{className:"h-4 w-4"}),i.jsx("span",{children:I.employment_type})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(hn,{className:"h-4 w-4"}),i.jsx("span",{children:I.work_arrangement})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-500",children:e3e(I.datePosted)}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ae,{variant:"secondary",size:"icon",onClick:Y=>{Y.stopPropagation(),T.mutate(I)},"aria-label":I.is_saved?"Unsave job":"Save job",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10",I.is_saved?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:i.jsx(ia,{className:fe("h-4 w-4 transition-colors",I.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})}),i.jsx(ae,{variant:"default",size:"sm",onClick:Y=>{Y.stopPropagation(),I.url?window.open(I.url,"_blank"):t(`/jobs/${encodeURIComponent(I.id)}`)},children:"Apply Now"})]})]})]})]})]})}),I.matchPercentage!==void 0&&I.matchPercentage>0&&i.jsxs("div",{className:"w-56 flex-shrink-0 p-4 flex flex-col items-center justify-center relative rounded-2xl bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100",children:[i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("button",{onClick:Y=>{Y.stopPropagation()},className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:i.jsx("span",{className:"text-lg",children:""})})}),i.jsx("div",{className:"mb-3",children:i.jsx(Gd,{value:I.matchPercentage,size:60,strokeWidth:3,showLabel:!1,percentageTextSize:"lg",className:"justify-center text-green-600"})}),i.jsx("div",{children:i.jsx("p",{className:"text-base font-bold text-center text-gray-800 dark:text-gray-200",children:I.matchPercentage>=70?"GOOD MATCH":I.matchPercentage>=40?"FAIR MATCH":"POOR MATCH"})})]})]})})})},I.id))}),!k&&U.length>0&&i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 pt-6 border-t border-gray-200",children:[i.jsx("div",{className:"text-sm text-gray-600",children:R>0?i.jsxs(i.Fragment,{children:[h.jobs.showing," ",Ke,"-",Math.min(Xe,R)," ",h.jobs.of," ",R," ",h.jobs.vacancies]}):i.jsxs(i.Fragment,{children:[h.jobs.showing," ",U.length," ",h.jobs.vacancies]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ae,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:X,disabled:!Q||k,children:[i.jsx(Mj,{className:"h-4 w-4 mr-1"}),h.jobs.previous]}),i.jsxs("div",{className:"flex items-center gap-1 px-2",children:[i.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[h.jobs.page," ",y]}),gt&&i.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",gt]})]}),i.jsxs(ae,{variant:"outline",size:"sm",className:"h-9 px-4",onClick:W,disabled:!B||k,children:[h.jobs.next,i.jsx(Ma,{className:"h-4 w-4 ml-1"})]})]})]}),i.jsx(CW,{isOpen:o,onClose:()=>l(!1),filters:x,onFiltersChange:w,onApply:M,onClear:G,userTopSkills:c})]})})};async function r3e(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{skills:[]};const r=6e3;let n=t;if(t.length>r){const s=t.lastIndexOf(" ",r);n=s>0?t.substring(0,s)+"...":t.substring(0,r)}try{const s=await n3e(n);if(s&&s.length>0)return{skills:s}}catch(s){console.log("API skill extraction failed:",s)}return{skills:f3(n)}}catch(t){return console.error("Error extracting skills:",t),{skills:f3(e)}}}async function n3e(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job analyst. Your task is to carefully analyze the job description and extract ONLY the skills that are ACTUALLY REQUIRED for this position.

IMPORTANT GUIDELINES:
1. Only extract skills that are explicitly stated as required, necessary, or essential
2. Look for keywords like: "required", "must have", "essential", "necessary", "proficiency in", "experience with", "knowledge of", "familiarity with"
3. DO NOT extract skills that are:
   - Only mentioned in passing or as examples
   - Listed as "nice to have" or "preferred" (unless they're also required)
   - Mentioned in company description or benefits section
   - Generic terms like "communication" unless explicitly required
   - Skills mentioned in "what we offer" or similar sections

4. Extract both technical skills (programming languages, frameworks, tools, technologies) AND soft skills (if explicitly required)
5. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
6. Group related skills appropriately (e.g., "Node.js" not separate "Node" and "js")
7. Return ONLY a JSON array of skill names, nothing else

Think carefully: Is this skill truly required, or just mentioned? Only include skills that candidates MUST have to qualify for this job.

Example output: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Team Leadership"]`},{role:"user",content:`Analyze this job description and extract ONLY the required skills:

${e.substring(0,6e3)}`}],max_tokens:800,temperature:.2})});if(a.ok){const o=((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||"";try{const l=o.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),c=JSON.parse(l);if(Array.isArray(c))return c.filter(u=>typeof u=="string"&&u.trim().length>0)}catch{const c=o.split(`
`).map(d=>d.trim()).filter(Boolean),u=[];for(const d of c){const f=d.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();f&&f.length<50&&u.push(f)}if(u.length>0)return u}}return null}catch{return null}}function f3(e){const t=e.toLowerCase(),r=new Set,n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi","pandas","numpy"],java:["java","spring","spring boot","maven","gradle"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net","asp.net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony","wordpress"],ruby:["ruby","rails","ruby on rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind","bootstrap"],sql:["sql","mysql","postgresql","mongodb","database","nosql"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],"machine learning":["machine learning","ml","deep learning","neural networks"],"data science":["data science","data analysis","data analytics"],"project management":["project management","agile","scrum","kanban"],"ui/ux":["ui/ux","ui design","ux design","user interface","user experience"],figma:["figma"],photoshop:["photoshop","adobe photoshop"],illustrator:["illustrator","adobe illustrator"],communication:["communication","communication skills","verbal communication"],leadership:["leadership","team leadership","lead"],teamwork:["teamwork","collaboration","team player"],"problem solving":["problem solving","problem-solving","analytical"],"time management":["time management","organizational skills"]};for(const[a,s]of Object.entries(n))for(const o of s)if(t.includes(o)){r.add(a);break}return Array.from(r).sort()}async function a3e(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{content:"No responsibilities information available."};try{const n=await o3e(t);if(n&&n.trim())return{content:m3(n.trim())}}catch(n){console.log("API extraction failed:",n)}const r=h3(t);return{content:m3(r)}}catch(t){return console.error("Error extracting responsibilities:",t),{content:h3(e),error:t instanceof Error?t.message:"Unknown error"}}}async function s3e(e){try{const t=e.trim().replace(/\s+/g," ");if(t.length<50)return{content:"No qualifications information available."};try{const n=await i3e(t);if(n&&n.trim())return{content:g3(n.trim())}}catch(n){console.log("API extraction failed:",n)}const r=p3(t);return{content:g3(r)}}catch(t){return console.error("Error extracting qualifications:",t),{content:p3(e),error:t instanceof Error?t.message:"Unknown error"}}}async function o3e(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a job description analyzer. Extract and summarize ONLY the RESPONSIBILITIES, DUTIES, and DAILY TASKS from the job description.

CRITICAL FORMATTING REQUIREMENTS:
- Each responsibility MUST start on a NEW LINE
- Use bullet points () for each item
- Start each bullet point with " " (bullet space)
- Write complete, grammatically correct sentences
- Ensure 100% accuracy - do not add information not in the source text
- Be precise and exact - use the exact wording from the job description when possible

Focus on:
- What the person will do on a daily basis
- Key responsibilities and duties
- Main tasks and activities
- What the role entails

EXCLUDE:
- Qualifications, requirements, skills, education, and experience requirements
- Company information, mission, values
- Only include what the person will DO, not what they need to HAVE

Output format example:
 [First responsibility - complete sentence]
 [Second responsibility - complete sentence]
 [Third responsibility - complete sentence]

If no clear responsibilities are found, return "No specific responsibilities listed."`},{role:"user",content:e.substring(0,6e3)}],max_tokens:800,temperature:.3})});return a.ok&&((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||null}catch{return null}}async function i3e(e){var t,r,n;try{const a=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a job description analyzer. Extract and summarize ONLY the QUALIFICATIONS, REQUIREMENTS, and WHAT CANDIDATES NEED TO HAVE from the job description.

CRITICAL FORMATTING REQUIREMENTS:
- Each qualification MUST start on a NEW LINE
- Use bullet points () for each item
- Start each bullet point with " " (bullet space)
- Write complete, grammatically correct sentences
- Ensure 100% accuracy - do not add information not in the source text
- Be precise and exact - use the exact wording from the job description when possible

Focus on:
- Required skills (technical and soft skills)
- Required experience (years, type)
- Education requirements (degree, certifications)
- Required qualifications and credentials
- What candidates must have or should have

EXCLUDE:
- Responsibilities, duties, and daily tasks
- Company information, mission, values
- Only include what the person needs to HAVE, not what they will DO

Output format example:
 [First qualification - complete sentence]
 [Second qualification - complete sentence]
 [Third qualification - complete sentence]

If no clear qualifications are found, return "No specific qualifications listed."`},{role:"user",content:e.substring(0,6e3)}],max_tokens:800,temperature:.3})});return a.ok&&((n=(r=(t=(await a.json()).choices)==null?void 0:t[0])==null?void 0:r.message)==null?void 0:n.content)||null}catch{return null}}function h3(e){const t=e.match(/[^.!?]+[.!?]+/g)||[e],r=["responsibilities","duties","will","will be","will have","primary","main","develop","design","manage","create","implement","analyze","collaborate","lead","work with","handle","ensure","maintain","build","deliver","support","coordinate","oversee","execute","perform","conduct","provide","assist","participate"],n=t.map((a,s)=>{const o=a.toLowerCase();let l=0;return r.forEach(c=>{const u=new RegExp(`\\b${c}\\b`,"gi"),d=o.match(u);d&&(l+=d.length*5)}),/required|must have|qualification|experience|years|degree|education|certification|skill|proficient/i.test(o)&&!/will|responsibilities|duties/i.test(o)&&(l-=5),/company|organization|founded|established|mission|vision|values|culture|opportunity to|join us/i.test(o)&&(l-=3),{sentence:a.trim(),score:l,index:s}}).filter(a=>a.score>0).sort((a,s)=>s.score-a.score).slice(0,10);return n.sort((a,s)=>a.index-s.index),n.length===0?"No specific responsibilities listed in the job description.":n.map(a=>a.sentence).join(" ")}function p3(e){const t=e.match(/[^.!?]+[.!?]+/g)||[e],r=["required","must have","must","need","should have","qualifications","requirements","experience","years of","degree","education","certification","certified","skills","proficient","expert","knowledge","familiar","expect","looking for","candidate","applicant","ideal candidate","minimum","at least","preferred","bachelor","master","phd","diploma"],n=t.map((a,s)=>{const o=a.toLowerCase();let l=0;return r.forEach(c=>{const u=new RegExp(`\\b${c}\\b`,"gi"),d=o.match(u);d&&(l+=d.length*8)}),/\d+\s*(year|years|yr|yrs|month|months)\s*(of|experience)/i.test(a)&&(l+=10),/javascript|python|java|react|node|sql|typescript|html|css|angular|vue|spring|django|flask|express|mongodb|postgresql|mysql|aws|azure|docker|kubernetes|git|agile|scrum/i.test(a)&&(l+=6),/will|responsibilities|duties|develop|design|manage|create|implement|handle|ensure/i.test(o)&&!/required|must|qualification|experience|skill/i.test(o)&&(l-=5),/company|organization|founded|established|mission|vision|values|culture|opportunity to|join us/i.test(o)&&(l-=3),{sentence:a.trim(),score:l,index:s}}).filter(a=>a.score>0).sort((a,s)=>s.score-a.score).slice(0,10);return n.sort((a,s)=>a.index-s.index),n.length===0?"No specific qualifications listed in the job description.":n.map(a=>a.sentence).join(" ")}function l3e(e){if(!e||e.length<10)return[];const t=new Set,r=e.toLowerCase(),n=["javascript","typescript","python","java","react","angular","vue","node.js","nodejs","express","django","flask","spring","sql","mongodb","postgresql","mysql","aws","azure","docker","kubernetes","git","html","css","sass","scss","tailwind","bootstrap","redux","graphql","rest api","agile","scrum","ci/cd","terraform","jenkins","linux","unix","php","ruby","go","rust","swift","kotlin","c++","c#",".net","machine learning","ai","data science","tableau","power bi","excel","salesforce","figma","adobe","photoshop","illustrator"];return n.forEach(o=>{if(new RegExp(`\\b${o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(r)){const c=o.charAt(0).toUpperCase()+o.slice(1).replace(/\b\w/g,u=>u.toUpperCase());t.add(c)}}),[/(?:proficient|experienced|skilled|knowledge|expertise|familiar|strong)\s+(?:in|with|using)?\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi,/(?:experience|knowledge)\s+(?:with|in|of)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi,/(?:must|should|required)\s+(?:have|be)\s+(?:experience|knowledge|skills?)\s+(?:in|with|using)?\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/gi].forEach(o=>{const l=e.matchAll(o);for(const c of l)c[1]&&c[1].length>2&&c[1].length<50&&t.add(c[1].trim())}),e.split(/[\-*]\s*/).forEach(o=>{const l=o.trim();n.forEach(c=>{if(new RegExp(`\\b${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(l)){const d=c.charAt(0).toUpperCase()+c.slice(1).replace(/\b\w/g,f=>f.toUpperCase());t.add(d)}})}),Array.from(t).sort()}function m3(e){e=e.replace(/([^\n])([\-*]\s+)/g,`$1
$2`),e=e.replace(/^[\s]*[-*]\s+/gm," "),e=e.replace(/([.!?])\s*([]\s+)/g,`$1
$2`),e=e.replace(/(:)\s*([]\s+)/g,`$1
$2`),e=e.replace(/([]\s+[^\n]+?)(\s+[]\s+)/g,`$1
$2`),e=e.replace(/\n{3,}/g,`

`);const t=e.split(`
`),r=[];for(let n=0;n<t.length;n++){const a=t[n].trim();if(a)if(/^[]\s+/.test(a))r.push(a);else if(r.length>0&&!/^[]/.test(r[r.length-1])){const s=r[r.length-1];/[.!?]$/.test(s)?r.push(a):r[r.length-1]=s+" "+a}else r.push(a)}return r.join(`
`).trim()}function g3(e){e=e.replace(/([^\n])([\-*]\s+)/g,`$1
$2`),e=e.replace(/^[\s]*[-*]\s+/gm," "),e=e.replace(/([.!?])\s*([]\s+)/g,`$1
$2`),e=e.replace(/(:)\s*([]\s+)/g,`$1
$2`),e=e.replace(/([]\s+[^\n]+?)(\s+[]\s+)/g,`$1
$2`),e=e.replace(/\n{3,}/g,`

`);const t=e.split(`
`),r=[];for(let n=0;n<t.length;n++){const a=t[n].trim();if(a)if(/^[]\s+/.test(a))r.push(a);else if(r.length>0&&!/^[]/.test(r[r.length-1])){const s=r[r.length-1];/[.!?]$/.test(s)?r.push(a):r[r.length-1]=s+" "+a}else r.push(a)}return r.join(`
`).trim()}function c3e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var u3e="DismissableLayer",BE="dismissableLayer.update",d3e="dismissableLayer.pointerDownOutside",f3e="dismissableLayer.focusOutside",y3,TW=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OW=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(TW),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=xt(t,j=>f(j)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=m3e(j=>{const k=j.target,N=[...u.branches].some(P=>P.contains(k));!_||N||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),E=g3e(j=>{const k=j.target;[...u.branches].some(P=>P.contains(k))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return c3e(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y3=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),v3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=y3)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),v3())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(BE,j),()=>document.removeEventListener(BE,j)},[]),i.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});OW.displayName=u3e;var h3e="DismissableLayerBranch",p3e=p.forwardRef((e,t)=>{const r=p.useContext(TW),n=p.useRef(null),a=xt(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(nt.div,{...e,ref:a})});p3e.displayName=h3e;function m3e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){$W(d3e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function g3e(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&$W(f3e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v3(){const e=new CustomEvent(BE);document.dispatchEvent(e)}function $W(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sg(a,s):a.dispatchEvent(s)}var A_="focusScope.autoFocusOnMount",T_="focusScope.autoFocusOnUnmount",x3={bubbles:!1,cancelable:!0},y3e="FocusScope",RW=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=Jt(a),d=Jt(s),f=p.useRef(null),h=xt(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ri(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ri(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ri(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){w3.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(A_,x3);l.addEventListener(A_,u),l.dispatchEvent(x),x.defaultPrevented||(v3e(S3e(IW(l)),{select:!0}),document.activeElement===m&&Ri(l))}return()=>{l.removeEventListener(A_,u),setTimeout(()=>{const x=new CustomEvent(T_,x3);l.addEventListener(T_,d),l.dispatchEvent(x),x.defaultPrevented||Ri(m??document.body,{select:!0}),l.removeEventListener(T_,d),w3.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=x3e(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Ri(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Ri(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return i.jsx(nt.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});RW.displayName=y3e;function v3e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ri(n,{select:t}),document.activeElement!==r)return}function x3e(e){const t=IW(e),r=b3(t,e),n=b3(t.reverse(),e);return[r,n]}function IW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b3(e,t){for(const r of e)if(!b3e(r,{upTo:t}))return r}function b3e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w3e(e){return e instanceof HTMLInputElement&&"select"in e}function Ri(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&w3e(e)&&t&&e.select()}}var w3=_3e();function _3e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_3(e,t),e.unshift(t)},remove(t){var r;e=_3(e,t),(r=e[0])==null||r.resume()}}}function _3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function S3e(e){return e.filter(t=>t.tagName!=="A")}var j3e="Portal",MW=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);Jr(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tg.createPortal(i.jsx(nt.div,{...n,ref:t}),o):null});MW.displayName=j3e;function k3e(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,E3e(a,...t)]}function E3e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var O_="rovingFocusGroup.onEntryFocus",N3e={bubbles:!1,cancelable:!0},_w="RovingFocusGroup",[UE,LW,C3e]=Cg(_w),[P3e,DW]=k3e(_w,[C3e]),[A3e,T3e]=P3e(_w),FW=p.forwardRef((e,t)=>i.jsx(UE.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(UE.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(O3e,{...e,ref:t})})}));FW.displayName=_w;var O3e=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),g=xt(t,h),y=Mf(s),[m=null,v]=Hs({prop:o,defaultProp:l,onChange:c}),[x,w]=p.useState(!1),b=Jt(u),_=LW(r),S=p.useRef(!1),[E,j]=p.useState(0);return p.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(O_,b),()=>k.removeEventListener(O_,b)},[b]),i.jsx(A3e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:p.useCallback(k=>v(k),[v]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>j(k=>k-1),[]),children:i.jsx(nt.div,{tabIndex:x||E===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{S.current=!0}),onFocus:Le(e.onFocus,k=>{const N=!S.current;if(k.target===k.currentTarget&&N&&!x){const P=new CustomEvent(O_,N3e);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=_().filter(D=>D.focusable),R=A.find(D=>D.active),U=A.find(D=>D.id===m),F=[R,U,...A].filter(Boolean).map(D=>D.ref.current);zW(F,d)}}S.current=!1}),onBlur:Le(e.onBlur,()=>w(!1))})})}),BW="RovingFocusGroupItem",UW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...o}=e,l=Fs(),c=s||l,u=T3e(BW,r),d=u.currentTabStopId===c,f=LW(r),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),i.jsx(UE.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:i.jsx(nt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Le(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:Le(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Le(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=I3e(y,u.orientation,u.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const w=x.indexOf(y.currentTarget);x=u.loop?M3e(x,w+1):x.slice(w+1)}setTimeout(()=>zW(x))}})})})});UW.displayName=BW;var $3e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R3e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function I3e(e,t,r){const n=R3e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $3e[n]}function zW(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function M3e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var L3e=FW,D3e=UW,qW=cb(),$_=function(){},Sw=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:$_,onWheelCapture:$_,onTouchMoveCapture:$_}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=hg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=lb([r,t]),E=dr(dr({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:qW,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:w}),o?p.cloneElement(p.Children.only(l),dr(dr({},E),{ref:S})):p.createElement(x,dr({},E,{className:c,ref:S}),l))});Sw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sw.classNames={fullWidth:Ac,zeroRight:Pc};var zE=!1;if(typeof window<"u")try{var Uy=Object.defineProperty({},"passive",{get:function(){return zE=!0,!0}});window.addEventListener("test",Uy,Uy),window.removeEventListener("test",Uy,Uy)}catch{zE=!1}var Cu=zE?{passive:!1}:!1,F3e=function(e){return e.tagName==="TEXTAREA"},WW=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!F3e(e)&&r[t]==="visible")},B3e=function(e){return WW(e,"overflowY")},U3e=function(e){return WW(e,"overflowX")},S3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=HW(e,n);if(a){var s=VW(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},z3e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},q3e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},HW=function(e,t){return e==="v"?B3e(t):U3e(t)},VW=function(e,t){return e==="v"?z3e(t):q3e(t)},W3e=function(e,t){return e==="h"&&t==="rtl"?-1:1},H3e=function(e,t,r,n,a){var s=W3e(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var g=VW(e,l),y=g[0],m=g[1],v=g[2],x=m-v-s*y;(y||x)&&HW(e,l)&&(f+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},zy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j3=function(e){return[e.deltaX,e.deltaY]},k3=function(e){return e&&"current"in e?e.current:e},V3e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K3e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},G3e=0,Pu=[];function J3e(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(G3e++)[0],s=p.useState(pg)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=ib([e.lockRef.current],(e.shards||[]).map(k3),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=zy(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=S3(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=S3(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return H3e(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!Pu.length||Pu[Pu.length-1]!==s)){var x="deltaY"in v?j3(v):zy(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&V3e(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(k3).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:Y3e(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=zy(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,j3(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,zy(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return Pu.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Cu),document.addEventListener("touchmove",c,Cu),document.addEventListener("touchstart",d,Cu),function(){Pu=Pu.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Cu),document.removeEventListener("touchmove",c,Cu),document.removeEventListener("touchstart",d,Cu)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(s,{styles:K3e(a)}):null,g?p.createElement(fb,{gapMode:e.gapMode}):null)}function Y3e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const X3e=ub(qW,J3e);var KW=p.forwardRef(function(e,t){return p.createElement(Sw,dr({},e,{ref:t,sideCar:X3e}))});KW.classNames=Sw.classNames;var qE=["Enter"," "],Q3e=["ArrowDown","PageUp","Home"],GW=["ArrowUp","PageDown","End"],Z3e=[...Q3e,...GW],e5e={ltr:[...qE,"ArrowRight"],rtl:[...qE,"ArrowLeft"]},t5e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ag="Menu",[Wm,r5e,n5e]=Cg(Ag),[uu,JW]=Ka(Ag,[n5e,Nf,DW]),jw=Nf(),YW=DW(),[a5e,du]=uu(Ag),[s5e,Tg]=uu(Ag),XW=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=jw(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Jt(s),h=Mf(a);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),i.jsx(aF,{...l,children:i.jsx(a5e,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(s5e,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};XW.displayName=Ag;var o5e="MenuAnchor",EP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=jw(r);return i.jsx(dN,{...a,...n,ref:t})});EP.displayName=o5e;var NP="MenuPortal",[i5e,QW]=uu(NP,{forceMount:void 0}),ZW=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=du(NP,t);return i.jsx(i5e,{scope:t,forceMount:r,children:i.jsx(ua,{present:r||s.open,children:i.jsx(MW,{asChild:!0,container:a,children:n})})})};ZW.displayName=NP;var hs="MenuContent",[l5e,CP]=uu(hs),eH=p.forwardRef((e,t)=>{const r=QW(hs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=du(hs,e.__scopeMenu),o=Tg(hs,e.__scopeMenu);return i.jsx(Wm.Provider,{scope:e.__scopeMenu,children:i.jsx(ua,{present:n||s.open,children:i.jsx(Wm.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(c5e,{...a,ref:t}):i.jsx(u5e,{...a,ref:t})})})})}),c5e=p.forwardRef((e,t)=>{const r=du(hs,e.__scopeMenu),n=p.useRef(null),a=xt(t,n);return p.useEffect(()=>{const s=n.current;if(s)return hb(s)},[]),i.jsx(PP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Le(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),u5e=p.forwardRef((e,t)=>{const r=du(hs,e.__scopeMenu);return i.jsx(PP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),PP=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:y,...m}=e,v=du(hs,r),x=Tg(hs,r),w=jw(r),b=YW(r),_=r5e(r),[S,E]=p.useState(null),j=p.useRef(null),k=xt(t,j,v.onContentChange),N=p.useRef(0),P=p.useRef(""),A=p.useRef(0),R=p.useRef(null),U=p.useRef("right"),z=p.useRef(0),F=y?KW:p.Fragment,D=y?{as:jl,allowPinchZoom:!0}:void 0,q=L=>{var W,X;const ee=P.current+L,M=_().filter(B=>!B.disabled),G=document.activeElement,V=(W=M.find(B=>B.ref.current===G))==null?void 0:W.textValue,Z=M.map(B=>B.textValue),ie=_5e(Z,ee,V),H=(X=M.find(B=>B.textValue===ie))==null?void 0:X.ref.current;(function B(Q){P.current=Q,window.clearTimeout(N.current),Q!==""&&(N.current=window.setTimeout(()=>B(""),1e3))})(ee),H&&setTimeout(()=>H.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),pP();const T=p.useCallback(L=>{var M,G;return U.current===((M=R.current)==null?void 0:M.side)&&j5e(L,(G=R.current)==null?void 0:G.area)},[]);return i.jsx(l5e,{scope:r,searchRef:P,onItemEnter:p.useCallback(L=>{T(L)&&L.preventDefault()},[T]),onItemLeave:p.useCallback(L=>{var ee;T(L)||((ee=j.current)==null||ee.focus(),E(null))},[T]),onTriggerLeave:p.useCallback(L=>{T(L)&&L.preventDefault()},[T]),pointerGraceTimerRef:A,onPointerGraceIntentChange:p.useCallback(L=>{R.current=L},[]),children:i.jsx(F,{...D,children:i.jsx(RW,{asChild:!0,trapped:a,onMountAutoFocus:Le(s,L=>{var ee;L.preventDefault(),(ee=j.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(OW,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:i.jsx(L3e,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:E,onEntryFocus:Le(c,L=>{x.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(fN,{role:"menu","aria-orientation":"vertical","data-state":gH(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:Le(m.onKeyDown,L=>{const M=L.target.closest("[data-radix-menu-content]")===L.currentTarget,G=L.ctrlKey||L.altKey||L.metaKey,V=L.key.length===1;M&&(L.key==="Tab"&&L.preventDefault(),!G&&V&&q(L.key));const Z=j.current;if(L.target!==Z||!Z3e.includes(L.key))return;L.preventDefault();const H=_().filter(W=>!W.disabled).map(W=>W.ref.current);GW.includes(L.key)&&H.reverse(),b5e(H)}),onBlur:Le(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(N.current),P.current="")}),onPointerMove:Le(e.onPointerMove,Hm(L=>{const ee=L.target,M=z.current!==L.clientX;if(L.currentTarget.contains(ee)&&M){const G=L.clientX>z.current?"right":"left";U.current=G,z.current=L.clientX}}))})})})})})})});eH.displayName=hs;var d5e="MenuGroup",AP=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(nt.div,{role:"group",...n,ref:t})});AP.displayName=d5e;var f5e="MenuLabel",tH=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(nt.div,{...n,ref:t})});tH.displayName=f5e;var gx="MenuItem",E3="menu.itemSelect",kw=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=p.useRef(null),o=Tg(gx,e.__scopeMenu),l=CP(gx,e.__scopeMenu),c=xt(t,s),u=p.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(E3,{bubbles:!0,cancelable:!0});f.addEventListener(E3,g=>n==null?void 0:n(g),{once:!0}),sg(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(rH,{...a,ref:c,disabled:r,onClick:Le(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Le(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Le(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||qE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});kw.displayName=gx;var rH=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=CP(gx,r),l=YW(r),c=p.useRef(null),u=xt(t,c),[d,f]=p.useState(!1),[h,g]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[s.children]),i.jsx(Wm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(D3e,{asChild:!0,...l,focusable:!n,children:i.jsx(nt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Le(e.onPointerMove,Hm(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(e.onPointerLeave,Hm(y=>o.onItemLeave(y))),onFocus:Le(e.onFocus,()=>f(!0)),onBlur:Le(e.onBlur,()=>f(!1))})})})}),h5e="MenuCheckboxItem",nH=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(lH,{scope:e.__scopeMenu,checked:r,children:i.jsx(kw,{role:"menuitemcheckbox","aria-checked":yx(r)?"mixed":r,...a,ref:t,"data-state":OP(r),onSelect:Le(a.onSelect,()=>n==null?void 0:n(yx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});nH.displayName=h5e;var aH="MenuRadioGroup",[p5e,m5e]=uu(aH,{value:void 0,onValueChange:()=>{}}),sH=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Jt(n);return i.jsx(p5e,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(AP,{...a,ref:t})})});sH.displayName=aH;var oH="MenuRadioItem",iH=p.forwardRef((e,t)=>{const{value:r,...n}=e,a=m5e(oH,e.__scopeMenu),s=r===a.value;return i.jsx(lH,{scope:e.__scopeMenu,checked:s,children:i.jsx(kw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":OP(s),onSelect:Le(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});iH.displayName=oH;var TP="MenuItemIndicator",[lH,g5e]=uu(TP,{checked:!1}),cH=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=g5e(TP,r);return i.jsx(ua,{present:n||yx(s.checked)||s.checked===!0,children:i.jsx(nt.span,{...a,ref:t,"data-state":OP(s.checked)})})});cH.displayName=TP;var y5e="MenuSeparator",uH=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});uH.displayName=y5e;var v5e="MenuArrow",dH=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=jw(r);return i.jsx(hN,{...a,...n,ref:t})});dH.displayName=v5e;var x5e="MenuSub",[RFe,fH]=uu(x5e),tp="MenuSubTrigger",hH=p.forwardRef((e,t)=>{const r=du(tp,e.__scopeMenu),n=Tg(tp,e.__scopeMenu),a=fH(tp,e.__scopeMenu),s=CP(tp,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(EP,{asChild:!0,...u,children:i.jsx(rH,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":gH(r.open),...e,ref:Ux(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Le(e.onPointerMove,Hm(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Le(e.onPointerLeave,Hm(f=>{var g,y;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const m=(y=r.content)==null?void 0:y.dataset.side,v=m==="right",x=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Le(e.onKeyDown,f=>{var g;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||e5e[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});hH.displayName=tp;var pH="MenuSubContent",mH=p.forwardRef((e,t)=>{const r=QW(hs,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=du(hs,e.__scopeMenu),o=Tg(hs,e.__scopeMenu),l=fH(pH,e.__scopeMenu),c=p.useRef(null),u=xt(t,c);return i.jsx(Wm.Provider,{scope:e.__scopeMenu,children:i.jsx(ua,{present:n||s.open,children:i.jsx(Wm.Slot,{scope:e.__scopeMenu,children:i.jsx(PP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Le(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Le(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Le(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=t5e[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});mH.displayName=pH;function gH(e){return e?"open":"closed"}function yx(e){return e==="indeterminate"}function OP(e){return yx(e)?"indeterminate":e?"checked":"unchecked"}function b5e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function w5e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function _5e(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=w5e(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function S5e(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function j5e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return S5e(r,t)}function Hm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var k5e=XW,E5e=EP,N5e=ZW,C5e=eH,P5e=AP,A5e=tH,T5e=kw,O5e=nH,$5e=sH,R5e=iH,I5e=cH,M5e=uH,L5e=dH,D5e=hH,F5e=mH,$P="DropdownMenu",[B5e,IFe]=Ka($P,[JW]),da=JW(),[U5e,yH]=B5e($P),vH=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=da(t),u=p.useRef(null),[d=!1,f]=Hs({prop:a,defaultProp:s,onChange:o});return i.jsx(U5e,{scope:t,triggerId:Fs(),triggerRef:u,contentId:Fs(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(k5e,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};vH.displayName=$P;var xH="DropdownMenuTrigger",bH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=yH(xH,r),o=da(r);return i.jsx(E5e,{asChild:!0,...o,children:i.jsx(nt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ux(t,s.triggerRef),onPointerDown:Le(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Le(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bH.displayName=xH;var z5e="DropdownMenuPortal",wH=e=>{const{__scopeDropdownMenu:t,...r}=e,n=da(t);return i.jsx(N5e,{...n,...r})};wH.displayName=z5e;var _H="DropdownMenuContent",SH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=yH(_H,r),s=da(r),o=p.useRef(!1);return i.jsx(C5e,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Le(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Le(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SH.displayName=_H;var q5e="DropdownMenuGroup",W5e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(P5e,{...a,...n,ref:t})});W5e.displayName=q5e;var H5e="DropdownMenuLabel",jH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(A5e,{...a,...n,ref:t})});jH.displayName=H5e;var V5e="DropdownMenuItem",kH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(T5e,{...a,...n,ref:t})});kH.displayName=V5e;var K5e="DropdownMenuCheckboxItem",EH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(O5e,{...a,...n,ref:t})});EH.displayName=K5e;var G5e="DropdownMenuRadioGroup",J5e=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx($5e,{...a,...n,ref:t})});J5e.displayName=G5e;var Y5e="DropdownMenuRadioItem",NH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(R5e,{...a,...n,ref:t})});NH.displayName=Y5e;var X5e="DropdownMenuItemIndicator",CH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(I5e,{...a,...n,ref:t})});CH.displayName=X5e;var Q5e="DropdownMenuSeparator",PH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(M5e,{...a,...n,ref:t})});PH.displayName=Q5e;var Z5e="DropdownMenuArrow",eLe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(L5e,{...a,...n,ref:t})});eLe.displayName=Z5e;var tLe="DropdownMenuSubTrigger",AH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(D5e,{...a,...n,ref:t})});AH.displayName=tLe;var rLe="DropdownMenuSubContent",TH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return i.jsx(F5e,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TH.displayName=rLe;var nLe=vH,aLe=bH,sLe=wH,OH=SH,$H=jH,RH=kH,IH=EH,MH=NH,LH=CH,DH=PH,FH=AH,BH=TH;const N3=nLe,C3=aLe,oLe=p.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(FH,{ref:a,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(Ma,{className:"ml-auto h-4 w-4"})]}));oLe.displayName=FH.displayName;const iLe=p.forwardRef(({className:e,...t},r)=>i.jsx(BH,{ref:r,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));iLe.displayName=BH.displayName;const WE=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(sLe,{children:i.jsx(OH,{ref:n,sideOffset:t,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));WE.displayName=OH.displayName;const rc=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(RH,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));rc.displayName=RH.displayName;const lLe=p.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(IH,{ref:a,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(LH,{children:i.jsx(nb,{className:"h-4 w-4"})})}),t]}));lLe.displayName=IH.displayName;const cLe=p.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(MH,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(LH,{children:i.jsx(cse,{className:"h-2 w-2 fill-current"})})}),t]}));cLe.displayName=MH.displayName;const uLe=p.forwardRef(({className:e,inset:t,...r},n)=>i.jsx($H,{ref:n,className:fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));uLe.displayName=$H.displayName;const dLe=p.forwardRef(({className:e,...t},r)=>i.jsx(DH,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",e),...t}));dLe.displayName=DH.displayName;const fLe=()=>{const{jobId:e}=Of(),t=e?decodeURIComponent(e):void 0,{user:r}=vr(),n=Wa(),a=lr(),s=Ja(),[o,l]=p.useState(!1),[c,u]=p.useState(!1),d=$.useRef(null),{data:f,isLoading:h,error:g}=gr({queryKey:["jobDetail",t],queryFn:async()=>{var re,K;if(!t)throw new Error("Job ID is required");console.log(" Fetching job details for ID:",t);try{const C=await Ks.fetchJobDetail(t);return console.log(" Job details fetched successfully"),console.log(" Job Title:",C.title||C.job_title),console.log(" Company:",C.company_name||C.employer_name),console.log(" Location:",C.location||C.job_location),console.log(" Description length:",((re=C.description)==null?void 0:re.length)||((K=C.job_description)==null?void 0:K.length)||0),C}catch(C){throw console.error(" Error fetching job details:",C),C}},enabled:!!t,retry:1,retryDelay:1e3}),{data:y=[]}=gr({queryKey:["savedJobs",r==null?void 0:r.id],queryFn:async()=>{var re;if(!r)return[];try{return(((re=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:re.saved_jobs)||[]).map(O=>String(O))}catch(K){return console.error("Error fetching saved jobs from profile API:",K),[]}},enabled:!!r}),m=(f==null?void 0:f.id)||(f==null?void 0:f.job_id)||t||"",v=y==null?void 0:y.includes(String(m)),[x,w]=p.useState(null),[b,_]=p.useState(!1),[S,E]=p.useState(null),[j,k]=p.useState(null),[N,P]=p.useState(!1),[A,R]=p.useState(null),[U,z]=p.useState([]),[F,D]=p.useState([]),[q,T]=p.useState(new Set),[L,ee]=p.useState(!1),[M,G]=p.useState(!1);p.useEffect(()=>{w(null),E(null),_(!1),k(null),R(null),P(!1)},[t]),p.useEffect(()=>{(async()=>{if(!f){w(null),k(null);return}const K=Ae();if(!K||K.length<50){w(null),k(null);return}_(!0),E(null);try{const C=await a3e(K);C.error?(E(C.error),w(null)):w(C.content)}catch(C){console.error("Error extracting responsibilities:",C),E(C instanceof Error?C.message:"Failed to extract responsibilities"),w(null)}finally{_(!1)}P(!0),R(null);try{const C=await s3e(K);if(C.error)R(C.error),k(null),D([]);else{k(C.content);const O=l3e(C.content);D(O),O.length>0&&z(O)}}catch(C){console.error("Error extracting qualifications:",C),R(C instanceof Error?C.message:"Failed to extract qualifications"),k(null),D([])}finally{P(!1)}})()},[f]),p.useEffect(()=>{(async()=>{if(!r){T(new Set);return}G(!0);try{try{const C=await Te.get(`/api/skilltest/results/?user=${r.id}`);let O=null;if(Array.isArray(C.data)&&C.data.length>0?O=C.data[0]:C.data&&typeof C.data=="object"&&(O=C.data),O&&(O.final_role||O.skills_json)){const ne=O.skills_json||{},pe=Object.keys(ne.tech||{}),Me=Object.keys(ne.soft||{}),Be=[...pe,...Me];T(new Set(Be.map(dt=>dt.toLowerCase()))),G(!1);return}}catch{console.log("Django API not available, trying Supabase...")}const K=await au(r.id);if(K&&K.length>0){const C=su(K),O=Object.keys(C).filter(ne=>C[ne]>0);T(new Set(O.map(ne=>ne.toLowerCase())))}else T(new Set)}catch(K){console.error("Error fetching user skills:",K),T(new Set)}finally{G(!1)}})()},[r]),p.useEffect(()=>{(async()=>{if(!f){z([]);return}ee(!0);try{const K=new Set;Ye().forEach(Be=>{K.add(Be.toLowerCase())});const O=Ae(),ne=Ue();let pe="";if(O&&O.length>50&&(pe+=O+`

`),ne&&ne.length>50&&(pe+=`Requirements:
`+ne),pe.length>50){const Be=await r3e(pe);Be.skills&&Be.skills.length>0&&Be.skills.forEach(dt=>{const wt=dt.toLowerCase().trim();wt.length>0&&K.add(wt)})}const Me=Array.from(K).map(Be=>Be.split(/[\s-]+/).map(dt=>dt.charAt(0).toUpperCase()+dt.slice(1)).join(" ")).filter(Be=>Be.length>0).sort();z(Me)}catch(K){console.error("Error extracting job skills:",K);const C=Ye();z(C)}finally{ee(!1)}})()},[f]),p.useEffect(()=>{if(!f){l(!1);return}let re=null,K=null;const C=()=>{const Me=['main[class*="overflow-y-auto"]','main[class*="overflow"]',"main"];for(const Be of Me){const dt=document.querySelector(Be);if(dt)return dt}return null},O=()=>{if(re){const Be=re.scrollTop>100;if(l(Be),s){const Ot=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(oe=>{const de=oe;return de.classList.contains("md:hidden")&&de.classList.contains("z-50")&&de.querySelector("nav.flex.justify-around")!==null});Ot&&(Be?(Ot.style.transform="translateY(100%)",Ot.style.opacity="0"):(Ot.style.transform="translateY(0)",Ot.style.opacity="1"),Ot.style.transition="transform 0.3s ease-in-out, opacity 0.3s ease-in-out")}const dt=re.closest("main");if(dt){const wt=window.getComputedStyle(dt),Ot=parseInt(wt.marginLeft)||0;u(Ot<=100)}}else{const Be=(window.scrollY||document.documentElement.scrollTop)>100;l(Be)}},ne=()=>{re=C(),re?(re.addEventListener("scroll",O,{passive:!0}),O(),K=()=>{re==null||re.removeEventListener("scroll",O)}):(window.addEventListener("scroll",O,{passive:!0}),O(),K=()=>{window.removeEventListener("scroll",O)})};ne();const pe=setTimeout(()=>{re||ne()},300);return()=>{if(clearTimeout(pe),K&&K(),s){const Be=Array.from(document.querySelectorAll(".fixed.bottom-0")).find(dt=>{const wt=dt;return wt.classList.contains("md:hidden")&&wt.classList.contains("z-50")&&wt.querySelector("nav.flex.justify-around")!==null});Be&&(Be.style.transform="",Be.style.opacity="",Be.style.transition="")}}},[f,s]);const V=Vs({mutationFn:async()=>{if(!r)throw new Error("User not logged in");if(!f)throw new Error("Job details not available");try{const re=String(m),K=`${vt.JOBS.SAVE_JOB}${re}/`;await Te.post(K)}catch(re){const K=re instanceof Error?re.message:"Failed to save job. Please try again.";throw new Error(K)}},onSuccess:()=>{n.invalidateQueries({queryKey:["savedJobs",r==null?void 0:r.id]}),n.invalidateQueries({queryKey:["profile"]}),ue.success(v?"Job Unsaved":"Job Saved")},onError:re=>{console.error("Error saving job:",re);const K=re instanceof Error?re.message:"Failed to save job";ue.error(K)}}),Z=()=>{if(!f)return"By agreement";if(f.salary&&typeof f.salary=="string")return f.salary;const re=f.min_salary,K=f.max_salary,C=f.salary_currency||"$",O=f.salary_period||"yearly";if(re&&K&&typeof re=="number"&&typeof K=="number"){const ne=O==="monthly"?"Monthly":"",pe=re.toLocaleString(),Me=K.toLocaleString();return["$","","","","",""].some(wt=>C.includes(wt))?`${C}${pe} - ${C}${Me}${ne?`/${ne}`:""}`:`${pe} - ${Me} ${C}${ne?`/${ne}`:""}`}else if(re&&typeof re=="number"){const ne=re.toLocaleString();return["$","","","","",""].some(Be=>C.includes(Be))?`${C}${ne}+`:`${ne}+ ${C}`}return"By agreement"},ie=()=>{if(!f)return"";const re=f;if(f.apply_url&&typeof f.apply_url=="string")return f.apply_url;const K=f.apply_url||f.job_apply_link||f.url||(re.job_apply_link&&typeof re.job_apply_link=="string"?re.job_apply_link:null)||f.applyUrl||f.applyLink||f.application_url||f.application_link||f.link||"";if(!K&&f.company_info){const C=f.company_info;if(C.apply_url&&typeof C.apply_url=="string")return C.apply_url;if(C.url&&typeof C.url=="string")return C.url}if(!K&&f.company&&typeof f.company=="object"){const C=f.company;if(C.apply_url&&typeof C.apply_url=="string")return C.apply_url;if(C.url&&typeof C.url=="string")return C.url}if(!K&&f.employer&&typeof f.employer=="object"){const C=f.employer;if(C.apply_url&&typeof C.apply_url=="string")return C.apply_url;if(C.url&&typeof C.url=="string")return C.url}return K},H=()=>{if(!f)return"";const re=f;if(f.company_name&&typeof f.company_name=="string"&&f.company_name.trim())return String(f.company_name).trim();if(typeof f.company=="string"&&f.company.trim())return String(f.company).trim();if(f.employer_name&&typeof f.employer_name=="string"&&f.employer_name.trim())return String(f.employer_name).trim();if(re.employer_name&&typeof re.employer_name=="string")return String(re.employer_name).trim();if(f.company_info){const K=f.company_info;if(K.name&&typeof K.name=="string"&&K.name.trim())return String(K.name).trim();if(K.company_name&&typeof K.company_name=="string"&&K.company_name.trim())return String(K.company_name).trim();if(K.employer_name&&typeof K.employer_name=="string"&&K.employer_name.trim())return String(K.employer_name).trim()}if(f.company_name&&typeof f.company_name=="string"&&f.company_name.trim())return String(f.company_name).trim();if(f.employer_name&&typeof f.employer_name=="string"&&f.employer_name.trim())return String(f.employer_name).trim();if(f.company&&typeof f.company=="object"){const K=f.company;if(K.name&&typeof K.name=="string"&&K.name.trim())return String(K.name).trim();if(K.company_name&&typeof K.company_name=="string"&&K.company_name.trim())return String(K.company_name).trim();if(K.employer_name&&typeof K.employer_name=="string"&&K.employer_name.trim())return String(K.employer_name).trim()}if(f.employer&&typeof f.employer=="object"){const K=f.employer;if(K.name&&typeof K.name=="string"&&K.name.trim())return String(K.name).trim();if(K.company_name&&typeof K.company_name=="string"&&K.company_name.trim())return String(K.company_name).trim();if(K.employer_name&&typeof K.employer_name=="string"&&K.employer_name.trim())return String(K.employer_name).trim()}return""},W=()=>{if(!f)return"Untitled Position";const re=f;return f.title||f.job_title||re.title||re.job_title||"Untitled Position"},X=()=>{if(!f)return"Location not specified";const re=f,K=oe=>{if(!oe&&oe!==0)return"";if(typeof oe=="string")return oe;if(typeof oe=="number")return String(oe);if(Array.isArray(oe))return oe.map(de=>String(de)).join(", ");if(typeof oe=="object"){const de=oe;return de.city||de.name||de.label||Object.values(de).filter(Boolean).slice(0,3).map(me=>String(me)).join(", ")||""}return String(oe)},C=f.location??f.job_location;if(C){const oe=K(C);if(oe)return oe}const O=[],ne=re.job_city??f.city??re.city,pe=re.job_state??f.state??re.state,Me=re.job_country??f.country??re.country,Be=K(ne),dt=K(pe),wt=K(Me);return Be&&O.push(Be),dt&&O.push(dt),wt&&O.push(wt),O.length>0?O.join(", "):[f.city,f.state,f.country].map(oe=>K(oe)).filter(Boolean).join(" ").trim()||"Location not specified"},[B,Q]=p.useState(null),[se,J]=p.useState(!1),[le,ce]=p.useState(void 0);p.useEffect(()=>{(async()=>{if(!f){Q(null),ce(void 0);return}const K=H();if(!K||!K.trim()){Q(null),ce(void 0);return}J(!0);try{const O=`https://breneo-job-aggregator-k7ti.onrender.com/api/companies/${encodeURIComponent(K.trim())}`;console.log(" Fetching company details from:",O);const ne=await fetch(O,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(ne.ok){const pe=await ne.json();console.log(" Company details fetched:",pe);const Me={name:pe.name||pe.company_name||K,company_name:pe.company_name||pe.name||K,logo:pe.logo||pe.company_logo||pe.logo_url,company_logo:pe.company_logo||pe.logo||pe.logo_url,logo_url:pe.logo_url||pe.logo||pe.company_logo,website:pe.website||pe.company_url||pe.website_url,company_url:pe.company_url||pe.website||pe.website_url,description:pe.description||pe.company_description,company_description:pe.company_description||pe.description,size:pe.size||pe.company_size,company_size:pe.company_size||pe.size,industry:pe.industry||pe.company_industry,company_industry:pe.company_industry||pe.industry,founded:pe.founded||pe.company_founded,company_founded:pe.company_founded||pe.founded,headquarters:pe.headquarters||pe.company_headquarters,company_headquarters:pe.company_headquarters||pe.headquarters,...pe};Q(Me);const Be=Me.logo||Me.company_logo||Me.logo_url;if(Be&&typeof Be=="string")try{new URL(Be).protocol.startsWith("http")&&ce(Be)}catch{}}else console.log(" Company details not found or API error:",ne.status),Q(null),ce(void 0)}catch(C){console.error(" Error fetching company details:",C),Q(null),ce(void 0)}finally{J(!1)}})()},[f]);const ge=()=>{if(le)return le;if(!f)return;const re=f;if(re.employer_logo&&typeof re.employer_logo=="string"){const K=String(re.employer_logo);try{if(new URL(K).protocol.startsWith("http"))return K}catch{}}if(f.company_logo&&typeof f.company_logo=="string"){const K=String(f.company_logo);try{if(new URL(K).protocol.startsWith("http"))return K}catch{}}if(f.employer_logo&&typeof f.employer_logo=="string"){const K=String(f.employer_logo);try{if(new URL(K).protocol.startsWith("http"))return K}catch{}}if(f.logo_url&&typeof f.logo_url=="string"){const K=String(f.logo_url);try{if(new URL(K).protocol.startsWith("http"))return K}catch{}}if(f.company_info){const K=f.company_info,C=[K.logo,K.company_logo,K.employer_logo,K.logo_url];for(const O of C)if(O&&typeof O=="string"){const ne=String(O);try{if(new URL(ne).protocol.startsWith("http"))return ne}catch{}}}if(f.company&&typeof f.company=="object"){const K=f.company,C=[K.logo,K.company_logo,K.employer_logo,K.logo_url];for(const O of C)if(O&&typeof O=="string"){const ne=String(O);try{if(new URL(ne).protocol.startsWith("http"))return ne}catch{}}}if(f.employer&&typeof f.employer=="object"){const K=f.employer,C=[K.logo,K.company_logo,K.employer_logo,K.logo_url];for(const O of C)if(O&&typeof O=="string"){const ne=String(O);try{if(new URL(ne).protocol.startsWith("http"))return ne}catch{}}}},he=()=>{var K,C,O;if(B!=null&&B.website||B!=null&&B.company_url||B!=null&&B.website_url)return B.website||B.company_url||B.website_url;if(!f)return;const re=((K=f.company_info)==null?void 0:K.website)||((C=f.company_info)==null?void 0:C.company_url)||((O=f.company_info)==null?void 0:O.website_url)||f.company_url;return typeof re=="string"?re:void 0},je=()=>{var re,K;if(B!=null&&B.description||B!=null&&B.company_description)return B.description||B.company_description;if(f)return((re=f.company_info)==null?void 0:re.description)||((K=f.company_info)==null?void 0:K.company_description)||void 0},Ke=()=>{var re,K;if(B!=null&&B.size||B!=null&&B.company_size)return B.size||B.company_size;if(f)return((re=f.company_info)==null?void 0:re.size)||((K=f.company_info)==null?void 0:K.company_size)||void 0},Xe=()=>{var re,K;if(B!=null&&B.industry||B!=null&&B.company_industry)return B.industry||B.company_industry;if(f)return((re=f.company_info)==null?void 0:re.industry)||((K=f.company_info)==null?void 0:K.company_industry)||void 0},gt=()=>{var re,K;if(B!=null&&B.founded||B!=null&&B.company_founded)return B.founded||B.company_founded;if(f)return((re=f.company_info)==null?void 0:re.founded)||((K=f.company_info)==null?void 0:K.company_founded)||void 0},I=()=>{var re,K;if(B!=null&&B.headquarters||B!=null&&B.company_headquarters)return B.headquarters||B.company_headquarters;if(f)return((re=f.company_info)==null?void 0:re.headquarters)||((K=f.company_info)==null?void 0:K.company_headquarters)||void 0},Y=()=>{if(!f)return"Full Time";const re=f;return f.employment_type||f.job_employment_type||re.job_employment_type||"Full Time"},we=()=>{if(!f)return"On-site";const re=f;return f.is_remote||f.remote===!0||re.job_is_remote===!0||re.remote===!0?"Remote":W().toLowerCase().includes("hybrid")?"Hybrid":"On-site"},Ae=()=>{if(!f)return"No description available.";const re=f,K=f.description||f.job_description||re.job_description||void 0;return K?typeof K=="string"?K:Array.isArray(K)?K.map(C=>String(C)).join(`
`):typeof K=="object"?JSON.stringify(K,null,2):String(K):"No description available."},Ue=()=>{if(!f)return;const re=f.requirements||f.job_requirements||f.qualifications||void 0;if(re)return typeof re=="string"?re:Array.isArray(re)?re.map(K=>String(K)).join(`
`):typeof re=="object"?JSON.stringify(re,null,2):String(re)},We=()=>{if(f)return f.required_experience||f.job_required_experience||f.experience||void 0},Ye=()=>{if(!f)return[];const re=f.required_skills||f.skills||f.job_skills||void 0;return typeof re=="string"?re.split(/[,\n]/).map(K=>K.trim()).filter(Boolean):Array.isArray(re)?re.filter(Boolean):[]},He=()=>{if(f)return f.education||f.education_required||f.required_education||void 0},ye=()=>{if(!f)return[];const re=f.benefits||f.job_benefits||f.perks||void 0;if(!re)return[];if(Array.isArray(re))return re.map(K=>String(K)).filter(Boolean);if(typeof re=="string")return re.split(/[\n,;]/).map(K=>K.trim()).filter(Boolean);if(typeof re=="object"){const K=Object.entries(re);return K.every(([C,O])=>typeof O=="boolean")?K.filter(([C,O])=>O===!0).map(([C])=>C):Object.keys(re)}return[]},Ce=re=>{const K=re.toLowerCase().replace(/[_\s-]/g,"");return K.includes("health")||K.includes("medical")||K.includes("insurance")?i.jsx(wse,{className:"h-5 w-5"}):K.includes("dental")?i.jsx(bse,{className:"h-5 w-5"}):K.includes("vision")||K.includes("eye")?i.jsx(Nl,{className:"h-5 w-5"}):K.includes("pto")||K.includes("paidtimeoff")||K.includes("vacation")||K.includes("holiday")?i.jsx(uy,{className:"h-5 w-5"}):K.includes("sick")||K.includes("leave")?i.jsx(ia,{className:"h-5 w-5"}):K.includes("salary")||K.includes("pay")||K.includes("compensation")||K.includes("bonus")?i.jsx(dg,{className:"h-5 w-5"}):K.includes("401k")||K.includes("retirement")||K.includes("pension")?i.jsx(hn,{className:"h-5 w-5"}):K.includes("stock")||K.includes("equity")||K.includes("options")?i.jsx(MN,{className:"h-5 w-5"}):K.includes("remote")||K.includes("workfromhome")||K.includes("wfh")?i.jsx(Dj,{className:"h-5 w-5"}):K.includes("flexible")||K.includes("flex")?i.jsx(Vd,{className:"h-5 w-5"}):K.includes("training")||K.includes("learning")||K.includes("education")||K.includes("development")?i.jsx(Nc,{className:"h-5 w-5"}):K.includes("conference")||K.includes("certification")?i.jsx(kc,{className:"h-5 w-5"}):K.includes("gym")||K.includes("fitness")||K.includes("wellness")?i.jsx(hse,{className:"h-5 w-5"}):K.includes("food")||K.includes("meal")||K.includes("snack")||K.includes("catering")?i.jsx(kse,{className:"h-5 w-5"}):K.includes("coffee")||K.includes("drink")||K.includes("beverage")?i.jsx(fse,{className:"h-5 w-5"}):K.includes("parking")||K.includes("transport")||K.includes("commute")?i.jsx(sse,{className:"h-5 w-5"}):i.jsx(c0,{className:"h-5 w-5"})},Ee=re=>re.replace(/[_-]/g," ").split(" ").map(K=>K.charAt(0).toUpperCase()+K.slice(1).toLowerCase()).join(" "),Oe=()=>{if(f)return f.application_deadline||f.deadline||f.expires_at||f.expiration_date||void 0},tt=re=>{if(re)try{const K=new Date(re);return isNaN(K.getTime())?re:K.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return re}},st=()=>{if(f)return f.job_category||f.category||f.industry||f.job_industry||void 0},bt=()=>window.location.href,at=()=>{if(!f)return"Check out this job!";const re=W(),K=H();return`Check out this ${re} position at ${K}!`},Nt=async()=>{if(!navigator.share)return!1;try{return await navigator.share({title:W(),text:at(),url:bt()}),ue.success("Shared successfully!"),!0}catch(re){return re.name!=="AbortError"&&console.error("Error sharing:",re),!1}},_e=async()=>{try{await navigator.clipboard.writeText(bt()),ue.success("Link copied to clipboard!")}catch(re){console.error("Error copying link:",re),ue.error("Failed to copy link")}},De=()=>{const K=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(bt())}`;window.open(K,"_blank","width=600,height=400")},Re=()=>{const re=encodeURIComponent(bt()),K=encodeURIComponent(W()),C=encodeURIComponent(at()),O=`https://www.linkedin.com/sharing/share-offsite/?url=${re}&title=${K}&summary=${C}`;window.open(O,"_blank","width=600,height=400")},ze=async()=>{navigator.share&&await Nt()};return i.jsxs(Mt,{children:[i.jsxs("div",{ref:d,className:"max-w-5xl mx-auto pt-0 sm:pt-4 pb-40 sm:pb-32 md:pb-24 px-1 sm:px-4 md:px-6",children:[g&&i.jsx(Ne,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-red-700 dark:text-red-400",children:[i.jsx(Ho,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Error loading job details"}),i.jsx("p",{className:"text-sm",children:g.message})]})]})})}),h&&i.jsx("div",{className:"space-y-6",children:i.jsx(Ne,{children:i.jsxs(Pe,{className:"p-6",children:[i.jsx(Mr,{className:"h-8 w-3/4 mb-4"}),i.jsx(Mr,{className:"h-4 w-1/2 mb-6"}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx(Mr,{className:"h-16 w-16 rounded-full"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Mr,{className:"h-5 w-1/3 mb-2"}),i.jsx(Mr,{className:"h-4 w-1/4"})]})]}),i.jsx(Mr,{className:"h-32 w-full"})]})})}),!h&&f&&i.jsx(Ne,{className:"md:bg-card md:border md:shadow-sm bg-transparent border-0 shadow-none",children:i.jsxs(Pe,{className:"p-3 sm:p-6 space-y-8",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[ge()?i.jsx("img",{src:ge(),alt:H()||"Company logo",className:"h-12 w-12 rounded-md object-cover flex-shrink-0"}):i.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500 flex-shrink-0",children:i.jsx(al,{className:"h-6 w-6"})}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[H()&&i.jsx("p",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 truncate",children:H()}),i.jsx("h1",{className:"text-lg md:text-2xl font-semibold text-gray-900 dark:text-white truncate",children:W()})]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[i.jsx(am,{className:"h-4 w-4"}),i.jsx("span",{children:X()})]})}),i.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 md:gap-4 mb-6 text-sm md:text-base font-medium text-gray-700 dark:text-gray-200 overflow-x-auto",children:[i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[i.jsx(vse,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),i.jsx("span",{children:Z()})]}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[i.jsx(Vd,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),i.jsx("span",{children:Y()})]}),i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap",children:[i.jsx(hn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0"}),i.jsx("span",{children:we()})]}),f.posted_at||f.fetched_at||f.date_posted||f.posted_date?i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 whitespace-nowrap text-sm md:text-base font-medium text-gray-700 dark:text-gray-200",children:[i.jsx(uy,{className:"h-3.5 w-3.5 md:h-4 md:w-4 flex-shrink-0 text-gray-700 dark:text-gray-200"}),i.jsx("span",{children:tt(String(f.posted_at||f.fetched_at||f.date_posted||f.posted_date||""))||String(f.posted_at||f.fetched_at||f.date_posted||f.posted_date||"")})]}):null]})]}),i.jsxs("div",{className:"flex flex-row items-start gap-2 md:pt-0",children:[ie()?i.jsx(ae,{variant:"default",size:"sm",onClick:()=>window.open(ie(),"_blank"),children:"Apply Now"}):i.jsx(ae,{disabled:!0,variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Apply Link Not Available"}),i.jsxs("div",{className:"flex flex-row items-start gap-2 ml-auto",children:[r&&i.jsx(ae,{variant:"secondary",size:"icon",onClick:()=>V.mutate(),disabled:V.isPending,"aria-label":v?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:i.jsx(ia,{className:`h-4 w-4 ${v?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s&&navigator.share?i.jsx(ae,{variant:"secondary",size:"icon",onClick:ze,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:i.jsx(dy,{className:"h-4 w-4"})}):i.jsxs(N3,{children:[i.jsx(C3,{asChild:!0,children:i.jsx(ae,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 dark:bg-[#181818] dark:hover:bg-[#252525]",children:i.jsx(dy,{className:"h-4 w-4"})})}),i.jsxs(WE,{align:"end",children:[i.jsxs(rc,{onClick:_e,children:[i.jsx(i$,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Copy Link"})]}),i.jsxs(rc,{onClick:De,children:[i.jsx(l$,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Share on Facebook"})]}),i.jsxs(rc,{onClick:Re,children:[i.jsx(d$,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Share on LinkedIn"})]})]})]})]})]})]})}),i.jsxs("div",{className:"pt-8",children:[i.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:i.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(hn,{className:"h-5 w-5"}),"Responsibilities"]})}),b?i.jsx(Ne,{children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[i.jsx(sl,{className:"h-5 w-5 animate-spin text-breneo-accent"}),i.jsx("p",{className:"text-sm",children:"AI is extracting responsibilities from the job description..."})]})})}):S?i.jsx(Ne,{className:"border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-3 text-red-600 dark:text-red-400",children:[i.jsx(Ho,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"Failed to extract responsibilities"}),i.jsx("p",{className:"text-xs",children:S})]})]})})}):x?i.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",style:{whiteSpace:"pre-line"},children:x.split(`
`).map((re,K)=>{const C=re.trim();return C?/^[\-*]\s/.test(C)?i.jsx("div",{className:"mb-2 ml-4",children:C},K):i.jsx("p",{className:"mb-2",children:C},K):null})}):i.jsx(Ne,{children:i.jsx(Pe,{className:"p-6",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No responsibilities information available for this job."})})})]}),i.jsxs("div",{className:"pt-8",children:[i.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:i.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Nc,{className:"h-5 w-5"}),"Qualifications"]})}),N?i.jsx(Ne,{children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[i.jsx(sl,{className:"h-5 w-5 animate-spin text-breneo-accent"}),i.jsx("p",{className:"text-sm",children:"AI is extracting qualifications from the job description..."})]})})}):A?i.jsx(Ne,{className:"border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900",children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-3 text-red-600 dark:text-red-400",children:[i.jsx(Ho,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"Failed to extract qualifications"}),i.jsx("p",{className:"text-xs",children:A})]})]})})}):j?i.jsxs("div",{className:"space-y-4",children:[r&&(F.length>0||U.length>0)&&i.jsx(Ne,{children:i.jsxs(Pe,{className:"p-6",children:[i.jsx("div",{className:"flex items-center gap-3 mb-4",children:i.jsx("h3",{className:"text-base font-semibold",children:"Skills Match"})}),M?i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[i.jsx(sl,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Loading your skills..."})]}):q.size===0?i.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400 mb-4",children:[i.jsx(Ho,{className:"h-4 w-4"}),i.jsxs("span",{children:["You haven't taken the skill test yet."," ",i.jsx("button",{onClick:()=>a("/skill-test"),className:"underline hover:no-underline font-medium",children:"Take the skill test"})," ","to see your skill match."]})]}):null,i.jsx("div",{className:"flex flex-wrap gap-2",children:(F.length>0?F:U).map((re,K)=>{const C=q.has(re.toLowerCase());return i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${C?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[i.jsx("div",{className:"flex-shrink-0",children:C?i.jsx(Sse,{className:"h-4 w-4 text-white"}):i.jsx(ON,{className:"h-4 w-4"})}),i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:re})]},K)})})]})}),i.jsx("div",{children:i.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert whitespace-pre-line",style:{whiteSpace:"pre-line"},children:j.split(`
`).map((re,K)=>{const C=re.trim();return C?/^[\-*]\s/.test(C)?i.jsx("div",{className:"mb-2 ml-4",children:C},K):i.jsx("p",{className:"mb-2",children:C},K):null})})})]}):i.jsx(Ne,{children:i.jsx(Pe,{className:"p-6",children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No qualifications information available for this job."})})})]}),Ue()&&i.jsxs("div",{className:"pt-8",children:[i.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[i.jsx(_se,{className:"h-5 w-5"}),"Requirements & Qualifications"]}),i.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:(Ue()||"").toString().replace(/\n/g,"<br />")}})]}),(We()||He()||Ye().length>0||st()||Oe())&&i.jsxs("div",{className:"pt-8",children:[i.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[i.jsx(Ec,{className:"h-5 w-5"}),"Job Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[We()&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(hn,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Required Experience"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:We()})]})]}),He()&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Nc,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Education Required"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:He()})]})]}),st()&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(c$,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Category/Industry"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:st()})]})]}),Oe()&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(uy,{className:"h-5 w-5 text-gray-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Application Deadline"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:tt(Oe())||Oe()})]})]})]}),Ye().length>0&&i.jsxs("div",{className:"mt-6 pt-6",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Required Skills"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Ye().map((re,K)=>i.jsxs(rr,{variant:"secondary",className:"flex items-center gap-1",children:[i.jsx(kc,{className:"h-3 w-3"}),re]},K))})]})]}),ye().length>0&&i.jsxs("div",{className:"pt-8",children:[i.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold mb-4",children:[i.jsx(c0,{className:"h-5 w-5"}),"Benefits & Perks"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ye().map((re,K)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-3xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0 text-breneo-accent",children:Ce(re)}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Ee(re)})]},K))})]}),i.jsxs("div",{className:"pt-8 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:i.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(al,{className:"h-5 w-5"}),"Company Details"]})}),se?i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl",children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-400",children:[i.jsx(sl,{className:"h-5 w-5 animate-spin text-breneo-accent"}),i.jsx("p",{className:"text-sm",children:"Loading company information..."})]})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl overflow-hidden",children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex-shrink-0 relative",children:[ge()?i.jsx("img",{src:ge(),alt:H()||"Company logo",className:"h-20 w-20 rounded-2xl object-cover border border-gray-200 dark:border-gray-700 shadow-sm",onError:re=>{re.target.style.display="none";const K=re.target.nextElementSibling;K&&(K.style.display="flex")}}):null,i.jsx("div",{className:`h-20 w-20 rounded-2xl bg-gradient-to-br from-breneo-accent to-breneo-blue flex items-center justify-center text-white shadow-sm ${ge()?"hidden":"flex"}`,children:i.jsx(al,{className:"h-10 w-10"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 truncate",children:H()||"Company Name Not Available"}),he()&&i.jsxs("a",{href:he(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-breneo-accent hover:text-breneo-blue transition-colors font-medium",children:[i.jsx(Cl,{className:"h-4 w-4"}),"Visit Website",i.jsx(Hc,{className:"h-3.5 w-3.5"})]})]})]})})}),je()&&i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl",children:i.jsxs(Pe,{className:"p-6",children:[i.jsxs("h4",{className:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[i.jsx(pse,{className:"h-4 w-4 text-breneo-accent"}),"About ",H()]}),i.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed whitespace-pre-line",children:je()})})]})}),(Ke()||Xe()||gt()||I())&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ke()&&i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl hover:shadow-md transition-shadow",children:i.jsx(Pe,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 p-3 rounded-2xl bg-breneo-accent/10 dark:bg-breneo-accent/20",children:i.jsx(LN,{className:"h-6 w-6 text-breneo-accent"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Company Size"}),i.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:Ke()})]})]})})}),Xe()&&i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl hover:shadow-md transition-shadow",children:i.jsx(Pe,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 p-3 rounded-2xl bg-breneo-accent/10 dark:bg-breneo-accent/20",children:i.jsx(c$,{className:"h-6 w-6 text-breneo-accent"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Industry"}),i.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:Xe()})]})]})})}),gt()&&i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl hover:shadow-md transition-shadow",children:i.jsx(Pe,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 p-3 rounded-2xl bg-breneo-accent/10 dark:bg-breneo-accent/20",children:i.jsx(uy,{className:"h-6 w-6 text-breneo-accent"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Founded"}),i.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:gt()})]})]})})}),I()&&i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl hover:shadow-md transition-shadow",children:i.jsx(Pe,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 p-3 rounded-2xl bg-breneo-accent/10 dark:bg-breneo-accent/20",children:i.jsx(am,{className:"h-6 w-6 text-breneo-accent"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Headquarters"}),i.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:I()})]})]})})})]}),!je()&&!Ke()&&!Xe()&&!gt()&&!I()&&!se&&i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 rounded-3xl",children:i.jsxs(Pe,{className:"p-6 text-center",children:[i.jsx(al,{className:"h-12 w-12 text-gray-400 dark:text-gray-500 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Additional company information is not available at this time."})]})})]})]})]})}),!h&&!f&&!g&&i.jsx(Ne,{children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(Ho,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"font-semibold mb-2",children:"No job details found"}),i.jsxs("p",{className:"text-sm",children:["Job ID: ",t||"Not provided"]}),i.jsx("p",{className:"text-sm mt-2",children:"The API may not have returned data for this job."}),i.jsx(ae,{onClick:()=>{n.invalidateQueries({queryKey:["jobDetail",t]})},variant:"outline",className:"mt-4",children:"Retry"})]})})})]}),f&&i.jsx("div",{className:fe("fixed bottom-0 right-0 z-[60]","bg-[#F8F9FA] dark:bg-[#181818]","border-t border-black/[0.03] dark:border-white/[0.03]","shadow-lg transition-all duration-300 ease-in-out",c?"md:left-24":"md:left-[17rem]","left-0",o?"opacity-100 translate-y-0":"opacity-0 translate-y-full pointer-events-none"),children:i.jsx("div",{className:"px-5 sm:px-9 md:px-12 lg:px-14 py-4",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:W()}),H()&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:H()})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r&&i.jsx(ae,{variant:"secondary",size:"icon",onClick:()=>V.mutate(),disabled:V.isPending,"aria-label":v?"Unsave job":"Save job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:i.jsx(ia,{className:`h-4 w-4 ${v?"text-red-500 fill-red-500 animate-heart-pop":""}`})}),s&&navigator.share?i.jsx(ae,{variant:"secondary",size:"icon",onClick:ze,"aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:i.jsx(dy,{className:"h-4 w-4"})}):i.jsxs(N3,{children:[i.jsx(C3,{asChild:!0,children:i.jsx(ae,{variant:"secondary",size:"icon","aria-label":"Share job",className:"h-10 w-10 [&_svg]:size-4 bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70",children:i.jsx(dy,{className:"h-4 w-4"})})}),i.jsxs(WE,{align:"end",children:[i.jsxs(rc,{onClick:_e,children:[i.jsx(i$,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Copy Link"})]}),i.jsxs(rc,{onClick:De,children:[i.jsx(l$,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Share on Facebook"})]}),i.jsxs(rc,{onClick:Re,children:[i.jsx(d$,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Share on LinkedIn"})]})]})]}),ie()?i.jsx(ae,{variant:"default",size:"sm",onClick:()=>window.open(ie(),"_blank"),className:"whitespace-nowrap",children:"Apply Now"}):i.jsx(ae,{disabled:!0,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Apply Unavailable"})]})]})})})]})},P3=["javascript","typescript","python","java","c++","c#","go","rust","php","ruby","swift","kotlin","scala","r","dart","perl","react","angular","vue","node.js","nodejs","express","django","flask","spring","laravel","rails","next.js","nuxt","svelte","html","css","sass","scss","tailwind","bootstrap","webpack","vite","sql","mysql","postgresql","mongodb","redis","cassandra","elasticsearch","database","dba","aws","azure","gcp","google cloud","docker","kubernetes","k8s","terraform","ansible","jenkins","ci/cd","devops","sre","cloud","software engineer","software developer","programmer","developer","programming","coding","coder","full stack","fullstack","frontend","front-end","backend","back-end","web developer","mobile developer","ios developer","android developer","react native","flutter","data scientist","data engineer","data analyst","machine learning","ml engineer","ai engineer","artificial intelligence","deep learning","neural network","computer vision","nlp","natural language processing","cybersecurity","security engineer","penetration testing","ethical hacker","information security","qa engineer","test engineer","automation engineer","sdet","quality assurance","testing","test automation","system administrator","sysadmin","network engineer","infrastructure engineer","site reliability","product manager","technical product manager","ux designer","ui designer","product designer","interaction designer","api","rest api","graphql","microservices","agile","scrum","git","github","gitlab","bitbucket","jira","confluence","code review","version control","tech","technology","software","saas","platform","startup","fintech","edtech","healthtech"],hLe=["sales","marketing","accountant","accounting","finance","banking","insurance","real estate","retail","cashier","waiter","waitress","chef","cook","nurse","doctor","physician","teacher","instructor","tutor","lawyer","attorney","legal","driver","delivery","warehouse","factory","manufacturing","construction","plumber","electrician","mechanic","barber","hairdresser","beauty","fitness","trainer","coach","therapist","counselor","social worker","customer service","call center","receptionist","administrative","secretary","reception","cleaning","janitor","maintenance","security guard","guard","officer"],pLe=e=>{const t=[e.job_title||e.title||"",e.description||"",e.job_description||"",e.job_required_experience||e.required_experience||"",e.employer_name||e.company_name||"",typeof e.company=="string"?e.company:""].join(" ").toLowerCase();return hLe.some(a=>t.includes(a.toLowerCase()))?!!P3.some(s=>{const o=s.toLowerCase(),l=(e.job_title||e.title||"").length,c=typeof e.description=="string"?e.description.length:0,u=typeof e.job_description=="string"?e.job_description.length:0;return t.includes(o)&&t.indexOf(o)<l+c+u}):P3.some(a=>t.includes(a.toLowerCase()))},mLe=e=>e.filter(pLe),A3=["ashby","bamboohr","breezy","breezyhr","careerplug","comeet","cornerstoneondemand","csod","dayforce","eightfold","freshteam","gohire","greenhouse","hirehive","hiringthing","icims","jazzhr","jobvite","join.com","lever","lever.co","oraclecloud","oracle","paycom","paylocity","personio","phenompeople","phenom","pinpoint","polymer","recooty","recruitee","rippling","smartrecruiters","successfactors","taleo","teamtailor","trakstar","workable","workday","ziprecruiter","zohorecruit","zoho"],gLe=e=>{const t=[];return[e.job_apply_link,e.apply_link,e.url,e.apply_url,e.applyUrl,e.applyLink,e.application_url,e.application_link,e.link,e.company_url,e.website_url,e.jobUrl].forEach(n=>{n&&typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase())}),t},yLe=e=>{if(!e||typeof e!="string")return!1;try{let t="";if(e.startsWith("http://")||e.startsWith("https://"))t=new URL(e).hostname.toLowerCase();else{const s=e.match(/(?:https?:\/\/)?(?:www\.)?([^/\s]+)/);s?t=s[1].toLowerCase():t=e.toLowerCase()}return t=t.replace(/^www\./,""),A3.some(s=>t.includes(s.toLowerCase()))?!0:[/\/careers?/i,/\/jobs?/i,/careers?\./i,/jobs?\./i,/\/apply/i,/\/openings/i,/\/positions/i].some(s=>e.match(s))}catch{const r=e.toLowerCase();return A3.some(n=>r.includes(n.toLowerCase()))}},vLe=e=>{const t=gLe(e);return t.length===0?!1:t.some(r=>yLe(r))},Ew=e=>e.filter(vLe),T3={FULLTIME:"Full Time",PARTTIME:"Part Time",CONTRACTOR:"Contractor",INTERN:"Intern",INTERNSHIP:"Internship"},xLe=async(e,t=1)=>{var r;try{console.log(` fetchCompanyJobs called - fetching jobs for company: ${e}, page ${t}`);const n=await Ks.fetchActiveJobs({query:e,filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:t,pageSize:50});if(console.log(" fetchCompanyJobs response:",{totalJobs:((r=n.jobs)==null?void 0:r.length)||0,hasMore:n.hasMore,searchCompany:e}),!n||!Array.isArray(n.jobs))return console.warn("Invalid response format from job service:",n),{jobs:[],hasMore:!1,total:0};const a=n.jobs.filter(o=>{const l=o.company&&typeof o.company=="object"?o.company:null,c=(l==null?void 0:l.name)||(l==null?void 0:l.company_name)||o.companyName||o.employer_name||o.company_name||(typeof o.company=="string"?o.company:null)||"";if(!c||c.trim()==="")return!1;const u=c.trim().toLowerCase(),d=e.trim().toLowerCase();return u===d||u.includes(d)||d.includes(u)||u.replace(/\s+/g,"")===d.replace(/\s+/g,"")});console.log(" Filtered company jobs:",{beforeFilter:n.jobs.length,afterCompanyFilter:a.length,searchCompany:e,sampleCompanies:a.slice(0,3).map(o=>{const l=o.company&&typeof o.company=="object"?o.company:null;return(l==null?void 0:l.name)||o.employer_name||o.company_name||(typeof o.company=="string"?o.company:null)||"Unknown"})});const s=a.filter(o=>{const l=o.job_id||o.id;return l&&l.trim()!==""});if(console.log(` Final valid jobs for ${e}:`,s.length),s.length===0&&t===1){console.log(" No jobs found with company name search, trying broader search...");try{const o=await Ks.fetchActiveJobs({query:"",filters:{country:void 0,countries:[],jobTypes:[],isRemote:void 0,datePosted:void 0,skills:[],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:void 0},page:1,pageSize:100});if(o&&Array.isArray(o.jobs)){const c=o.jobs.filter(u=>{const d=u.company&&typeof u.company=="object"?u.company:null,f=(d==null?void 0:d.name)||(d==null?void 0:d.company_name)||u.companyName||u.employer_name||u.company_name||(typeof u.company=="string"?u.company:null)||"";if(!f||f.trim()==="")return!1;const h=f.trim().toLowerCase(),g=e.trim().toLowerCase();return h===g||h.includes(g)||g.includes(h)||h.replace(/\s+/g,"")===g.replace(/\s+/g,"")}).filter(u=>{const d=u.job_id||u.id;return d&&d.trim()!==""});return console.log(` Broader search found ${c.length} jobs for ${e}`),{jobs:c,hasMore:!1,total:c.length}}}catch(o){console.error("Error in broader search:",o)}}return{jobs:s,hasMore:n.hasMore??!1,total:s.length}}catch(n){return console.error("Error fetching company jobs:",n),{jobs:[],hasMore:!1,total:0}}},bLe=()=>{var E,j;const{companyName:e}=Of(),{user:t}=vr(),r=Wa(),n=lr(),[a,s]=p.useState(1),[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=e?decodeURIComponent(e):"",{data:g=[]}=gr({queryKey:["savedJobs",t==null?void 0:t.id],queryFn:async()=>{var k;if(!t)return[];try{return(((k=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:k.saved_jobs)||[]).map(A=>String(A))}catch(N){return console.error("Error fetching saved jobs:",N),[]}},enabled:!!t}),{data:y={jobs:[],hasMore:!1,total:0},isLoading:m,error:v}=gr({queryKey:["companyJobs",h,a],queryFn:()=>xLe(h,a),enabled:!!h,refetchOnWindowFocus:!1,staleTime:5*60*1e3});p.useEffect(()=>{if(y.jobs&&y.jobs.length>0){const k=Ew(y.jobs),N=mLe(k);l(a===1?N:P=>{const A=new Set(P.map(U=>U.job_id||U.id)),R=N.filter(U=>!A.has(U.job_id||U.id));return[...P,...R]}),u(y.hasMore),f(!1)}else a===1&&(l([]),u(!1))},[y,a]);const x=Vs({mutationFn:async k=>{if(!t)throw new Error("User not logged in");if(!k.id)throw new Error("Job ID is required");const N=String(k.id),P=`${vt.JOBS.SAVE_JOB}${N}/`;await Te.post(P)},onSuccess:(k,N)=>{r.invalidateQueries({queryKey:["savedJobs",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["profile"]}),ue.success(N.is_saved?"Job Unsaved":"Job Saved")},onError:k=>{console.error("Error saving job:",k),ue.error("Failed to save job")}}),w=p.useMemo(()=>!o||o.length===0?[]:o.map(k=>{const N=k.company&&typeof k.company=="object"?k.company:null,P=k.job_id||k.id||"";if(!P||P.trim()==="")return null;const A=k.job_title||k.title||k.position||"Untitled Position",R=(N==null?void 0:N.name)||(N==null?void 0:N.company_name)||k.companyName||k.employer_name||k.company_name||(typeof k.company=="string"?k.company:null)||"Unknown Company",U=k.job_city||k.city||(N==null?void 0:N.city)||"",z=k.job_state||k.state||(N==null?void 0:N.state)||"",F=k.job_country||k.country||(N==null?void 0:N.country)||"",D=k.jobLocation||k.location||(N==null?void 0:N.location)||[U,z,F].filter(Boolean).join(", ")||"Location not specified",q=k.applyUrl||k.jobUrl||k.job_apply_link||k.apply_link||k.url||k.apply_url||k.company_url||(N==null?void 0:N.url)||"";let T;if(k.companyLogo&&(T=k.companyLogo),!T&&k.employer_logo&&(T=k.employer_logo),!T&&k.company_logo&&(T=k.company_logo),!T&&k.logo&&(T=k.logo),!T&&k.logo_url&&(T=k.logo_url),!T&&N&&(N.logo&&(T=N.logo),!T&&N.logo_url&&(T=N.logo_url),!T&&N.company_logo&&(T=N.company_logo)),T)try{new URL(T).protocol.startsWith("http")||(T=void 0)}catch{T=void 0}let L="By agreement";const ee=k.job_min_salary||k.min_salary,M=k.job_max_salary||k.max_salary,G=k.job_salary_currency||k.salary_currency||"$",V=k.job_salary_period||k.salary_period||"yearly";if(ee&&M&&typeof ee=="number"&&typeof M=="number"){const B=V==="monthly"?"Monthly":"",Q=ee.toLocaleString(),se=M.toLocaleString();["$","","","","",""].some(ce=>G.includes(ce))?L=`${G}${Q} - ${G}${se}${B?`/${B}`:""}`:L=`${Q} - ${se} ${G}${B?`/${B}`:""}`}else if(ee&&typeof ee=="number"){const B=ee.toLocaleString();L=["$","","","","",""].some(J=>G.includes(J))?`${G}${B}+`:`${B}+ ${G}`}else k.salary&&typeof k.salary=="string"&&(L=k.salary);const Z=k.job_employment_type||k.employment_type||k.type||"FULLTIME",ie=Z.toUpperCase(),H=T3[ie]||T3[Z]||Z||"Full time";let W="On-site";return k.job_is_remote||k.is_remote||k.remote===!0?W="Remote":A!=null&&A.toLowerCase().includes("hybrid")&&(W="Hybrid"),{id:P,title:A,company:R,location:D,url:q,company_logo:T,is_saved:g==null?void 0:g.includes(String(P)),salary:L,employment_type:H,work_arrangement:W}}).filter(k=>k!==null),[o,g]),b=()=>{f(!0),s(k=>k+1)},_=(E=w[0])==null?void 0:E.company_logo,S=((j=w[0])==null?void 0:j.company)||h;return i.jsx(Mt,{children:i.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(ae,{variant:"ghost",onClick:()=>n("/jobs"),className:"mb-4",children:[i.jsx(mp,{className:"h-4 w-4 mr-2"}),"Back to Jobs"]}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_?i.jsx("img",{src:_,alt:`${S} logo`,className:"w-16 h-16 rounded-full object-cover border border-gray-200",onError:k=>{const N=k.target;N.style.display="none"}}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-breneo-accent flex items-center justify-center",children:i.jsx(al,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:S}),i.jsxs("p",{className:"text-gray-500",children:[w.length," Job",w.length!==1?"s":""," Available"]})]})]})]}),v&&i.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-md flex items-center gap-3 mb-6",children:[i.jsx(Ho,{className:"h-5 w-5"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",v==null?void 0:v.message]})]}),m&&a===1&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((k,N)=>i.jsx(Ne,{children:i.jsx(Pe,{className:"p-5",children:i.jsx(Mr,{className:"h-32 w-full"})})},N))}),!m&&w.length===0&&i.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[i.jsx(al,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No Jobs Found"}),i.jsxs("p",{className:"text-sm",children:["No job openings found for ",S," at this time."]})]}),w.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-8",children:w.map(k=>i.jsx(Ne,{className:"group flex flex-col transition-all duration-200 border border-gray-200 hover:border-gray-400 overflow-hidden rounded-3xl",children:i.jsxs(Pe,{className:"p-5 flex flex-col flex-grow relative",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsxs("div",{className:"flex-shrink-0 relative w-12 h-12",children:[k.company_logo?i.jsx("img",{src:k.company_logo,alt:`${k.company_name||k.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 z-10",loading:"lazy",onError:N=>{var R;const P=N.target;P.onerror=null,P.style.display="none";const A=(R=P.parentElement)==null?void 0:R.querySelector(".logo-fallback");A&&(A.style.display="flex",A.style.zIndex="10")}}):null,k.company&&!k.company_logo?i.jsx("img",{src:`https://logo.clearbit.com/${encodeURIComponent(k.company)}`,alt:`${k.company_name||k.company} logo`,className:"w-12 h-12 rounded-full object-cover border border-gray-200 absolute inset-0 clearbit-logo",style:{zIndex:10},loading:"lazy",onError:N=>{var R;const P=N.target;P.onerror=null,P.style.display="none";const A=(R=P.parentElement)==null?void 0:R.querySelector(".logo-fallback");A&&(A.style.display="flex",A.style.zIndex="10")}}):null,i.jsx("div",{className:`w-12 h-12 rounded-full bg-breneo-accent flex items-center justify-center logo-fallback absolute inset-0 ${k.company_logo||k.company&&!k.company_logo?"hidden":"flex"}`,style:{zIndex:k.company_logo||k.company&&!k.company_logo?0:10},children:i.jsx(hn,{className:"h-6 w-6 text-white"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate",children:k.company_name||k.company}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.location})]})]}),i.jsx("h4",{className:"font-bold text-lg mb-4 line-clamp-2",children:k.title}),i.jsxs("div",{className:"space-y-2 mb-4 md:mb-4 flex-grow pb-20 md:pb-0",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(dg,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-700",children:k.salary})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Vd,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-700",children:k.employment_type})]}),k.work_arrangement&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(hn,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-700",children:k.work_arrangement})]})]}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-card flex items-center gap-2 transform translate-y-0 md:translate-y-full md:group-hover:translate-y-0 transition-transform duration-200 ease-in-out shadow-lg",children:[i.jsx(ae,{variant:"default",onClick:()=>{if(!k.id||k.id.trim()===""){ue.error("Cannot open job: Invalid job ID");return}const N=encodeURIComponent(k.id);n(`/jobs/${N}`)},className:"flex-1",disabled:!k.id||k.id.trim()==="",children:"View"}),i.jsx(ae,{variant:"default",size:"icon",onClick:()=>x.mutate(k),"aria-label":k.is_saved?"Unsave job":"Save job",className:k.is_saved?"bg-primary/90":"",children:i.jsx(ia,{className:`h-5 w-5 transition-colors ${k.is_saved?"text-red-500 fill-red-500 animate-heart-pop":"text-white"}`})})]})]})},k.id))}),c&&i.jsx("div",{className:"flex justify-center mt-6 mb-8",children:i.jsx(ae,{onClick:b,disabled:d,variant:"outline",className:"min-w-[200px]",children:d?i.jsxs(i.Fragment,{children:[i.jsx(sl,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Load More Jobs"})})]})]})})},rp=e=>e.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),wLe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),_Le="",O3="",$3="",SLe="",jLe="Interests / Skills",R3=({filters:e,onFiltersChange:t,isMobile:r=!1,userTopSkills:n=[],mobileView:a="main",onMobileViewChange:s,countrySearchQuery:o="",onCountrySearchChange:l})=>{const{t:c}=Ys(),[u,d]=p.useState(!1),[f,h]=p.useState(""),g=l&&o!==void 0?o:f,y=_=>{l?l(_):h(_)},m=$.useMemo(()=>{if(!g.trim())return tn;const _=g.toLowerCase();return tn.filter(S=>S.name.toLowerCase().includes(_)||S.code.toLowerCase().includes(_))},[g]);p.useEffect(()=>{r&&a!=="country"&&(l?l(""):h("")),!r&&!u&&(l?l(""):h(""))},[a,u,r,l]);const v=_=>{const S=e.countries.includes(_)?e.countries.filter(E=>E!==_):[...e.countries,_];t({...e,countries:S,skills:e.skills||[]})},x=_=>{const S=e.skills.includes(_)?e.skills.filter(E=>E!==_):[...e.skills,_];t({...e,skills:S,countries:e.countries||[]})},w=()=>{if(n.length===0)return;const _=n.every(S=>e.skills.includes(S));t(_?{...e,skills:[],countries:e.countries||[]}:{...e,skills:n,countries:e.countries||[]})},b=n.length>0&&n.every(_=>e.skills.includes(_));return r?a==="country"?i.jsx("div",{className:"flex flex-col h-full",children:i.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden -mx-6 px-6",children:i.jsx("div",{className:"space-y-2",children:m.length===0?i.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return i.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded px-2 py-2 gap-2",children:[i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 truncate",children:_.name}),i.jsx(Zn,{checked:S,onCheckedChange:()=>v(_.code),className:"h-6 w-6 shrink-0 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"})]},_.code)})})})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:i.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s("country"),className:"flex items-center justify-between w-full bg-white rounded-xl border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.jobs.country}),i.jsx(Ma,{className:"h-4 w-4 text-gray-400"})]})}),n.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:SLe}),i.jsx("button",{type:"button",onClick:w,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:b?"Remove All":"Select All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return i.jsx("button",{type:"button",onClick:()=>x(_),className:`
                      px-4 py-2 rounded-full text-sm font-medium transition-colors border
                      ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                    `,children:_},_)})})]})]}):i.jsxs("div",{className:"space-y-6",children:[n.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{className:"text-base font-medium dark:text-gray-100",children:jLe}),i.jsx("button",{type:"button",onClick:w,className:"text-xs font-medium text-breneo-blue hover:text-breneo-blue/80 dark:text-breneo-blue dark:hover:text-breneo-blue/80 transition-colors",children:b?"Remove All":"Select All"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(_=>{const S=e.skills.includes(_);return i.jsx("button",{type:"button",onClick:()=>x(_),className:`
                    px-4 py-2 rounded-full text-sm font-medium transition-colors border
                    ${S?"bg-breneo-blue text-white border-breneo-blue hover:bg-breneo-blue/90 dark:bg-breneo-blue dark:text-white dark:border-breneo-blue dark:hover:bg-breneo-blue/90":"bg-transparent text-gray-900 border-gray-300 hover:border-gray-400 dark:text-gray-100 dark:border-gray-600 dark:hover:border-gray-500"}
                  `,children:_},_)})})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs(LE,{open:u,onOpenChange:_=>{d(_),_||y("")},children:[i.jsxs(DE,{className:`flex items-center justify-between w-full bg-gray-100 dark:bg-[rgb(55,57,60)] px-4 py-3 hover:bg-gray-200 dark:hover:bg-[rgb(55,57,60)] transition-colors ${u?"rounded-t-lg":"rounded-lg"}`,children:[i.jsx(qe,{className:"text-base font-medium dark:text-gray-100 cursor-pointer",children:c.jobs.country}),i.jsx(Hd,{className:`h-4 w-4 text-gray-600 dark:text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),i.jsx(FE,{className:"mt-0",children:i.jsxs("div",{className:"bg-gray-100 dark:bg-[rgb(55,57,60)] rounded-b-lg overflow-hidden flex flex-col",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-gray-100 dark:bg-[rgb(55,57,60)] p-3 border-b border-gray-300 dark:border-gray-600",children:i.jsxs("div",{className:"relative",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(pt,{type:"text",placeholder:"Search countries...",value:g,onChange:_=>y(_.target.value),className:"pl-9 pr-3 h-9 text-sm bg-white dark:bg-gray-700"})]})}),i.jsx("div",{className:"p-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.length===0?i.jsx("div",{className:"col-span-2 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No countries found"}):m.map(_=>{const S=e.countries.includes(_.code);return i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 rounded-[0.7rem] px-2 py-2",children:[i.jsx(Zn,{checked:S,onCheckedChange:()=>v(_.code),className:"h-6 w-6 rounded-[6px] border-[#8C8C8C] data-[state=checked]:bg-breneo-blue data-[state=checked]:border-breneo-blue"}),i.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:_.name})]},_.code)})})})]})})]})})]})},kLe=({isOpen:e,onClose:t,filters:r,onFiltersChange:n,onApply:a,onClear:s,userTopSkills:o=[]})=>{const{t:l}=Ys(),c=Ja(),[u,d]=p.useState("main"),[f,h]=p.useState("");return p.useEffect(()=>{e||(d("main"),h(""))},[e]),c?i.jsx(ta,{open:e,onOpenChange:t,children:i.jsxs(ra,{className:"max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[i.jsx(na,{className:"flex-shrink-0 border-b border-gray-200",children:i.jsx(aa,{className:"text-xl font-bold",children:u==="country"?l.jobs.country:_Le})}),u==="country"&&i.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-b border-gray-200",children:i.jsxs("div",{className:"relative",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(pt,{type:"text",placeholder:"Search countries...",value:f,onChange:g=>h(g.target.value),className:"pl-9 pr-3 h-9 text-sm"})]})}),i.jsx("div",{className:"px-6 py-6 flex-1 overflow-y-auto min-h-0",children:i.jsx(R3,{filters:r,onFiltersChange:n,isMobile:!0,userTopSkills:o,mobileView:u,onMobileViewChange:d,countrySearchQuery:f,onCountrySearchChange:h})}),u==="main"&&i.jsx(Ba,{className:"border-t border-gray-200",children:i.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&i.jsx(ae,{onClick:()=>{s(),d("main")},variant:"ghost",className:"h-12 px-6 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0 rounded-[18px]",children:$3}),i.jsx(ae,{onClick:()=>{a(),d("main")},className:"h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:O3})]})}),u==="country"&&i.jsx(Ba,{className:"border-t border-gray-200",children:i.jsx(ae,{onClick:()=>{h(""),d("main")},className:"w-full h-12 bg-breneo-blue text-white hover:bg-breneo-blue/90 rounded-[18px] text-base font-medium font-semibold",children:"Done"})})]})}):i.jsx(zn,{open:e,onOpenChange:t,children:i.jsxs(En,{className:"max-w-3xl max-h-[90vh] flex flex-col bg-white backdrop-blur-none",children:[i.jsx(Nn,{className:"flex-shrink-0",children:i.jsx(Cn,{children:"Filter Courses"})}),i.jsx("div",{className:"py-4 overflow-y-auto flex-1 min-h-0",children:i.jsx(R3,{filters:r,onFiltersChange:n,isMobile:!1,userTopSkills:o,countrySearchQuery:f,onCountrySearchChange:h})}),i.jsx(ea,{className:"flex-shrink-0",children:i.jsxs("div",{className:`flex gap-3 w-full ${s?"justify-between":"justify-end"}`,children:[s&&i.jsx(ae,{onClick:()=>{s()},variant:"ghost",className:"w-auto h-10 px-4 text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950/20 border-0",children:$3}),i.jsx(ae,{onClick:a,className:"w-auto h-12 px-8 bg-breneo-blue text-white hover:bg-breneo-blue/90",children:O3})]})})]})})},Au="coursesFilters",UH="coursesFilteredResults",qy=(e,t,r)=>{try{sessionStorage.setItem(e,JSON.stringify({filters:t,search:r}))}catch(n){console.error("Error saving filters to session storage:",n)}},I3=e=>{try{const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error("Error loading filters from session storage:",t)}return null},ELe=e=>{try{sessionStorage.setItem(UH,JSON.stringify(e))}catch(t){console.error("Error saving filtered courses to session storage:",t)}},NLe=()=>{try{const e=sessionStorage.getItem(UH);if(e)return JSON.parse(e)}catch(e){console.error("Error loading filtered courses from session storage:",e)}return[]},CLe=()=>{const{user:e}=vr(),t=Wa(),r=Ja();lr();const[n,a]=Yx(),[s,o]=p.useState(!1),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,h]=p.useState(()=>NLe()),g=p.useCallback((W,X)=>{if(k.current)return;const B=new URLSearchParams;X&&B.set("search",X),W.countries.length>0&&B.set("countries",W.countries.join(",")),W.skills.length>0&&B.set("skills",W.skills.join(",")),a(B,{replace:!0}),qy(Au,W,X)},[a]),[y,m]=p.useState(()=>{const W=n.get("countries"),X=n.get("skills"),B=n.get("country");if(W||X||B)return{country:B||"Georgia",countries:W?W.split(",").filter(Boolean):[],skills:X?X.split(",").filter(Boolean):[]};const Q=I3(Au);return Q&&Q.filters?Q.filters:{country:"Georgia",countries:[],skills:[]}}),[v,x]=p.useState(()=>{const W=n.get("search");if(W)return W;const X=I3(Au);return X&&X.search?X.search:""}),[w,b]=p.useState(v),[_,S]=p.useState(y),E=W=>{let X=0;return W.countries.length>0&&(X+=W.countries.length),W.skills.length>0&&(X+=W.skills.length),X};p.useEffect(()=>{s&&S(y)},[s,y]);const j=$.useMemo(()=>JSON.stringify({countries:y.countries.sort(),skills:y.skills.sort()}),[y]),k=$.useRef(!1);p.useEffect(()=>{const W=n.get("countries"),X=n.get("skills"),B=n.get("country"),Q=n.get("search")||"",se={country:B||"Georgia",countries:W?W.split(",").filter(Boolean):[],skills:X?X.split(",").filter(Boolean):[]},J=JSON.stringify(se)!==JSON.stringify(y),le=Q!==v;(J||le)&&(k.current=!0,m(se),S(se),le&&x(Q),setTimeout(()=>{k.current=!1},0))},[n]),p.useEffect(()=>{const W=n.get("country"),X=n.get("countries");if(W&&!X){const B=new URLSearchParams(n);B.delete("country"),a(B,{replace:!0})}},[]),p.useEffect(()=>{(async()=>{if(!e){d(!1);return}const X=n.get("skills")!==null;try{d(!0);try{const Q=await Te.get("/api/skilltest/results/");if(Q.data&&Array.isArray(Q.data)&&Q.data.length>0){const J=Q.data[0].skills_json,le=[];J!=null&&J.tech&&le.push(...Object.keys(J.tech));const ge=wp(le).slice(0,5);c(ge),X||(m(he=>{const je={...he,skills:he.skills.length===0?ge:he.skills};return qy(Au,je,v),je}),S(he=>({...he,skills:he.skills.length===0?ge:he.skills}))),d(!1);return}}catch{console.log("API endpoint not available, trying Supabase...")}const B=await au(String(e.id));if(B&&B.length>0){const Q=su(B),J=jb(Q,10).map(ge=>ge.skill),ce=wp(J).slice(0,5);c(ce),X||(m(ge=>{const he={...ge,skills:ge.skills.length===0?ce:ge.skills};return qy(Au,he,v),he}),S(ge=>({...ge,skills:ge.skills.length===0?ce:ge.skills})))}}catch(B){console.error("Error fetching user skills:",B)}finally{d(!1)}})()},[e]),p.useEffect(()=>{const W=sessionStorage.getItem("locationToastShown");n.get("countries")||navigator.geolocation.getCurrentPosition(async X=>{try{const{latitude:B,longitude:Q}=X.coords,J=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${B}&longitude=${Q}&localityLanguage=en`)).json();if(J.countryName){const le=tn.find(ce=>ce.name===J.countryName);m(ce=>{const ge={...ce,country:J.countryName,countries:le?[le.code]:ce.countries};return setTimeout(()=>{if(!k.current){const he=new URLSearchParams(n);ge.countries.length>0?he.set("countries",ge.countries.join(",")):he.delete("countries"),ge.country&&ge.country!=="Georgia"?he.set("country",ge.country):he.delete("country"),a(he,{replace:!0})}},0),ge}),S(ce=>({...ce,country:J.countryName,countries:le?[le.code]:ce.countries})),W||(ue.info(`Showing courses in ${J.countryName}.`),sessionStorage.setItem("locationToastShown","true"))}}catch{W||(ue.error("Could not determine your location."),sessionStorage.setItem("locationToastShown","true"))}},()=>{W||(ue.info("Location permission denied. Defaulting to Georgia."),sessionStorage.setItem("locationToastShown","true"))})},[]),$.useCallback(W=>typeof W!="string"?!1:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(W),[]);const N=e!=null&&e.id?String(e.id):null,P=$.useMemo(()=>!!N&&N.length>0,[N]),{data:A=[]}=gr({queryKey:["savedCourses",N],queryFn:async()=>{var W;if(!N||!P)return[];try{return(((W=(await Te.get(vt.AUTH.PROFILE,{timeout:3e4})).data)==null?void 0:W.saved_courses)||[]).map(Q=>String(Q))}catch(X){return console.error("Error fetching saved courses from profile API:",X),[]}},enabled:P}),{data:R,isLoading:U}=gr({queryKey:["courses",A,w,j],queryFn:async()=>{let W=Kt.from("courses").select("*");w&&(W=W.or(`title.ilike.%${w}%,provider.ilike.%${w}%,category.ilike.%${w}%,description.ilike.%${w}%`));const{data:X,error:B}=await W.order("created_at",{ascending:!1});if(B)return console.error("Error fetching courses:",B),[];const Q=(X==null?void 0:X.map(le=>{let ce=le.image||"/lovable-uploads/no_photo.png";return ce&&!ce.startsWith("/")&&!ce.startsWith("http")&&(ce=`/${ce}`),{...le,image:ce,match:0,topics:le.topics||[],required_skills:le.required_skills||[],is_saved:A==null?void 0:A.includes(String(le.id))}}))||[],se=[...new Set(Q.map(le=>le.academy_id).filter(le=>le?String(le).length>0:!1).map(le=>String(le)))],J=new Map;return se.length>0&&await Promise.all(se.map(async le=>{try{const ce=await Te.get(`${vt.ACADEMY.DETAIL}${le}/`);if(ce.data){const ge=ce.data,he=ge.profile_data||ge,je=(Ye,He=he)=>{const ye=He[Ye];return typeof ye=="string"?ye:void 0},Ke=je("id",he)||je("academy_id",he)||je("id",ge)||je("academy_id",ge)||le,Xe=je("academy_name",he)||je("name",he)||je("academy_name",ge)||je("name",ge)||je("first_name",he)||je("firstName",he),gt=je("description",he)||je("description",ge),I=je("website_url",he)||je("websiteUrl",he)||je("website_url",ge),Y=je("contact_email",he)||je("contactEmail",he)||je("email",he)||je("contact_email",ge),we=je("logo_url",he)||je("logoUrl",he)||je("logo",he)||je("logo_url",ge)||je("logoUrl",ge),Ae=je("profile_photo_url",he)||je("profilePhotoUrl",he)||je("profile_photo",he)||je("profilePhoto",he)||je("profile_photo_url",ge),Ue=je("profile_image_url",he)||je("profileImageUrl",he)||je("profile_image",he)||je("profileImage",he)||je("image_url",he)||je("imageUrl",he)||je("profile_image_url",ge)||je("profileImageUrl",ge)||Ae,We=je("slug",he)||je("slug",ge);J.set(le,{id:Ke||le,academy_name:Xe||"",description:gt||"",website_url:I,contact_email:Y,logo_url:we,profile_photo_url:Ae,profile_image_url:Ue||Ae,slug:We||rp(Xe||"")})}}catch{console.debug(`Could not fetch academy profile for ${le} from Django API`)}})),Q.map(le=>{const ce=le.academy_id?J.get(le.academy_id):null;let ge=null;return ce?ge=ce:ge=null,{...le,academy_profile_data:ge}})},enabled:!!A,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3*60*1e3,gcTime:10*60*1e3}),z=$.useMemo(()=>{if(!R)return[];let W=R;return y.skills.length>0&&(W=R.filter(X=>X.required_skills.some(B=>y.skills.some(Q=>B.toLowerCase().includes(Q.toLowerCase())||Q.toLowerCase().includes(B.toLowerCase()))))),!l||l.length===0?W.map(X=>({...X,match:50})):W.map(X=>{const B=X.required_skills.filter(se=>l.some(J=>J.toLowerCase().includes(se.toLowerCase())||se.toLowerCase().includes(J.toLowerCase()))),Q=X.required_skills.length>0?Math.round(B.length/X.required_skills.length*100):50;return{...X,match:Math.max(Q,25)}}).sort((X,B)=>B.match-X.match)},[l,R,y.skills]),F=$.useMemo(()=>{let W=z;if(y.countries.length>0){const X=y.countries.map(B=>{var Q;return(Q=tn.find(se=>se.code===B))==null?void 0:Q.name}).filter(Boolean);W=W.filter(B=>{var se;const Q=((se=B.academy_profile_data)==null?void 0:se.academy_name)||B.provider||"";return X.some(J=>Q.toLowerCase().includes(J.toLowerCase()))})}return W},[z,y.countries]);p.useEffect(()=>{U||(ELe(F),h(F))},[F,U]);const D=({course:W})=>{const X=Wa(),B=Vs({mutationFn:async se=>{if(!N)throw new Error("Please log in to save courses.");await Te.post(`/api/save-course/${se}/`)},onMutate:async se=>{await X.cancelQueries({queryKey:["savedCourses",N]});const J=X.getQueryData(["savedCourses",N]);let le=!1;return X.setQueryData(["savedCourses",N],ce=>{if(!ce)return ce;const ge=String(se);return le=ce.includes(ge),le?ce.filter(he=>he!==ge):[...ce,ge]}),{previousSavedCourses:J,wasSaved:le}},onError:(se,J,le)=>{le!=null&&le.previousSavedCourses&&N&&X.setQueryData(["savedCourses",N],le.previousSavedCourses),console.error("Error updating saved courses:",se),ue.error("Failed to update saved courses. Please try again.")},onSuccess:(se,J,le)=>{X.invalidateQueries({queryKey:["savedCourses",N]}),X.invalidateQueries({queryKey:["courses"]}),X.invalidateQueries({queryKey:["profile"]});const ce=(le==null?void 0:le.wasSaved)??!1;ue.success(ce?"Removed from saved courses.":"Course saved to your profile.")}}),Q=A==null?void 0:A.includes(String(W.id));return i.jsx(ae,{variant:"secondary",size:"icon",onClick:se=>{se.preventDefault(),se.stopPropagation(),B.mutate(String(W.id))},disabled:B.isPending,"aria-label":Q?"Unsave course":"Save course",className:fe("bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A] dark:hover:bg-[#4A4A4A] h-10 w-10 flex-shrink-0",Q?"text-red-500 bg-red-50 hover:bg-red-50/90 dark:bg-red-900/40 dark:hover:bg-red-900/60":"text-black dark:text-white"),children:i.jsx(ia,{className:fe("h-4 w-4 transition-colors",Q?"text-red-500 fill-red-500 animate-heart-pop":"text-black dark:text-white")})})},q=W=>{const X={...y,countries:W};m(X),S(X),g(X,v),t.invalidateQueries({queryKey:["courses"]})},T=p.useCallback(()=>{b(v),g(y,v),t.invalidateQueries({queryKey:["courses"]})},[v,y,g,t]),L=W=>{W.key==="Enter"&&T()},ee=W=>{x(W)};p.useEffect(()=>{if(v===w)return;const W=setTimeout(()=>{b(v),g(y,v),t.invalidateQueries({queryKey:["courses"]})},300);return()=>{clearTimeout(W)}},[v,y,g,t,w]);const M=()=>{m(_),g(_,v),o(!1),t.invalidateQueries({queryKey:["courses"]})},G=()=>{const W={country:"Georgia",countries:[],skills:[]};S(W),m(W);const X=new URLSearchParams;v&&X.set("search",v),a(X,{replace:!0}),qy(Au,W,v),o(!1),t.invalidateQueries({queryKey:["courses"]})},V=W=>i.jsx(Lr,{to:`/course/${W.id}`,className:"block",children:i.jsx(Ne,{className:"relative transition-all duration-200 cursor-pointer group border border-gray-200 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600 rounded-3xl w-full flex flex-col",children:i.jsxs(Pe,{className:"p-0 overflow-hidden rounded-3xl flex flex-col flex-grow relative",children:[i.jsx("div",{className:"relative w-full h-40 overflow-hidden rounded-t-3xl isolate",children:i.jsx("img",{src:W.image&&!W.image.startsWith("http")&&!W.image.startsWith("/")?`/${W.image}`:W.image||"/placeholder.svg",alt:W.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200 origin-center",style:{transformOrigin:"center center"},onError:X=>{X.target.src="/placeholder.svg"}})}),i.jsxs("div",{className:"p-4 flex flex-col flex-grow min-h-[140px]",children:[i.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 group-hover:text-breneo-blue transition-colors",children:W.title}),i.jsxs("div",{className:"flex items-center justify-between gap-3 mt-auto flex-wrap",children:[i.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:W.duration&&i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:W.duration})}),i.jsx("div",{onClick:X=>X.preventDefault(),children:i.jsx(D,{course:W})})]})]})]})})}),Z=U&&f.length>0,ie=Z?f:F,H=Z?f.length:F.length;return i.jsxs(Mt,{children:[i.jsx(nC,{}),i.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"mb-8 relative max-w-6xl mx-auto",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center bg-white dark:bg-[#242424] border border-gray-300 dark:border-gray-600 rounded-xl pl-3 md:pl-4 pr-2 md:pr-2.5 py-3 md:py-4 overflow-visible min-h-[3.5rem] flex-1",children:[i.jsx(hn,{className:"h-5 w-5 text-breneo-accent dark:text-breneo-blue flex-shrink-0 mr-2",strokeWidth:2}),i.jsx(pt,{placeholder:"",value:v,onChange:W=>ee(W.target.value),onKeyDown:L,className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 px-0 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-sm text-gray-900 dark:text-gray-100 flex-1 min-w-0 bg-transparent h-auto py-0"}),!r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 ml-2 mr-4 flex-shrink-0 h-6 my-auto"}),i.jsx("div",{className:"flex items-center flex-1 min-w-0 relative",children:i.jsx(AW,{selectedLocations:y.countries,onLocationsChange:q,placeholder:"Location"})})]})]}),(()=>{const W=E(y);return i.jsxs(ae,{variant:"outline",onClick:()=>o(!0),className:"group flex items-center gap-2 bg-transparent border border-breneo-blue rounded-xl px-4 py-3 md:py-4 hover:bg-breneo-blue hover:text-white text-gray-900 dark:text-gray-100 whitespace-nowrap h-auto relative min-h-[3.5rem] transition-colors","aria-label":"Filter courses",children:[i.jsx(IN,{className:"h-4 w-4 group-hover:text-white",strokeWidth:2}),i.jsx("span",{className:"hidden md:inline text-sm font-medium",children:""}),W>0&&i.jsx(rr,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-breneo-blue text-white text-xs rounded-full",children:W})]})})()]})}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Nc,{className:"h-6 w-6 text-breneo-accent"}),i.jsx("h2",{className:"text-lg font-bold",children:"Latest Courses"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("span",{className:"text-sm text-gray-600",children:[H," course",H!==1?"s":""]})})]}),U&&!Z&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:[...Array(6)].map((W,X)=>i.jsx(Ne,{className:"w-full",children:i.jsxs(Pe,{className:"p-5",children:[i.jsx(Mr,{className:"h-48 w-full mb-4"}),i.jsx(Mr,{className:"h-6 w-full mb-2"}),i.jsx(Mr,{className:"h-4 w-2/3"})]})},X))}),!U&&F.length===0&&i.jsxs("div",{className:"text-center p-10 border border-dashed rounded-3xl text-muted-foreground",children:[i.jsx("img",{src:"/lovable-uploads/3dicons-puzzle-dynamic-color.png",alt:"No data found",className:"mx-auto h-48 w-48 mb-4 object-contain"}),i.jsx("h4",{className:"text-lg font-semibold",children:"No Courses Found"}),i.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters."})]}),(Z||!U&&ie.length>0)&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-32 md:pb-16",children:ie.map(W=>i.jsx("div",{className:"w-full",children:V(W)},W.id))})]}),i.jsx(kLe,{isOpen:s,onClose:()=>o(!1),filters:_,onFiltersChange:S,onApply:M,onClear:G,userTopSkills:l})]})},PLe=()=>{var w,b,_,S;const{courseId:e}=Of(),{user:t}=vr(),r=Wa(),[n,a]=p.useState(!1),s=Co(),{data:o,isLoading:l}=gr({queryKey:["course",e],queryFn:async()=>{const{data:E,error:j}=await Kt.from("courses").select("*").eq("id",e).single();return j?(console.error("Error fetching course details:",j),null):E},enabled:!!e}),{data:c=[]}=gr({queryKey:["savedCourses",t==null?void 0:t.id],queryFn:async()=>{var E;if(!(t!=null&&t.id))return[];try{return(((E=(await Te.get(vt.AUTH.PROFILE)).data)==null?void 0:E.saved_courses)||[]).map(N=>String(N))}catch(j){return console.error("Error fetching saved courses:",j),[]}},enabled:!!(t!=null&&t.id)}),u=c==null?void 0:c.includes(String((o==null?void 0:o.id)||"")),{data:d}=gr({queryKey:["academy-profile",o==null?void 0:o.academy_id],queryFn:async()=>{if(!(o!=null&&o.academy_id))return null;try{const E=await Te.get(`/api/academy/${o.academy_id}/`);if(E.data){const k=E.data.profile_data||E.data,N=F=>{for(const D of F){const q=k[D];if(q!=null&&typeof q=="string")return q}},P=N(["academy_name","name","first_name","firstName"])||o.provider||"",A=N(["profile_photo_url","profilePhotoUrl","profile_image_url","profileImageUrl","profile_photo","profilePhoto"]),R=N(["logo_url","logoUrl","logo","image"]),U=N(["description","desc","about"]),z={id:o.academy_id,academy_name:P,slug:N(["slug"])||(P?rp(P):void 0),profile_photo_url:A&&A.trim()!==""?A:null,logo_url:R&&R.trim()!==""?R:null,description:U&&U.trim()!==""?U:null};return console.log(" Academy profile fetched from API:",{academyId:o.academy_id,rawData:k,profileData:z,logoUrl:R}),z}}catch(E){console.debug("Could not fetch academy profile from API, trying Supabase",E)}try{const{data:E,error:j}=await Kt.from("academy_profiles").select("id, academy_name, logo_url, description").eq("id",o.academy_id).single();if(!j&&E){const k={id:E.id,academy_name:E.academy_name||o.provider||"",slug:E.academy_name?rp(E.academy_name):void 0,profile_photo_url:null,logo_url:E.logo_url&&E.logo_url.trim()!==""?E.logo_url:null,description:E.description&&E.description.trim()!==""?E.description:null};return console.log(" Academy profile fetched from Supabase:",{academyId:o.academy_id,supabaseData:E,profile:k}),k}}catch(E){console.debug("Could not fetch academy profile from Supabase",E)}return{id:o.academy_id,academy_name:o.provider||"",slug:o.provider?rp(o.provider):void 0,profile_photo_url:null,logo_url:null,description:null}},enabled:!!(o!=null&&o.academy_id)}),f=Vs({mutationFn:async E=>{if(!(t!=null&&t.id))throw new Error("User not logged in");a(!0);try{await Te.post(`/api/save-course/${E}/`)}catch(j){console.error("Error saving course:",j);let k="Failed to save course. Please try again.";if(j&&typeof j=="object"&&"response"in j&&j.response&&typeof j.response=="object"&&"data"in j.response){const N=j.response.data;k=N.detail||N.message||N.error||k}else j instanceof Error&&(k=j.message);throw new Error(k)}finally{a(!1)}},onMutate:async E=>{await r.cancelQueries({queryKey:["savedCourses",t==null?void 0:t.id]});const j=r.getQueryData(["savedCourses",t==null?void 0:t.id]);return r.setQueryData(["savedCourses",t==null?void 0:t.id],k=>{if(!k)return k;const N=String(E);return k.includes(N)?k.filter(P=>P!==N):[...k,N]}),{previousSavedCourses:j}},onError:(E,j,k)=>{k!=null&&k.previousSavedCourses&&r.setQueryData(["savedCourses",t==null?void 0:t.id],k.previousSavedCourses);let N="Failed to save course. Please try again.";if(E&&typeof E=="object"&&"response"in E&&E.response&&typeof E.response=="object"&&"data"in E.response){const P=E.response.data;N=P.detail||P.message||P.error||N}else E instanceof Error&&(N=E.message);ue.error(N)},onSuccess:(E,j,k)=>{var A;r.invalidateQueries({queryKey:["savedCourses",t==null?void 0:t.id]}),r.invalidateQueries({queryKey:["courses"]}),r.invalidateQueries({queryKey:["profile"]});const N=String(j),P=((A=k==null?void 0:k.previousSavedCourses)==null?void 0:A.includes(N))||!1;ue.success(`"${o==null?void 0:o.title}" has been ${P?"unsaved":"saved"} successfully.`)}}),h=()=>{if(!t||!o){ue.error("Please log in to save courses.");return}const E=String(o.id);f.mutate(E)};if(l)return i.jsx(Mt,{children:i.jsx("div",{className:"p-8",children:"Loading..."})});if(!o)return i.jsx(Mt,{children:i.jsx("div",{className:"p-8",children:"Course not found."})});const y=o.academy_id?`/academy/${o.academy_id}`:`/academy/${(d==null?void 0:d.slug)||rp(o.provider)}`,m=(d==null?void 0:d.academy_name)||o.provider,v=(d==null?void 0:d.profile_photo_url)||(d==null?void 0:d.logo_url)||null;console.log(" CoursePage Debug:",{courseId:e,courseAcademyId:o==null?void 0:o.academy_id,academyProfile:d,profilePhotoUrl:d==null?void 0:d.profile_photo_url,logoUrl:d==null?void 0:d.logo_url,academyImageUrl:v,academyName:m});const x=((w=o.topics)==null?void 0:w.slice(0,3))||((b=o.required_skills)==null?void 0:b.slice(0,3))||[];return i.jsx(Mt,{children:i.jsx("div",{className:"px-4 py-4 sm:px-6 sm:py-6 pb-40 sm:pb-44 mb-16 sm:mb-20 ",children:i.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[i.jsx("div",{className:"w-full h-40 sm:h-80 overflow-hidden rounded-3xl mb-6 border border-gray-200 dark:border-gray-700",children:i.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"})}),i.jsx(Ne,{className:" rounded-3xl border-0 bg-transparent sm:border sm:border-border sm:bg-white sm:dark:bg-white",children:i.jsxs(Pe,{className:"p-0 sm:p-6 space-y-0 ",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-2 ",children:[i.jsx(tm,{src:v||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"sm",className:"flex-shrink-0 !h-10 !w-10 !rounded-full"}),i.jsx("span",{className:"text-gray-600 text-base font-medium",children:m})]}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-black dark:text-white pb-6",children:o.title}),i.jsx("div",{className:" dark:border-gray-700 py-0 px-0 sm:py-5 sm:px-0 bg-white dark:bg-white rounded-3xl py-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 sm:gap-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-12 flex-1 w-full sm:w-auto  rounded-2xl sm:rounded-none p-0 sm:p-0",children:[i.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:i.jsx(dg,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),i.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:"Free"}),i.jsxs("div",{className:"hidden sm:flex flex-col",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Free"}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Course"})]})]}),i.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Course"})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:i.jsx(xse,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),i.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:o.duration||"2 "}),i.jsxs("div",{className:"hidden sm:flex flex-col",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:o.duration||"2 "}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Duration"})]})]}),i.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Duration"})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:i.jsx(I8,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),i.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:((_=o.topics)==null?void 0:_.length)||16}),i.jsxs("div",{className:"hidden sm:flex flex-col",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:((S=o.topics)==null?void 0:S.length)||16}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lectures"})]})]}),i.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Lectures"})]}),i.jsxs("div",{className:"flex flex-row items-center justify-between sm:justify-start gap-3 rounded-2xl py-1 flex-shrink-0 w-full sm:w-auto",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-xl sm:rounded-full bg-breneo-blue/15 dark:bg-breneo-blue/15 sm:bg-breneo-blue/20 dark:sm:bg-breneo-blue/40 flex items-center justify-center flex-shrink-0",children:i.jsx(LN,{className:"h-5 w-5 sm:h-4 sm:w-4 text-breneo-blue dark:text-breneo-blue"})}),i.jsx("span",{className:"text-base sm:text-sm font-semibold text-gray-900 dark:text-gray-100 sm:hidden",children:o.level||"All Levels"}),i.jsxs("div",{className:"hidden sm:flex flex-col",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:o.level||"All Levels"}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Level"})]})]}),i.jsx("span",{className:"text-m text-gray-500 dark:text-gray-400 sm:hidden ml-auto",children:"Level"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto pb-0 sm:pb-0",children:[i.jsx(ae,{onClick:h,disabled:n||!t,variant:"secondary",size:"icon",className:fe("aspect-square bg-[#E6E7EB] hover:bg-[#E6E7EB]/90 dark:bg-[#3A3A3A]",u?"text-white-500 bg-[#E6E7EB] dark:bg-[#474747] ":"text-black dark:text-white "),children:n?i.jsx(sl,{className:"h-4 w-4 animate-spin"}):u?i.jsx(ia,{className:"h-4 w-4 fill-red-500 text-red-500"}):i.jsx(ia,{className:"h-4 w-4"})}),o.registration_link?i.jsx("a",{href:o.registration_link,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:i.jsx(ae,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:s.courses.enroll})}):i.jsx(ae,{size:"default",className:"w-full sm:w-auto px-6 text-sm bg-breneo-blue hover:bg-breneo-blue/90 text-white rounded-xl",children:s.courses.enroll})]})]})}),i.jsxs("div",{className:"py-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("img",{src:"/lovable-uploads/3dicons-notebook-dynamic-color.png",alt:"Notebook",className:"h-12 w-12 object-contain flex-shrink-0"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"What will You learn"})]}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:o.description||"No description available."})]}),d&&i.jsxs("div",{className:"py-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"About Academy"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(tm,{src:v||void 0,alt:m,fallback:m?m.charAt(0).toUpperCase():"A",size:"lg",className:"!h-16 !w-16 !rounded-full"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:m}),d.description?i.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed mb-4",children:d.description}):i.jsx("p",{className:"text-gray-500 dark:text-gray-500 italic mb-4",children:"No description available."}),i.jsx(Lr,{to:y,children:i.jsxs(ae,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"h-4 w-4"}),"View Academy"]})})]})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2 py-6",children:x.slice(0,3).map((E,j)=>i.jsx(rr,{className:"rounded-[10px] px-3 py-1 text-[13px] font-medium bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100",children:E},j))})]})})]})})})};function ALe(e,t=[]){let r=[];function n(s,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:g,...y}=f,m=(h==null?void 0:h[e][c])||l,v=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:v,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,TLe(a,...t)]}function TLe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var RP="Progress",IP=100,[OLe,MFe]=ALe(RP),[$Le,RLe]=OLe(RP),zH=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=ILe,...o}=e;(a||a===0)&&!M3(a)&&console.error(MLe(`${a}`,"Progress"));const l=M3(a)?a:IP;n!==null&&!L3(n,l)&&console.error(LLe(`${n}`,"Progress"));const c=L3(n,l)?n:null,u=vx(c)?s(c,l):void 0;return i.jsx($Le,{scope:r,value:c,max:l,children:i.jsx(nt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":vx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":HH(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zH.displayName=RP;var qH="ProgressIndicator",WH=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=RLe(qH,r);return i.jsx(nt.div,{"data-state":HH(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});WH.displayName=qH;function ILe(e,t){return`${Math.round(e/t*100)}%`}function HH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function vx(e){return typeof e=="number"}function M3(e){return vx(e)&&!isNaN(e)&&e>0}function L3(e,t){return vx(e)&&!isNaN(e)&&e<=t&&e>=0}function MLe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${IP}\`.`}function LLe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${IP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VH=zH,DLe=WH;const KH=p.forwardRef(({className:e,value:t,...r},n)=>i.jsx(VH,{ref:n,className:fe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(DLe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));KH.displayName=VH.displayName;function FLe({onPhaseChange:e,onTechQChange:t,onSoftQChange:r}={}){const{user:n}=vr(),a=lr(),[s,o]=p.useState("career"),[l,c]=p.useState([]),[u,d]=p.useState(0),[f,h]=p.useState([]),[g,y]=p.useState(null),[m,v]=p.useState(null),[x,w]=p.useState(null),[b,_]=p.useState(null),[S,E]=p.useState(null),[j,k]=p.useState(null),[N,P]=p.useState(!1),[A,R]=p.useState(!1),[U,z]=p.useState(null),[F,D]=p.useState(!1),[q,T]=p.useState(0),[L,ee]=p.useState(null),[M,G]=p.useState(null),[V,Z]=p.useState(0),[ie,H]=p.useState(!1),[W,X]=p.useState(!1),B=5,Q=["   ...","  ...","  ...","   ...","  ..."];p.useEffect(()=>{if(F){const I=setInterval(()=>{T(Y=>(Y+1)%5)},1e3);return()=>clearInterval(I)}},[F]),p.useEffect(()=>{e&&e(s)},[s,e]),p.useEffect(()=>{t&&t(S)},[S,t]),p.useEffect(()=>{r&&r(j)},[j,r]),p.useEffect(()=>{s==="career"&&Te.get(`/api/career-questions-random/?limit=${B}`).then(I=>c(I.data)).catch(I=>console.error(I))},[s]);const se=async I=>{if(!n){console.warn("No user found, cannot save test results");return}try{const Y=Number(I.total_score),we=Number(I.total_questions);isNaN(Y)||isNaN(we);const Ae={tech:I.tech_score_per_skill||{},soft:I.soft_score_per_skill||{}},Ue={user:n.id,total_score:Y,total_questions:we,final_role:I.final_role||"N/A",skills_json:Ae,career_answers:I.career_answers||[]},We=await Te.post("/api/skilltest/save/",Ue);a("/skill-path")}catch(Y){console.error(" Error saving test results:"),console.error("Full error object:",Y),Y.response?(console.error(" Response status:",Y.response.status),console.error(" Response data:",JSON.stringify(Y.response.data,null,2)),console.error(" Response headers:",Y.response.headers)):Y.request?console.error(" No response received:",Y.request):console.error(" Error setting up request:",Y.message)}},J=I=>{v(I.text),g||y(I.RoleMapping)},le=()=>{if(!m)return;const I=l[u];h(Y=>[...Y,{questionId:I.id,answer:m}]),v(null),u+1<l.length?(d(u+1),Z(Y=>Y+1)):(H(!0),Z(Y=>Y+1))},ce=()=>{H(!1),o("assessment"),ge(),Z(I=>I+1)},ge=async()=>{try{const I=await Te.post("/api/start-assessment/",{num_questions:B,RoleMapping:g});w(I.data),E(I.data.questions[0]),Z(Ue=>Ue+1);const Y=await Te.post("/api/soft/start/",{num_questions:B});_(Y.data);let we=null;Y.data.first_question?we=Y.data.first_question:Y.data.questions&&Y.data.questions[0]?we=Y.data.questions[0]:Y.data.question?we=Y.data.question:we=Y.data;const Ae={...Y.data,first_question:we};_(Ae)}catch{}},he=async()=>{if(!(!x||!S||!L))try{const I=await Te.post("/api/submit-answer/",{session_id:x.session_id,question_text:S.text,answer:L});ee(null),I.data.next_question?(E(I.data.next_question),Z(Y=>Y+1)):(P(!0),E(null),X(!0),Z(Y=>Y+1))}catch(I){console.error(I)}},je=async()=>{if(!(!b||!j||!M))try{const I=j.questiontext||j.text||j.question||"",Y={session_id:b.session_id,question_text:I,answer:M},we=await Te.post("/api/soft/submit/",Y);G(null),we.data.next_question?(k(we.data.next_question),Z(Ae=>Ae+1)):(R(!0),k(null),gt())}catch(I){I instanceof Error&&console.error("Error details:",I.message)}},Ke=async()=>{if(X(!1),await Xe(),b)try{let I=null;if(b.first_question)I=b.first_question;else if(b.questions&&b.questions[0])I=b.questions[0];else if(b.question)I=b.question;else{const Y=await Te.post("/api/soft/next/",{session_id:b.session_id});Y.data.next_question?I=Y.data.next_question:Y.data.question?I=Y.data.question:Y.data.first_question?I=Y.data.first_question:I=Y.data}I?(k(I),Z(Y=>Y+1)):console.error(" No soft question found")}catch(I){console.error(" Error getting first soft question:",I)}},Xe=async()=>{if(x)try{const I=await Te.post("/api/finish-assessment/",{session_id:x.session_id});z(Y=>({...Y,tech:I.data}))}catch(I){console.error(" Error finishing tech assessment:",I)}},gt=async()=>{if(b)try{console.log(" Finishing soft assessment with session:",b.session_id);const I=await Te.post("/api/soft/finish/",{session_id:b.session_id});z(Y=>({...Y,soft:I.data}))}catch(I){console.error(" Error finishing soft assessment:",I)}};if(p.useEffect(()=>{var I,Y,we,Ae,Ue,We,Ye,He,ye,Ce;if(N&&A&&U&&n){D(!0),T(0);let Ee=(I=U.tech)==null?void 0:I.total_score,Oe=(Y=U.soft)==null?void 0:Y.total_score,tt=(we=U.tech)==null?void 0:we.total_questions,st=(Ae=U.soft)==null?void 0:Ae.total_questions;if(!Ee&&((Ue=U.tech)!=null&&Ue.score_per_skill)){const De=Object.values(U.tech.score_per_skill).map(ze=>parseFloat(ze.replace("%",""))),Re=De.reduce((ze,re)=>ze+re,0)/De.length;Ee=Math.round(Re*B/100),tt=B}if(!Oe&&((We=U.soft)!=null&&We.score_per_skill)){const De=Object.values(U.soft.score_per_skill).map(ze=>parseFloat(ze.replace("%",""))),Re=De.reduce((ze,re)=>ze+re,0)/De.length;Oe=Math.round(Re*B/100),st=B}Ee=Ee||0,Oe=Oe||0,tt=tt||0,st=st||0;const bt=Ee+Oe,at=tt+st;if(isNaN(bt)||isNaN(at)||at===0){console.error(" Trying to save with numQuestions:",B*2);const De=B*2;console.log(" Using fallback values:",{fallbackScore:bt||0,fallbackQuestions:De})}const Nt=((Ye=U.soft)==null?void 0:Ye.final_role)||((He=U.tech)==null?void 0:He.final_role)||"N/A",_e={total_score:bt||0,total_questions:at||B*2,final_role:Nt,tech_score_per_skill:((ye=U.tech)==null?void 0:ye.score_per_skill)||{},soft_score_per_skill:((Ce=U.soft)==null?void 0:Ce.score_per_skill)||{},career_answers:f};setTimeout(()=>{console.log(" 10 seconds passed, saving results now"),D(!1),o("finished"),se(_e)},1e4)}},[N,A,U,n]),ie)return i.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:i.jsx(kc,{className:"w-32 h-32 md:w-40 md:h-40 text-[#01bfff] dark:text-[#5AC9F8]"})}),i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Great Job! "}),i.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've completed the interest assessment. Now let's evaluate your technical skills."}),i.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Take your time and answer honestly - this helps us find the perfect role for you."})]}),i.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:i.jsxs(ae,{onClick:ce,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",i.jsx(Ma,{className:"h-4 w-4 ml-2"})]})})]},V);if(W)return i.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-8 flex items-center justify-center",children:i.jsx(Ec,{className:"w-32 h-32 md:w-40 md:h-40 text-green-500 dark:text-green-400"})}),i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Excellent Progress! "}),i.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed mb-2",children:"You've finished the technical skills assessment. Well done!"}),i.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Just one more section - let's explore your soft skills and communication abilities."})]}),i.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:i.jsxs(ae,{onClick:Ke,className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",children:["Continue",i.jsx(Ma,{className:"h-4 w-4 ml-2"})]})})]},V);if(s==="career"&&l.length>0){const I=l[u];return i.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"mt-2 mb-4 text-xl font-semibold text-gray-800 dark:text-foreground",children:I.text}),i.jsx("div",{className:"space-y-3",children:I.options.map((Y,we)=>{const Ae=String.fromCharCode(65+we),Ue=m===Y.text;return i.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${Ue?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-[rgba(26,38,51,0.3)] border-blue-200 dark:border-gray-700 hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>J(Y),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${Ue?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:i.jsx("span",{className:`text-xs font-medium ${Ue?"text-white":"text-gray-600 dark:text-gray-300"}`,children:Ae})}),i.jsx("span",{className:`flex-1 text-left ${Ue?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:Y.text})]})},Y.id)})})]}),i.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:i.jsxs(ae,{onClick:le,disabled:!m,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",i.jsx(Ma,{className:"h-4 w-4"})]})})]},V)}if(!x||!b)return console.log(" Waiting for sessions...",{hasTechSession:!!x,hasSoftSession:!!b,techSession:x,softSession:b}),i.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md  text-center dark:text-foreground",children:"Loading assessments..."});if(console.log(" Render State:",{hasCurrentTechQ:!!S,hasCurrentSoftQ:!!j,techDone:N,softDone:A,currentTechQData:S,currentSoftQData:j}),S)return i.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:S.text}),i.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(I=>{const Y=S[`option${I}`];if(Y){const we=String.fromCharCode(64+I),Ae=L===Y;return i.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${Ae?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>ee(Y),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${Ae?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:i.jsx("span",{className:`text-xs font-medium ${Ae?"text-white":"text-gray-600 dark:text-gray-300"}`,children:we})}),i.jsx("span",{className:`flex-1 text-left ${Ae?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:Y})]})},I)}return null})})]}),i.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:i.jsxs(ae,{onClick:he,disabled:!L,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",i.jsx(Ma,{className:"h-4 w-4"})]})})]},V);if(j){console.log(" RENDERING SOFT QUESTION - Raw Data:",j),console.log(" RENDERING SOFT QUESTION - Has Keys:",Object.keys(j)),console.log(" RENDERING SOFT QUESTION - Values:",{questiontext:j.questiontext,text:j.text,question:j.question,option1:j.option1,option2:j.option2,option3:j.option3,option4:j.option4,hasQuestiontext:!!j.questiontext,hasText:!!j.text,hasQuestion:!!j.question,hasOptions:!!(j.option1||j.option2||j.option3||j.option4)});const I=j.questiontext||j.text||j.question||"Question text unavailable";return j.option1||j.option2||j.option3||j.option4?i.jsxs("div",{className:"flex flex-col h-full md:h-auto animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-foreground mb-4",children:I}),i.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(we=>{const Ae=j[`option${we}`];if(Ae){const Ue=String.fromCharCode(64+we),We=M===Ae;return i.jsx("button",{className:`w-full px-5 py-4 rounded-lg border block transition-all ${We?"bg-[#00afea]/10 dark:bg-[#00afea]/20 border-[#00afea] dark:border-[#5AC9F8]":"bg-[#eff9fc] dark:bg-muted border-blue-200 dark:border-border hover:border-[#00afea]/50 dark:hover:border-[#00afea]"}`,onClick:()=>G(Ae),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-[6px] flex items-center justify-center flex-shrink-0 ${We?"bg-[#00afea] dark:bg-[#5AC9F8]":"bg-white dark:bg-gray-800"}`,children:i.jsx("span",{className:`text-xs font-medium ${We?"text-white":"text-gray-600 dark:text-gray-300"}`,children:Ue})}),i.jsx("span",{className:`flex-1 text-left ${We?"text-[#00afea] dark:text-[#5AC9F8] font-medium":"text-gray-700 dark:text-foreground"}`,children:Ae})]})},we)}return null})})]}),i.jsx("div",{className:"mt-auto md:mt-8 flex justify-end",children:i.jsxs(ae,{onClick:je,disabled:!M,className:"w-full md:w-auto h-14 bg-[#00BFFF] text-white hover:bg-[#00BFFF]/90 flex items-center justify-center gap-2 px-8",children:["Next",i.jsx(Ma,{className:"h-4 w-4"})]})})]},V):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-xl font-bold mb-2 dark:text-foreground",children:" Error Loading Question"}),i.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:"The question data structure is incomplete."}),i.jsx("pre",{className:"text-xs bg-gray-100 dark:bg-muted text-gray-800 dark:text-foreground p-4 overflow-auto",children:JSON.stringify(j,null,2)})]})}return F?i.jsx("div",{className:"w-full flex items-center justify-center min-h-[60vh]",children:i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"h-32 w-32 rounded-full bg-gradient-to-r from-blue-500 to-[#01bfff] animate-spin"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:i.jsx(kc,{className:"h-12 w-12 text-white"})})]}),i.jsx("h2",{className:"text-3xl font-bold text-[#00afea] mb-4 text-center",children:Q[q]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"      "}),i.jsx("div",{className:"mt-8 w-full max-w-md",children:i.jsx(KH,{value:(q+1)/Q.length*100,className:"h-2"})})]})}):s==="finished"?i.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:i.jsx(kc,{className:"w-32 h-32 text-green-500 dark:text-green-400 animate-pulse"})}),i.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4",children:"Test Completed! "}),i.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground",children:"Redirecting to your skill path..."})]})}):i.jsx("div",{className:"p-8 max-w-xl mx-auto mb-8 bg-white dark:bg-card rounded-md border border-gray-200 dark:border-border text-center dark:text-foreground",children:"Loading..."})}const BLe=({phase:e,currentTechQ:t,currentSoftQ:r})=>{const n=e==="career"?1:e==="assessment"&&t?2:3,a=[{index:1,name:"Interests"},{index:2,name:"Tech Skills"},{index:3,name:"Soft Skills"}],s=o=>{const l=n>=o.index,c=n>o.index;return i.jsxs("div",{className:"flex-1 flex flex-col items-center min-w-[70px] md:min-w-[120px]",children:[i.jsx("div",{className:`h-2 md:h-3 w-full rounded-full transition-all duration-500 flex items-center justify-center ${c?"bg-green-500 dark:bg-green-600":l?"bg-[#01bfff]":"bg-gray-200 dark:bg-gray-700"}`}),i.jsx("span",{className:`mt-2 text-xs md:text-sm font-semibold transition-colors duration-500 ${c?"text-green-600 dark:text-green-400":l?"text-[#01bfff] dark:text-[#5AC9F8]":"text-gray-500 dark:text-gray-400"}`,children:o.name})]})};return i.jsx("div",{className:"w-full max-w-[200px] md:max-w-[600px]",children:i.jsx("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:a.map(o=>s(o))})})},ULe=({onStart:e})=>i.jsxs("div",{className:"flex flex-col h-full md:h-auto w-full",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"w-40 h-40 md:w-56 md:h-56 mx-auto mb-8 flex items-center justify-center transition-all duration-500",children:i.jsx("img",{src:"/lovable-uploads/3dicons-target-dynamic-color.png",alt:"Target",className:"w-40 h-40 md:w-56 md:h-56 object-contain transition-transform duration-500 hover:scale-105"})}),i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-foreground mb-4 transition-opacity duration-500",children:"Skill Assessment Test"}),i.jsx("p",{className:"text-base md:text-lg text-gray-600 dark:text-muted-foreground max-w-2xl mx-auto leading-relaxed transition-opacity duration-500",children:"Discover your strengths and unlock personalized career opportunities. Our comprehensive assessment evaluates your technical skills, soft skills, and career interests to provide tailored recommendations."})]}),i.jsx("div",{className:"mt-auto md:mt-8 w-full flex justify-center",children:i.jsx(ae,{className:"w-full md:w-full px-12 text-white font-medium rounded-2xl bg-gradient-to-br from-[#01bfff] to-[#0088cc] hover:opacity-90 h-12 text-base transition-all duration-300 hover:scale-105 active:scale-95",onClick:e,children:"Start the Test"})})]}),zLe=()=>{const e=lr(),t=Co(),[r,n]=p.useState(!1),[a,s]=p.useState("career"),[o,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,g]=p.useState(!1),[y,m]=p.useState(!1),v=Ja(),x=()=>{m(!0)},w=()=>{m(!1),e(-1)},b=()=>{m(!1)},_={showSidebar:!1,showHeader:!1,background:"white"};return r?i.jsxs(Mt,{..._,children:[i.jsxs("div",{className:"flex flex-col h-full w-full bg-[#F8F9FA] dark:bg-[#181818] animate-in fade-in duration-500",children:[i.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[i.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&i.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),i.jsx("img",{src:"/lovable-uploads/breneo-only-logo.png",alt:"Breneo Logo",className:`h-8 w-8 md:hidden transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`hidden md:block h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&i.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),i.jsx("div",{className:"flex justify-center items-center",children:i.jsx(BLe,{phase:a,currentTechQ:o,currentSoftQ:c})}),i.jsx("div",{className:"flex justify-end items-center",children:i.jsxs(ae,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[i.jsx(ln,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),i.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:i.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:i.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col transition-all duration-500",children:i.jsx(FLe,{onPhaseChange:s,onTechQChange:l,onSoftQChange:u})})})})]}),v?i.jsx(ta,{open:y,onOpenChange:m,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Are you sure?"})}),i.jsx("div",{className:"px-6 pb-4",children:i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),i.jsxs(Ba,{className:"flex flex-col gap-2",children:[i.jsx(ae,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),i.jsx(ae,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):i.jsx(zn,{open:y,onOpenChange:m,children:i.jsxs(En,{children:[i.jsx(Nn,{children:i.jsx(Cn,{className:"text-center",children:"Are you sure?"})}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Your progress will be lost if you exit the test."}),i.jsxs(ea,{className:"flex flex-col gap-2",children:[i.jsx(ae,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),i.jsx(ae,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]}):i.jsxs(Mt,{..._,children:[i.jsxs("div",{className:"flex flex-col h-full w-full bg-[#efefef] dark:bg-[#181818] animate-in fade-in duration-500",children:[i.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] md:grid-cols-3 items-center px-6 py-6 md:px-8 md:py-6 transition-all duration-300",children:[i.jsxs("div",{className:"flex justify-start items-center",children:[!d&&!h&&i.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-200 dark:bg-gray-700 animate-pulse rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-400 hidden md:inline",children:"Loading..."})}),i.jsx("img",{src:"/lovable-uploads/breneo-only-logo.png",alt:"Breneo Logo",className:`h-8 w-8 md:hidden transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`hidden md:block h-8 transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:()=>f(!0),onError:()=>{g(!0),f(!0)}}),h&&i.jsx("div",{className:"h-8 w-8 md:w-28 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 hidden md:inline",children:"Breneo"})})]}),i.jsx("div",{className:"flex justify-center items-center"}),i.jsx("div",{className:"flex justify-end items-center",children:i.jsxs(ae,{variant:"ghost",onClick:x,className:"h-10 w-10 md:h-10 md:w-auto md:px-3 rounded-full bg-gray-200 dark:bg-border/50 hover:bg-gray-300 dark:hover:bg-border/70 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-sm font-medium flex items-center justify-center gap-2 transition-colors p-0",children:[i.jsx(ln,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden md:inline",children:t.common.cancel})]})})]}),i.jsx("div",{className:"flex-1 w-full overflow-y-auto px-[15px] pb-[15px] pt-2",children:i.jsx("div",{className:"h-full w-full rounded-lg bg-white dark:bg-[#242424] p-8 md:py-8 md:px-[15rem] flex flex-col justify-center md:justify-center transition-opacity duration-500",children:i.jsx("div",{className:"max-w-xl mx-auto w-full h-full md:h-auto flex flex-col",children:i.jsx(ULe,{onStart:()=>n(!0)})})})})]}),v?i.jsx(ta,{open:y,onOpenChange:m,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Are you sure?"})}),i.jsx("div",{className:"px-6 pb-4",children:i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."})}),i.jsxs(Ba,{className:"flex flex-col gap-2",children:[i.jsx(ae,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),i.jsx(ae,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})}):i.jsx(zn,{open:y,onOpenChange:m,children:i.jsxs(En,{children:[i.jsx(Nn,{children:i.jsx(Cn,{children:"Are you sure?"})}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your progress will be lost if you exit the test."}),i.jsxs(ea,{className:"flex flex-col gap-2",children:[i.jsx(ae,{onClick:b,className:"w-full bg-primary hover:opacity-90",children:"Stay Here"}),i.jsx(ae,{onClick:w,variant:"ghost",className:"w-full border-0",children:"Exit"})]})]})})]})};async function D3(e,t,r){var l,c,u;const n=t&&t.length>0?`The user has strong skills in: ${t.slice(0,5).join(", ")}. `:"",a=r?`The user's skills match this role at about ${Math.round(r)}%. `:"",s=3;let o=null;for(let d=1;d<=s;d++)try{const f=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are a friendly career advisor. Write a personalized, engaging EXPANDED summary about the **${e}** role in a conversational, encouraging tone similar to "Your Recommended Career Path" explanations.

CRITICAL: You MUST write a very detailed, expanded summary with 6-8 sentences. Do NOT write a short summary.

Style guidelines:
- Use simple, human-friendly language (like talking to a friend)
- Be encouraging and positive
- Use **bold** for the role name when first mentioned
- Write 6-8 detailed, comprehensive sentences (minimum 6 sentences)
- Make it feel personalized and relevant
- Be very specific about what the role involves
- Provide extensive detail about responsibilities, opportunities, and career growth

Include:
1. What makes **${e}** a great career path
2. What the role involves and why it's exciting
3. How it allows people to use their skills and grow
4. The opportunities and stability this career offers
5. Why it's a rewarding path

${n}${a}Write in a warm, friendly tone that makes the reader excited about this career path. Make sure your response is at least 4 sentences long.`},{role:"user",content:`Write a friendly, personalized VERY EXPANDED summary (6-8 sentences, minimum 6) about the **${e}** role that matches the style of "Your Recommended Career Path" explanations. Make it engaging, encouraging, and very detailed with extensive information.`}],max_tokens:800,temperature:.8})});if(f.ok){const y=(((u=(c=(l=(await f.json()).choices)==null?void 0:l[0])==null?void 0:c.message)==null?void 0:u.content)||"").trim();if(y&&y.length>200&&(y.match(/[.!?]/g)||[]).length>=4)return y;if(d<s){console.warn(`Summary too short for ${e}, attempt ${d}/${s}, retrying...`),await new Promise(m=>setTimeout(m,1e3*d));continue}if(y)return y}else{const h=await f.text().catch(()=>"Unknown error");if(o=new Error(`API error: ${f.status} - ${h}`),d<s){console.warn(`API error for ${e}, attempt ${d}/${s}, retrying...`),await new Promise(g=>setTimeout(g,1e3*d));continue}}}catch(f){if(o=f instanceof Error?f:new Error(String(f)),console.error(`Error generating role summary (attempt ${d}):`,f),d<s){await new Promise(h=>setTimeout(h,1e3*d));continue}}return console.warn(`Failed to generate summary for ${e} after ${s} attempts, using expanded fallback`),`**${e}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${e.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities. Whether you're working on innovative projects, building user experiences, or solving complex problems, this career path offers both stability and the excitement of working at the forefront of your industry.`}async function F3(e){var r,n,a;try{const s=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are an expert job market analyst and career advisor. Generate a comprehensive list of the most important required skills for a ${e} position.

Requirements:
1. Include 15-20 comprehensive skills that are truly required for this role
2. Mix of technical/hard skills (60-70%) and soft/interpersonal skills (30-40%)
3. Use standard, professional skill names (e.g., "JavaScript" not "JS", "React" not "React.js")
4. Include both foundational skills and advanced/specialized skills relevant to ${e}
5. Make skills specific to this role - different roles should have different skill sets
6. Include industry-standard tools, technologies, and methodologies
7. Consider both entry-level and mid-level requirements
8. Include ALL important skills - be comprehensive and thorough

Return ONLY a JSON array of skill names, nothing else. No explanations, no markdown, just the array.

Example output format: ["JavaScript", "React", "Node.js", "TypeScript", "REST APIs", "Git", "Problem Solving", "Team Collaboration", "Agile Methodologies", "Code Review"]`},{role:"user",content:`Generate a comprehensive list of required skills for a ${e} role. Include both technical and soft skills that are essential for success in this position. Return only a JSON array.`}],max_tokens:800,temperature:.4})});if(s.ok){const l=((a=(n=(r=(await s.json()).choices)==null?void 0:r[0])==null?void 0:n.message)==null?void 0:a.content)||"";try{const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),u=JSON.parse(c);if(Array.isArray(u))return u.filter(d=>typeof d=="string"&&d.trim().length>0)}catch{const u=l.split(`
`).map(f=>f.trim()).filter(Boolean),d=[];for(const f of u){const h=f.replace(/^[-*]\s*/,"").replace(/^\d+\.\s*/,"").trim();h&&h.length<50&&d.push(h)}if(d.length>0)return d}}}catch(s){console.error("Error generating required skills:",s)}const t=e.toLowerCase();return t.includes("developer")||t.includes("engineer")?["Programming","Problem Solving","Version Control","Testing"]:t.includes("designer")||t.includes("design")?["Design Thinking","Prototyping","User Research","Visual Design"]:t.includes("analyst")||t.includes("data")?["Data Analysis","SQL","Statistics","Data Visualization"]:t.includes("manager")||t.includes("product")?["Project Management","Strategic Thinking","Communication","Agile"]:[]}const Pa={"software engineer":{min:7e4,max:15e4},"software developer":{min:65e3,max:14e4},"full stack developer":{min:75e3,max:16e4},"frontend developer":{min:6e4,max:13e4},"backend developer":{min:7e4,max:15e4},javascript:{min:65e3,max:14e4},"javascript developer":{min:65e3,max:14e4},python:{min:7e4,max:15e4},"python developer":{min:7e4,max:15e4},react:{min:7e4,max:15e4},"react developer":{min:7e4,max:15e4},"node.js":{min:75e3,max:16e4},typescript:{min:75e3,max:16e4},java:{min:8e4,max:17e4},"java developer":{min:8e4,max:17e4},"data analyst":{min:55e3,max:1e5},"data scientist":{min:9e4,max:18e4},"data engineer":{min:85e3,max:16e4},"data analysis":{min:55e3,max:1e5},"data analytics":{min:6e4,max:11e4},"business analyst":{min:6e4,max:11e4},"ux designer":{min:6e4,max:12e4},"ui designer":{min:55e3,max:11e4},"ui/ux designer":{min:6e4,max:12e4},"ui/ux design":{min:6e4,max:12e4},"product designer":{min:8e4,max:15e4},"graphic designer":{min:4e4,max:8e4},"product manager":{min:9e4,max:18e4},"product management":{min:9e4,max:18e4},"project manager":{min:7e4,max:13e4},"scrum master":{min:75e3,max:14e4},"devops engineer":{min:9e4,max:16e4},devops:{min:9e4,max:16e4},"cloud engineer":{min:95e3,max:17e4},aws:{min:1e5,max:18e4},kubernetes:{min:11e4,max:19e4},docker:{min:9e4,max:16e4},"mobile developer":{min:7e4,max:14e4},"ios developer":{min:8e4,max:15e4},"android developer":{min:75e3,max:14e4},"react native":{min:75e3,max:145e3},flutter:{min:7e4,max:135e3},cybersecurity:{min:85e3,max:16e4},"cybersecurity specialist":{min:85e3,max:16e4},"security engineer":{min:9e4,max:17e4},"penetration tester":{min:8e4,max:15e4},"qa engineer":{min:6e4,max:11e4},"quality assurance":{min:6e4,max:11e4},"test engineer":{min:65e3,max:12e4},"automation engineer":{min:7e4,max:13e4},"machine learning":{min:1e5,max:2e5},"ml engineer":{min:1e5,max:2e5},"ai engineer":{min:11e4,max:21e4},blockchain:{min:9e4,max:18e4},web3:{min:9e4,max:18e4},"vue.js":{min:7e4,max:15e4},vue:{min:7e4,max:15e4},angular:{min:75e3,max:16e4},"c#":{min:8e4,max:17e4},"c++":{min:85e3,max:18e4},go:{min:9e4,max:18e4},golang:{min:9e4,max:18e4},rust:{min:95e3,max:19e4},php:{min:6e4,max:13e4},ruby:{min:75e3,max:15e4},swift:{min:85e3,max:17e4},kotlin:{min:8e4,max:16e4},sql:{min:65e3,max:13e4},mongodb:{min:75e3,max:15e4},postgresql:{min:75e3,max:15e4},mysql:{min:7e4,max:14e4},redis:{min:8e4,max:16e4},elasticsearch:{min:9e4,max:18e4},git:{min:7e4,max:14e4},linux:{min:8e4,max:16e4},"3d modeling":{min:5e4,max:1e5},"3d modeler":{min:5e4,max:1e5},blender:{min:55e3,max:11e4},unity:{min:7e4,max:14e4},"unreal engine":{min:8e4,max:16e4}},R_={"ai engineer":1.15,"machine learning":1.15,"ml engineer":1.15,"data scientist":1.1,cybersecurity:1.12,"security engineer":1.12,"cloud engineer":1.1,aws:1.1,kubernetes:1.12,"devops engineer":1.08,devops:1.08,rust:1.1,go:1.08,golang:1.08,javascript:1.05,"javascript developer":1.05,python:1.05,"python developer":1.05,react:1.05,"react developer":1.05,java:1.03,"java developer":1.03,php:.98,ruby:.95},B3={"United States":1,USA:1,US:1,Canada:.85,"United Kingdom":.75,UK:.75,Germany:.7,France:.65,Netherlands:.75,Switzerland:1.1,Australia:.8,Singapore:.85,Japan:.7,Georgia:.25,Poland:.4,Romania:.35,Ukraine:.3,India:.2,Brazil:.25,Mexico:.3,Argentina:.25},GH=e=>e.toLowerCase().trim().replace(/[^\w\s]/g,""),qLe=e=>{const t=GH(e);if(R_[t])return R_[t];for(const[r,n]of Object.entries(R_))if(t.includes(r)||r.includes(t))return n;return 1.02},WLe=e=>{const t=GH(e);if(Pa[t])return Pa[t];const r=t.split(/\s+/);for(const s of r)if(Pa[s])return Pa[s];let n=null,a=0;for(const[s,o]of Object.entries(Pa))(t.includes(s)||s.includes(t))&&s.length>a&&(n=o,a=s.length);return n||(t.includes("full stack")||t.includes("fullstack")?Pa["full stack developer"]:t.includes("frontend")||t.includes("front end")?Pa["frontend developer"]:t.includes("backend")||t.includes("back end")?Pa["backend developer"]:t.includes("developer")||t.includes("programmer")?Pa["software developer"]:t.includes("engineer")?Pa["software engineer"]:t.includes("designer")||t.includes("design")?Pa["ui/ux designer"]:t.includes("analyst")||t.includes("analysis")?Pa["data analyst"]:t.includes("manager")||t.includes("management")?Pa["product manager"]:{min:6e4,max:12e4})},HLe=e=>{const t=e.trim();return B3[t]||B3[t.toLowerCase()]||.3},co=(e,t="Georgia",r="ALL")=>{try{if(!e||e.trim()==="")return console.warn("Empty job title provided, using default"),Dh({min:6e4,max:12e4},"software developer",t,r);const n=WLe(e);if(!n||typeof n.min!="number"||typeof n.max!="number"||n.min<=0||n.max<=0)return console.warn(`Invalid base range for "${e}", using default`),Dh({min:6e4,max:12e4},e,t,r);const a=Dh(n,e,t,r);return!a.min_salary||!a.max_salary||a.min_salary<=0||a.max_salary<=0?(console.warn(`Invalid salary result for "${e}" in ${t}, using default`),Dh({min:6e4,max:12e4},"software developer",t,r)):a}catch(n){return console.error("Error calculating AI salary:",n,{jobTitle:e,country:t}),Dh({min:6e4,max:12e4},"software developer",t,r)}},Dh=(e,t,r,n)=>{const a=qLe(t),s=Math.round(e.min*a),o=Math.round(e.max*a),l=HLe(r);let c=Math.round(s*l),u=Math.round(o*l);if(n!=="ALL"){const h=parseInt(n);h<=2?(c=Math.round(c*.8),u=Math.round(u*.85)):h>=6&&(c=Math.round(c*1.3),u=Math.round(u*1.35))}c=Math.max(5e3,c),u=Math.max(c+5e3,u);const d=Math.round((c+u)/2);let f="USD";return r.toLowerCase().includes("georgia")?(f="GEL",c=Math.round(c*2.7),u=Math.round(u*2.7)):r.toLowerCase().includes("uk")||r.toLowerCase().includes("united kingdom")?(f="GBP",c=Math.round(c*.8),u=Math.round(u*.8)):(r.toLowerCase().includes("euro")||["germany","france","netherlands","poland","romania"].some(h=>r.toLowerCase().includes(h)))&&(f="EUR",c=Math.round(c*.9),u=Math.round(u*.9)),(!c||!u||c<=0||u<=0)&&(console.warn(`Invalid salary calculation for "${t}" in ${r}, using defaults`),c=5e4,u=1e5,f=r.toLowerCase().includes("georgia")?"GEL":"USD",f==="GEL"&&(c=Math.round(c*2.7),u=Math.round(u*2.7))),{min_salary:c,max_salary:u,median_salary:d,salary_period:"YEARLY",currency:f}},Qu=e=>{if(!e)return"Salary data not available";const{min_salary:t,max_salary:r,currency:n,salary_period:a}=e;if(!t&&!r)return"Salary data not available";const s=n==="USD"?"$":n==="EUR"?"":n==="GBP"?"":n==="GEL"?"":n||"$",o=a==="YEARLY"?"year":a==="MONTHLY"?"month":"";if(t&&r){const l=Math.round(t).toLocaleString(),c=Math.round(r).toLocaleString();return`${s}${l} - ${s}${c}${o?`/${o}`:""}`}else if(t){const l=Math.round(t).toLocaleString();return`${s}${l}+${o?`/${o}`:""}`}else if(r){const l=Math.round(r).toLocaleString();return`Up to ${s}${l}${o?`/${o}`:""}`}return"Salary data not available"},U3=(e,t,r,n,a)=>{const s=Object.entries(t).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,3).map(([u])=>u),o=Object.entries(r).sort((u,d)=>{const f=parseFloat(String(u[1]).replace("%",""))||0;return(parseFloat(String(d[1]).replace("%",""))||0)-f}).slice(0,2).map(([u])=>u),l=a.length>0?a.reduce((u,d)=>u+d.matchPercentage,0)/a.length:75;let c=`We think **${e}** is the perfect career path for you. `;return c+="You're really good at ",s.length>0?(c+=s.join(", "),o.length>0&&(c+=`, and you also have great ${o.join(" and ")} skills`)):o.length>0?c+=o.join(" and "):c+="many important skills",c+=`. Your skills match really well with what ${e} jobs need - about ${Math.round(l)}% match! `,c+="This role is great for you because it lets you use your best skills every day. ",c+="You'll get to learn new things and grow in your career. ",c+="Your mix of technical skills and people skills means you'll do really well in this job. ",c+=`There are lots of opportunities for ${e.toLowerCase()}s, so you'll have a stable and exciting career path ahead.`,c},z3=e=>{const t=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],r=e.filter(s=>{const o=s.skill.toLowerCase().trim();return!t.some(l=>o.includes(l)||l.includes(o))});return r.length===0?(console.warn("No hard/tech skills found for job path generation"),[]):r.sort((s,o)=>o.score-s.score).slice(0,5).map(s=>{const o=s.skill,c=Math.min(95,Math.max(60,Math.round(s.score/5*100))),u=`Build your career using your ${o} skills. This path is tailored to your expertise in ${o}.`,d=[o],f=[`Advanced ${o}`,`${o} Best Practices`,`${o} Professional Development`],h=[`${o} Professional Certificate`,`${o} Specialist`];return{title:o,description:u,matchPercentage:c,requiredSkills:d,suggestedCourses:f,certifications:h,salaryRange:"",timeToReady:"3-6 months"}})},VLe=()=>{const{user:e}=vr(),t=lr(),[r,n]=p.useState(!0),[a,s]=p.useState(!1),[o,l]=p.useState({}),[c,u]=p.useState([]),[d,f]=p.useState({}),[h,g]=p.useState({}),[y,m]=p.useState([]),[v,x]=p.useState([]),[w,b]=p.useState([]),[_,S]=p.useState(null),[E,j]=p.useState("Georgia"),[k,N]=p.useState(""),[P,A]=p.useState("skills"),[R,U]=p.useState(new Set),z=p.useCallback(async()=>{try{const G=(await Te.get(vt.AUTH.PROFILE)).data,V=(G==null?void 0:G.country)||(e==null?void 0:e.country)||"Georgia";return j(V),V}catch(M){return console.error("Error fetching user country:",M),j("Georgia"),"Georgia"}},[e]),F=p.useCallback((M,G)=>{const V={"Software Engineer":"software engineer","UX/UI Designer":"ux designer","Data Analyst":"data analyst","Product Manager":"product manager"};return M.map(Z=>{try{const ie=Z.title.toLowerCase().trim();let H=V[Z.title]||ie,W=co(H,G);if(!W.min_salary&&!W.max_salary&&!H.includes("developer")){const Q=`${H} developer`;W=co(Q,G),(W.min_salary||W.max_salary)&&(H=Q)}if(!W.min_salary&&!W.max_salary&&!H.includes("engineer")){const Q=`${H} engineer`;W=co(Q,G),(W.min_salary||W.max_salary)&&(H=Q)}if(W&&(W.min_salary||W.max_salary)&&(W.min_salary>0||W.max_salary>0)){const Q=Qu(W);if(Q&&Q!=="Salary data not available")return{...Z,salaryRange:Q}}const X=ie.includes("design")?"ui/ux designer":ie.includes("data")||ie.includes("analyst")?"data analyst":ie.includes("manager")?"product manager":"software developer",B=co(X,G);if(B.min_salary&&B.max_salary){const Q=Qu(B);return{...Z,salaryRange:Q}}return console.warn(`Could not calculate salary for "${Z.title}" (${H})`),{...Z,salaryRange:"Salary data not available"}}catch(ie){return console.error(`Error calculating salary for ${Z.title}:`,ie),{...Z,salaryRange:"Salary data not available"}}})},[]),D=p.useCallback(async(M,G,V)=>await Promise.all(M.map(async ie=>{try{const H=G.length>0?G.join(" "):ie.title.toLowerCase(),W={country:V,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:G,salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},X=await Ks.fetchActiveJobs({query:H,filters:W,page:1,pageSize:5}),B=Ew(X.jobs);return{...ie,jobs:B.slice(0,5)}}catch(H){return console.error(`Error fetching jobs for ${ie.title}:`,H),{...ie,jobs:[]}}})),[]),q=p.useCallback(async()=>{try{n(!0);try{const ce=await Te.get(`/api/skilltest/results/?user=${e.id}`);let ge=null;if(Array.isArray(ce.data)&&ce.data.length>0?ge=ce.data[0]:ce.data&&typeof ce.data=="object"&&(ge=ce.data),ge&&(ge.final_role||ge.skills_json)){s(!0),ge.final_role&&S(ge.final_role);const he=ge.skills_json||{};f(he.tech||{}),g(he.soft||{});const je=Object.entries(he.tech||{}).map(([He,ye])=>({skill:He,score:parseFloat(String(ye).replace("%",""))||0})),Ke=Object.entries(he.soft||{}).map(([He,ye])=>({skill:He,score:parseFloat(String(ye).replace("%",""))||0})),Xe=je.sort((He,ye)=>ye.score-He.score),gt=Ke.sort((He,ye)=>ye.score-He.score),Y=[...Xe,...gt].slice(0,5);u(Y);const we=z3(Xe),Ae=Object.keys(he.tech||{}),Ue=await z(),We=F(we,Ue),Ye=[...je,...Ke].map(He=>He.skill.toLowerCase());if(U(new Set(Ye)),m(We),ge.final_role){const He=U3(ge.final_role,he.tech||{},he.soft||{},Y,We);N(He)}n(!1),Promise.all(We.map(async He=>{try{const ye=Y.map(tt=>tt.skill),[Ce,Ee]=await Promise.all([D3(He.title,ye,He.matchPercentage),F3(He.title)]),Oe=Ce&&Ce.length>100?Ce:`**${He.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${He.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...He,summary:Oe,aiGeneratedSkills:Ee.length>0?Ee:He.requiredSkills}}catch(ye){return console.error(`Error generating data for ${He.title}:`,ye),{...He,summary:`**${He.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${He.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:He.requiredSkills}}})).then(He=>{m(ye=>{const Ce=new Map(He.map(Ee=>[Ee.title,Ee]));return ye.map(Ee=>Ce.get(Ee.title)||Ee)})}),Promise.all([(async()=>{const He=await D(We,Ae,Ue);m(He);const ye=await L(Object.keys(he.tech||{}),Object.keys(he.soft||{}),He);b(ye)})(),(async()=>{const He=await T(Ae);x(He)})()]).catch(He=>{console.error("Error in background operations:",He)});return}}catch{}const M=await au(e.id);if(!M||M.length===0){s(!1),n(!1);return}s(!0);const G=su(M);l(G);const V=["communication","teamwork","leadership","problem solving","critical thinking","time management","adaptability","creativity","collaboration","emotional intelligence","work ethic","interpersonal","negotiation","presentation","public speaking","active listening","empathy","patience","flexibility","stress management","conflict resolution","decision making","organization","planning","multitasking"],Z=[],ie=[];Object.entries(G).forEach(([ce,ge])=>{const he=ce.toLowerCase().trim();V.some(Ke=>he.includes(Ke)||Ke.includes(he))?ie.push({skill:ce,score:ge}):Z.push({skill:ce,score:ge})});const H=Z.sort((ce,ge)=>ge.score-ce.score),W=ie.sort((ce,ge)=>ge.score-ce.score),X=[...H,...W].slice(0,5);u(X);const B=z3(H),Q=H.map(ce=>ce.skill),se=await z(),J=F(B,se),le=[...H,...W].map(ce=>ce.skill.toLowerCase());if(U(new Set(le)),m(J),J.length>0){const ce=J[0].title,ge={},he={};H.forEach(Ke=>{ge[Ke.skill]=`${Ke.score}%`}),W.forEach(Ke=>{he[Ke.skill]=`${Ke.score}%`});const je=U3(ce,ge,he,X,J);N(je),S(ce)}n(!1),Promise.all(J.map(async ce=>{try{const ge=X.map(Xe=>Xe.skill),[he,je]=await Promise.all([D3(ce.title,ge,ce.matchPercentage),F3(ce.title)]),Ke=he&&he.length>100?he:`**${ce.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ce.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`;return{...ce,summary:Ke,aiGeneratedSkills:je.length>0?je:ce.requiredSkills}}catch(ge){return console.error(`Error generating data for ${ce.title}:`,ge),{...ce,summary:`**${ce.title}** is an exciting and rewarding career path that offers tremendous opportunities for professional growth and personal fulfillment. This role allows you to work on meaningful projects that make a real impact, using your skills and creativity every day. As a ${ce.title.toLowerCase()}, you'll have the chance to collaborate with talented teams, solve interesting challenges, and continuously learn new technologies and methodologies. The field is growing rapidly, with strong demand for skilled professionals, ensuring excellent job security and career advancement opportunities.`,aiGeneratedSkills:ce.requiredSkills}}})).then(ce=>{m(ge=>{const he=new Map(ce.map(je=>[je.title,je]));return ge.map(je=>he.get(je.title)||je)})}),Promise.all([(async()=>{const ce=await D(J,Q,se);m(ce);const ge=await L(Q,[],ce);b(ge)})(),(async()=>{const ce=await T(Q);x(ce)})()]).catch(ce=>{console.error("Error in background operations:",ce)})}catch(M){console.error(" Error loading skill data:",M),console.error("Error details:",M instanceof Error?M.message:String(M)),s(!1)}finally{console.log(" loadSkillData finished - setting loading to false"),n(!1)}},[e,z,F,D]);p.useEffect(()=>{if(!e){t("/auth/login");return}q(),z()},[e,t,q,z]);const T=async M=>{try{if(M.length===0)return[];const{data:G,error:V}=await Kt.from("courses").select("*").or(M.map(Z=>`required_skills.cs.{${Z}}`).join(",")).limit(6);if(V)throw V;return(G==null?void 0:G.map(Z=>({id:Z.id,title:Z.title,provider:Z.provider,level:Z.level,duration:Z.duration,description:Z.description,relevantSkills:Z.required_skills||[]})))||[]}catch(G){return console.error("Error fetching course recommendations:",G),[]}},L=async(M,G,V)=>{const Z=[...M,...G].map(Q=>Q.toLowerCase().trim()),ie=new Map;if(V.forEach(Q=>{Q.requiredSkills.forEach(se=>{const J=se.toLowerCase().trim();if(!Z.includes(J)){ie.has(J)||ie.set(J,{jobs:[],count:0});const le=ie.get(J);le.jobs.push(Q.title),le.count++}})}),ie.size===0)return[];const{data:H,error:W}=await Kt.from("courses").select("*").limit(100),X=new Map;return!W&&H&&H.forEach(Q=>{(Q.required_skills||[]).map(J=>J.toLowerCase().trim()).forEach(J=>{ie.has(J)&&(X.has(J)||X.set(J,[]),X.get(J).push({id:Q.id,title:Q.title,provider:Q.provider||"Unknown",level:Q.level||"Beginner",duration:Q.duration||"N/A",description:Q.description||"",relevantSkills:Q.required_skills||[]}))})}),Array.from(ie.entries()).map(([Q,se])=>{const le=["programming","code","sql","testing","version control","data","api","framework","database","algorithm","software","technical"].some(ge=>Q.includes(ge));let ce="medium";return se.count>=3?ce="high":se.count===1&&(ce="low"),{skill:Q.charAt(0).toUpperCase()+Q.slice(1),category:le?"tech":"soft",importance:ce,requiredByJobs:[...new Set(se.jobs)],recommendedCourses:X.get(Q)||[],frequency:se.count}}).sort((Q,se)=>{const J={high:3,medium:2,low:1};return J[se.importance]!==J[Q.importance]?J[se.importance]-J[Q.importance]:se.frequency-Q.frequency})},ee=(M,G)=>{const V="#19B5FE",Z=Object.entries(M).filter(([X,B])=>parseFloat(String(B).replace("%",""))>0).map(([X,B])=>{const Q=parseFloat(String(B).replace("%",""));let se;Q>=40?se=1:se=.3+Q/40*.7;const J=`gradient-primary-${Math.round(se*100)}`;return{skill:X,percentage:Q,displayPct:B,fill:V,opacity:se,gradientId:J}}).sort((X,B)=>B.percentage-X.percentage);if(Z.length===0)return i.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No skills data available"});const ie={percentage:{label:"Percentage"}},H=X=>{const{x:B,y:Q,width:se,height:J,payload:le,value:ce}=X,ge=(le==null?void 0:le.skill)||ce||"";if(!B||!Q||!se||!J||!ge)return null;const he=B+se/2,Xe=250-80+25,gt=Math.max(8,Math.floor(se/6)),I=ge.split(" "),Y=[];let we="";for(const Ye of I)if(Ye.length>gt){we&&(Y.push(we),we="");for(let He=0;He<Ye.length;He+=gt)Y.push(Ye.slice(He,He+gt))}else(we+" "+Ye).length<=gt?we=we?we+" "+Ye:Ye:(we&&Y.push(we),we=Ye);if(we&&Y.push(we),Y.length===0||Y.length===1&&Y[0].length>gt*1.5){Y.length=0;for(let Ye=0;Ye<ge.length;Ye+=gt)Y.push(ge.slice(Ye,Ye+gt))}const Ae=Y.slice(0,2),Ue=14,We=Xe-(Ae.length-1)*(Ue/2);return i.jsx("text",{x:he,y:We,fill:"#374151",textAnchor:"middle",fontSize:12,fontWeight:600,className:"dark:fill-gray-200",children:Ae.map((Ye,He)=>i.jsx("tspan",{x:he,dy:He===0?0:Ue,children:Ye},He))})},W=X=>{const{x:B,y:Q,width:se,height:J,value:le,payload:ce}=X,ge=le||0,he=(ce==null?void 0:ce.skill)||"";if(!B||!Q||!se||!J)return null;const je=B+se/2,Ke=250,Xe=80,gt=Math.max(8,Math.floor(se/6)),I=he.length>gt*1.2,Y=Ke-Xe+(I?70:60);return i.jsx("text",{x:je,y:Y,fill:"#374151",textAnchor:"middle",fontSize:13,fontWeight:700,className:"dark:fill-gray-200",children:`${ge.toFixed(0)}%`})};return i.jsx("div",{className:"w-full -mb-4",children:i.jsx(pw,{config:ie,className:"h-[250px] w-full",children:i.jsxs(fP,{data:Z,margin:{top:20,right:10,left:10,bottom:80},barCategoryGap:"25%",children:[i.jsx("defs",{children:Z.map(X=>i.jsxs("linearGradient",{id:X.gradientId,x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"0%",stopColor:X.fill,stopOpacity:X.opacity}),i.jsx("stop",{offset:"100%",stopColor:"#0EA5E9",stopOpacity:X.opacity})]},X.gradientId))}),i.jsx(Xf,{dataKey:"skill",hide:!0}),i.jsx(Qf,{type:"number",domain:[0,100],hide:!0}),i.jsx(hP,{content:({active:X,payload:B})=>{if(X&&B&&B.length){const Q=B[0].payload;return i.jsx("div",{className:"rounded-3xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:Q.skill}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:V,opacity:Q.opacity}}),i.jsxs("span",{className:"font-bold text-lg",style:{color:V,opacity:Q.opacity},children:[Q.percentage.toFixed(1),"%"]})]})]})})}return null}}),i.jsxs(xi,{dataKey:"percentage",radius:[8,8,8,8],animationDuration:1e3,animationEasing:"ease-out",children:[Z.map((X,B)=>i.jsx(Sg,{fill:`url(#${X.gradientId})`,style:{transition:"all 0.3s ease"}},`cell-${B}`)),i.jsx(Us,{content:H,dataKey:"skill"}),i.jsx(Us,{content:W,dataKey:"percentage"})]})]})})})};return console.log(" SkillPathPage Render - Loading:",r,"HasTestAnswers:",a,"User:",e==null?void 0:e.id),r?(console.log(" Rendering loading state"),i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{children:"Analyzing your skills..."}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Loading skill data..."})]})})})):a?(console.log(" Rendering main SkillPathPage content"),console.log(" Data summary:",{topSkills:c.length,jobPaths:y.length,courseRecommendations:v.length,missingSkills:w.length,techSkills:Object.keys(d).length,softSkills:Object.keys(h).length,finalRole:_}),i.jsx(Mt,{children:i.jsxs("div",{className:"space-y-4 md:space-y-6 pb-20 md:pb-6",children:[i.jsx("div",{className:"flex justify-center mb-2",children:i.jsxs("div",{className:"relative inline-flex items-center bg-gray-100 dark:bg-[#242424] rounded-full p-1",children:[i.jsx("button",{onClick:()=>A("skills"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${P==="skills"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium"}`,children:"Your Skills"}),i.jsx("button",{onClick:()=>A("matchedRoles"),className:`relative px-6 py-2.5 rounded-full text-sm transition-all duration-200 ${P==="matchedRoles"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-bold shadow-sm":"text-gray-500 dark:text-gray-400 font-medium"}`,children:"Matched Roles"})]})}),P==="skills"&&i.jsxs(i.Fragment,{children:[_&&k&&i.jsxs(Ne,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-primary/10",children:[i.jsx(ht,{children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:"/lovable-uploads/3dicons-trophy-iso-color.png",alt:"Trophy",className:"h-12 w-12 flex-shrink-0"}),i.jsxs(At,{className:"text-xl",children:["You Are ",_]})]})}),i.jsx(Pe,{children:i.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:i.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:k.split("**").map((M,G)=>G%2===1?i.jsx("strong",{className:"text-primary font-semibold",children:M},G):M)})})})]}),(Object.keys(d).length>0||Object.keys(h).length>0)&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Object.keys(d).length>0&&i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx(At,{className:"flex items-center gap-2",children:"Technical Skills"})}),i.jsx(Pe,{className:"p-6",children:ee(d)})]}),Object.keys(h).length>0&&i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx(At,{className:"flex items-center gap-2",children:"Soft Skills"})}),i.jsx(Pe,{className:"p-6",children:ee(h)})]})]})]}),P==="matchedRoles"&&i.jsx("div",{className:"space-y-4",children:y.length>0?y.map((M,G)=>i.jsx(Ne,{className:G===0?"border-primary":"",children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsx(At,{className:"text-xl flex-1",children:M.title}),i.jsxs(ae,{size:"sm",onClick:()=>{t(`/skill-path/${encodeURIComponent(M.title)}`,{state:{jobPath:M}})},children:["View Details",i.jsx(Ij,{className:"h-4 w-4 ml-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(Ne,{className:"border-primary/20 bg-gray-50 dark:bg-gray-800/50",children:[i.jsx(ht,{className:"pb-3",children:i.jsxs(At,{className:"text-base flex items-center gap-2",children:[i.jsx(dg,{className:"h-4 w-4 text-primary"}),"Salary Information"]})}),i.jsx(Pe,{className:"pt-0",children:i.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:[i.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:M.salaryRange||"Salary data not available"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Average salary range based on current market data"})]})})]}),i.jsxs(Ne,{className:"border-primary/20 bg-gray-50 dark:bg-gray-800/50",children:[i.jsx(ht,{className:"pb-3",children:i.jsx(At,{className:"text-base flex items-center gap-2",children:"Role Brief"})}),i.jsx(Pe,{className:"pt-0",children:i.jsx("div",{className:"bg-gray-100 dark:bg-gray-700/50 p-4 rounded-lg",children:i.jsx("div",{className:"text-base text-gray-700 dark:text-gray-300 leading-relaxed",children:M.summary?M.summary.split("**").map((V,Z)=>Z%2===1?i.jsx("strong",{className:"text-primary font-semibold",children:V},Z):V):i.jsx("span",{className:"text-muted-foreground italic",children:"Generating role brief..."})})})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Required Skills"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(M.aiGeneratedSkills||M.requiredSkills).map((V,Z)=>{const ie=R.has(V.toLowerCase());return i.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 rounded-[14px] transition-colors ${ie?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[i.jsx("div",{className:"flex-shrink-0",children:ie?i.jsx(Lj,{className:"h-4 w-4 text-white"}):i.jsx(ON,{className:"h-4 w-4"})}),i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:V})]},Z)})})]})]})})},M.title)):i.jsx(Ne,{children:i.jsxs(Pe,{className:"text-center py-8",children:[i.jsx("p",{className:"text-muted-foreground",children:"Complete a skill assessment to see personalized job recommendations."}),i.jsx(ae,{onClick:()=>t("/skill-test"),className:"mt-4",children:"Take Skill Assessment"})]})})})]})})):(console.log(" Rendering 'no test answers' state"),i.jsx(Mt,{children:i.jsx("div",{className:"p-6",children:i.jsx(Ne,{children:i.jsxs(Pe,{className:"text-center py-12",children:[i.jsx(ase,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),i.jsx("h2",{className:"text-lg font-bold mb-2",children:"Complete Your Skill Assessment"}),i.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Take our skill assessment to get personalized job recommendations and a custom learning path tailored to your strengths."}),i.jsxs(ae,{onClick:()=>t("/skill-test"),size:"lg",children:["Take Skill Assessment",i.jsx(Ij,{className:"h-4 w-4 ml-2"})]})]})})})}))},KLe="https://breneo-job-aggregator-k7ti.onrender.com/api/",GLe=async(e,t="Georgia")=>{try{const r=await fetch(KLe,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)return console.error(`Market Stats API error: ${r.status}`),null;const n=await r.json();if(!Array.isArray(n))return console.error("Invalid API response format"),null;const a=e.toLowerCase(),s=n.filter(g=>[g.title,g.description,g.company].join(" ").toLowerCase().includes(a)&&g.is_active),o=t&&t!=="Georgia"&&t!=="Worldwide"?s.filter(g=>g.location.toLowerCase().includes(t.toLowerCase())):s,l=o.length,c=new Date;c.setDate(c.getDate()-30);const u=o.filter(g=>{if(!g.posted_at)return!1;try{return new Date(g.posted_at)>=c}catch{return!1}}).length,d=l>0?u/l*100:0;let f="medium";l>100&&d>30?f="high":(l<20||d<10)&&(f="low");const h=Math.max(0,Math.min(100,d*2));return{totalJobs:l,recentJobs:u,growthPercentage:Math.round(h),demandLevel:f,trending:d>25}}catch(r){return console.error("Error fetching job market stats:",r),null}},JLe=async(e,t)=>{try{const r=new Date().getFullYear();let n="",a="",s="";if(t){const{totalJobs:u,recentJobs:d,growthPercentage:f,demandLevel:h,trending:g}=t,y=d,m=y>0?y/(u-d+1)*100:0;h==="high"?(n=`${e} is experiencing exceptional demand in today's job market. Our analysis shows ${u} active job listings, with ${d} new positions posted in the last 30 days alone. The field demonstrates strong momentum with an estimated ${f}% growth rate, making it one of the most sought-after skills in the current market.`,g?a=`The demand for ${e} professionals is at an all-time high. Companies across technology, finance, healthcare, and e-commerce sectors are actively recruiting talent. With ${d} new postings in just the past month, this skill is currently trending and presents excellent opportunities for both entry-level and experienced professionals. The market shows no signs of slowing down, making it an ideal time to invest in this career path.`:a=`The demand for ${e} professionals remains exceptionally strong. Organizations are prioritizing this skill set, with consistent hiring activity throughout the year. The high number of active listings (${u}) indicates sustained market demand. This field offers competitive salaries and strong career growth prospects for qualified candidates.`):h==="medium"?(n=`${e} maintains healthy demand in the job market with ${u} active listings. We've tracked ${d} new positions in the past 30 days, indicating steady hiring activity. The field shows stable growth with moderate competition, creating balanced opportunities for skilled professionals.`,a=`The market for ${e} professionals is well-established with consistent demand. While competition exists, there are ample opportunities for candidates with the right skill set and experience. The field benefits from steady industry adoption, making it a reliable career choice with good long-term prospects.`):(n=`${e} represents a specialized field with ${u} current listings. While the absolute number may be lower, this indicates a niche market where specialized skills are highly valued. The field offers unique opportunities for professionals who can distinguish themselves.`,a=`While ${e} has a smaller market presence, it offers distinct advantages for specialized professionals. Companies actively seeking this skill often offer competitive compensation and value deep expertise. Success in this field typically requires strong foundational skills, continuous learning, and building a network within the specialized community.`),f>60?s="experiencing explosive growth":f>40?s="rapidly growing":f>20?s="growing steadily":f>5?s="stable with positive growth":s="stable"}else n=`${e} professionals continue to be in demand across various industries. The field has demonstrated consistent growth, with expanding opportunities in technology, business, and creative sectors. Job postings have maintained an upward trajectory, reflecting strong market confidence in this skill set.`,a=`The demand for ${e} skills remains robust as businesses adapt to evolving market needs. This field offers diverse career paths and opportunities for professional development. As organizations invest in digital transformation and innovation, professionals with ${e} expertise are well-positioned for long-term career success.`,s="growing steadily";const o=t?Math.max(35,Math.min(95,Math.round(t.totalJobs/15+t.growthPercentage/2))):60,l=[],c=(t==null?void 0:t.growthPercentage)||15;for(let u=0;u<5;u++){const d=r-4+u,f=4-u,h=c/10*f,g=Math.max(25,Math.min(100,Math.round(o-h)));l.push({year:String(d),popularity:g})}return{popularityText:n,demandText:a,growthTrend:s,chartData:l}}catch(r){return console.error("Error generating AI market insights:",r),null}},YLe=async(e,t="Georgia")=>{try{const r=await GLe(e,t),n=await JLe(e,r);return{stats:r,insights:n}}catch(r){return console.error("Error getting complete market data:",r),{stats:null,insights:null}}},XLe=()=>{var z;const{skillName:e}=Of(),t=lr(),r=Ga(),{user:n}=vr(),[a,s]=p.useState(!0),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,g]=p.useState([]),[y,m]=p.useState([]),[v,x]=p.useState([]),[w,b]=p.useState([]),[_,S]=p.useState("Georgia"),E=e?decodeURIComponent(e):"";(z=r.state)==null||z.jobPath,p.useEffect(()=>{if(!n){t("/auth/login");return}if(!E){t("/skill-path");return}(async()=>{try{s(!0),k(),R();const D=`${E} professionals are in high demand. Loading real-time market data...`;f(D);const q=new Date().getFullYear(),L=[50,55,60,65,70].map((M,G)=>({year:String(q-4+G),popularity:M}));g(L),N("Georgia"),s(!1);const ee=await j();ee!=="Georgia"&&N(ee),Promise.all([P(ee),A(),U(ee)]).catch(M=>{console.error("Error in background operations:",M)})}catch(D){console.error("Error loading skill path details:",D),s(!1)}})()},[E,n]);const j=async()=>{try{const D=(await Te.get(vt.AUTH.PROFILE)).data,q=(D==null?void 0:D.country)||(n==null?void 0:n.country)||"Georgia";return S(q),q}catch(F){return console.error("Error fetching user country:",F),"Georgia"}},k=()=>{const F={JavaScript:"JavaScript developers are responsible for building interactive web applications and dynamic user interfaces. They work with modern frameworks like React, Vue, and Angular to create responsive and engaging web experiences.",Python:"Python developers specialize in backend development, data science, and automation. They build scalable server applications, analyze data, and create machine learning models using Python's extensive library ecosystem.",React:"React developers focus on building user interfaces using the React library. They create reusable components, manage application state, and implement modern UI patterns for web and mobile applications.","UI/UX Design":"UI/UX designers create intuitive and visually appealing user interfaces. They conduct user research, design wireframes and prototypes, and ensure optimal user experiences across different platforms.","Data Analysis":"Data analysts transform raw data into actionable insights. They use statistical methods, visualization tools, and programming languages to help organizations make data-driven decisions."},D=`${E} professionals are in high demand across various industries. This role involves working with ${E} technologies to solve complex problems and deliver innovative solutions.`,q=F[E]||D;l(q)},N=F=>{try{const D={javascript:"javascript developer",python:"python developer",react:"react developer","ui/ux design":"ux designer","ui/ux":"ux designer","data analysis":"data analyst","data analytics":"data analyst","software development":"software developer","web development":"web developer","mobile development":"mobile developer",devops:"devops engineer",cybersecurity:"cybersecurity specialist","quality assurance":"qa engineer","product management":"product manager","3d modeler":"3d artist"},q=E.toLowerCase();let T=D[q]||q,L=co(T,F);if(!L.min_salary&&!L.max_salary&&!T.includes("developer")){const G=`${T} developer`;L=co(G,F),(L.min_salary||L.max_salary)&&(T=G)}if(!L.min_salary&&!L.max_salary&&!T.includes("engineer")){const G=`${T} engineer`;L=co(G,F),(L.min_salary||L.max_salary)&&(T=G)}if(L&&(L.min_salary||L.max_salary)&&(L.min_salary>0||L.max_salary>0)){const G=Qu(L);if(G&&G!=="Salary data not available"){u(G);return}}const ee=q.includes("design")||q.includes("ui")||q.includes("ux")?"ui/ux designer":q.includes("data")||q.includes("analyst")||q.includes("analytics")?"data analyst":q.includes("manager")||q.includes("product")?"product manager":q.includes("security")||q.includes("cyber")?"cybersecurity specialist":q.includes("devops")||q.includes("cloud")?"devops engineer":"software developer",M=co(ee,F);if(M.min_salary&&M.max_salary){const G=Qu(M);u(G)}else{const G=co("software developer",F);u(Qu(G))}}catch(D){console.error("Error calculating salary:",D);try{const q=co("software developer",F);u(Qu(q))}catch{u("Salary data not available")}}},P=async F=>{try{const D=YLe(E,F),q=new Promise(L=>{setTimeout(()=>L(null),3e3)}),T=await Promise.race([D,q]);if(T&&T.insights){const L=`${T.insights.popularityText}

${T.insights.demandText}`;f(L),g(T.insights.chartData)}}catch(D){console.error("Error loading popularity data:",D)}},A=async()=>{try{const F=E.toLowerCase().trim(),{data:D,error:q}=await Kt.from("courses").select("id, title, provider, level, duration, description, required_skills, image").or(`title.ilike.%${E}%,description.ilike.%${E}%,title.ilike.%${F}%,description.ilike.%${F}%`).limit(6);if(q){console.error("Supabase query error:",q),m([]);return}let T=[];D&&D.length>0&&(T=D.filter(L=>{const ee=(L.title||"").toLowerCase(),M=(L.description||"").toLowerCase(),G=L.required_skills||[],V=ee.includes(F)||M.includes(F)||ee.includes(E.toLowerCase())||M.includes(E.toLowerCase()),Z=Array.isArray(G)&&G.some(ie=>ie.toLowerCase().includes(F)||F.includes(ie.toLowerCase()));return V||Z})),T.length>0?m(T.map(L=>({id:L.id,title:L.title,provider:L.provider||"Unknown",level:L.level||"Beginner",duration:L.duration||"N/A",description:L.description||"",required_skills:L.required_skills||[],image:L.image||void 0}))):m([])}catch(F){console.error("Error loading courses:",F),m([])}},R=()=>{const F={JavaScript:["Build a real-time chat application using WebSockets","Create a task management app with drag-and-drop functionality","Develop a weather dashboard with API integration","Build an e-commerce product catalog with filtering","Create an interactive data visualization dashboard"],Python:["Build a web scraper to analyze market trends","Create a machine learning model for predictions","Develop a REST API with Flask or Django","Build a data analysis tool for business insights","Create an automation script for repetitive tasks"],React:["Build a portfolio website with animations","Create a social media dashboard with real-time updates","Develop a todo app with state management","Build an e-commerce checkout flow","Create an interactive data table with sorting and filtering"],"UI/UX Design":["Design a mobile app interface for a fitness tracker","Create a website redesign for a local business","Design a complete design system and component library","Create wireframes and prototypes for a SaaS product","Design an accessible checkout flow for e-commerce"],"Data Analysis":["Analyze sales data to identify trends and patterns","Create visualizations for a business dashboard","Perform statistical analysis on survey data","Build a predictive model for customer behavior","Analyze social media engagement metrics"]},D=[`Create a ${E} portfolio project`,`Build a real-world application using ${E}`,`Develop a ${E} tool or utility`,`Contribute to an open-source ${E} project`,`Create a ${E} tutorial or course`],q=F[E]||D;x(q)},U=async F=>{try{const D={country:F,countries:[],jobTypes:[],isRemote:!1,datePosted:void 0,skills:[E],salaryMin:void 0,salaryMax:void 0,salaryByAgreement:!1},q=Ks.fetchActiveJobs({query:E,filters:D,page:1,pageSize:5}),T=new Promise(M=>{setTimeout(()=>M({jobs:[]}),5e3)}),L=await Promise.race([q,T]),ee=Ew(L.jobs);b(ee.slice(0,5))}catch(D){console.error("Error loading jobs:",D),b([])}};return a?i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{children:"Loading skill path details..."})]})})}):i.jsx(Mt,{children:i.jsxs("div",{className:"space-y-6 pb-20 md:pb-6",children:[i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx(At,{className:"text-3xl font-bold",children:E})}),i.jsx(Pe,{children:i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:o})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(dg,{className:"h-5 w-5"}),"Salary Information"]})}),i.jsxs(Pe,{children:[i.jsx("div",{className:"text-2xl font-bold text-primary mb-2",children:c}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Average salary range based on current market data"})]})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(MN,{className:"h-5 w-5"}),"Market Popularity"]})}),i.jsxs(Pe,{children:[i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:d}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-medium mb-4",children:"Last 5 Year Popularity"}),i.jsx(pw,{config:{popularity:{label:"Popularity",color:"#19B5FE"}},className:"h-[300px] w-full",children:i.jsxs(fP,{data:h,margin:{top:5,right:10,left:0,bottom:0},children:[i.jsx(Mz,{strokeDasharray:"3 3",className:"stroke-muted"}),i.jsx(Xf,{dataKey:"year",tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs"}),i.jsx(Qf,{tickLine:!1,axisLine:!1,tickMargin:8,className:"text-xs",domain:[0,100],label:{value:"Popularity %",angle:-90,position:"insideLeft"}}),i.jsx(hP,{content:({active:F,payload:D})=>F&&D&&D.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid gap-2",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx("span",{className:"text-sm font-medium",children:D[0].payload.year}),i.jsxs("span",{className:"text-sm font-bold",style:{color:"#19B5FE"},children:[D[0].value,"%"]})]})})}):null}),i.jsx(xi,{dataKey:"popularity",radius:[8,8,0,0],fill:"#19B5FE",children:h.map((F,D)=>i.jsx(Sg,{fill:"#19B5FE"},`cell-${D}`))})]})})]})]})]})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(nl,{className:"h-5 w-5"}),"Relevant Courses"]})}),i.jsxs(Pe,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(F=>i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors cursor-pointer",onClick:()=>t(`/course/${F.id}`),children:i.jsxs(Pe,{className:"p-4",children:[i.jsx("h5",{className:"font-semibold text-sm mb-2",children:F.title}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:F.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rr,{variant:"secondary",className:"text-xs",children:F.level}),i.jsx("span",{className:"text-xs text-muted-foreground",children:F.duration})]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",F.provider]})]})]})},F.id))}),y.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(nl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),i.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:"No relevant courses available"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["We couldn't find any courses specifically for"," ",E," at the moment. Check back later or explore our general course catalog."]})]})]})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(dse,{className:"h-5 w-5"}),"Project Ideas"]})}),i.jsxs(Pe,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Build these projects after completing courses to strengthen your skills:"}),i.jsx("div",{className:"space-y-3",children:v.map((F,D)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-muted rounded-lg",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-medium flex-shrink-0",children:D+1}),i.jsx("p",{className:"text-sm",children:F})]},D))})]})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(hn,{className:"h-5 w-5"}),"Relevant Jobs"]})}),i.jsxs(Pe,{children:[w.length>0?i.jsx("div",{className:"space-y-3",children:w.map(F=>{const D=F.job_id||F.id||`job-${Math.random()}`,q=F.job_title||F.title||"Untitled Position",T=F.employer_name||F.company_name||(typeof F.company=="string"?F.company:"Unknown Company"),L=F.job_city&&F.job_state?`${F.job_city}, ${F.job_state}`:F.job_city||F.job_state||F.location||"Location not specified",ee=F.job_apply_link||F.apply_link||F.url||"#",M=F.employer_logo||F.company_logo||F.logo_url||"";let G="By agreement";const V=F.job_min_salary||F.min_salary,Z=F.job_max_salary||F.max_salary,ie=F.job_salary_currency||F.salary_currency||"$";return V&&Z&&typeof V=="number"&&typeof Z=="number"?G=`${ie}${V.toLocaleString()} - ${ie}${Z.toLocaleString()}`:V&&typeof V=="number"&&(G=`${ie}${V.toLocaleString()}+`),i.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors cursor-pointer",onClick:()=>t(`/jobs/${D}`),children:i.jsx(Pe,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[M&&i.jsx("img",{src:M,alt:T,className:"w-12 h-12 rounded-lg object-contain flex-shrink-0",onError:H=>{H.target.style.display="none"}}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h5",{className:"font-semibold text-sm mb-1 line-clamp-1",children:q}),i.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[T,"  ",L]}),G&&i.jsx(rr,{variant:"secondary",className:"text-xs",children:G})]}),i.jsx(ae,{variant:"outline",size:"sm",onClick:H=>{H.stopPropagation(),window.open(ee,"_blank")},children:"Apply"})]})})},D)})}):i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No jobs found for this skill. Check back later!"}),w.length>0&&i.jsxs(ae,{variant:"outline",className:"w-full mt-4",onClick:()=>{t(`/jobs?search=${encodeURIComponent(E)}`)},children:["View More Jobs",i.jsx(Ij,{className:"h-4 w-4 ml-2"})]})]})]})]})})},q3=[{id:1,name:"Marketing",icon:""},{id:2,name:"Tech",icon:""},{id:3,name:"Design",icon:""},{id:4,name:"Business",icon:""},{id:5,name:"Education",icon:""},{id:6,name:"Science",icon:""},{id:7,name:"Healthcare",icon:""},{id:8,name:"Finance",icon:""},{id:9,name:"Arts",icon:""}];function QLe(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),a=lr(),{user:s}=vr(),o=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},l=async()=>{if(e.length===0){ue.error("Please select at least one area of interest");return}if(!s){ue.error("Please sign in to save your interests.");return}n(!0);try{const c=e.map(d=>{var f;return(f=q3.find(h=>h.id===d))==null?void 0:f.name}).filter(Boolean),{error:u}=await Kt.from("profiles").update({interests:c,onboarding_completed:!0}).eq("id",s.id);if(u)throw u;ue.success("Interests saved! Your personalized experience is ready."),a("/home")}catch(c){ue.error(`Failed to save interests: ${c.message}`)}finally{n(!1)}};return i.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-breneo-navy mb-2",children:"What are you interested in?"}),i.jsx("p",{className:"text-gray-600",children:"Select areas you'd like to explore. This helps us personalize your experience."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:q3.map(c=>i.jsx(Ne,{className:`p-4 cursor-pointer transition-all border-2 ${e.includes(c.id)?"border-breneo-blue bg-breneo-blue/5":"border-transparent hover:border-gray-200"}`,onClick:()=>o(c.id),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-2xl",children:c.icon}),i.jsx("div",{className:"font-medium",children:c.name})]})},c.id))}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx(ae,{onClick:l,className:"bg-breneo-blue hover:bg-breneo-blue/90",disabled:r,children:r?"Saving...":"Continue"})})]})}const ZLe=()=>i.jsxs("div",{className:"min-h-screen bg-breneo-lightgray flex flex-col",children:[i.jsx("header",{className:"bg-white py-4 px-6 shadow-sm",children:i.jsx("div",{className:"container mx-auto",children:i.jsx("a",{href:"/",className:"flex items-center space-x-2",children:i.jsx("img",{src:"lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:"h-10"})})})}),i.jsx("main",{className:"flex-grow py-12",children:i.jsx(QLe,{})}),i.jsx("footer",{className:"bg-white py-4 px-6 border-t",children:i.jsx("div",{className:"container mx-auto",children:i.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[" ",new Date().getFullYear()," Breneo. All rights reserved."]})})})]}),eDe=async e=>{try{const t=await au(e);if(!t||t.length===0)return[];const r=su(t);return Object.entries(r).sort(([,a],[,s])=>s-a).slice(0,5).map(([a])=>a)}catch(t){return console.error("Error fetching user skills:",t),[]}},tDe=e=>{const t=[],r=[e.job_title||e.title||"",e.description||e.job_description||"",e.job_required_experience||e.required_experience||"",...Array.isArray(e.required_skills)?e.required_skills:[],...Array.isArray(e.skills)?e.skills:[],...Array.isArray(e.job_skills)?e.job_skills:[],...typeof e.required_skills=="string"?e.required_skills.split(",").map(a=>a.trim()):[],...typeof e.skills=="string"?e.skills.split(",").map(a=>a.trim()):[],...typeof e.job_skills=="string"?e.job_skills.split(",").map(a=>a.trim()):[]].filter(Boolean).join(" ").toLowerCase(),n={javascript:["javascript","js","node.js","nodejs","react","vue","angular"],python:["python","django","flask","fastapi"],java:["java","spring","spring boot"],"c++":["c++","cpp","c plus plus"],"c#":["c#","csharp","dotnet",".net"],go:["go","golang"],rust:["rust"],php:["php","laravel","symfony"],ruby:["ruby","rails"],swift:["swift","ios"],kotlin:["kotlin","android"],typescript:["typescript","ts"],html:["html","html5"],css:["css","css3","sass","scss","tailwind"],sql:["sql","mysql","postgresql","mongodb","database"],react:["react","reactjs","react.js"],vue:["vue","vuejs","vue.js"],angular:["angular","angularjs"],"node.js":["node.js","nodejs","node"],express:["express","express.js"],django:["django"],flask:["flask"],spring:["spring","spring boot"],laravel:["laravel"],rails:["rails","ruby on rails"],git:["git","github","gitlab"],docker:["docker","containerization"],kubernetes:["kubernetes","k8s"],aws:["aws","amazon web services"],azure:["azure","microsoft azure"],gcp:["gcp","google cloud","google cloud platform"],linux:["linux","unix"],"machine learning":["machine learning","ml","deep learning","neural network"],"data science":["data science","data analysis","data analytics"],ai:["artificial intelligence","ai","nlp","natural language processing"],blockchain:["blockchain","ethereum","solidity","web3"],devops:["devops","ci/cd","continuous integration"],testing:["testing","qa","quality assurance","test automation"],ui:["ui","user interface","ux","user experience"],design:["design","figma","sketch","adobe"],developer:["developer","development","programming","coding","software engineer","software developer"],designer:["designer","design","ui","ux","graphic designer","visual designer"],marketer:["marketer","marketing","digital marketing","social media","content marketing"],analyst:["analyst","analysis","data analyst","business analyst","data analytics"],teacher:["teacher","teaching","education","instructor","trainer"],"project manager":["project manager","pm","project management","scrum master","product manager"]};return Object.keys(n).forEach(a=>{n[a].some(o=>r.includes(o))&&t.push(a)}),[...new Set(t)]},rDe=(e,t)=>{if(t.length===0)return!1;const r=tDe(e);if(r.length===0){const l=[e.job_title||e.title||"",e.description||e.job_description||"",e.employer_name||e.company_name||e.company||"",e.job_required_experience||e.required_experience||e.experience||""].filter(Boolean).join(" ").toLowerCase(),c=u=>{const d=u.toLowerCase().trim(),f=[d];return d.includes("developer")&&f.push("development","programming","coding","software"),d.includes("designer")&&f.push("design","ui","ux","graphic"),d.includes("marketer")&&f.push("marketing","digital marketing","social media"),d.includes("analyst")&&f.push("analysis","data","analytics"),d.includes("manager")&&f.push("management","lead","coordinate"),f};return t.some(u=>c(u).some(f=>new RegExp(`\\b${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(l)))}const n=l=>l.toLowerCase().trim().replace(/\s+/g," "),a=t.map(n),s=r.map(n);return a.filter(l=>s.some(c=>!!(l===c||l.includes(c)||c.includes(l)))).length>0},nDe=async e=>{try{const{data:t,error:r}=await Kt.from("job_notifications").select("job_id").eq("user_id",e);return r?(console.error("Error fetching notified jobs:",r),new Set):new Set((t||[]).map(n=>n.job_id))}catch(t){return console.error("Error fetching notified jobs:",t),new Set}},aDe=async(e,t)=>{try{const{error:r}=await Kt.from("job_notifications").insert({user_id:e,job_id:t,notified_at:new Date().toISOString()});r&&console.error("Error marking job as notified:",r)}catch(r){console.error("Error marking job as notified:",r)}},sDe=async(e,t)=>{try{const r=t.job_title||t.title||"New Job",n=t.employer_name||t.company_name||t.company||"Company",{error:a}=await Kt.from("notifications").insert({title:"New Job Match! ",message:`${r} at ${n} matches your skills`,type:"info",recipient_id:e,is_read:!1});a&&console.error("Error creating notification:",a)}catch(r){console.error("Error creating notification:",r)}},oDe=async e=>{try{const t=await eDe(e);if(t.length===0)return console.log("No user skills found, skipping job check"),[];console.log("Checking for jobs matching skills:",t);const n=(await vg({query:"",filters:{country:"",countries:[],jobTypes:[],isRemote:!1,datePosted:"week",skills:t},page:1,pageSize:50})).jobs||[];console.log(`Found ${n.length} jobs to check`);const a=Ew(n);console.log(`Filtered to ${a.length} jobs from allowed ATS platforms`);const s=String(e),o=await nDe(pp(s)),l=[];for(const c of a){const u=c.job_id||c.id||"";u&&(o.has(u)||rDe(c,t)&&l.push(c))}console.log(`Found ${l.length} new matching jobs`);for(const c of l){const u=c.job_id||c.id||"";u&&(await sDe(pp(s),c),await aDe(pp(s),u))}return l}catch(t){return console.error("Error checking for new job matches:",t),[]}},iDe=(e={})=>{const{user:t}=vr(),{enabled:r=!0,checkInterval:n=30*60*1e3}=e,[a,s]=p.useState("default"),[o,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(!1),d=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(Notification.permission==="granted")return s("granted"),!0;if(Notification.permission==="denied")return s("denied"),!1;const g=await Notification.requestPermission();return s(g),g==="granted"},f=p.useCallback(g=>{if(a!=="granted"){console.log("Notification permission not granted");return}const y=g.job_title||g.title||"New Job",m=g.employer_name||g.company_name||g.company||"Company",v=g.job_id||g.id||"",x=new Notification("New Job Match! ",{body:`${y} at ${m} matches your skills`,icon:g.employer_logo||g.company_logo||g.logo_url||"/lovable-uploads/breneo_logo.png",badge:"/lovable-uploads/breneo_logo.png",tag:`job-${v}`,requireInteraction:!1});x.onclick=()=>{window.focus(),x.close(),window.location.href="/jobs"},setTimeout(()=>{x.close()},5e3)},[a]),h=p.useCallback(async()=>{if(!(!(t!=null&&t.id)||u.current)){u.current=!0,l(!0);try{const g=await oDe(t.id);for(const y of g)f(y);g.length>0&&console.log(`Sent ${g.length} job notifications`)}catch(g){console.error("Error checking for new jobs:",g)}finally{l(!1),u.current=!1}}},[t==null?void 0:t.id,f]);return p.useEffect(()=>{"Notification"in window&&s(Notification.permission)},[]),p.useEffect(()=>{!r||!(t!=null&&t.id)||(Notification.permission==="default"?console.log("Notification permission not yet requested"):Notification.permission==="granted"&&h())},[r,t==null?void 0:t.id,h]),p.useEffect(()=>{if(!r||!(t!=null&&t.id)||a!=="granted")return;c.current&&clearInterval(c.current),c.current=setInterval(()=>{h()},n);const g=()=>{document.visibilityState==="visible"&&h()};return document.addEventListener("visibilitychange",g),()=>{c.current&&clearInterval(c.current),document.removeEventListener("visibilitychange",g)}},[r,t==null?void 0:t.id,a,n,h]),{permission:a,requestPermission:d,isChecking:o,checkForNewJobs:h}},lDe=()=>{const{user:e}=vr(),t=Co(),r=Wa(),n=["user-notifications",e==null?void 0:e.id],a=(e==null?void 0:e.user_type)!=="academy";iDe({enabled:a&&!!(e!=null&&e.id),checkInterval:30*60*1e3}),p.useState(!1);const{data:s=[],isLoading:o}=gr({queryKey:n,queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:u,error:d}=await Kt.from("notifications").select("*").or(`recipient_id.is.null,recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(d)throw console.error("Error fetching notifications:",d),new Error("Could not fetch notifications.");return u||[]},enabled:!!(e!=null&&e.id)}),l=Vs({mutationFn:async u=>{if(!(e!=null&&e.id))throw new Error("User not authenticated.");const{error:d}=await Kt.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",u).eq("recipient_id",e.id);if(d)throw d},onMutate:async u=>{await r.cancelQueries({queryKey:n});const d=r.getQueryData(n)||[];return r.setQueryData(n,f=>(f||[]).map(h=>h.id===u?{...h,is_read:!0}:h)),{previousNotifications:d}},onError:(u,d,f)=>{f!=null&&f.previousNotifications&&r.setQueryData(n,f.previousNotifications),ue.error("Could not mark notification as read.")},onSettled:()=>{r.invalidateQueries({queryKey:n})}});p.useEffect(()=>{if(!(e!=null&&e.id))return;const u=h=>{if(r.invalidateQueries({queryKey:n}),h.new){const g=h.new,y=`${g.title}: ${g.message}`;switch(g.type){case"success":ue.success(y);break;case"error":ue.error(y);break;case"warning":ue.warning(y);break;default:ue.info(y)}}},d=Kt.channel("personal-user-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},u).subscribe(),f=Kt.channel("broadcast-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"recipient_id=is.null"},u).subscribe();return()=>{Kt.removeChannel(d),Kt.removeChannel(f)}},[r,e==null?void 0:e.id,n]);const c=u=>{switch(u){case"success":return i.jsx("div",{className:"bg-green-100 rounded-full p-2",children:i.jsx(Lj,{className:"h-5 w-5 text-green-600"})});case"warning":return i.jsx("div",{className:"bg-yellow-100 rounded-full p-2",children:i.jsx(jse,{className:"h-5 w-5 text-yellow-600"})});case"error":return i.jsx("div",{className:"bg-red-100 rounded-full p-2",children:i.jsx(ON,{className:"h-5 w-5 text-red-600"})});default:return i.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:i.jsx(TN,{className:"h-5 w-5 text-blue-600"})})}};return s.filter(u=>!u.is_read&&u.recipient_id===(e==null?void 0:e.id)).length,i.jsx(Mt,{children:i.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:i.jsx(Ne,{children:i.jsx(Pe,{className:"p-0",children:i.jsx("div",{className:"divide-y divide-gray-200",children:o?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t.common.loading}):s.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx("img",{src:"/lovable-uploads/3dicons-bell-dynamic-color.png",alt:"No notifications",className:"mx-auto h-48 w-48 mb-4 object-contain"}),i.jsx("p",{children:t.notifications.noNotifications})]}):s.map(u=>i.jsxs("div",{className:`flex items-start gap-4 p-4 transition-colors ${!u.is_read&&u.recipient_id===(e==null?void 0:e.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[c(u.type),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:u.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message}),!u.is_read&&u.recipient_id===(e==null?void 0:e.id)&&i.jsxs("button",{onClick:()=>l.mutate(u.id),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mt-2 disabled:opacity-50",disabled:l.isPending,children:[i.jsx(Lj,{className:"h-4 w-4"}),t.notifications.markAsRead]})]})]},u.id))})})})})})},W3=()=>{const e=lr(),{user:t}=vr(),[r,n]=p.useState(null),[a,s]=p.useState([]),[o,l]=p.useState(!0),c=p.useCallback(async()=>{var g;if(t)try{const y=await Te.get(vt.ACADEMY.PROFILE);if(y.data){const m=y.data,v={id:m.id||m.academy_id||String(t.id),academy_name:m.academy_name||"",first_name:m.first_name||m.firstName||t.first_name||m.academy_name||"",description:m.description||"",website_url:m.website_url||"",contact_email:m.contact_email||t.email||"",is_verified:m.is_verified||!1,logo_url:m.profile_photo_url||m.logo_url||null};n(v)}}catch(y){console.error("Failed to load academy profile:",y),((g=y.response)==null?void 0:g.status)===404?(ue.error("Please set up your academy profile first"),e("/academy/profile")):ue.error("Failed to load academy profile")}finally{l(!1)}},[t,e]),u=p.useCallback(async()=>{if(r)try{const{data:g,error:y}=await Kt.from("courses").select("id, title, category, level, created_at").eq("academy_id",r.id).order("created_at",{ascending:!1}).limit(5);if(y)throw y;s(g||[])}catch(g){console.error("Error fetching courses:",g)}},[r]);if(p.useEffect(()=>{c()},[c]),p.useEffect(()=>{r&&r.id&&u()},[r,u]),o)return i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-lg",children:"Loading..."})})});if(!r)return i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),i.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})});const d=a.length,f=new Set(a.map(g=>g.category)).size,h=a.filter(g=>new Date(g.created_at).getTime()>Date.now()-30*24*60*60*1e3).length;return i.jsx(Mt,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-6",children:[i.jsxs(Ne,{className:"min-w-0",children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[i.jsx(At,{className:"text-xs md:text-sm font-medium truncate",children:"Total Courses"}),i.jsx(nl,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),i.jsxs(Pe,{className:"p-3 md:p-6 pt-0",children:[i.jsx("div",{className:"text-lg md:text-2xl font-bold",children:d}),i.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Active courses in your academy"})]})]}),i.jsxs(Ne,{className:"min-w-0",children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[i.jsx(At,{className:"text-xs md:text-sm font-medium truncate",children:"Categories"}),i.jsx(kc,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),i.jsxs(Pe,{className:"p-3 md:p-6 pt-0",children:[i.jsx("div",{className:"text-lg md:text-2xl font-bold",children:f}),i.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Different course categories"})]})]}),i.jsxs(Ne,{className:"min-w-0",children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[i.jsx(At,{className:"text-xs md:text-sm font-medium truncate",children:"Recent Courses"}),i.jsx(MN,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),i.jsxs(Pe,{className:"p-3 md:p-6 pt-0",children:[i.jsx("div",{className:"text-lg md:text-2xl font-bold",children:h}),i.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Added in the last 30 days"})]})]}),i.jsxs(Ne,{className:"min-w-0",children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3 md:p-6",children:[i.jsx(At,{className:"text-xs md:text-sm font-medium truncate",children:"Status"}),i.jsx(Ec,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground flex-shrink-0"})]}),i.jsxs(Pe,{className:"p-3 md:p-6 pt-0",children:[i.jsx("div",{className:"text-lg md:text-2xl font-bold",children:r.is_verified?i.jsx(rr,{className:"bg-green-500 text-[10px] md:text-xs",children:"Verified"}):i.jsx(rr,{variant:"outline",className:"text-[10px] md:text-xs",children:"Pending"})}),i.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground hidden md:block",children:"Academy verification status"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(al,{className:"h-5 w-5"}),"Academy Information"]})}),i.jsxs(Pe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Academy Name"}),i.jsx("p",{className:"font-semibold",children:r.academy_name})]}),r.description&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),i.jsx("p",{className:"text-sm",children:r.description})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.website_url&&i.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.open(r.website_url,"_blank"),children:[i.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Website",i.jsx(Hc,{className:"h-3 w-3 ml-2"})]}),r.contact_email&&i.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.location.href=`mailto:${r.contact_email}`,children:[i.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between",children:[i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(nl,{className:"h-5 w-5"}),"Recent Courses"]}),i.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>e("/academy/courses"),children:"View All"})]}),i.jsx(Pe,{children:a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(nl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No courses yet"}),i.jsx(ae,{onClick:()=>e("/academy/courses/add"),size:"sm",children:"Create Your First Course"})]}):i.jsx("div",{className:"space-y-3",children:a.map(g=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent transition-colors",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",children:g.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(rr,{variant:"outline",className:"text-xs",children:g.category}),i.jsx(rr,{variant:"secondary",className:"text-xs",children:g.level})]})]}),i.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>e(`/academy/courses/edit/${g.id}`),children:"Edit"})]},g.id))})})]})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs(At,{className:"flex items-center gap-2",children:[i.jsx(Nc,{className:"h-5 w-5"}),"Quick Actions"]})}),i.jsx(Pe,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(ae,{onClick:()=>e("/academy/courses/add"),className:"h-auto flex-col items-start p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(nl,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Add New Course"})]}),i.jsx("span",{className:"text-sm text-left opacity-80",children:"Create and publish a new course"})]}),i.jsxs(ae,{variant:"outline",onClick:()=>e("/academy/courses"),className:"h-auto flex-col items-start p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(LN,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Manage Courses"})]}),i.jsx("span",{className:"text-sm text-left opacity-80",children:"View and edit all your courses"})]}),i.jsxs(ae,{variant:"outline",onClick:()=>e("/academy/profile"),className:"h-auto flex-col items-start p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(al,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Edit Profile"})]}),i.jsx("span",{className:"text-sm text-left opacity-80",children:"Update your academy information"})]})]})})]})]})})},JH=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",e),...t})}));JH.displayName="Table";const YH=p.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",e),...t}));YH.displayName="TableHeader";const XH=p.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",e),...t}));XH.displayName="TableBody";const cDe=p.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));cDe.displayName="TableFooter";const HE=p.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));HE.displayName="TableRow";const nc=p.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));nc.displayName="TableHead";const ac=p.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ac.displayName="TableCell";const uDe=p.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",e),...t}));uDe.displayName="TableCaption";const dDe=()=>{const e=lr(),{user:t}=vr(),[r,n]=p.useState([]),[a,s]=p.useState(null),[o,l]=p.useState(!0),c=f=>{e(`/academy/courses/edit/${f.id}`)},u=p.useCallback(async()=>{var f;if(t)try{const h=await Te.get(vt.ACADEMY.PROFILE);if(h.data){const g=h.data,y={id:g.id||g.academy_id||String(t.id),academy_name:g.academy_name||"",first_name:g.first_name||g.firstName||t.first_name||g.academy_name||"",description:g.description||"",website_url:g.website_url||"",contact_email:g.contact_email||t.email||"",is_verified:g.is_verified||!1,logo_url:g.profile_photo_url||g.logo_url||null};s(y),console.log(" Academy profile loaded from API:",y)}}catch(h){console.error("Failed to load academy profile:",h),h&&typeof h=="object"&&"response"in h&&((f=h.response)==null?void 0:f.status)===404?ue.error("Please set up your academy profile first"):ue.error("Failed to load academy profile")}finally{l(!1)}},[t]),d=p.useCallback(async()=>{if(a)try{const{data:f,error:h}=await Kt.from("courses").select("*").eq("academy_id",a.id).order("created_at",{ascending:!1});if(h)throw h;const g=(f||[]).map(y=>({...y,required_skills:y.required_skills||[],topics:y.topics||[],enrolled:y.enrolled||!1,popular:y.popular||!1,is_academy_course:y.is_academy_course||!1}));n(g)}catch(f){console.error("Error fetching courses:",f);const h=f instanceof Error?f.message:"Failed to load courses";ue.error(h)}},[a]);return p.useEffect(()=>{u()},[u]),p.useEffect(()=>{a&&a.id&&d()},[a,d]),o?i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-lg",children:"Loading..."})})}):a?i.jsx(Mt,{children:i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("span",{className:"text-md font-semibold",children:["You have ",r.length," Courses"]}),i.jsxs(ae,{onClick:()=>e("/academy/courses/add"),children:[i.jsx(R8,{className:"w-4 h-4 mr-2"}),"Add Course"]})]}),i.jsx("div",{children:r.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(nl,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No courses yet"}),i.jsx("p",{className:"text-muted-foreground",children:"Add your first course to get started"})]}):i.jsxs(JH,{children:[i.jsx(YH,{children:i.jsxs(HE,{children:[i.jsx(nc,{children:"Image"}),i.jsx(nc,{children:"Title"}),i.jsx(nc,{children:"Category"}),i.jsx(nc,{children:"Level"}),i.jsx(nc,{children:"Duration"}),i.jsx(nc,{})]})}),i.jsx(XH,{children:r.map(f=>i.jsxs(HE,{children:[i.jsx(ac,{children:i.jsx("img",{src:f.image,alt:f.title,className:"h-16 w-auto rounded-md object-contain"})}),i.jsx(ac,{className:"font-medium",children:f.title}),i.jsx(ac,{children:i.jsx(rr,{variant:"outline",children:f.category})}),i.jsx(ac,{children:i.jsx(rr,{variant:"secondary",children:f.level})}),i.jsx(ac,{children:f.duration}),i.jsx(ac,{className:"text-right",children:i.jsx(ae,{variant:"outline",size:"sm",onClick:()=>c(f),children:i.jsx(gp,{className:"h-4 w-4"})})})]},f.id))})]})})]})})}):i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),i.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},Wy="https://breneo.onrender.com/api/academy/profile/",fDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),hDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),pDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),mDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),gDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M12 24C5.385 24 0 18.615 0 12S5.385 0 12 0s12 5.385 12 12-5.385 12-12 12zm10.12-10.358c-.35-.11-3.17-.953-6.384-.438 1.34 3.684 1.887 6.684 1.992 7.308 2.3-1.555 3.936-4.02 4.395-6.87zm-6.115 7.808c-.153-.9-.75-4.032-2.19-7.77l-.066.02c-5.79 2.015-7.86 6.025-8.04 6.4 1.73 1.358 3.92 2.137 6.29 2.137 1.42 0 2.77-.29 4-.816zm-11.62-2.58c.232-.4 3.045-5.055 8.332-6.765.135-.045.27-.084.405-.12-.26-.585-.54-1.167-.832-1.72C7.17 11.775 2.206 11.71 1.756 11.7l-.004.312c0 2.633.998 5.037 2.634 6.855zm-2.42-8.955c.46.008 4.683.026 9.477-1.248-1.698-3.018-3.53-5.558-3.8-5.928-2.868 1.35-5.01 3.99-5.676 7.17zM9.6 2.052c.282.38 2.145 2.914 3.822 6 3.645-1.365 5.19-3.44 5.373-3.702-1.81-1.61-4.19-2.586-6.795-2.586-.825 0-1.63.1-2.4.285zm10.335 3.483c-.218.29-1.935 2.493-5.724 4.04.24.49.47.985.68 1.486.08.18.15.36.22.53 3.41-.43 6.8.26 7.14.33-.02-2.42-.88-4.64-2.31-6.38z"})}),yDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.921h-6.466v-14.921h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.015zm-3.466-8.921h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"})}),I_=(e,t)=>{const r={className:t||"h-5 w-5"};switch(e){case"github":return i.jsx(fDe,{...r});case"linkedin":return i.jsx(hDe,{...r});case"facebook":return i.jsx(pDe,{...r});case"instagram":return i.jsx(mDe,{...r});case"dribbble":return i.jsx(gDe,{...r});case"behance":return i.jsx(yDe,{...r});default:return i.jsx($N,{className:t||"h-5 w-5"})}},Fh={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram",dribbble:"Dribbble",behance:"Behance"},vDe=()=>{const{user:e,logout:t,loading:r}=vr(),n=lr(),a=Ja(),[s,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState(!1),[g,y]=p.useState(!1),[m,v]=p.useState(!1),[x,w]=p.useState({contact_email:""}),[b,_]=p.useState({academy_name:"",description:"",website_url:"",contact_email:""}),[S,E]=p.useState({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""}),[j,k]=p.useState(!1),[N,P]=p.useState(!1),[A,R]=p.useState(null),[U,z]=p.useState({platform:"",url:""}),[F,D]=p.useState(!1),[q,T]=p.useState(!1),[L,ee]=p.useState(!1),[M,G]=p.useState(null),V=p.useMemo(()=>{const ye=(Ee,Oe)=>{if(Ee&&typeof Ee=="object")return Ee[Oe]};return[ye(e,"phone_verified"),ye(e,"is_phone_verified"),ye(l,"phone_verified"),ye(l,"is_phone_verified")].some(Ee=>Ee===!0||Ee==="true")},[e,l]),{isPhoneVerified:Z,isSendingCode:ie,isVerifyingCode:H,codeSent:W,codeInput:X,resendCooldown:B,sendCode:Q,verifyCode:se,setCodeInput:J}=Kq({phoneNumber:e==null?void 0:e.phone_number,ownerId:e==null?void 0:e.id,role:(e==null?void 0:e.user_type)??"academy",initiallyVerified:V}),le=async()=>{try{await Q(),ue.info(e!=null&&e.phone_number?`We've sent a 6-digit code to ${e.phone_number}.`:"We've sent a 6-digit code to your phone.")}catch(ye){const Ce=ye instanceof Error?ye.message:"Failed to send verification code. Please try again.";ue.error(Ce)}},ce=async()=>{try{await se()&&ue.success("Your phone number has been verified successfully.")}catch(ye){const Ce=ye instanceof Error?ye.message:"Verification failed. Please check the code and try again.";ue.error(Ce)}};p.useEffect(()=>{e!=null&&e.profile_image&&G(e.profile_image)},[e==null?void 0:e.profile_image]),p.useEffect(()=>{(async()=>{var Ee,Oe,tt,st;if(r)return;if(!e){d(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),d(!1),ue.error("Please log in again to access your academy profile.");return}d(!0);try{try{const bt=await Te.get(Wy);if(bt.data){const at=bt.data;o(at),_({academy_name:at.academy_name||"",description:at.description||"",website_url:at.website_url||"",contact_email:at.contact_email||""}),w({contact_email:at.contact_email||""})}}catch(bt){const at=bt,Nt=(Ee=at.response)==null?void 0:Ee.status,_e=(Oe=at.response)==null?void 0:Oe.data;if(console.log(" Academy profile API response:",{status:Nt,url:(tt=at.config)==null?void 0:tt.url,hasToken:!!localStorage.getItem("authToken"),errorData:_e}),Nt===404)console.log(" Academy profile not found (404) - user may need to create one"),o(null);else if(Nt===403)console.error("Access forbidden to academy profile"),ue.error("You don't have permission to access academy profile.");else if(Nt===401){const De=(_e==null?void 0:_e.detail)||(_e==null?void 0:_e.message)||"";console.warn(" Academy profile returned 401",{errorDetail:De,url:(st=at.config)==null?void 0:st.url});const Re=String(De).toLowerCase();if(Re.includes("not found")||Re.includes("does not exist")||Re.includes("no profile")||Re.includes("user not found")){console.log(" Profile not found based on error message - treating as 404, allowing user to create profile"),o(null);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){if(console.error(" Token was cleared - checking if it's a server error or real expiration"),Re.includes("academy")||Re.includes("profile")){console.log(" Error mentions academy/profile - might be missing profile, allowing creation"),o(null);return}ue({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"});return}console.log(" Token exists but got 401 - treating as missing profile, allowing user to create profile"),o(null)}else console.error("Error fetching academy profile:",at),ue.error("Could not load academy profile data. Please try again.")}e!=null&&e.profile_image||Te.get(vt.AUTH.PROFILE).then(bt=>{bt.data&&c(bt.data)}).catch(bt=>{var _e;const at=bt,Nt=(_e=at==null?void 0:at.response)==null?void 0:_e.status;if(Nt&&Nt!==401&&Nt!==403){const De=(at==null?void 0:at.message)||String(bt);console.warn("Could not fetch user profile (non-critical):",Nt||De)}})}catch(bt){const at=bt instanceof Error?bt.message:"Unknown error";console.error("Unexpected error in fetchProfileData:",at),ue({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{d(!1)}})()},[e,ue,r]),p.useEffect(()=>{s&&(async()=>{if(!(!e||!s)){k(!0);try{const Ce=localStorage.getItem("authToken"),Ee="academy",Oe=s.id,tt=e==null?void 0:e.email,st=await Te.get("/api/social-links/",{headers:Ce?{Authorization:`Bearer ${Ce}`}:{},params:{role:Ee,academy:Oe,user_email:tt}});st.data&&typeof st.data=="object"&&!Array.isArray(st.data)?E({github:st.data.github||"",linkedin:st.data.linkedin||"",facebook:st.data.facebook||"",instagram:st.data.instagram||"",dribbble:st.data.dribbble||"",behance:st.data.behance||""}):E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}catch{E({github:"",linkedin:"",facebook:"",instagram:"",dribbble:"",behance:""})}finally{k(!1)}}})()},[e,s]);const ge=async()=>{var ye;if(!e){ue({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}if(!b.academy_name.trim()){ue({title:"Validation Error",description:"Academy name is required.",variant:"destructive"});return}v(!0);try{const Ee=await Te[s?"patch":"post"](Wy,{academy_name:b.academy_name.trim(),description:b.description.trim()||null,website_url:b.website_url.trim()||null,contact_email:b.contact_email.trim()||null});if(Ee.data){const Oe={id:(s==null?void 0:s.id)||Ee.data.id||"",academy_name:b.academy_name.trim(),description:b.description.trim()||"",website_url:b.website_url.trim()||"",contact_email:b.contact_email.trim()||"",logo_url:(s==null?void 0:s.logo_url)||Ee.data.logo_url||null};o(Oe),_({academy_name:Oe.academy_name,description:Oe.description,website_url:Oe.website_url,contact_email:Oe.contact_email}),ue.success(s?"Your academy profile has been updated.":"Your academy profile has been created."),h(!1)}}catch(Ce){const Ee=Ce;let Oe="Failed to update profile. Please try again.";if((ye=Ee.response)!=null&&ye.data){const tt=Ee.response.data;Oe=tt.detail||tt.message||Oe}else Ce instanceof Error&&(Oe=Ce.message);console.error("Error updating academy profile:",Oe),ue.error(Oe)}finally{v(!1)}},he=ye=>{const{id:Ce,value:Ee}=ye.target;_(Oe=>({...Oe,[Ce]:Ee}))},je=()=>{t(),n("/")},Ke=()=>{s&&w({contact_email:s.contact_email||""}),y(!0)},Xe=async()=>{var ye;if(s){v(!0);try{const Ce=await Te.patch(Wy,{academy_name:s.academy_name,description:s.description,website_url:s.website_url||null,contact_email:x.contact_email.trim()||null});if(Ce&&Ce.data){const Ee={...s,contact_email:x.contact_email.trim()||""};o(Ee),_(Oe=>({...Oe,contact_email:Ee.contact_email})),ue.success("Contact information has been updated."),y(!1)}else throw new Error("No response data received")}catch(Ce){const Ee=Ce;let Oe="Failed to update contact information. Please try again.";if((ye=Ee.response)!=null&&ye.data){const tt=Ee.response.data;Oe=tt.detail||tt.message||Oe}else Ce instanceof Error&&(Oe=Ce.message);console.error("Error updating contact information:",Ce),ue.error(Oe)}finally{v(!1)}}},gt=()=>{R(null),z({platform:"",url:""}),P(!0)},I=ye=>{R(ye),z({platform:ye,url:S[ye]||""}),P(!0)},Y=ye=>{try{const Ce=new URL(ye);return Ce.protocol==="http:"||Ce.protocol==="https:"}catch{try{const Ce=new URL(`https://${ye}`);return!0}catch{return!1}}},we=async()=>{var Ce,Ee,Oe;if(!e||!s||!U.platform||!U.url.trim()){ue.error("Please select a platform and provide a URL.");return}const ye=U.url.trim();if(!Y(ye)){ue.error("Please enter a valid URL (e.g., https://example.com).");return}D(!0);try{if(U.platform==="website"){let ze=ye;!ze.startsWith("http://")&&!ze.startsWith("https://")&&(ze=`https://${ze}`);const re=await Te.patch(Wy,{academy_name:s.academy_name,description:s.description,website_url:ze||null,contact_email:s.contact_email});if(re&&re.data){const K={...s,website_url:ze||""};o(K),_(C=>({...C,website_url:K.website_url})),ue.success(A==="website"?"Website updated successfully.":"Website added successfully."),P(!1),z({platform:"",url:""}),R(null)}else throw new Error("No response data received");return}const tt=localStorage.getItem("authToken");if(!tt)throw new Error("Authentication token is missing");const st=U.platform,bt="academy",at=s.id,Nt=e==null?void 0:e.email;if(!at||!Nt)throw new Error("Missing required information: academy ID or user email");let _e=ye;!_e.startsWith("http://")&&!_e.startsWith("https://")&&(_e=`https://${_e}`);const De={[st]:_e,role:bt,academy:at,user_email:Nt};console.log(" Saving social link:",{platform:st,url:_e,role:bt,academy:at,user_email:Nt});let Re;try{Re=await Te.patch("/api/social-links/",De,{headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}}),console.log(" Social link saved via PATCH:",Re.data)}catch(ze){const re=ze;if(((Ce=re.response)==null?void 0:Ce.status)===404||((Ee=re.response)==null?void 0:Ee.status)===400){console.log(" PATCH failed, trying POST to create new record...");try{Re=await Te.post("/api/social-links/",De,{headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}}),console.log(" Social link created via POST:",Re.data)}catch(K){throw console.error(" Both PATCH and POST failed:",K),ze}}else throw ze}if(!Re||!Re.data)throw new Error("No response data received from server");E(ze=>({...ze,[st]:_e}));try{const ze=await Te.get("/api/social-links/",{headers:{Authorization:`Bearer ${tt}`},params:{role:bt,academy:at,user_email:Nt}});if(ze.data&&typeof ze.data=="object"&&!Array.isArray(ze.data)){const re={github:ze.data.github||"",linkedin:ze.data.linkedin||"",facebook:ze.data.facebook||"",instagram:ze.data.instagram||"",dribbble:ze.data.dribbble||"",behance:ze.data.behance||""};E(re),console.log(" Social links refreshed from server:",re)}}catch(ze){console.warn(" Could not refresh social links from server:",ze)}ue.success(A?"Social link updated successfully.":"Social link added successfully."),P(!1),z({platform:"",url:""}),R(null)}catch(tt){const st=tt;let bt="Failed to save. Please try again.";if((Oe=st.response)!=null&&Oe.data){const at=st.response.data;bt=at.detail||at.message||bt}else tt instanceof Error&&(bt=tt.message);console.error("Error saving social link/website:",tt),ue.error(bt)}finally{D(!1)}},Ae=async ye=>{var Ee,Oe,tt,st,bt,at,Nt;const Ce=(Ee=ye.target.files)==null?void 0:Ee[0];if(Ce){if(!Ce.type.startsWith("image/")){ue.error("Please select an image file.");return}if(Ce.size>5*1024*1024){ue.error("Image size should be less than 5MB.");return}T(!0),G(null);try{const _e=new FormData;_e.append("profile_image",Ce);const De=localStorage.getItem("authToken"),Re=await Te.patch(vt.AUTH.PROFILE,_e,{headers:{Authorization:De?`Bearer ${De}`:void 0,"Content-Type":"multipart/form-data"}});console.log(" Image upload response:",Re.data);const ze=((Oe=Re.data)==null?void 0:Oe.profile_image)||((st=(tt=Re.data)==null?void 0:tt.profile)==null?void 0:st.profile_image)||((at=(bt=Re.data)==null?void 0:bt.user)==null?void 0:at.profile_image)||null;G(ze),ue.success("Profile image has been updated successfully."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image uploaded successfully")}catch(_e){console.error(" Error uploading profile image:",_e);const De=_e;let Re="Failed to upload profile image. Please try again.";if((Nt=De.response)!=null&&Nt.data){const ze=De.response.data;Re=ze.detail||ze.message||Re}ue.error(Re)}finally{T(!1)}}},Ue=()=>{ee(!0)},We=()=>{var ye;(ye=document.getElementById("profile-image-input"))==null||ye.click(),ee(!1)},Ye=async()=>{if(e){if(!confirm("Are you sure you want to remove your profile image?")){ee(!1);return}T(!0),ee(!1);try{const ye=localStorage.getItem("authToken"),Ce=await Te.patch(vt.AUTH.PROFILE,{profile_image:null},{headers:{Authorization:ye?`Bearer ${ye}`:void 0}});console.log(" Image removal response:",Ce.data),G(null),(await Te.get(vt.AUTH.PROFILE,{headers:{Authorization:ye?`Bearer ${ye}`:void 0}})).data,ue.success("Profile image has been removed."),setTimeout(()=>{window.location.reload()},500),console.log(" Profile image removed successfully")}catch(ye){console.error(" Error removing profile image:",ye),ue.error("Failed to remove profile image. Please try again.")}finally{T(!1)}}},He=async ye=>{var Ce;if(!(!e||!s||!confirm("Are you sure you want to remove this social link?")))try{const Ee=localStorage.getItem("authToken");if(!Ee)throw new Error("Authentication token is missing");const Oe="academy",tt=s.id,st=e==null?void 0:e.email;if(!tt||!st)throw new Error("Missing required information: academy ID or user email");console.log(" Deleting social link:",{platform:ye,role:Oe,academy:tt,user_email:st});const bt={[ye]:"",role:Oe,academy:tt,user_email:st},at=await Te.patch("/api/social-links/",bt,{headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"}});if(!at||!at.data)throw new Error("No response data received from server");console.log(" Social link deleted:",at.data),E(Nt=>({...Nt,[ye]:""}));try{const Nt=await Te.get("/api/social-links/",{headers:{Authorization:`Bearer ${Ee}`},params:{role:Oe,academy:tt,user_email:st}});if(Nt.data&&typeof Nt.data=="object"&&!Array.isArray(Nt.data)){const _e={github:Nt.data.github||"",linkedin:Nt.data.linkedin||"",facebook:Nt.data.facebook||"",instagram:Nt.data.instagram||"",dribbble:Nt.data.dribbble||"",behance:Nt.data.behance||""};E(_e),console.log(" Social links refreshed from server after deletion:",_e)}}catch(Nt){console.warn(" Could not refresh social links from server:",Nt)}ue.success("Social link removed successfully.")}catch(Ee){const Oe=Ee;let tt="Failed to remove social link. Please try again.";if((Ce=Oe.response)!=null&&Ce.data){const st=Oe.response.data;tt=st.detail||st.message||tt}else Ee instanceof Error&&(tt=Ee.message);console.error(" Error deleting social link:",Ee),ue.error(tt)}};return r||u?i.jsx(Mt,{children:i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-breneo-blue mx-auto mb-2"}),i.jsx("p",{children:"Loading profile..."})]})})}):!s&&!u?i.jsxs(Mt,{children:[i.jsxs("div",{className:"flex flex-col justify-center items-center h-64 space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Academy Profile Not Found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your academy profile hasn't been set up yet."}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(ae,{onClick:()=>h(!0),children:"Create Profile"}),i.jsx(ae,{variant:"outline",onClick:()=>n("/academy/settings"),children:"Go to Settings"})]})]}),i.jsx(zn,{open:f,onOpenChange:h,children:i.jsxs(En,{children:[i.jsxs(Nn,{children:[i.jsx(Cn,{children:"Create Academy Profile"}),i.jsx(dd,{children:"Enter your academy's information to create your profile. Click save when you're done."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name *"}),i.jsx(pt,{id:"academy_name",value:b.academy_name,onChange:he,className:"col-span-3",placeholder:"Enter academy name"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"description",className:"text-right",children:"Description"}),i.jsx(vf,{id:"description",value:b.description,onChange:he,className:"col-span-3",placeholder:"Describe your academy"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),i.jsx(pt,{id:"website_url",value:b.website_url,onChange:he,className:"col-span-3",placeholder:"https://example.com"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),i.jsx(pt,{id:"contact_email",type:"email",value:b.contact_email,onChange:he,className:"col-span-3",placeholder:"contact@academy.com"})]})]}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),i.jsx(ae,{onClick:ge,disabled:m,children:m?"Creating...":"Create Profile"})]})]})})]}):i.jsx(Mt,{children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsx(Ne,{children:i.jsxs(Pe,{className:"flex flex-col items-center pb-6 pt-6",children:[i.jsxs("div",{className:"relative group cursor-pointer",onClick:Ue,children:[i.jsx(tm,{src:M||(e==null?void 0:e.profile_image)||(l==null?void 0:l.profile_image)||void 0,alt:(s==null?void 0:s.academy_name)||"Academy",fallback:s!=null&&s.academy_name?s.academy_name.charAt(0).toUpperCase():e!=null&&e.first_name?e.first_name.charAt(0).toUpperCase():e!=null&&e.email?e.email.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"}),q?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl z-10",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:i.jsx(A8,{className:"h-8 w-8 text-white"})})]}),i.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:Ae,disabled:q,className:"hidden"}),((e==null?void 0:e.first_name)||(e==null?void 0:e.last_name))&&i.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:`${e.first_name||""} ${e.last_name||""}`.trim()}),(s==null?void 0:s.academy_name)&&i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2 text-center",children:s.academy_name}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 w-full",children:[i.jsxs(ae,{variant:"outline",className:"flex-[4] flex items-center justify-center gap-2",onClick:()=>n("/academy/settings"),children:[i.jsx(ab,{size:16}),"Settings"]}),i.jsx(ae,{variant:"outline",onClick:je,className:"flex-[1] flex items-center justify-center border-breneo-danger text-breneo-danger hover:bg-breneo-danger/10",children:i.jsx($8,{size:16})})]})]})}),i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"}),s&&i.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:Ke,children:i.jsx(gp,{size:16,className:"text-breneo-blue"})})]}),i.jsxs(Pe,{className:"space-y-4",children:[(e==null?void 0:e.phone_number)&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:i.jsx(sm,{size:18,className:"text-breneo-blue"})}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[i.jsx("span",{className:"text-sm",children:e.phone_number}),i.jsx(rr,{variant:Z?"secondary":"outline",className:Z?"mt-1 sm:mt-0 bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":"mt-1 sm:mt-0 border-orange-300 text-orange-600",children:Z?"Verified":"Unverified"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:i.jsx(Vc,{size:18,className:"text-breneo-blue"})}),i.jsx("span",{className:"text-sm",children:(e==null?void 0:e.email)||"Not provided"})]}),(s==null?void 0:s.contact_email)&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:i.jsx(Vc,{size:18,className:"text-breneo-blue"})}),i.jsx("span",{className:"text-sm",children:s.contact_email})]}),!Z&&i.jsx(yP,{className:"border-orange-300 bg-orange-50 dark:border-orange-900/60 dark:bg-orange-950/30",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ho,{className:"h-5 w-5 text-orange-600 mt-1"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{children:[i.jsx(vP,{children:"Verify your phone number"}),i.jsx(xP,{children:"Confirm your phone number to ensure students and partners can trust your academy."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx(ae,{onClick:le,disabled:!(e!=null&&e.phone_number)||ie||W&&B>0,children:ie?"Sending...":W?"Resend code":"Send verification code"}),B>0&&i.jsxs("span",{className:"text-xs text-orange-700 dark:text-orange-300",children:["You can request a new code in ",B,"s"]})]}),W&&i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx(pt,{inputMode:"numeric",pattern:"[0-9]*",maxLength:6,placeholder:"Enter 6-digit code",value:X,onChange:ye=>J(ye.target.value.replace(/\D/g,"").slice(0,6)),className:"sm:max-w-[200px]"}),i.jsx(ae,{onClick:ce,disabled:X.length!==6||H,children:H?"Verifying...":"Verify"})]}),!(e!=null&&e.phone_number)&&i.jsx("div",{className:"pt-2",children:i.jsx(ae,{variant:"outline",size:"sm",onClick:()=>n("/academy/settings"),children:"Add phone number in settings"})})]})]})]})})]})]}),i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"}),s&&i.jsxs(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto flex items-center gap-1",onClick:gt,children:[i.jsx(R8,{size:16}),"Add"]})]}),i.jsx(Pe,{children:j?i.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):i.jsx("div",{className:"space-y-3",children:Object.entries(S).some(([ye,Ce])=>Ce&&Ce.trim()!=="")?Object.entries(S).filter(([ye,Ce])=>Ce&&Ce.trim()!=="").map(([ye,Ce])=>i.jsxs("div",{className:"flex items-center justify-between group",children:[i.jsxs("a",{href:Ce,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:I_(ye,"h-[18px] w-[18px] text-breneo-blue")}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Fh[ye]})}),i.jsx(Hc,{size:14,className:"text-gray-400 group-hover:text-breneo-blue"})]}),i.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[i.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>I(ye),children:i.jsx(gp,{size:14})}),i.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>He(ye),children:i.jsx(Cc,{size:14})})]})]},ye)):i.jsx("div",{className:"text-center py-4 text-gray-500",children:'No social links added yet. Click "Add" to add your social media profiles or website.'})})})]})]}),i.jsx("div",{className:"lg:col-span-2 space-y-6",children:i.jsxs(Ne,{children:[i.jsxs(ht,{className:"flex flex-row items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold",children:"Academy Information"}),s&&i.jsxs(ae,{variant:"link",className:"text-breneo-blue p-0 h-auto",onClick:()=>h(!0),children:[i.jsx(gp,{size:16,className:"mr-1"}),"Edit"]})]}),i.jsxs(Pe,{className:"space-y-4",children:[(s==null?void 0:s.academy_name)&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("h4",{className:"font-semibold",children:"Academy Name"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:s.academy_name})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h4",{className:"font-semibold",children:"Description"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(s==null?void 0:s.description)||"No description provided."})]})]})]})}),i.jsx(zn,{open:f,onOpenChange:h,children:i.jsxs(En,{children:[i.jsxs(Nn,{children:[i.jsx(Cn,{children:"Edit Academy Profile"}),i.jsx(dd,{children:"Make changes to your academy's information here. Click save when you're done."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"academy_name",className:"text-right",children:"Academy Name"}),i.jsx(pt,{id:"academy_name",value:b.academy_name,onChange:he,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"description",className:"text-right",children:"Description"}),i.jsx(vf,{id:"description",value:b.description,onChange:he,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"website_url",className:"text-right",children:"Website URL"}),i.jsx(pt,{id:"website_url",value:b.website_url,onChange:he,className:"col-span-3"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(qe,{htmlFor:"contact_email",className:"text-right",children:"Contact Email"}),i.jsx(pt,{id:"contact_email",type:"email",value:b.contact_email,onChange:he,className:"col-span-3"})]})]}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:()=>h(!1),disabled:m,children:"Cancel"}),i.jsx(ae,{onClick:ge,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),a?i.jsx(ta,{open:g,onOpenChange:y,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Edit Contact Information"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"contact_email_mobile",children:"Contact Email"}),i.jsx(pt,{id:"contact_email_mobile",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),i.jsxs(Ba,{className:"pt-4",children:[i.jsx(ae,{onClick:Xe,disabled:m,children:m?"Saving...":"Save Changes"}),i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"outline",disabled:m,children:"Cancel"})})]})]})}):i.jsx(zn,{open:g,onOpenChange:y,children:i.jsxs(En,{children:[i.jsxs(Nn,{children:[i.jsx(Cn,{children:"Edit Contact Information"}),i.jsx(dd,{children:"Update your contact information. Email cannot be changed."})]}),i.jsx("div",{className:"py-4",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"contact_email",children:"Contact Email"}),i.jsx(pt,{id:"contact_email",type:"email",value:x.contact_email,disabled:!0,className:"bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"contact@academy.com"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed or deleted"})]})})}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:()=>y(!1),disabled:m,children:"Cancel"}),i.jsx(ae,{onClick:Xe,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),a?i.jsx(ta,{open:N,onOpenChange:P,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:A==="website"?"Edit Website":A?"Edit Social Link":"Add Link"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-platform-mobile",children:"Platform *"}),i.jsxs(Is,{value:U.platform,onValueChange:ye=>z({...U,platform:ye}),disabled:F||!!A,children:[i.jsx(is,{className:"mt-2",children:i.jsx(Ms,{placeholder:"Select a platform"})}),i.jsxs(ls,{children:[i.jsx(or,{value:"website",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cl,{className:"h-4 w-4"}),i.jsx("span",{children:"Website"})]})}),Object.keys(Fh).map(ye=>i.jsx(or,{value:ye,children:i.jsxs("div",{className:"flex items-center gap-2",children:[I_(ye,"h-4 w-4"),i.jsx("span",{children:Fh[ye]})]})},ye))]})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-url-mobile",children:"URL *"}),i.jsx(pt,{id:"social-url-mobile",type:"url",placeholder:"https://...",value:U.url,onChange:ye=>z({...U,url:ye.target.value}),className:"mt-2",disabled:F,required:!0})]})]})}),i.jsxs(Ba,{children:[i.jsx(ae,{onClick:we,disabled:F,children:F?"Saving...":A?"Update":"Add"}),i.jsx(Go,{asChild:!0,children:i.jsx(ae,{variant:"outline",disabled:F,children:"Cancel"})})]})]})}):i.jsx(zn,{open:N,onOpenChange:P,children:i.jsxs(En,{children:[i.jsx(Nn,{children:i.jsx(Cn,{children:A==="website"?"Edit Website":A?"Edit Social Link":"Add Link"})}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-platform-desktop",children:"Platform *"}),i.jsxs(Is,{value:U.platform,onValueChange:ye=>z({...U,platform:ye}),disabled:F||!!A,children:[i.jsx(is,{className:"mt-2",children:i.jsx(Ms,{placeholder:"Select a platform"})}),i.jsxs(ls,{children:[i.jsx(or,{value:"website",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cl,{className:"h-4 w-4"}),i.jsx("span",{children:"Website"})]})}),Object.keys(Fh).map(ye=>i.jsx(or,{value:ye,children:i.jsxs("div",{className:"flex items-center gap-2",children:[I_(ye,"h-4 w-4"),i.jsx("span",{children:Fh[ye]})]})},ye))]})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"social-url-desktop",children:"URL *"}),i.jsx(pt,{id:"social-url-desktop",type:"url",placeholder:"https://...",value:U.url,onChange:ye=>z({...U,url:ye.target.value}),className:"mt-2",disabled:F,required:!0})]})]})}),i.jsxs(ea,{children:[i.jsx(ae,{variant:"outline",onClick:()=>{P(!1),z({platform:"",url:""}),R(null)},disabled:F,children:"Cancel"}),i.jsx(ae,{onClick:we,disabled:F,children:F?"Saving...":A?"Update":"Add"})]})]})}),a?i.jsx(ta,{open:L,onOpenChange:ee,children:i.jsxs(ra,{children:[i.jsx(na,{children:i.jsx(aa,{children:"Profile Photo"})}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ae,{onClick:We,className:"w-full justify-start gap-3",variant:"ghost",disabled:q,children:[i.jsx(d0,{className:"h-5 w-5"}),M||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),M||e!=null&&e.profile_image?i.jsxs(ae,{onClick:Ye,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:q,children:[i.jsx(Cc,{className:"h-5 w-5"}),"Remove Photo"]}):null]})})]})}):i.jsx(zn,{open:L,onOpenChange:ee,children:i.jsxs(En,{children:[i.jsx(Nn,{children:i.jsx(Cn,{children:"Profile Photo"})}),i.jsx("div",{className:"py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ae,{onClick:We,className:"w-full justify-start gap-3",variant:"ghost",disabled:q,children:[i.jsx(d0,{className:"h-5 w-5"}),M||e!=null&&e.profile_image?"Update Photo":"Upload Photo"]}),M||e!=null&&e.profile_image?i.jsxs(ae,{onClick:Ye,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700",variant:"ghost",disabled:q,children:[i.jsx(Cc,{className:"h-5 w-5"}),"Remove Photo"]}):null]})}),i.jsx(ea,{children:i.jsx(ae,{variant:"outline",onClick:()=>ee(!1),children:"Cancel"})})]})})]})})};function xDe(){const{user:e,loading:t,logout:r}=vr(),{theme:n,setTheme:a}=$l();S8();const s=Ga(),[o,l]=p.useState(!1),[c,u]=p.useState(!0),[d,f]=p.useState(!0),[h,g]=p.useState(!0),[y,m]=p.useState(!0),[v,x]=p.useState(!1),[w,b]=p.useState(!1);p.useState(!1);const[_,S]=p.useState(null),[E,j]=p.useState(!0),[k,N]=p.useState(""),[P,A]=p.useState(""),[R,U]=p.useState(""),[z,F]=p.useState(""),[D,q]=p.useState(""),[T,L]=p.useState(null);p.useState(1),p.useState(""),p.useState(""),p.useState(""),p.useState(!1),p.useEffect(()=>{l(!0);const Z=localStorage.getItem("pref_sound_effects"),ie=localStorage.getItem("pref_animations"),H=localStorage.getItem("pref_motivational_messages"),W=localStorage.getItem("pref_listening_exercises");Z!==null&&u(Z==="true"),ie!==null&&f(ie==="true"),H!==null&&g(H==="true"),W!==null&&m(W==="true")},[]),p.useEffect(()=>{o&&localStorage.setItem("pref_sound_effects",String(c))},[c,o]),p.useEffect(()=>{o&&localStorage.setItem("pref_animations",String(d))},[d,o]),p.useEffect(()=>{o&&localStorage.setItem("pref_motivational_messages",String(h))},[h,o]),p.useEffect(()=>{o&&localStorage.setItem("pref_listening_exercises",String(y))},[y,o]),p.useEffect(()=>{(async()=>{var H,W;if(t)return;if(!e){j(!1);return}if(!(typeof window<"u"&&!!localStorage.getItem("authToken"))){console.error(" No token available, cannot fetch academy profile"),j(!1),ue.error("Authentication Error: Please log in again to access academy settings.");return}try{A(e.phone_number||"");try{const X=await Te.get(vt.ACADEMY.PROFILE);if(X.data){const B=X.data;console.log(" Academy profile data:",B),L(B),N(B.academy_name||""),U(B.website_url||""),F(B.contact_email||"")}}catch(X){const B=X,Q=(H=B.response)==null?void 0:H.status,se=(W=B.response)==null?void 0:W.data;if(Q===404)console.log(" Academy profile not found (404) - user may need to create one"),L(null);else if(Q===401){const J=(se==null?void 0:se.detail)||(se==null?void 0:se.message)||"",le=String(J).toLowerCase();le.includes("not found")||le.includes("does not exist")||le.includes("user not found")?(console.log(" Profile not found based on error message - treating as 404"),L(null)):(console.warn(" Academy profile returned 401:",J),L(null))}else Q===403?(console.error("Access forbidden to academy profile"),ue.error("Access Denied: You don't have permission to access academy settings.")):(console.error("Error fetching academy profile:",B),ue.error("Error fetching profile: Could not load academy profile data. Please try again."))}}catch(X){console.error("Unexpected error fetching academy data:",X),ue.error("Failed to load academy data")}finally{j(!1)}})()},[e,t]),p.useEffect(()=>()=>{_&&URL.revokeObjectURL(_)},[_]),p.useEffect(()=>{v||q("")},[v]);const ee=Z=>{if(!Z)return!0;const ie=/^\+?[\d\s\-().]{7,15}$/,H=Z.replace(/\D/g,"");return ie.test(Z)?H.length<7?(q("Phone number must contain at least 7 digits"),!1):H.length>15?(q("Phone number must not exceed 15 digits"),!1):(q(""),!0):(q("Phone number can only contain digits, spaces, hyphens, parentheses, and dots, optionally starting with +"),!1)},M=async Z=>{var H;if(Z.preventDefault(),!(k!==((T==null?void 0:T.academy_name)||"")||P!==((e==null?void 0:e.phone_number)||"")||R!==((T==null?void 0:T.website_url)||"")||z!==((T==null?void 0:T.contact_email)||""))){ue.info("No changes to save.");return}if(!k.trim()){ue.error("Academy name is required.");return}if(ee(P)){if(b(!0),!e||!e.id){ue.error("User ID not found. Please log in again."),b(!1);return}try{P!==((e==null?void 0:e.phone_number)||"")&&(await Te.patch(vt.AUTH.PROFILE,{phone_number:P}),console.log("Phone number updated successfully"));try{const W=T?"patch":"post",X={academy_name:k.trim(),description:(T==null?void 0:T.description)||"",website_url:R.trim()||null,contact_email:z.trim()||null},B=await Te[W](vt.ACADEMY.PROFILE,X);if(B.data){const Q={id:(T==null?void 0:T.id)||B.data.id||"",academy_name:k.trim(),description:B.data.description||(T==null?void 0:T.description)||"",website_url:R.trim()||"",contact_email:z.trim()||"",logo_url:(T==null?void 0:T.logo_url)||B.data.logo_url||null};L(Q),console.log(" Academy profile updated successfully:",Q)}}catch(W){console.error("Error updating academy profile:",W);const X=W;let B="Failed to update academy profile. Please try again.";if((H=X.response)!=null&&H.data){const Q=X.response.data;B=Q.detail||Q.message||B}else W instanceof Error&&(B=W.message);throw new Error(B)}ue.success("Profile updated successfully!"),x(!1),setTimeout(()=>{window.location.reload()},500)}catch(W){console.error("Error updating profile:",W);let X="Failed to update profile.";Vt.isAxiosError(W)&&W.response?X=W.response.data.detail||W.response.data.message||"An error occurred.":W instanceof Error&&(X=W.message),ue.error(X)}finally{b(!1)}}},G=()=>{r()};if(E||t)return i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("p",{className:"text-muted-foreground",children:"Loading academy settings..."})})});const V=n==="dark"?"ON":"OFF";return i.jsx(Mt,{children:i.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:i.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_400px]",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Preferences"}),i.jsxs(Ne,{children:[i.jsxs(ht,{children:[i.jsx(At,{children:"Profile Information"}),i.jsx(Hr,{children:"Update your academy name and phone number"})]}),i.jsx(Pe,{className:"space-y-4",children:i.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),M(Z)},className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"academyName",children:"Academy Name"}),i.jsx(pt,{id:"academyName",value:k,onChange:Z=>{x(!0),N(Z.target.value)},placeholder:"Enter your academy name",disabled:w,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(qe,{htmlFor:"phoneNumber",children:"Phone Number"}),i.jsx(pt,{id:"phoneNumber",value:P,onChange:Z=>{x(!0);const ie=Z.target.value;A(ie),ie?ee(ie):q("")},placeholder:"Enter your phone number",disabled:w}),D&&i.jsx("p",{className:"text-sm text-destructive",children:D})]}),i.jsx($c,{}),i.jsx(ae,{type:"submit",disabled:w,children:w?"Saving...":"Save Changes"})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Lesson experience"}),i.jsx($c,{})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{htmlFor:"sound-effects",className:"text-base font-normal",children:"Sound effects"}),i.jsx(Xn,{id:"sound-effects",checked:c,onCheckedChange:u})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{htmlFor:"animations",className:"text-base font-normal",children:"Animations"}),i.jsx(Xn,{id:"animations",checked:d,onCheckedChange:f})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{htmlFor:"motivational-messages",className:"text-base font-normal",children:"Motivational messages"}),i.jsx(Xn,{id:"motivational-messages",checked:h,onCheckedChange:g})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{htmlFor:"listening-exercises",className:"text-base font-normal",children:"Listening exercises"}),i.jsx(Xn,{id:"listening-exercises",checked:y,onCheckedChange:m})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Appearance"}),i.jsx($c,{})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(qe,{htmlFor:"dark-mode",className:"text-base font-normal",children:"Dark mode"}),i.jsxs(Is,{value:n||"light",onValueChange:Z=>a(Z),children:[i.jsx(is,{id:"dark-mode",className:"w-32",children:i.jsx(Ms,{children:V})}),i.jsxs(ls,{children:[i.jsx(or,{value:"light",children:"OFF"}),i.jsx(or,{value:"dark",children:"ON"})]})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx($E,{}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx(At,{className:"text-lg",children:"Account"})}),i.jsxs(Pe,{className:"space-y-2",children:[i.jsx(Lr,{to:"/academy/settings",className:`block text-sm transition-colors ${s.pathname==="/academy/settings"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Preferences"}),i.jsx(Lr,{to:"/academy/profile",className:`block text-sm transition-colors ${s.pathname==="/academy/profile"?"text-primary font-medium":"text-foreground hover:text-primary"}`,children:"Profile"}),i.jsx(Lr,{to:"/academy/profile",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Privacy settings"})]})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx(At,{className:"text-lg",children:"Subscription"})}),i.jsx(Pe,{children:i.jsx(Lr,{to:"/subscription",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Choose a plan"})})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx(At,{className:"text-lg",children:"Support"})}),i.jsx(Pe,{children:i.jsx(Lr,{to:"/help",className:"block text-sm text-foreground hover:text-primary transition-colors",children:"Help Center"})})]}),i.jsx(ae,{variant:"link",onClick:G,className:"w-full text-primary hover:text-primary/80 justify-center",children:"LOG OUT"})]})]})})})}const bDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),wDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})}),_De=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),SDe=({className:e})=>i.jsx("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c5.523 0 10-4.477 10-10S17.523 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.042-3.609-3.125-3.609-.92 0-1.816.12-2.675.339 1.433.9 3.113 1.698 5.046 2.19-.745-.469-1.396-1.012-1.911-1.59 1.473-.46 3.876-1.025 6.205-.924.762 1.618.76 3.12.76 3.162 0 .078-.006.158-.018.24a8.28 8.28 0 00-2.77.782c.504-.719 1.324-2.316 1.324-3.202 0-3.17-2.617-5.742-5.847-5.742-3.23 0-5.847 2.571-5.847 5.742 0 1.764 1.062 3.289 2.65 3.99-.107.3-.253.585-.422.856a8.404 8.404 0 01-4.56-3.576C2.454 7.257 6.787 3.475 12 3.475zM8.33 4.922a7.033 7.033 0 012.066-.312c2.099 0 3.771 1.12 3.771 2.882 0 .876-1.503 2.856-4.053 3.867-.498-1.491-.947-2.883-1.167-3.83-.73-.934-1.032-1.757-.617-2.607zm-2.443 4.589c.533-.135 1.145-.268 1.836-.398.231.936.675 2.32 1.197 3.845-2.57.52-4.661 1.201-6.194 1.984a8.545 8.545 0 013.161-5.431zm.87 6.854c1.523-1.123 3.554-1.898 6.023-2.469.406 1.185.729 2.404.966 3.643a8.646 8.646 0 01-6.989-1.174zm2.71 1.822c-.28-.991-.618-1.981-1.01-2.941 2.42-.44 4.71-.155 6.343.351-.106.527-.244 1.043-.411 1.549a8.654 8.654 0 01-4.922 1.041zm3.745 1.569c.254.554.54 1.084.855 1.58-1.492-.28-2.84-.953-3.963-1.896.374-1.228.615-2.494.719-3.789 1.391.175 2.819.379 4.256.522-.138.985-.367 1.938-.867 2.583zm2.612 1.564c.6-.768 1.043-1.64 1.3-2.6 1.453-.122 2.86-.308 4.205-.555a8.52 8.52 0 01-5.505 3.155z",clipRule:"evenodd"})}),jDe=(e,t)=>{const r={className:t};switch(e){case"github":return i.jsx(bDe,{...r});case"linkedin":return i.jsx(wDe,{...r});case"facebook":return i.jsx(_De,{...r});case"instagram":return i.jsx(SDe,{...r});default:return i.jsx($N,{className:t})}},kDe={github:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",instagram:"Instagram"},EDe=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),NDe=()=>{const{academySlug:e}=Of();vr();const t=lr(),r=e?/^\d+$/.test(e):!1,n=e?EDe(e)||r:!1,a=n?e:null,s=n?null:e,o=y=>{if(!y)return{id:""};const m=x=>{for(const w of x){const b=y[w];if(b!=null){if(typeof b=="string"&&b.trim())return b;if(typeof b=="number")return String(b)}}};return{id:y.id!==null&&y.id!==void 0?String(y.id):y.academy_id!==null&&y.academy_id!==void 0?String(y.academy_id):"",user_id:y.user_id,academy_name:m(["academy_name","name","academyName","first_name","firstName"])||void 0,description:m(["description","desc"])||void 0,website_url:m(["website_url","website","websiteUrl","url"])||void 0,contact_email:m(["contact_email","email","contactEmail","contact_mail"])||void 0,phone_number:m(["phone_number","phone","phoneNumber"])||void 0,is_verified:y.is_verified||y.isVerified||y.verified||!1,logo_url:m(["logo_url","logoUrl","logo","profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","image"])||void 0,profile_photo_url:m(["profile_image_url","profileImageUrl","profile_photo_url","profilePhotoUrl","profile_photo","profilePhoto","image","logo_url","logoUrl","logo"])||void 0,social_links:y.social_links||void 0}},{data:l,isLoading:c,error:u}=gr({queryKey:["academy-profile",a||s],queryFn:async()=>{var b,_,S,E,j,k;if(!e)return null;let y=null,m=null;try{let N;if(n&&a)m=a,N=await Te.get(`/api/academy/${a}/`),console.log(" Academy profile fetched by ID:",{academyId:a,rawData:N.data,hasProfileData:!!((b=N.data)!=null&&b.profile_data)}),(_=N.data)!=null&&_.profile_data?(y=N.data.profile_data,console.log(" Using profile_data from response:",y)):y=N.data;else if(s)N=await Te.get(`/api/academy/${s}/`),console.log(" Academy profile fetched by slug:",{academySlug:s,rawData:N.data,hasProfileData:!!((S=N.data)!=null&&S.profile_data)}),(E=N.data)!=null&&E.profile_data?(y=N.data.profile_data,console.log(" Using profile_data from response:",y)):y=N.data,(y==null?void 0:y.id)!==null&&(y==null?void 0:y.id)!==void 0?m=String(y.id):y!=null&&y.academy_id&&(m=String(y.academy_id));else return null}catch(N){if(s)try{const P=await Te.get(`/api/academies/${s}/`);console.log(" Academy profile fetched (plural endpoint):",{academySlug:s,rawData:P.data,hasProfileData:!!((j=P.data)!=null&&j.profile_data)}),(k=P.data)!=null&&k.profile_data?y=P.data.profile_data:y=P.data,(y==null?void 0:y.id)!==null&&(y==null?void 0:y.id)!==void 0?m=String(y.id):y!=null&&y.academy_id&&(m=String(y.academy_id))}catch(P){console.error(" Error fetching academy profile:",{singularError:N,pluralError:P,academySlug:s,endpointsTried:[`/api/academy/${s}/`,`/api/academies/${s}/`]})}else console.error(" Error fetching academy profile by ID:",{error:N,academyId:a,endpoint:`/api/academy/${a}/`})}const v=y?o(y):null;let x=null;if(m||v!=null&&v.id){const N=m||(v==null?void 0:v.id);try{const{data:P,error:A}=await Kt.from("academy_profiles").select("id, academy_name, description, website_url, contact_email, logo_url, is_verified, user_id").eq("id",N).single();A?console.warn(" Error fetching academy profile from Supabase:",A):P&&(x=P,console.log(" Academy profile fetched from Supabase:",x))}catch(P){console.warn(" Error fetching from Supabase:",P)}}if(!v&&!x&&y===null&&!m)throw new Error("Academy not found");const w={id:(v==null?void 0:v.id)||(x==null?void 0:x.id)||m||"",user_id:(v==null?void 0:v.user_id)||(x==null?void 0:x.user_id),academy_name:(v==null?void 0:v.academy_name)||(x==null?void 0:x.academy_name)||void 0,description:(v==null?void 0:v.description)||(x==null?void 0:x.description)||void 0,website_url:(v==null?void 0:v.website_url)||(x==null?void 0:x.website_url)||void 0,contact_email:(v==null?void 0:v.contact_email)||(x==null?void 0:x.contact_email)||void 0,phone_number:(v==null?void 0:v.phone_number)||void 0,is_verified:(v==null?void 0:v.is_verified)??(x==null?void 0:x.is_verified)??!1,logo_url:(v==null?void 0:v.logo_url)||(v==null?void 0:v.profile_photo_url)||(x==null?void 0:x.logo_url)||void 0,profile_photo_url:(v==null?void 0:v.profile_photo_url)||(v==null?void 0:v.logo_url)||(x==null?void 0:x.logo_url)||void 0,social_links:(v==null?void 0:v.social_links)||void 0};if(!w.academy_name&&!w.id)throw new Error("Academy not found");return console.log(" Merged academy profile:",w),w},enabled:!!e,retry:1}),{data:d,isLoading:f,error:h}=gr({queryKey:["academy-courses",l==null?void 0:l.id,a||s],queryFn:async()=>{const y=(l==null?void 0:l.id)||a;if(!y)return console.warn(" No academy ID available to fetch courses"),[];try{const{data:m,error:v}=await Kt.from("courses").select("*").eq("academy_id",y).order("created_at",{ascending:!1});if(v)throw console.error(" Error fetching courses from Supabase:",v),v;return console.log(" Academy courses fetched from Supabase:",{academyId:y,courseCount:(m==null?void 0:m.length)||0}),Array.isArray(m)?m.map(x=>({...x,topics:x.topics||[],required_skills:x.required_skills||[]})):[]}catch(m){return console.error(" Error fetching courses from Supabase:",m),[]}},enabled:!!(l!=null&&l.id||a),retry:1});if(!e)return i.jsx(Mt,{children:i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("p",{className:"text-red-500",children:"Academy ID or slug is required"}),i.jsx(Lr,{to:"/courses",children:i.jsxs(ae,{variant:"outline",className:"mt-4",children:[i.jsx(mp,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})});const g=(l==null?void 0:l.academy_name)||(s?wLe(s):"Loading Academy...");return i.jsx(Mt,{children:i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"lg:col-span-2 space-y-6",children:i.jsxs("div",{className:"animate-pulse space-y-6",children:[i.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded"}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})}),i.jsx(Pe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded"}),i.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded"})]})})]})]})}),i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsx(Ne,{children:i.jsx(Pe,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[i.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-3xl mb-6"}),i.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-4"}),i.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]})})}),i.jsx(Ne,{children:i.jsx(Pe,{className:"p-4",children:i.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded mx-auto"})})})]})]}):l?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsx(Ne,{children:i.jsxs(Pe,{className:"flex flex-col items-center pb-6 pt-6",children:[i.jsx("div",{className:"relative",children:i.jsx(tm,{src:l.profile_photo_url||l.logo_url||void 0,alt:l.academy_name||"Academy",fallback:l.academy_name?l.academy_name.charAt(0).toUpperCase():"A",size:"xl",loading:"lazy",className:"h-32 w-32"})}),l.academy_name&&i.jsx("h1",{className:"text-2xl font-bold mt-4 text-center",children:l.academy_name}),l.is_verified&&i.jsx(rr,{className:"bg-green-100 text-green-800 hover:bg-green-100 mt-2",children:"Verified"}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900",children:(d==null?void 0:d.length)||0}),i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Total courses"})]})]})}),i.jsx(Ne,{children:i.jsx(Pe,{className:"p-4 text-center",children:i.jsx(rr,{variant:"outline",className:"text-xs uppercase tracking-wider",children:"ACADEMY"})})}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx("h3",{className:"text-lg font-bold",children:"Contact Information"})}),i.jsxs(Pe,{className:"space-y-4",children:[l.phone_number&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:i.jsx(sm,{size:18,className:"text-breneo-blue"})}),i.jsx("span",{className:"text-sm",children:l.phone_number})]}),l.contact_email&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:i.jsx(Vc,{size:18,className:"text-breneo-blue"})}),i.jsx("span",{className:"text-sm",children:l.contact_email})]}),l.website_url&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:i.jsx(Cl,{size:18,className:"text-breneo-blue"})}),i.jsxs("a",{href:l.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-breneo-blue hover:underline flex items-center gap-1",children:[l.website_url,i.jsx(Hc,{size:14})]})]})]})]}),l.social_links&&(l.social_links.github||l.social_links.linkedin||l.social_links.facebook||l.social_links.instagram)&&i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx("h3",{className:"text-lg font-bold",children:"Social Networks"})}),i.jsx(Pe,{children:i.jsx("div",{className:"space-y-3",children:Object.entries(l.social_links).filter(([y,m])=>m&&m.trim()!=="").map(([y,m])=>i.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 flex-1 hover:text-breneo-blue transition-colors",children:[i.jsx("div",{className:"bg-breneo-blue/10 rounded-full p-2",children:jDe(y,"h-[18px] w-[18px] text-breneo-blue")}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:kDe[y]})}),i.jsx(Hc,{size:14,className:"text-gray-400"})]},y))})})]})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsx("div",{className:"mb-4",children:i.jsx(Lr,{to:"/courses",children:i.jsxs(ae,{variant:"ghost",className:"text-breneo-blue hover:text-breneo-blue/80 mb-4",children:[i.jsx(mp,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"About me"})}),i.jsx(Pe,{children:i.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:l.description?i.jsx("p",{children:l.description}):i.jsx("p",{className:"text-gray-400 italic",children:"No description available"})})})]}),i.jsxs(Ne,{children:[i.jsx(ht,{children:i.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["My courses (",(d==null?void 0:d.length)||0,")"]})}),i.jsx(Pe,{children:f?i.jsx("div",{className:"text-center py-12",children:i.jsx("div",{className:"text-gray-500",children:"Loading courses..."})}):d&&d.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map(y=>i.jsxs(Ne,{className:"overflow-hidden",children:[i.jsx("div",{className:"h-40 overflow-hidden",children:i.jsx("img",{src:y.image?y.image:"/lovable-uploads/no_photo.png",alt:y.title,className:"w-full h-full object-cover",onError:m=>{const v=m.target;v.src.includes("/lovable-uploads/no_photo.png")||(v.onerror=null,v.src="/lovable-uploads/no_photo.png")}})}),i.jsxs(Pe,{className:"p-5",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"font-medium text-lg",children:y.title}),y.popular&&i.jsx(rr,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Popular"})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[i.jsx("span",{children:y.level}),i.jsx("span",{children:""}),i.jsx("span",{children:y.duration}),i.jsx("span",{children:""}),i.jsx("span",{children:y.category})]}),i.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:y.description}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.topics.slice(0,3).map((m,v)=>i.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:m},v)),y.topics.length>3&&i.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",y.topics.length-3," more"]})]})}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.required_skills.slice(0,2).map((m,v)=>i.jsx("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:m},v)),y.required_skills.length>2&&i.jsxs("span",{className:"bg-breneo-blue/10 text-breneo-blue text-xs px-2 py-1 rounded",children:["+",y.required_skills.length-2]})]}),i.jsx(ae,{size:"sm",variant:y.enrolled?"outline":"default",className:y.enrolled?"":"bg-breneo-blue hover:bg-breneo-blue/90",onClick:()=>{y.enrolled||t(`/course/${y.id}`)},children:y.enrolled?"Continue":"Enroll"})]})]})]},y.id))}):i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-3xl border",children:[i.jsxs("p",{className:"text-gray-500 mb-4",children:["No courses found for ",g]}),i.jsx(Lr,{to:"/courses",children:i.jsx(ae,{variant:"outline",children:"Browse All Courses"})})]})})]})]})]}):u||!l?i.jsx("div",{className:"lg:col-span-3",children:i.jsx(Ne,{className:"border-red-200",children:i.jsx(Pe,{className:"p-6 text-center",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-breneo-navy mb-4",children:"Academy Not Found"}),i.jsx("p",{className:"text-red-600 mb-4 text-lg",children:"Cannot find an academy"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u instanceof Error?u.message==="Academy not found"||u.message.includes("not found")||u.message.includes("404")?"The academy you're looking for doesn't exist or has been removed.":`Error: ${u.message}`:"The academy you're looking for doesn't exist or has been removed."}),e&&i.jsx("p",{className:"text-gray-500 text-xs mb-6",children:n?`Academy ID: ${a}`:`Academy Slug: ${s}`}),i.jsx(Lr,{to:"/courses",children:i.jsxs(ae,{variant:"default",children:[i.jsx(mp,{className:"w-4 h-4 mr-2"}),"Back to Courses"]})})]})})})}):null})})},CDe=()=>{const e=lr();$l();const[t,r]=p.useState(!1),[n,a]=p.useState(1),[s,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[g,y]=p.useState(""),[m,v]=p.useState(""),[x,w]=p.useState(!1),[b,_]=p.useState(!1),[S,E]=p.useState(tn.find(D=>D.code==="GE")),[j,k]=p.useState(!1),[N,P]=p.useState(!1),[A,R]=p.useState(!1);p.useEffect(()=>{r(!0)},[]);const U=p.useCallback(D=>new Promise((q,T)=>{const L=new Image;L.onload=()=>q(),L.onerror=()=>T(new Error(`Failed to load image: ${D}`)),L.src=D}),[]);p.useEffect(()=>{(async()=>{try{await Promise.all([U("lovable-uploads/breneo_logo.png"),U("/lovable-uploads/academy.png")])}catch(q){console.warn("Some images failed to preload:",q),R(!0)}})()},[U]);const z=()=>{if(!s||!l||!u||!f){ue.error("Please fill out all fields to continue.");return}a(2)},F=async D=>{if(D.preventDefault(),n!==2||!g||!m){ue.error("Please complete all fields to register.");return}_(!0);const q=`${S==null?void 0:S.dial_code}${f}`;try{const T=await fetch("https://breneo.onrender.com/api/academy/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:l,password:u,phone_number:q,description:g,website:m})}),L=T.headers.get("content-type");if(L&&L.indexOf("application/json")!==-1){const ee=await T.json();if(T.ok)ue.success("Registration successful! Please verify your email."),sessionStorage.setItem("tempAcademyEmail",l),e("/email-verification",{state:{email:l,isAcademy:!0}});else{const M=Object.values(ee).flat();ue.error(M.join(" ")||"Registration failed.")}}else{const ee=await T.text();console.error("Server returned non-JSON response:",ee),ue.error("A server error occurred. Please try again later.")}}catch(T){console.error("Registration error:",T),ue.error("An unexpected error occurred. Please try again.")}finally{_(!1)}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[i.jsxs("div",{className:"lg:hidden flex items-center justify-between px-4 py-3 bg-transparent border-b border-gray-200 dark:border-border",children:[i.jsxs("div",{className:"flex items-center",children:[!j&&!A&&i.jsx("div",{className:"h-7 w-20 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-3 w-3 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-7 transition-opacity duration-300 ${j?"opacity-100":"opacity-0"}`,onLoad:()=>k(!0),onError:()=>{R(!0),k(!0)}})]}),i.jsx(jo,{})]}),i.jsxs("div",{className:"flex flex-1",children:[i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"mb-4 hidden lg:flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[!j&&!A&&i.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center",children:i.jsx(en,{className:"h-5 w-5 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-10 transition-opacity duration-300 ${j?"opacity-100":"opacity-0"}`,onLoad:()=>k(!0),onError:()=>{R(!0),k(!0)}})]}),i.jsx(jo,{})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-secondary rounded-full h-2 mb-8",children:i.jsx("div",{className:"bg-[#00BFFF] h-2 rounded-full transition-all duration-500 ease-in-out",style:{width:n===1?"50%":"100%"}})}),i.jsx("h1",{className:"text-3xl font-semibold text-foreground mb-2",children:"Register Academy"}),i.jsx("p",{className:"text-muted-foreground mb-8",children:n===1?"Start by creating your account credentials.":"Tell us more about your academy."}),i.jsxs("form",{onSubmit:F,className:"space-y-6",children:[n===1&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"name",children:"Academy Name"}),i.jsx(pt,{id:"name",placeholder:"Your academy's name",className:"mt-1 h-12",value:s,onChange:D=>o(D.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"email",children:"Email Address"}),i.jsx(pt,{id:"email",type:"email",placeholder:"Enter contact email",className:"mt-1 h-12",value:l,onChange:D=>c(D.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"phone",children:"Phone Number"}),i.jsxs("div",{className:"phone-input-container mt-1 flex items-center rounded-md border border-input transition-colors focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[i.jsx(XB,{value:S,onChange:E,className:"max-w-fit px-3 h-12 border-0 bg-transparent hover:bg-transparent rounded-r-none"}),i.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-border"}),i.jsx(pt,{id:"phone",type:"tel",placeholder:"Phone number",className:"flex-1 h-12 border-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:f,onChange:D=>h(D.target.value),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"password",children:"Password"}),i.jsxs("div",{className:"relative mt-1",children:[i.jsx(pt,{id:"password",type:x?"text":"password",placeholder:"Create a password",className:"pr-10 h-12",value:u,onChange:D=>d(D.target.value),required:!0}),i.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!x),children:x?i.jsx(nm,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"}):i.jsx(Nl,{className:"h-4 w-4 text-gray-500 dark:text-muted-foreground"})})]})]})]}),n===2&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"description",children:"Description"}),i.jsx("textarea",{id:"description",placeholder:"Describe your academy",className:"mt-1 w-full h-24 px-3 py-2 text-base border border-input bg-background text-foreground placeholder:text-muted-foreground rounded-md resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:g,onChange:D=>y(D.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"website",children:"Website"}),i.jsx(pt,{id:"website",type:"url",placeholder:"https://your-academy.com",className:"mt-1 h-12",value:m,onChange:D=>v(D.target.value),required:!0})]})]}),i.jsxs("div",{className:"pt-2",children:[n===1&&i.jsx(ae,{type:"button",onClick:z,className:"w-full h-14",children:"Next"}),n===2&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ae,{type:"button",variant:"outline",className:"w-full h-14",onClick:()=>a(1),children:"Back"}),i.jsx(ae,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Registering...":"Register"})]})]})]}),i.jsxs("p",{className:"text-center text-muted-foreground mt-8",children:["Already have an account?"," ",i.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>e("/auth/login"),children:"Sign In"})]})]})}),i.jsx("div",{className:"hidden lg:flex lg:w-1/2 items-center justify-center p-5",children:i.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden",children:[!N&&!A&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse flex items-center justify-center",children:i.jsx(en,{className:"h-16 w-16 text-gray-400 dark:text-gray-600"})}),i.jsx("div",{className:`w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-500 ${N?"opacity-100":"opacity-0"}`,style:{backgroundImage:N?"url('/lovable-uploads/academy.png')":"none"}}),i.jsx("img",{src:"/lovable-uploads/academy.png",alt:"",className:"hidden",onLoad:()=>P(!0),onError:()=>{R(!0),P(!0)}}),A&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("img",{src:"/lovable-uploads/academy.png",alt:"Academy",className:"w-full h-full object-cover"})})]})})]})]})};function PDe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ADe="DismissableLayer",VE="dismissableLayer.update",TDe="dismissableLayer.pointerDownOutside",ODe="dismissableLayer.focusOutside",H3,QH=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZH=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(QH),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=xt(t,j=>f(j)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=IDe(j=>{const k=j.target,N=[...u.branches].some(P=>P.contains(k));!_||N||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),E=MDe(j=>{const k=j.target;[...u.branches].some(P=>P.contains(k))||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return PDe(j=>{w===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(H3=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),V3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=H3)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),V3())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(VE,j),()=>document.removeEventListener(VE,j)},[]),i.jsx(nt.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,S.onPointerDownCapture)})});ZH.displayName=ADe;var $De="DismissableLayerBranch",RDe=p.forwardRef((e,t)=>{const r=p.useContext(QH),n=p.useRef(null),a=xt(t,n);return p.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(nt.div,{...e,ref:a})});RDe.displayName=$De;function IDe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){eV(TDe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function MDe(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=p.useRef(!1);return p.useEffect(()=>{const a=s=>{s.target&&!n.current&&eV(ODe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function V3(){const e=new CustomEvent(VE);document.dispatchEvent(e)}function eV(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sg(a,s):a.dispatchEvent(s)}var M_="focusScope.autoFocusOnMount",L_="focusScope.autoFocusOnUnmount",K3={bubbles:!1,cancelable:!0},LDe="FocusScope",tV=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=p.useState(null),u=Jt(a),d=Jt(s),f=p.useRef(null),h=xt(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(b){if(g.paused||!l)return;const _=b.target;l.contains(_)?f.current=_:Ii(f.current,{select:!0})},v=function(b){if(g.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Ii(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ii(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){J3.add(g);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(M_,K3);l.addEventListener(M_,u),l.dispatchEvent(x),x.defaultPrevented||(DDe(qDe(rV(l)),{select:!0}),document.activeElement===m&&Ii(l))}return()=>{l.removeEventListener(M_,u),setTimeout(()=>{const x=new CustomEvent(L_,K3);l.addEventListener(L_,d),l.dispatchEvent(x),x.defaultPrevented||Ii(m??document.body,{select:!0}),l.removeEventListener(L_,d),J3.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=FDe(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Ii(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Ii(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,g.paused]);return i.jsx(nt.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});tV.displayName=LDe;function DDe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ii(n,{select:t}),document.activeElement!==r)return}function FDe(e){const t=rV(e),r=G3(t,e),n=G3(t.reverse(),e);return[r,n]}function rV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function G3(e,t){for(const r of e)if(!BDe(r,{upTo:t}))return r}function BDe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function UDe(e){return e instanceof HTMLInputElement&&"select"in e}function Ii(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&UDe(e)&&t&&e.select()}}var J3=zDe();function zDe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Y3(e,t),e.unshift(t)},remove(t){var r;e=Y3(e,t),(r=e[0])==null||r.resume()}}}function Y3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function qDe(e){return e.filter(t=>t.tagName!=="A")}var WDe="Portal",nV=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=p.useState(!1);Jr(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tg.createPortal(i.jsx(nt.div,{...n,ref:t}),o):null});nV.displayName=WDe;var aV=cb(),D_=function(){},Nw=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:D_,onWheelCapture:D_,onTouchMoveCapture:D_}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,b=hg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=lb([r,t]),E=dr(dr({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:aV,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:w}),o?p.cloneElement(p.Children.only(l),dr(dr({},E),{ref:S})):p.createElement(x,dr({},E,{className:c,ref:S}),l))});Nw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nw.classNames={fullWidth:Ac,zeroRight:Pc};var KE=!1;if(typeof window<"u")try{var Hy=Object.defineProperty({},"passive",{get:function(){return KE=!0,!0}});window.addEventListener("test",Hy,Hy),window.removeEventListener("test",Hy,Hy)}catch{KE=!1}var Tu=KE?{passive:!1}:!1,HDe=function(e){return e.tagName==="TEXTAREA"},sV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!HDe(e)&&r[t]==="visible")},VDe=function(e){return sV(e,"overflowY")},KDe=function(e){return sV(e,"overflowX")},X3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=oV(e,n);if(a){var s=iV(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GDe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},JDe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},oV=function(e,t){return e==="v"?VDe(t):KDe(t)},iV=function(e,t){return e==="v"?GDe(t):JDe(t)},YDe=function(e,t){return e==="h"&&t==="rtl"?-1:1},XDe=function(e,t,r,n,a){var s=YDe(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var g=iV(e,l),y=g[0],m=g[1],v=g[2],x=m-v-s*y;(y||x)&&oV(e,l)&&(f+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Vy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Q3=function(e){return[e.deltaX,e.deltaY]},Z3=function(e){return e&&"current"in e?e.current:e},QDe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZDe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},e6e=0,Ou=[];function t6e(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(e6e++)[0],s=p.useState(pg)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=ib([e.lockRef.current],(e.shards||[]).map(Z3),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=Vy(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,E=m.target,j=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&j==="h"&&E.type==="range")return!1;var k=X3(j,E);if(!k)return!0;if(k?S=j:(S=j==="v"?"h":"v",k=X3(j,E)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return XDe(N,v,m,N==="h"?b:_,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!Ou.length||Ou[Ou.length-1]!==s)){var x="deltaY"in v?Q3(v):Vy(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&QDe(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(Z3).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?l(v,b[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=p.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:r6e(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=p.useCallback(function(m){r.current=Vy(m),n.current=void 0},[]),f=p.useCallback(function(m){u(m.type,Q3(m),m.target,l(m,e.lockRef.current))},[]),h=p.useCallback(function(m){u(m.type,Vy(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return Ou.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Tu),document.addEventListener("touchmove",c,Tu),document.addEventListener("touchstart",d,Tu),function(){Ou=Ou.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Tu),document.removeEventListener("touchmove",c,Tu),document.removeEventListener("touchstart",d,Tu)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(s,{styles:ZDe(a)}):null,g?p.createElement(fb,{gapMode:e.gapMode}):null)}function r6e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const n6e=ub(aV,t6e);var lV=p.forwardRef(function(e,t){return p.createElement(Nw,dr({},e,{ref:t,sideCar:n6e}))});lV.classNames=Nw.classNames;var MP="Dialog",[cV,uV]=Ka(MP),[a6e,Zs]=cV(MP),dV=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=Hs({prop:n,defaultProp:a,onChange:s});return i.jsx(a6e,{scope:t,triggerRef:l,contentRef:c,contentId:Fs(),titleId:Fs(),descriptionId:Fs(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};dV.displayName=MP;var fV="DialogTrigger",hV=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(fV,r),s=xt(t,a.triggerRef);return i.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":FP(a.open),...n,ref:s,onClick:Le(e.onClick,a.onOpenToggle)})});hV.displayName=fV;var LP="DialogPortal",[s6e,pV]=cV(LP,{forceMount:void 0}),mV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Zs(LP,t);return i.jsx(s6e,{scope:t,forceMount:r,children:p.Children.map(n,o=>i.jsx(ua,{present:r||s.open,children:i.jsx(nV,{asChild:!0,container:a,children:o})}))})};mV.displayName=LP;var xx="DialogOverlay",gV=p.forwardRef((e,t)=>{const r=pV(xx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Zs(xx,e.__scopeDialog);return s.modal?i.jsx(ua,{present:n||s.open,children:i.jsx(o6e,{...a,ref:t})}):null});gV.displayName=xx;var o6e=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(xx,r);return i.jsx(lV,{as:jl,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(nt.div,{"data-state":FP(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zc="DialogContent",yV=p.forwardRef((e,t)=>{const r=pV(Zc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Zs(Zc,e.__scopeDialog);return i.jsx(ua,{present:n||s.open,children:s.modal?i.jsx(i6e,{...a,ref:t}):i.jsx(l6e,{...a,ref:t})})});yV.displayName=Zc;var i6e=p.forwardRef((e,t)=>{const r=Zs(Zc,e.__scopeDialog),n=p.useRef(null),a=xt(t,r.contentRef,n);return p.useEffect(()=>{const s=n.current;if(s)return hb(s)},[]),i.jsx(vV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,s=>s.preventDefault())})}),l6e=p.forwardRef((e,t)=>{const r=Zs(Zc,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return i.jsx(vV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),vV=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Zs(Zc,r),c=p.useRef(null),u=xt(t,c);return pP(),i.jsxs(i.Fragment,{children:[i.jsx(tV,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(ZH,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":FP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(u6e,{titleId:l.titleId}),i.jsx(f6e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),DP="DialogTitle",xV=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(DP,r);return i.jsx(nt.h2,{id:a.titleId,...n,ref:t})});xV.displayName=DP;var bV="DialogDescription",wV=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(bV,r);return i.jsx(nt.p,{id:a.descriptionId,...n,ref:t})});wV.displayName=bV;var _V="DialogClose",SV=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zs(_V,r);return i.jsx(nt.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,()=>a.onOpenChange(!1))})});SV.displayName=_V;function FP(e){return e?"open":"closed"}var jV="DialogTitleWarning",[c6e,kV]=VQ(jV,{contentName:Zc,titleName:DP,docsSlug:"dialog"}),u6e=({titleId:e})=>{const t=kV(jV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},d6e="DialogDescriptionWarning",f6e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kV(d6e).contentName}}.`;return p.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},h6e=dV,p6e=hV,m6e=mV,g6e=gV,y6e=yV,v6e=xV,x6e=wV,EV=SV,NV="AlertDialog",[b6e,LFe]=Ka(NV,[uV]),bi=uV(),CV=e=>{const{__scopeAlertDialog:t,...r}=e,n=bi(t);return i.jsx(h6e,{...n,...r,modal:!0})};CV.displayName=NV;var w6e="AlertDialogTrigger",PV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bi(r);return i.jsx(p6e,{...a,...n,ref:t})});PV.displayName=w6e;var _6e="AlertDialogPortal",AV=e=>{const{__scopeAlertDialog:t,...r}=e,n=bi(t);return i.jsx(m6e,{...n,...r})};AV.displayName=_6e;var S6e="AlertDialogOverlay",TV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bi(r);return i.jsx(g6e,{...a,...n,ref:t})});TV.displayName=S6e;var vd="AlertDialogContent",[j6e,k6e]=b6e(vd),OV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=bi(r),o=p.useRef(null),l=xt(t,o),c=p.useRef(null);return i.jsx(c6e,{contentName:vd,titleName:$V,docsSlug:"alert-dialog",children:i.jsx(j6e,{scope:r,cancelRef:c,children:i.jsxs(y6e,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Le(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(rN,{children:n}),i.jsx(N6e,{contentRef:o})]})})})});OV.displayName=vd;var $V="AlertDialogTitle",RV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bi(r);return i.jsx(v6e,{...a,...n,ref:t})});RV.displayName=$V;var IV="AlertDialogDescription",MV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bi(r);return i.jsx(x6e,{...a,...n,ref:t})});MV.displayName=IV;var E6e="AlertDialogAction",LV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=bi(r);return i.jsx(EV,{...a,...n,ref:t})});LV.displayName=E6e;var DV="AlertDialogCancel",FV=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=k6e(DV,r),s=bi(r),o=xt(t,a);return i.jsx(EV,{...s,...n,ref:o})});FV.displayName=DV;var N6e=({contentRef:e})=>{const t=`\`${vd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vd}\` by passing a \`${IV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},C6e=CV,P6e=PV,A6e=AV,BV=TV,UV=OV,zV=LV,qV=FV,WV=RV,HV=MV;const T6e=C6e,O6e=P6e,$6e=A6e,VV=p.forwardRef(({className:e,...t},r)=>i.jsx(BV,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));VV.displayName=BV.displayName;const KV=p.forwardRef(({className:e,...t},r)=>i.jsxs($6e,{children:[i.jsx(VV,{}),i.jsx(UV,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));KV.displayName=UV.displayName;const GV=({className:e,...t})=>i.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",e),...t});GV.displayName="AlertDialogHeader";const JV=({className:e,...t})=>i.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});JV.displayName="AlertDialogFooter";const YV=p.forwardRef(({className:e,...t},r)=>i.jsx(WV,{ref:r,className:fe("text-lg font-semibold",e),...t}));YV.displayName=WV.displayName;const XV=p.forwardRef(({className:e,...t},r)=>i.jsx(HV,{ref:r,className:fe("text-sm text-muted-foreground",e),...t}));XV.displayName=HV.displayName;const QV=p.forwardRef(({className:e,...t},r)=>i.jsx(zV,{ref:r,className:fe(AN(),e),...t}));QV.displayName=zV.displayName;const ZV=p.forwardRef(({className:e,...t},r)=>i.jsx(qV,{ref:r,className:fe(AN({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ZV.displayName=qV.displayName;const e5=()=>{const{courseId:e}=Of(),t=lr(),{user:r}=vr(),[n,a]=p.useState(null),[s,o]=p.useState(!0),[l,c]=p.useState(!1),[u,d]=p.useState({title:"",description:"",category:"",level:"",duration:"",required_skills:"",topics:"",registration_link:""}),[f,h]=p.useState(null),[g,y]=p.useState(null),m=p.useRef(null),v=!!e,x=async()=>{var k;if(r)try{const N=await Te.get(vt.ACADEMY.PROFILE);if(N.data){const P=N.data,A={id:P.id||P.academy_id||String(r.id),academy_name:P.academy_name||"",first_name:P.first_name||P.firstName||r.first_name||P.academy_name||"",description:P.description||"",website_url:P.website_url||"",contact_email:P.contact_email||r.email||"",is_verified:P.is_verified||!1,logo_url:P.profile_photo_url||P.logo_url||null};a(A)}}catch(N){console.error("Failed to load academy profile:",N),((k=N.response)==null?void 0:k.status)===404?(ue.error("Please set up your academy profile first"),t("/academy/profile")):ue.error("Failed to load academy profile")}finally{o(!1)}},w=async k=>{try{const{data:N,error:P}=await Kt.from("courses").select("*").eq("id",k).single();if(P)throw P;N&&(d({title:N.title||"",description:N.description||"",category:N.category||"",level:N.level||"",duration:N.duration||"",required_skills:(N.required_skills||[]).join(", "),topics:(N.topics||[]).join(", "),registration_link:N.registration_link||""}),y(N.image||null))}catch(N){console.error("Error fetching course:",N),ue.error(N.message||"Failed to load course"),t("/academy/dashboard")}};p.useEffect(()=>{x()},[r]),p.useEffect(()=>{e&&n&&w(e)},[e,n]);const b=k=>{if(k&&k[0]){const N=k[0],P=10*1024*1024;if(N.size>P){ue.error("Image size must be less than 10MB"),m.current&&(m.current.value="");return}if(!N.type.startsWith("image/")){ue.error("Please select a valid image file"),m.current&&(m.current.value="");return}h(N),y(URL.createObjectURL(N))}else h(null),y(null),m.current&&(m.current.value="")},_=async()=>{v&&e?await E():await S()},S=async()=>{var k,N,P,A;if(!n||!n.id){ue.error("Academy profile ID is missing");return}c(!0);try{const R=u.required_skills.split(",").map(T=>T.trim()).filter(T=>T),U=u.topics.split(",").map(T=>T.trim()).filter(T=>T);let z="/lovable-uploads/no_photo.png";if(f)try{const T=f.name.split(".").pop(),L=`${n.id}/${Date.now()}.${T}`,{data:ee,error:M}=await Kt.storage.from("course-images").upload(L,f,{cacheControl:"3600",upsert:!1});if(M)throw console.error(" Image upload error:",M),(k=M.message)!=null&&k.includes("Bucket not found")||(N=M.message)!=null&&N.includes("does not exist")?(ue.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(P=M.message)!=null&&P.includes("permission")||(A=M.message)!=null&&A.includes("policy")||M.statusCode===403?(ue.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(ue.error(`Failed to upload image: ${M.message||"Unknown error"}`),M);const{data:G}=Kt.storage.from("course-images").getPublicUrl(L);z=G.publicUrl}catch(T){throw console.error(" Image upload failed:",T),T}const F=n.academy_name||"",{data:D,error:q}=await Kt.from("courses").insert({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,provider:F,required_skills:R,topics:U,image:z,registration_link:u.registration_link,enrolled:!1,popular:!1,academy_id:n.id,is_academy_course:!0}).select().single();if(q)throw q;ue.success("Course added successfully"),t("/academy/dashboard")}catch(R){console.error("Error adding course:",R),ue.error(R.message||"Failed to add course")}finally{c(!1)}},E=async()=>{var k,N,P,A;if(!(!e||!n||!n.id)){c(!0);try{const R=u.required_skills.split(",").map(q=>q.trim()).filter(q=>q),U=u.topics.split(",").map(q=>q.trim()).filter(q=>q);let z=g||"/lovable-uploads/no_photo.png";if(f)try{const q=f.name.split(".").pop(),T=`${n.id}/${Date.now()}.${q}`,{data:L,error:ee}=await Kt.storage.from("course-images").upload(T,f,{cacheControl:"3600",upsert:!1});if(ee)throw console.error(" Image upload error:",ee),(k=ee.message)!=null&&k.includes("Bucket not found")||(N=ee.message)!=null&&N.includes("does not exist")?(ue.error("Storage bucket 'course-images' not found. Please contact support to set it up."),new Error("Storage bucket not configured")):(P=ee.message)!=null&&P.includes("permission")||(A=ee.message)!=null&&A.includes("policy")||ee.statusCode===403?(ue.error("Permission denied. Please check storage bucket policies."),new Error("Storage permission denied")):(ue.error(`Failed to upload image: ${ee.message||"Unknown error"}`),ee);const{data:M}=Kt.storage.from("course-images").getPublicUrl(T);z=M.publicUrl}catch(q){throw console.error(" Image upload failed:",q),q}const F=n.academy_name||"",{error:D}=await Kt.from("courses").update({title:u.title,description:u.description,category:u.category,level:u.level,duration:u.duration,required_skills:R,topics:U,image:z,provider:F,registration_link:u.registration_link}).eq("id",e);if(D)throw D;ue.success("Course updated successfully"),t("/academy/dashboard")}catch(R){console.error("Error updating course:",R),ue.error(R.message||"Failed to update course")}finally{c(!1)}}},j=async()=>{if(e)try{const{error:k}=await Kt.from("courses").delete().eq("id",e);if(k)throw k;ue.success("Course deleted successfully"),t("/academy/dashboard")}catch(k){console.error("Error deleting course:",k),ue.error(k.message||"Failed to delete course")}};return s?i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-lg",children:"Loading..."})})}):n?i.jsx(Mt,{children:i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(qe,{children:"Cover Image"}),i.jsx("div",{className:"mt-1 w-full",children:g?i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:g,alt:"Preview",className:"w-full h-auto max-h-96 object-contain rounded-md"}),i.jsx("button",{onClick:()=>b(null),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:i.jsx(ln,{className:"h-4 w-4"})})]}):i.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(use,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsxs("div",{className:"flex text-sm text-gray-600",children:[i.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-breneo-blue hover:text-breneo-blue/80 focus-within:outline-none",children:[i.jsx("span",{children:"Upload a file"}),i.jsx("input",{ref:m,id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:k=>b(k.target.files),accept:"image/*"})]}),i.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"title",children:"Title"}),i.jsx(pt,{id:"title",value:u.title,onChange:k=>d({...u,title:k.target.value}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"description",children:"Description"}),i.jsx(vf,{id:"description",value:u.description,onChange:k=>d({...u,description:k.target.value}),className:"mt-1",rows:4})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"category",children:"Category"}),i.jsxs(Is,{value:u.category,onValueChange:k=>d({...u,category:k}),children:[i.jsx(is,{className:"mt-1",children:i.jsx(Ms,{placeholder:"Select category"})}),i.jsxs(ls,{children:[i.jsx(or,{value:"programming",children:"Programming"}),i.jsx(or,{value:"design",children:"Design"}),i.jsx(or,{value:"marketing",children:"Marketing"}),i.jsx(or,{value:"business",children:"Business"}),i.jsx(or,{value:"data-science",children:"Data Science"}),i.jsx(or,{value:"cybersecurity",children:"Cybersecurity"})]})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"level",children:"Level"}),i.jsxs(Is,{value:u.level,onValueChange:k=>d({...u,level:k}),children:[i.jsx(is,{className:"mt-1",children:i.jsx(Ms,{placeholder:"Select level"})}),i.jsxs(ls,{children:[i.jsx(or,{value:"beginner",children:"Beginner"}),i.jsx(or,{value:"intermediate",children:"Intermediate"}),i.jsx(or,{value:"advanced",children:"Advanced"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"skills",children:"Required Skills"}),i.jsx(pt,{id:"skills",placeholder:"Comma separated skills",value:u.required_skills,onChange:k=>d({...u,required_skills:k.target.value}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"topics",children:"Topics"}),i.jsx(pt,{id:"topics",placeholder:"Comma separated topics",value:u.topics,onChange:k=>d({...u,topics:k.target.value}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"duration",children:"Duration"}),i.jsx(pt,{id:"duration",placeholder:"e.g., 8 weeks",value:u.duration,onChange:k=>d({...u,duration:k.target.value}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(qe,{htmlFor:"registration_link",children:"Registration Link"}),i.jsx(pt,{id:"registration_link",type:"url",placeholder:"https://example.com/register",value:u.registration_link,onChange:k=>d({...u,registration_link:k.target.value}),className:"mt-1"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6 pt-6 border-t",children:[v?i.jsxs(T6e,{children:[i.jsx(O6e,{asChild:!0,children:i.jsxs(ae,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[i.jsx(Cc,{className:"w-4 h-4 mr-2"}),"Delete Course"]})}),i.jsxs(KV,{children:[i.jsxs(GV,{children:[i.jsx(YV,{children:"Are you sure?"}),i.jsx(XV,{children:"This action cannot be undone. This will permanently delete the course."})]}),i.jsxs(JV,{children:[i.jsx(ZV,{children:"Cancel"}),i.jsx(QV,{onClick:j,children:"Continue"})]})]})]}):i.jsx("div",{}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(ae,{variant:"outline",onClick:()=>t("/academy/dashboard"),children:"Cancel"}),i.jsx(ae,{onClick:_,disabled:l||!u.title||!u.description,className:"bg-breneo-blue hover:bg-breneo-blue/90",children:l?"Saving...":v?"Save Changes":"Add Course"})]})]})]})})}):i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Academy Profile Not Found"}),i.jsx("p",{className:"text-muted-foreground",children:"Please contact support to set up your academy profile."})]})})})},R6e=()=>{const[e,t]=p.useState(!1),r=()=>{t(n=>!n)};return i.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[i.jsx(YN,{collapsed:e,toggleSidebar:r}),i.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:i.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-8 text-left",children:" "}),i.jsxs("div",{className:"prose prose-lg max-w-none space-y-6 text-gray-700 leading-relaxed",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"1.  "}),i.jsx("p",{children:"Breneo    ,         .  :"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"     ,"}),i.jsx("li",{children:"  ,"}),i.jsx("li",{children:"    ,"}),i.jsx("li",{children:"   ."})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"2.    "}),i.jsx("p",{children:"         ."}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"              ."}),i.jsx("li",{children:"Breneo-        ."})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"3.   "}),i.jsx("p",{children:"Breneo         . AI-              ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"4.   "}),i.jsx("p",{children:"   Breneo     . :"}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"      ,"}),i.jsx("li",{children:"     ,"}),i.jsx("li",{children:"        ,"}),i.jsx("li",{children:"  ,    Breneo-  ."})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"5.  "}),i.jsx("p",{children:"Breneo-       , , ,  ,      Breneo-    .     Breneo-  ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"6.    "}),i.jsx("p",{children:"Breneo         GDPR-  .         ,   ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"7.   "}),i.jsx("p",{children:"             .         ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"8.  "}),i.jsx("p",{children:'Breneo    " ("as is") .'}),i.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[i.jsx("li",{children:"     ,        ."}),i.jsx("li",{children:"Breneo   ,         ."})]})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"9.   "}),i.jsx("p",{children:"     .          . ,     ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"10.    "}),i.jsx("p",{children:"Breneo     ,           ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"11.  "}),i.jsx("p",{children:"    .      Breneo-  ,        ."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold text-breneo-blue",children:"12.  "}),i.jsx("p",{children:"  ,   ,  :"}),i.jsxs("div",{className:"space-y-2 text-lg",children:[i.jsx("p",{children:" support@breneo.app"}),i.jsx("p",{children:" www.breneo.app"})]})]})]}),i.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center text-gray-500",children:i.jsxs("p",{children:[" : ",new Date().toLocaleDateString("ka-GE")]})})]})})]})};var BP="Collapsible",[I6e,eK]=Ka(BP),[M6e,UP]=I6e(BP),tK=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c=!1,u]=Hs({prop:n,defaultProp:a,onChange:o});return i.jsx(M6e,{scope:r,disabled:s,contentId:Fs(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(nt.div,{"data-state":qP(c),"data-disabled":s?"":void 0,...l,ref:t})})});tK.displayName=BP;var rK="CollapsibleTrigger",nK=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=UP(rK,r);return i.jsx(nt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":qP(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Le(e.onClick,a.onOpenToggle)})});nK.displayName=rK;var zP="CollapsibleContent",aK=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=UP(zP,e.__scopeCollapsible);return i.jsx(ua,{present:r||a.open,children:({present:s})=>i.jsx(L6e,{...n,ref:t,present:s})})});aK.displayName=zP;var L6e=p.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,o=UP(zP,r),[l,c]=p.useState(n),u=p.useRef(null),d=xt(t,u),f=p.useRef(0),h=f.current,g=p.useRef(0),y=g.current,m=o.open||l,v=p.useRef(m),x=p.useRef();return p.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Jr(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,g.current=b.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(nt.div,{"data-state":qP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:m&&a})});function qP(e){return e?"open":"closed"}var D6e=tK,F6e=nK,B6e=aK,wi="Accordion",U6e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[WP,z6e,q6e]=Cg(wi),[Cw,DFe]=Ka(wi,[q6e,eK]),HP=eK(),sK=$.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return i.jsx(WP.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(K6e,{...s,ref:t}):i.jsx(V6e,{...a,ref:t})})});sK.displayName=wi;var[oK,W6e]=Cw(wi),[iK,H6e]=Cw(wi,{collapsible:!1}),V6e=$.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...o}=e,[l,c]=Hs({prop:r,defaultProp:n,onChange:a});return i.jsx(oK,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:$.useCallback(()=>s&&c(""),[s,c]),children:i.jsx(iK,{scope:e.__scopeAccordion,collapsible:s,children:i.jsx(lK,{...o,ref:t})})})}),K6e=$.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[o=[],l]=Hs({prop:r,defaultProp:n,onChange:a}),c=$.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=$.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(oK,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(iK,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(lK,{...s,ref:t})})})}),[G6e,Pw]=Cw(wi),lK=$.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...o}=e,l=$.useRef(null),c=xt(l,t),u=z6e(r),f=Mf(a)==="ltr",h=Le(e.onKeyDown,g=>{var k;if(!U6e.includes(g.key))return;const y=g.target,m=u().filter(N=>{var P;return!((P=N.ref.current)!=null&&P.disabled)}),v=m.findIndex(N=>N.ref.current===y),x=m.length;if(v===-1)return;g.preventDefault();let w=v;const b=0,_=x-1,S=()=>{w=v+1,w>_&&(w=b)},E=()=>{w=v-1,w<b&&(w=_)};switch(g.key){case"Home":w=b;break;case"End":w=_;break;case"ArrowRight":s==="horizontal"&&(f?S():E());break;case"ArrowDown":s==="vertical"&&S();break;case"ArrowLeft":s==="horizontal"&&(f?E():S());break;case"ArrowUp":s==="vertical"&&E();break}const j=w%x;(k=m[j].ref.current)==null||k.focus()});return i.jsx(G6e,{scope:r,disabled:n,direction:a,orientation:s,children:i.jsx(WP.Slot,{scope:r,children:i.jsx(nt.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:h})})})}),bx="AccordionItem",[J6e,VP]=Cw(bx),cK=$.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=Pw(bx,r),o=W6e(bx,r),l=HP(r),c=Fs(),u=n&&o.value.includes(n)||!1,d=s.disabled||e.disabled;return i.jsx(J6e,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(D6e,{"data-orientation":s.orientation,"data-state":mK(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});cK.displayName=bx;var uK="AccordionHeader",dK=$.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Pw(wi,r),s=VP(uK,r);return i.jsx(nt.h3,{"data-orientation":a.orientation,"data-state":mK(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});dK.displayName=uK;var GE="AccordionTrigger",fK=$.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Pw(wi,r),s=VP(GE,r),o=H6e(GE,r),l=HP(r);return i.jsx(WP.ItemSlot,{scope:r,children:i.jsx(F6e,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...l,...n,ref:t})})});fK.displayName=GE;var hK="AccordionContent",pK=$.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Pw(wi,r),s=VP(hK,r),o=HP(r);return i.jsx(B6e,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});pK.displayName=hK;function mK(e){return e?"open":"closed"}var Y6e=sK,X6e=cK,Q6e=dK,gK=fK,yK=pK;const Z6e=Y6e,vK=p.forwardRef(({className:e,...t},r)=>i.jsx(X6e,{ref:r,className:fe("border-b",e),...t}));vK.displayName="AccordionItem";const xK=p.forwardRef(({className:e,children:t,...r},n)=>i.jsx(Q6e,{className:"flex",children:i.jsxs(gK,{ref:n,className:fe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(Hd,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));xK.displayName=gK.displayName;const bK=p.forwardRef(({className:e,children:t,...r},n)=>i.jsx(yK,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:fe("pb-4 pt-0",e),children:t})}));bK.displayName=yK.displayName;const eFe=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(""),a=()=>{t(l=>!l)},o=[{title:"Getting Started",icon:nl,questions:[{q:"  Breneo- ?",a:'  ,    .  ""     .  ,   ,      .'},{q:"  ?",a:' ,     -  ,   "Profile".      ,      .'},{q:"   ?",a:"  -    ,        .   ,       ."}]},{title:"Account & Profile",icon:T8,questions:[{q:"  ?",a:'   Settings  ( Settings   ).   "Change Email" .     .'},{q:"  ?",a:'  ,    "Forgot Password" .        .'},{q:"  ?",a:'   Settings    "Account Settings" .   "Delete Account" . , ,    .'}]},{title:"Jobs & Career",icon:hn,questions:[{q:"  ?",a:'   "Jobs" .      , ,     .      ,     .'},{q:"   ?",a:' ,     .      "Apply Now" .      .'},{q:"   ?",a:' ,      "Save" .       "Saved Jobs" .'}]},{title:"Settings & Customization",icon:ab,questions:[{q:"   ?",a:"    Settings .    ,  (/),    ."},{q:"  ?",a:'   Settings    "Notifications" .      .'},{q:"   ?",a:"  ,         .      ."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.q.toLowerCase().includes(r.toLowerCase())||c.a.toLowerCase().includes(r.toLowerCase()))}));return i.jsxs("div",{className:"h-screen bg-breneo-lightgray overflow-hidden",children:[i.jsx(YN,{collapsed:e,toggleSidebar:a}),i.jsx("main",{className:`h-full overflow-y-auto transition-all duration-300 ${e?"md:ml-24":"md:ml-[17rem]"} pt-24 pb-32 md:pt-24 md:pb-0 px-3 md:px-6`,children:i.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),i.jsx("p",{className:"text-gray-600",children:"     "})]}),i.jsxs("div",{className:"relative mb-8",children:[i.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),i.jsx(pt,{type:"text",placeholder:"  ...",value:r,onChange:l=>n(l.target.value),className:"pl-10 pr-4 py-6 text-lg"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:i.jsxs(ht,{className:"pb-3",children:[i.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:i.jsx(Vc,{className:"text-breneo-blue",size:24})}),i.jsx(At,{className:"text-base",children:"Email Support"}),i.jsx(Hr,{children:"support@breneo.app"})]})}),i.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:i.jsxs(ht,{className:"pb-3",children:[i.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:i.jsx(sm,{className:"text-breneo-blue",size:24})}),i.jsx(At,{className:"text-base",children:"Phone Support"}),i.jsx(Hr,{children:"Available 24/7"})]})}),i.jsx(Ne,{className:"hover:shadow-md transition-shadow cursor-pointer",children:i.jsxs(ht,{className:"pb-3",children:[i.jsx("div",{className:"w-12 h-12 bg-breneo-blue/10 rounded-3xl flex items-center justify-center mb-2",children:i.jsx(gse,{className:"text-breneo-blue",size:24})}),i.jsx(At,{className:"text-base",children:"Live Chat"}),i.jsx(Hr,{children:"Get instant help"})]})})]}),i.jsx("div",{className:"space-y-6",children:o.map((l,c)=>l.questions.length>0&&i.jsxs(Ne,{className:"bg-white",children:[i.jsx(ht,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-breneo-blue/10 rounded-3xl flex items-center justify-center",children:i.jsx(l.icon,{className:"text-breneo-blue",size:20})}),i.jsx(At,{children:l.title})]})}),i.jsx(Pe,{children:i.jsx(Z6e,{type:"multiple",className:"w-full",children:l.questions.map((u,d)=>i.jsxs(vK,{value:`${c}-${d}`,className:"border-gray-200",children:[i.jsx(xK,{className:"text-left font-semibold hover:no-underline",children:u.q}),i.jsx(bK,{className:"text-gray-600 leading-relaxed",children:u.a})]},d))})})]},c))}),i.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:i.jsx(Ne,{className:"bg-gradient-to-r from-breneo-blue/5 to-breneo-blue/10",children:i.jsxs(Pe,{className:"py-8 text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"   ?"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs("a",{href:"mailto:support@breneo.app",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-breneo-blue text-white rounded-3xl hover:bg-breneo-blue/90 transition-colors",children:[i.jsx(Vc,{size:18}),"Email Support"]}),i.jsxs("a",{href:"tel:+995500992990",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-breneo-blue text-breneo-blue rounded-3xl hover:bg-breneo-blue/5 transition-colors",children:[i.jsx(sm,{size:18}),"Call Us"]})]})]})})})]})})]})};function tFe(){const e=[{name:"Free",price:"$0",period:"forever",features:["Access to basic courses","Limited skill tests","Basic profile features","Community support"],popular:!1},{name:"Pro",price:"$9.99",period:"per month",features:["All free features","Unlimited courses","Unlimited skill tests","Advanced profile features","Priority support","Certificates"],popular:!0},{name:"Enterprise",price:"Custom",period:"contact us",features:["All Pro features","Custom integrations","Dedicated support","Team management","Analytics dashboard","Custom branding"],popular:!1}];return i.jsx(Mt,{children:i.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-8 lg:px-12 xl:px-16",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"Select the plan that best fits your learning journey"})]}),i.jsx("div",{className:"grid gap-6 md:grid-cols-3 mt-12",children:e.map(t=>i.jsxs(Ne,{className:`relative ${t.popular?"border-primary shadow-lg scale-105":"border-border"}`,children:[t.popular&&i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:i.jsx("span",{className:"bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),i.jsxs(ht,{children:[i.jsx(At,{className:"text-2xl",children:t.name}),i.jsxs("div",{className:"mt-4",children:[i.jsx("span",{className:"text-4xl font-bold",children:t.price}),t.period!=="forever"&&t.period!=="contact us"&&i.jsxs("span",{className:"text-muted-foreground",children:["/",t.period]}),t.period==="contact us"&&i.jsx("span",{className:"text-muted-foreground block text-sm mt-1",children:t.period})]}),i.jsxs(Hr,{className:"mt-4",children:[t.name==="Free"&&"Perfect for getting started",t.name==="Pro"&&"Best for serious learners",t.name==="Enterprise"&&"For teams and organizations"]})]}),i.jsxs(Pe,{children:[i.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx(nb,{className:"h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:r})]},n))}),i.jsx(ae,{className:"w-full",variant:t.popular?"default":"outline",children:t.name==="Enterprise"?"Contact Sales":"Get Started"})]})]},t.name))})]})})}const rFe=()=>{const e=Ga(),{user:t,loading:r}=vr(),n=Co(),[a,s]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),d=p.useCallback(f=>new Promise((h,g)=>{const y=new Image;y.onload=()=>h(),y.onerror=()=>g(new Error(`Failed to load image: ${f}`)),y.src=f}),[]);return p.useEffect(()=>{(async()=>{try{await Promise.all([d("/lovable-uploads/breneo_logo.png"),d("/lovable-uploads/full-shot-student-library.jpg")])}catch(h){console.warn("Some images failed to preload:",h),u(!0)}})()},[d]),p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[!o&&!c&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-[#242424] dark:to-[#2a2a2a] animate-pulse z-0"}),i.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:o?"url('/lovable-uploads/full-shot-student-library.jpg')":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:o?1:0,transition:"opacity 0.5s ease-in-out"}}),i.jsx("img",{src:"/lovable-uploads/full-shot-student-library.jpg",alt:"",className:"hidden",onLoad:()=>l(!0),onError:()=>{u(!0),l(!0)}}),c&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-[#1a1a1a] dark:to-[#2a2a2a] z-0"}),i.jsx("div",{className:"z-10 relative",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg p-8 text-center max-w-md mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[!a&&!c&&i.jsx("div",{className:"h-12 w-32 bg-gray-200 dark:bg-[#242424] animate-pulse rounded flex items-center justify-center mx-auto",children:i.jsx(en,{className:"h-6 w-6 text-gray-400 dark:text-gray-600"})}),i.jsx("img",{src:"/lovable-uploads/breneo_logo.png",alt:"Breneo Logo",className:`h-12 mx-auto transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0),onError:()=>{u(!0),s(!0)}}),c&&i.jsx("div",{className:"h-12 w-32 bg-gray-100 dark:bg-[#242424] border border-gray-300 dark:border-gray-700 rounded flex items-center justify-center mx-auto",children:i.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Breneo"})})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),i.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.errors.pageNotFound}),i.jsx("p",{className:"text-muted-foreground mb-6",children:n.errors.pageNotFoundDescription})]}),i.jsxs("div",{className:"space-y-4",children:[!r&&t?i.jsxs(Lr,{to:t.user_type==="academy"||localStorage.getItem("userRole")==="academy"?"/academy/dashboard":"/dashboard",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:[n.common.view," ",n.nav.home]}):i.jsx(Lr,{to:"/auth/login",className:"inline-block bg-primary text-primary-foreground px-6 py-3 rounded-3xl font-medium hover:bg-primary/90 transition-colors",children:n.auth.login}),!r&&!t&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Lr,{to:"/auth/login",className:"hover:text-primary transition-colors",children:n.auth.login}),i.jsx("span",{className:"mx-2",children:""}),i.jsx(Lr,{to:"/auth/signup",className:"hover:text-primary transition-colors",children:n.auth.signup})]})]})]})})]})},nFe=()=>{const e=Co();return i.jsx(Mt,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-12rem)]",children:i.jsxs("div",{className:"text-center px-4",children:[i.jsx("img",{src:"/lovable-uploads/3dicons-calender-front-color.png",alt:"Notebook",className:"h-40 w-40 mx-auto mb-6"}),i.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:e.webinars.comingsoon}),i.jsx("p",{className:"text-m text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:e.webinars.comingsoondescription})]})})})},mr=(e,t)=>e.startsWith("/auth")||e==="/"?i.jsx(ga,{path:e,element:t},e):i.jsxs($.Fragment,{children:[i.jsx(ga,{path:`/en${e}`,element:t}),i.jsx(ga,{path:`/ka${e}`,element:t}),i.jsx(ga,{path:e,element:t})]},e),aFe=()=>i.jsxs(Jre,{children:[i.jsx(ga,{path:"/",element:i.jsx(f$,{})}),i.jsx(ga,{path:"/auth/login",element:i.jsx(f$,{})}),i.jsx(ga,{path:"/auth/signup",element:i.jsx(mle,{})}),i.jsx(ga,{path:"/auth/reset-password",element:i.jsx(gle,{})}),i.jsx(ga,{path:"/email-verification",element:i.jsx(yle,{})}),i.jsx(ga,{path:"/email-confirmed",element:i.jsx(xle,{})}),i.jsx(ga,{path:"/auth",element:i.jsx(uv,{to:"/auth/login",replace:!0})}),mr("/home",i.jsx(pr,{requiredRole:"user",children:i.jsx(aR,{})})),mr("/dashboard",i.jsx(pr,{requiredRole:"user",children:i.jsx(aR,{})})),mr("/profile",i.jsx(pr,{requiredRole:"user",children:i.jsx(UIe,{})})),mr("/settings",i.jsx(pr,{requiredRole:"user",children:i.jsx(QIe,{})})),mr("/notifications",i.jsx(pr,{requiredRole:"user",children:i.jsx(lDe,{})})),mr("/interests",i.jsx(pr,{requiredRole:"user",children:i.jsx(ZLe,{})})),mr("/skill-test",i.jsx(pr,{requiredRole:"user",children:i.jsx(zLe,{})})),mr("/skill-path/:skillName",i.jsx(pr,{requiredRole:"user",children:i.jsx(XLe,{})})),mr("/skill-path",i.jsx(pr,{requiredRole:"user",children:i.jsx(VLe,{})})),mr("/jobs",i.jsx(pr,{requiredRole:"user",children:i.jsx(QMe,{})})),mr("/jobs/search",i.jsx(pr,{requiredRole:"user",children:i.jsx(t3e,{})})),mr("/jobs/:jobId",i.jsx(pr,{requiredRole:"user",children:i.jsx(fLe,{})})),mr("/jobs/company/:companyName",i.jsx(pr,{requiredRole:"user",children:i.jsx(bLe,{})})),mr("/courses",i.jsx(pr,{requiredRole:"user",children:i.jsx(CLe,{})})),mr("/course/:courseId",i.jsx(pr,{requiredRole:"user",children:i.jsx(PLe,{})})),mr("/webinars",i.jsx(pr,{requiredRole:"user",children:i.jsx(nFe,{})})),i.jsx(ga,{path:"/academy/register",element:i.jsx(CDe,{})}),mr("/academy/home",i.jsx(pr,{requiredRole:"academy",children:i.jsx(W3,{})})),mr("/academy/dashboard",i.jsx(pr,{requiredRole:"academy",children:i.jsx(W3,{})})),mr("/academy/courses",i.jsx(pr,{requiredRole:"academy",children:i.jsx(dDe,{})})),mr("/academy/profile",i.jsx(pr,{requiredRole:"academy",children:i.jsx(vDe,{})})),mr("/academy/settings",i.jsx(pr,{requiredRole:"academy",children:i.jsx(xDe,{})})),mr("/academy/courses/add",i.jsx(pr,{requiredRole:"academy",children:i.jsx(e5,{})})),mr("/academy/courses/edit/:courseId",i.jsx(pr,{requiredRole:"academy",children:i.jsx(e5,{})})),mr("/academy/:academySlug",i.jsx(pr,{children:i.jsx(NDe,{})})),mr("/terms-of-use",i.jsx(pr,{children:i.jsx(R6e,{})})),mr("/help",i.jsx(pr,{children:i.jsx(eFe,{})})),mr("/subscription",i.jsx(pr,{children:i.jsx(tFe,{})})),i.jsx(ga,{path:"*",element:i.jsx(rFe,{})})]}),sFe=new Wte,oFe=()=>i.jsx(Jte,{client:sFe,children:i.jsxs(Cte,{children:[i.jsx(WQ,{position:"top-right",richColors:!0,closeButton:!0}),i.jsx(nne,{children:i.jsx(Hae,{children:i.jsx(Wae,{children:i.jsx(Bae,{children:i.jsx(aFe,{})})})})})]})});F_.createRoot(document.getElementById("root")).render(i.jsx($.StrictMode,{children:i.jsx(gQ,{apiKey:"phc_heJ8MRT32luP8nFytb5ZIhQrsWepHqsCZBUjUegWais",options:{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",capture_exceptions:!0,debug:!1},children:i.jsx(XJ,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:i.jsx("div",{suppressHydrationWarning:!0,children:i.jsx(oFe,{})})})})}));
